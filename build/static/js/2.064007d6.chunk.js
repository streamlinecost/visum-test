/*! For license information please see 2.064007d6.chunk.js.LICENSE.txt */
(this.webpackJsonpadvanced=this.webpackJsonpadvanced||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(31)},function(e,t,n){var r,i=n(66);window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./webpack/webpack.entry.umd.js")}({"../node_modules/process/browser.js":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],d=!1,u=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!d){var e=s(h);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||d||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"../node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"./lib/ChronoGraph/chrono/CycleResolver.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CycleResolutionInputChrono",(function(){return o}));var r=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),i=n("./lib/ChronoGraph/chrono/Effect.js");class o extends r.CycleResolutionInput{collectInfo(e,t,n){null!=e(Object(i.PreviousValueOf)(t))&&this.addPreviousValueFlag(n),e(Object(i.HasProposedValue)(t))&&this.addProposedValueFlag(n)}}},"./lib/ChronoGraph/chrono/Effect.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BreakCurrentStackExecution",(function(){return a})),n.d(t,"Effect",(function(){return s})),n.d(t,"ProposedOrPreviousSymbol",(function(){return l})),n.d(t,"ProposedOrPrevious",(function(){return c})),n.d(t,"RejectSymbol",(function(){return d})),n.d(t,"RejectEffect",(function(){return u})),n.d(t,"Reject",(function(){return h})),n.d(t,"TransactionSymbol",(function(){return f})),n.d(t,"GetTransaction",(function(){return g})),n.d(t,"OwnQuarkSymbol",(function(){return m})),n.d(t,"OwnQuark",(function(){return p})),n.d(t,"OwnIdentifierSymbol",(function(){return v})),n.d(t,"OwnIdentifier",(function(){return b})),n.d(t,"WriteSymbol",(function(){return y})),n.d(t,"WriteEffect",(function(){return C})),n.d(t,"Write",(function(){return S})),n.d(t,"WriteSeveralSymbol",(function(){return w})),n.d(t,"WriteSeveralEffect",(function(){return E})),n.d(t,"WriteSeveral",(function(){return D})),n.d(t,"PreviousValueOfSymbol",(function(){return x})),n.d(t,"PreviousValueOfEffect",(function(){return j})),n.d(t,"PreviousValueOf",(function(){return T})),n.d(t,"ProposedValueOfSymbol",(function(){return R})),n.d(t,"ProposedValueOfEffect",(function(){return M})),n.d(t,"ProposedValueOf",(function(){return k})),n.d(t,"HasProposedValueSymbol",(function(){return P})),n.d(t,"HasProposedValueEffect",(function(){return O})),n.d(t,"HasProposedValue",(function(){return F})),n.d(t,"ProposedOrPreviousValueOfSymbol",(function(){return A})),n.d(t,"ProposedOrPreviousValueOfEffect",(function(){return I})),n.d(t,"ProposedOrPreviousValueOf",(function(){return L})),n.d(t,"ProposedArgumentsOfSymbol",(function(){return H})),n.d(t,"ProposedArgumentsOfEffect",(function(){return _})),n.d(t,"ProposedArgumentsOf",(function(){return B})),n.d(t,"UnsafeProposedOrPreviousValueOfSymbol",(function(){return $})),n.d(t,"UnsafeProposedOrPreviousValueOfEffect",(function(){return G})),n.d(t,"UnsafeProposedOrPreviousValueOf",(function(){return N})),n.d(t,"UnsafePreviousValueOfSymbol",(function(){return z})),n.d(t,"UnsafePreviousValueOfEffect",(function(){return V})),n.d(t,"UnsafePreviousValueOf",(function(){return W}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/util/Helpers.js"),o=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};const a=Symbol("BreakCurrentStackExecution");class s extends r.Base{}o([Object(i.prototypeValue)(!0)],s.prototype,"sync",void 0),o([Object(i.prototypeValue)(!0)],s.prototype,"pure",void 0);const l=Symbol("ProposedOrPreviousSymbol"),c=s.new({handler:l}),d=Symbol("RejectSymbol");class u extends s{constructor(){super(...arguments),this.handler=d}}o([Object(i.prototypeValue)(!1)],u.prototype,"pure",void 0);const h=e=>u.new({reason:e}),f=Symbol("TransactionSymbol"),g=s.new({handler:f}),m=Symbol("OwnQuarkSymbol"),p=s.new({handler:m}),v=Symbol("OwnIdentifierSymbol"),b=s.new({handler:v}),y=Symbol("WriteSymbol");class C extends s{constructor(){super(...arguments),this.handler=y}}o([Object(i.prototypeValue)(!1)],C.prototype,"pure",void 0);const S=(e,t,...n)=>C.new({identifier:e,proposedArgs:[t,...n]}),w=Symbol("WriteSeveralSymbol");class E extends s{constructor(){super(...arguments),this.handler=w}}o([Object(i.prototypeValue)(!1)],E.prototype,"pure",void 0);const D=e=>E.new({writes:e}),x=Symbol("PreviousValueOfSymbol");class j extends s{constructor(){super(...arguments),this.handler=x}}const T=e=>j.new({identifier:e}),R=Symbol("ProposedValueOfSymbol");class M extends s{constructor(){super(...arguments),this.handler=R}}const k=e=>M.new({identifier:e}),P=Symbol("HasProposedValueSymbol");class O extends s{constructor(){super(...arguments),this.handler=P}}const F=e=>O.new({identifier:e}),A=Symbol("ProposedOrPreviousValueOfSymbol");class I extends s{constructor(){super(...arguments),this.handler=A}}const L=e=>I.new({identifier:e}),H=Symbol("ProposedArgumentsOfSymbol");class _ extends s{constructor(){super(...arguments),this.handler=H}}const B=e=>_.new({identifier:e}),$=Symbol("UnsafeProposedOrPreviousValueOfSymbol");class G extends s{constructor(){super(...arguments),this.handler=$}}const N=e=>G.new({identifier:e}),z=Symbol("UnsafePreviousValueOfSymbol");class V extends s{constructor(){super(...arguments),this.handler=z}}const W=e=>V.new({identifier:e})},"./lib/ChronoGraph/chrono/Graph.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CommitZero",(function(){return h})),n.d(t,"Listener",(function(){return f})),n.d(t,"ChronoGraph",(function(){return g}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/collection/Iterator.js"),o=n("./lib/ChronoGraph/environment/Debug.js"),a=n("./lib/ChronoGraph/util/Helpers.js"),s=n("./lib/ChronoGraph/chrono/Effect.js"),l=n("./lib/ChronoGraph/chrono/Identifier.js"),c=n("./lib/ChronoGraph/chrono/Quark.js"),d=n("./lib/ChronoGraph/chrono/Revision.js"),u=n("./lib/ChronoGraph/chrono/Transaction.js");const h={rejectedWith:null};class f extends r.Base{constructor(){super(...arguments),this.handlers=[]}trigger(e){for(let t=0;t<this.handlers.length;t++)this.handlers[t](e)}}class g extends r.Base{constructor(){super(...arguments),this.baseRevisionStable=void 0,this.baseRevisionTentative=void 0,this.baseRevision=d.Revision.new(),this.topRevision=void 0,this.historyLimit=0,this.listeners=new Map,this.$activeTransaction=void 0,this.isCommitting=!1,this.enableProgressNotifications=!1,this.ongoing=Promise.resolve(),this._isInitialCommit=!0,this.autoCommitTimeoutId=null,this.autoCommit=!1,this.autoCommitMode="sync",this.autoCommitHandler=null,this.onWriteDuringCommit="throw",this.onComputationCycle="throw",this.transactionClass=u.Transaction,this.$followingRevision=void 0}initialize(...e){super.initialize(...e),this.topRevision||(this.topRevision=this.baseRevision),this.autoCommit&&(this.autoCommitHandler="sync"===this.autoCommitMode?e=>this.commit(e):async e=>this.commitAsync(e)),this.markAndSweep()}hasPendingAutoCommit(){return null!==this.autoCommitTimeoutId}get dirty(){return this.activeTransaction.dirty}clear(){this.reject(),this.unScheduleAutoCommit(),this.baseRevision.scope&&this.baseRevision.scope.clear(),this.baseRevision.previous=null,this.listeners.clear(),this.topRevision=this.baseRevision,this.$followingRevision=void 0,this.$activeTransaction=void 0,this.markAndSweep()}*eachReachableRevision(){let e=!0,t=0;for(const n of this.topRevision.previousAxis())yield[n,e||t<this.historyLimit],n===this.baseRevision?e=!1:e||t++}get isInitialCommit(){return this._isInitialCommit}set isInitialCommit(e){this._isInitialCommit=e}markAndSweep(){let e;const t=[];for(const[n,r]of this.eachReachableRevision())r?(n.reachableCount++,e=n):t.push(n),n.referenceCount++;t.unshift(e);for(let n=t.length-1;n>=1&&0===t[n].reachableCount;n--)this.compactRevisions(t[n-1],t[n])}compactRevisions(e,t){if(t.reachableCount>0||e.previous!==t)throw new Error("Invalid compact operation");if(t.referenceCount<=1){for(const[n,r]of e.scope)if(r.getValue()===c.TombStone)t.scope.delete(n);else{const i=t.scope.get(n);r.origin===r?i&&(i.clear(),i.clearProperties()):i&&r.origin===i?r.mergePreviousOrigin(e.scope):n.lazy&&!r.origin&&i&&i.origin&&(r.startOrigin().proposedValue=void 0!==i.origin.value?i.origin.value:i.origin.proposedValue),r.previous=void 0,t.scope.set(n,r)}Object(a.copySetInto)(e.selfDependent,t.selfDependent),e.scope=t.scope,t.scope=null}else e.scope=new Map(Object(i.concat)(t.scope,e.scope)),e.selfDependent=new Set(Object(i.concat)(t.selfDependent,e.selfDependent)),t.referenceCount--;e.previous=null}get followingRevision(){if(void 0!==this.$followingRevision)return this.$followingRevision;const e=Array.from(this.topRevision.previousAxis()),t=[];for(let n=e.length-1;n>0;n--)t.push([e[n],e[n-1]]);return this.$followingRevision=new Map(t)}get activeTransaction(){return this.$activeTransaction?this.$activeTransaction:this.$activeTransaction=this.transactionClass.new({baseRevision:this.baseRevisionTentative||this.baseRevision,graph:this})}branch(e){return this.constructor.new(Object.assign({},e,{baseRevision:this.baseRevision}))}propagate(e){return this.commit(e)}reject(e){this.activeTransaction.reject(s.RejectEffect.new({reason:e})),this.ongoing=Promise.resolve(),this.$activeTransaction=void 0,this.baseRevisionTentative=void 0,this.baseRevisionStable&&(this.baseRevision=this.baseRevisionStable,this.baseRevisionStable=void 0)}commit(e){this.unScheduleAutoCommit(),this.baseRevisionStable=this.baseRevision;const t=this.activeTransaction.commit(e);this.$activeTransaction=void 0;const n=this.finalizeCommit(t);return this.baseRevisionStable=void 0,this.isInitialCommit=!1,n}async propagateAsync(e){return this.commitAsync(e)}async commitAsync(e){if(this.isCommitting)return this.ongoing;let t;return this.isCommitting=!0,this.baseRevisionStable=this.baseRevision,this.ongoing=this.ongoing.then(()=>this.doCommitAsync(e)).then(e=>(t=e,e)).finally(()=>{this.baseRevisionStable=void 0,this.baseRevisionTentative=void 0,this.isInitialCommit=!1,this.isCommitting=!1})}async doCommitAsync(e){this.unScheduleAutoCommit();const t=this.activeTransaction,n=await t.commitAsync(e);this.baseRevisionTentative=t.candidate,this.$activeTransaction=void 0;const r=this.finalizeCommit(n);return await this.finalizeCommitAsync(n),this.activeTransaction.dirty?await this.doCommitAsync(e):r}finalizeCommit(e){const{revision:t,entries:n,transaction:r}=e;if(r.rejectedWith)this.baseRevisionStable&&(this.baseRevision=this.baseRevisionStable),this.baseRevisionStable=void 0,this.baseRevisionTentative=void 0;else{if(t.previous!==this.baseRevision)throw new Error("Invalid revisions chain");for(const[e,t]of this.eachReachableRevision())t&&e.reachableCount--,e.referenceCount--;this.baseRevision=this.topRevision=t;for(const[e,t]of n){if(t.cleanup(),t.isShadow()||!t.hasValue())continue;const n=this.listeners.get(e);n&&n.trigger(t.getValue())}this.$followingRevision=void 0,this.markAndSweep()}return{rejectedWith:r.rejectedWith}}async finalizeCommitAsync(e){}onComputationCycleHandler(e,t,n){const r=new Error("Computation cycle:\n"+n);switch(r.cycle=n,this.onComputationCycle){case"ignore":return console.log(r.message),e.continueCalculation(void 0!==t.proposedValue?t.proposedValue:t.value);case"throw":throw r;case"reject":this.reject(r);break;case"warn":Object(o.warn)(r)}}scheduleAutoCommit(){null===this.autoCommitTimeoutId&&(this.autoCommitTimeoutId=setTimeout(this.autoCommitHandler,10))}unScheduleAutoCommit(){null!==this.autoCommitTimeoutId&&(clearTimeout(this.autoCommitTimeoutId),this.autoCommitTimeoutId=null)}variable(e){const t=Object(l.VariableC)();return this.addIdentifier(t,void 0===e?null:e)}variableNamed(e,t){const n=Object(l.VariableC)({name:e});return this.addIdentifier(n,void 0===t?null:t)}identifier(e,t){const n=Object(a.isGeneratorFunction)(e)?Object(l.CalculatedValueGenC)({calculation:e,context:t}):Object(l.CalculatedValueSyncC)({calculation:e,context:t});return this.addIdentifier(n)}identifierNamed(e,t,n){const r="GeneratorFunction"===t.constructor.name?Object(l.CalculatedValueGenC)({name:e,calculation:t,context:n}):Object(l.CalculatedValueSyncC)({name:e,calculation:t,context:n});return this.addIdentifier(r)}addIdentifier(e,t,...n){if(this.isCommitting){if("throw"===this.onWriteDuringCommit)throw new Error("Adding identifier during commit");"warn"===this.onWriteDuringCommit&&Object(o.warn)(new Error("Adding identifier during commit"))}return this.activeTransaction.addIdentifier(e,t,...n),this.autoCommit&&this.scheduleAutoCommit(),e}removeIdentifier(e){if(this.isCommitting){if("throw"===this.onWriteDuringCommit)throw new Error("Removing identifier during commit");"warn"===this.onWriteDuringCommit&&Object(o.warn)(new Error("Removinfg identifier during commit"))}this.activeTransaction.removeIdentifier(e),this.listeners.delete(e),this.autoCommit&&this.scheduleAutoCommit()}hasIdentifier(e){return this.activeTransaction.hasIdentifier(e)}write(e,t,...n){if(this.isCommitting){if("throw"===this.onWriteDuringCommit)throw new Error("Write during commit");"warn"===this.onWriteDuringCommit&&Object(o.warn)(new Error("Write during commit"))}this.activeTransaction.write(e,t,...n),this.autoCommit&&this.scheduleAutoCommit()}readPrevious(e){return this.activeTransaction.readPrevious(e)}readPreviousAsync(e){return this.activeTransaction.readPreviousAsync(e)}read(e){return this.activeTransaction.read(e)}readAsync(e){return this.activeTransaction.readAsync(e)}get(e){return this.activeTransaction.get(e)}observe(e,t){const n=this.addIdentifier(l.CalculatedValueGen.new({lazy:!1,calculation:e}));return this.addListener(n,t),n}observeContext(e,t,n){const r=this.addIdentifier(l.CalculatedValueGen.new({lazy:!1,calculation:e,context:t}));return this.addListener(r,n),r}addListener(e,t){let n=this.listeners.get(e);n||(n=f.new(),this.listeners.set(e,n)),n.handlers.push(t)}undo(){const e=this.baseRevision.previous;return!!e&&(this.baseRevision=e,this.$activeTransaction=void 0,!0)}redo(){const e=this.baseRevision;if(e===this.topRevision)return!1;const t=this.followingRevision.get(e);return this.baseRevision=t,this.$activeTransaction=void 0,!0}onPropagationProgressNotification(e){}[s.ProposedOrPreviousSymbol](e,t){const n=t.getActiveEntry();n.usedProposedOrPrevious=!0;const r=n.getProposedValue(t);return void 0!==r?r:n.previous?n.identifier.lazy?n.previous.hasValue()?n.previous.getValue():n.previous.hasProposedValue()?n.previous.getProposedValue(t):null:t.readPrevious(n.identifier):void 0}[s.RejectSymbol](e,t){return this.reject(e.reason),s.BreakCurrentStackExecution}[s.TransactionSymbol](e,t){return t}[s.OwnQuarkSymbol](e,t){return t.getActiveEntry()}[s.OwnIdentifierSymbol](e,t){return t.getActiveEntry().identifier}[s.WriteSymbol](e,t){const n=t.getActiveEntry();if(n.identifier.lazy)throw new Error("Lazy identifiers can not use `Write` effect");const r=e.identifier.level>n.identifier.level;return r||t.walkContext.startNewEpoch(),t.write(e.identifier,...e.proposedArgs),r?void 0:s.BreakCurrentStackExecution}[s.WriteSeveralSymbol](e,t){const n=t.getActiveEntry();if(n.identifier.lazy)throw new Error("Lazy identifiers can not use `Write` effect");let r=!0;return e.writes.forEach(e=>{e.identifier.level<=n.identifier.level&&r&&(t.walkContext.startNewEpoch(),r=!1),t.write(e.identifier,...e.proposedArgs)}),r?void 0:s.BreakCurrentStackExecution}[s.PreviousValueOfSymbol](e,t){const n=t.getActiveEntry(),r=e.identifier;return t.addEdge(r,n,u.EdgeTypePast),t.readPrevious(r)}[s.ProposedValueOfSymbol](e,t){const n=t.getActiveEntry(),r=e.identifier;t.addEdge(r,n,u.EdgeTypePast);const i=t.entries.get(r);return i&&!i.isShadow()?i.getProposedValue(t):void 0}[s.HasProposedValueSymbol](e,t){const n=t.getActiveEntry(),r=e.identifier;t.addEdge(r,n,u.EdgeTypePast);const i=t.entries.get(r);return!!i&&i.hasProposedValue()}[s.ProposedOrPreviousValueOfSymbol](e,t){const n=t.getActiveEntry(),r=e.identifier;return t.addEdge(r,n,u.EdgeTypePast),t.readProposedOrPrevious(r)}[s.UnsafeProposedOrPreviousValueOfSymbol](e,t){return t.readProposedOrPrevious(e.identifier)}[s.UnsafePreviousValueOfSymbol](e,t){return t.readPrevious(e.identifier)}[s.ProposedArgumentsOfSymbol](e,t){const n=t.getActiveEntry(),r=e.identifier;t.addEdge(r,n,u.EdgeTypePast);const i=t.entries.get(r);return i&&!i.isShadow()?i.proposedArguments:void 0}}},"./lib/ChronoGraph/chrono/Identifier.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Levels",(function(){return r})),n.d(t,"Meta",(function(){return d})),n.d(t,"Identifier",(function(){return u})),n.d(t,"IdentifierC",(function(){return h})),n.d(t,"QuarkSync",(function(){return f})),n.d(t,"QuarkGen",(function(){return g})),n.d(t,"Variable",(function(){return m})),n.d(t,"VariableC",(function(){return p})),n.d(t,"CalculatedValueSync",(function(){return v})),n.d(t,"CalculatedValueSyncC",(function(){return b})),n.d(t,"CalculatedValueGen",(function(){return y})),n.d(t,"CalculatedValueGenC",(function(){return C})),n.d(t,"throwUnknownIdentifier",(function(){return S}));var r,i=n("./lib/ChronoGraph/class/Base.js"),o=n("./lib/ChronoGraph/primitives/Calculation.js"),a=n("./lib/ChronoGraph/util/Helpers.js"),s=n("./lib/ChronoGraph/chrono/Effect.js"),l=n("./lib/ChronoGraph/chrono/Quark.js"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.UserInput=0]="UserInput",e[e.DependsOnlyOnUserInput=1]="DependsOnlyOnUserInput",e[e.DependsOnlyOnDependsOnlyOnUserInput=2]="DependsOnlyOnDependsOnlyOnUserInput",e[e.DependsOnSelfKind=3]="DependsOnSelfKind"}(r||(r={}));class d extends i.Base{constructor(){super(...arguments),this.name=void 0,this.lazy=!1,this.total=!0,this.pure=!0,this.proposedValueIsBuilt=!1}calculation(e){throw new Error("Abstract method `calculation` called")}equality(e,t){return e===t}}c([Object(a.prototypeValue)(r.DependsOnSelfKind)],d.prototype,"level",void 0),c([Object(a.prototypeValue)(!0)],d.prototype,"sync",void 0);class u extends d{constructor(){super(...arguments),this.context=void 0}newQuark(e){const t=this.quarkClass.new();return t.createdAt=e,t.identifier=this,t.needToBuildProposedValue=this.proposedValueIsBuilt,t}write(e,t,n,r,...i){(n=n||t.getWriteTarget(e)).proposedValue=r,n.proposedArguments=i.length>0?i:void 0}writeToTransaction(e,t,...n){e.write(this,t,...n)}writeToGraph(e,t,...n){e.write(this,t,...n)}readFromGraphAsync(e){return e.readAsync(this)}readFromGraph(e){return e.read(this)}readFromTransaction(e){return e.read(this)}readFromTransactionAsync(e){return e.readAsync(this)}buildProposedValue(e,t,n){}enterGraph(e){}leaveGraph(e){}}const h=e=>u.new(e),f=l.Quark.mix(o.CalculationSync.mix(Map)),g=l.Quark.mix(o.CalculationGen.mix(Map));class m extends u{calculation(e){throw new Error("The 'calculation' method of the variables will never be called. Instead the value will be set directly to quark")}write(e,t,n,r,...i){(n=n||t.getWriteTarget(e)).value=r,n.proposedArguments=i.length>0?i:void 0}}function p(...e){return m.new(...e)}c([Object(a.prototypeValue)(r.UserInput)],m.prototype,"level",void 0),c([Object(a.prototypeValue)(f)],m.prototype,"quarkClass",void 0);class v extends u{calculation(e){return e(s.ProposedOrPrevious)}}function b(...e){return v.new(...e)}c([Object(a.prototypeValue)(f)],v.prototype,"quarkClass",void 0);class y extends u{*calculation(e){return yield s.ProposedOrPrevious}}function C(...e){return y.new(...e)}c([Object(a.prototypeValue)(g)],y.prototype,"quarkClass",void 0);const S=e=>{throw new Error("Unknown identifier "+e)}},"./lib/ChronoGraph/chrono/Quark.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EdgeType",(function(){return r})),n.d(t,"Quark",(function(){return l})),n.d(t,"TombStone",(function(){return c}));var r,i=n("./lib/ChronoGraph/class/Mixin.js"),o=n("./lib/ChronoGraph/graph/WalkDepth.js"),a=n("./lib/ChronoGraph/util/Helpers.js");!function(e){e[e.Normal=1]="Normal",e[e.Past=2]="Past"}(r||(r={}));let s=0;class l extends(Object(i.MixinAny)([Map],e=>class extends e{constructor(){super(...arguments),this.createdAt=void 0,this.identifier=void 0,this.value=void 0,this.proposedValue=void 0,this.proposedArguments=void 0,this.usedProposedOrPrevious=!1,this.previous=void 0,this.origin=void 0,this.originId=a.MIN_SMI,this.needToBuildProposedValue=!1,this.edgesFlow=0,this.visitedAt=o.NOT_VISITED,this.visitEpoch=0,this.promise=void 0,this.$outgoingPast=void 0}static new(e){const t=new this;return e&&Object.assign(t,e),t}get level(){return this.identifier.level}get calculation(){return this.identifier.calculation}get context(){return this.identifier.context||this.identifier}forceCalculation(){this.edgesFlow=a.MAX_SMI}cleanup(){this.cleanupCalculation()}isShadow(){return Boolean(this.origin&&this.origin!==this)}resetToEpoch(e){this.visitEpoch=e,this.visitedAt=o.NOT_VISITED,this.edgesFlow<0&&(this.edgesFlow=0),this.usedProposedOrPrevious=!1,this.cleanupCalculation(),void 0!==this.value&&this.clearOutgoing(),this.promise=void 0,this.origin&&this.origin===this?(this.proposedArguments=void 0,void 0!==this.value&&(this.proposedValue=this.value),this.value=void 0):(this.origin=void 0,this.value=void 0),this.identifier.proposedValueIsBuilt&&this.proposedValue!==c&&(this.needToBuildProposedValue=!0,this.proposedValue=void 0)}copyFrom(e){this.value=e.value,this.proposedValue=e.proposedValue,this.proposedArguments=e.proposedArguments,this.usedProposedOrPrevious=e.usedProposedOrPrevious}clearProperties(){this.value=void 0,this.proposedValue=void 0,this.proposedArguments=void 0}mergePreviousOrigin(e){const t=this.origin;if(t!==this.previous)throw new Error("Invalid state");this.copyFrom(t);const n=this.getOutgoing();for(const[r,i]of t.getOutgoing())if(!n.get(r)){const t=e.get(r);t&&t.originId!==i.originId||n.set(r,t||i)}if(void 0!==t.$outgoingPast){const n=this.getOutgoingPast();for(const[r,i]of t.getOutgoingPast())if(!n.get(r)){const t=e.get(r);t&&t.originId!==i.originId||n.set(r,t||i)}}this.origin=this,t.clearProperties(),t.clear()}setOrigin(e){this.origin=e,this.originId=e.originId}getOrigin(){return this.origin?this.origin:this.startOrigin()}startOrigin(){return this.originId=s++,this.origin=this}getOutgoing(){return this}getOutgoingPast(){return void 0!==this.$outgoingPast?this.$outgoingPast:this.$outgoingPast=new Map}addOutgoingTo(e,t){(t===r.Normal?this:this.getOutgoingPast()).set(e.identifier,e)}clearOutgoing(){this.clear(),void 0!==this.$outgoingPast&&this.$outgoingPast.clear()}getValue(){return this.origin?this.origin.value:void 0}setValue(e){if(this.origin&&this.origin!==this)throw new Error("Can not set value to the shadow entry");this.getOrigin().value=e}hasValue(){return void 0!==this.getValue()}hasProposedValue(){return!this.isShadow()&&this.hasProposedValueInner()}hasProposedValueInner(){return void 0!==this.proposedValue}getProposedValue(e){return this.needToBuildProposedValue&&(this.needToBuildProposedValue=!1,this.proposedValue=this.identifier.buildProposedValue.call(this.identifier.context||this.identifier,this.identifier,this,e)),this.proposedValue}outgoingInTheFutureCb(e,t){let n=this;for(;n;){for(const r of n.getOutgoing().values())r.originId===e.getLatestEntryFor(r.identifier).originId&&t(r);n=n.isShadow()?n.previous:null}}outgoingInTheFutureAndPastCb(e,t){let n=this;for(;n;){for(const r of n.getOutgoing().values()){const n=e.getLatestEntryFor(r.identifier);n&&r.originId===n.originId&&t(r)}if(void 0!==n.$outgoingPast)for(const r of n.$outgoingPast.values()){const n=e.getLatestEntryFor(r.identifier);n&&r.originId===n.originId&&t(r)}n=n.isShadow()?n.previous:null}}outgoingInTheFutureAndPastTransactionCb(e,t){let n=this;for(;n;){for(const r of n.getOutgoing().values()){const n=e.getLatestStableEntryFor(r.identifier);n&&r.originId===n.originId&&t(r)}if(void 0!==n.$outgoingPast)for(const r of n.$outgoingPast.values()){const n=e.getLatestStableEntryFor(r.identifier);n&&r.originId===n.originId&&t(r)}n=n.isShadow()?n.previous:null}}outgoingInTheFutureTransactionCb(e,t){let n=this;for(;n;){for(const r of n.getOutgoing().values()){const n=e.getLatestEntryFor(r.identifier);n&&r.originId===n.originId&&t(r)}n=n.isShadow()?n.previous:null}}})){}const c=Symbol("Tombstone")},"./lib/ChronoGraph/chrono/Revision.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Revision",(function(){return a}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/chrono/Quark.js");let o=0;class a extends r.Base{constructor(){super(...arguments),this.createdAt=o++,this.name="revision-"+this.createdAt,this.previous=void 0,this.scope=new Map,this.reachableCount=0,this.referenceCount=0,this.selfDependent=new Set}getLatestEntryFor(e){let t=this;for(;t;){const n=t.scope.get(e);if(n)return n;t=t.previous}return null}hasIdentifier(e){const t=this.getLatestEntryFor(e);return Boolean(t&&t.getValue()!==i.TombStone)}*previousAxis(){let e=this;for(;e;)yield e,e=e.previous}}},"./lib/ChronoGraph/chrono/Transaction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EdgeTypeNormal",(function(){return m})),n.d(t,"EdgeTypePast",(function(){return p})),n.d(t,"Transaction",(function(){return v}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/environment/Debug.js"),o=n("./lib/ChronoGraph/graph/WalkDepth.js"),a=n("./lib/ChronoGraph/primitives/Calculation.js"),s=n("./lib/ChronoGraph/util/Helpers.js"),l=n("./lib/ChronoGraph/util/LeveledQueue.js"),c=n("./lib/ChronoGraph/chrono/Effect.js"),d=n("./lib/ChronoGraph/chrono/Identifier.js"),u=n("./lib/ChronoGraph/chrono/Quark.js"),h=n("./lib/ChronoGraph/chrono/Revision.js"),f=n("./lib/ChronoGraph/chrono/TransactionCycleDetectionWalkContext.js"),g=n("./lib/ChronoGraph/chrono/TransactionWalkDepth.js");const m=u.EdgeType.Normal,p=u.EdgeType.Past;class v extends r.Base{constructor(){super(...arguments),this.baseRevision=void 0,this.candidateClass=h.Revision,this.candidate=void 0,this.graph=void 0,this.isClosed=!1,this.walkContext=void 0,this.entries=new Map,this.stackGen=new l.LeveledQueue,this.activeStack=[],this.onEffectSync=void 0,this.onEffectAsync=void 0,this.propagationStartDate=0,this.lastProgressNotificationDate=0,this.startProgressNotificationsAfterMs=500,this.emitProgressNotificationsEveryMs=200,this.emitProgressNotificationsEveryCalculations=100,this.plannedTotalIdentifiersToCalculate=0,this.ongoing=Promise.resolve(),this.selfDependedMarked=!1,this.rejectedWith=void 0}initialize(...e){super.initialize(...e),this.walkContext=g.TransactionWalkDepth.new({visited:this.entries,transaction:this,baseRevision:this.baseRevision,pushTo:this.stackGen}),this.candidate||(this.candidate=this.candidateClass.new({previous:this.baseRevision})),this.onEffectSync=this.read.bind(this),this.onEffectAsync=this.readAsync.bind(this)}get dirty(){return this.entries.size>0}markSelfDependent(){if(!this.selfDependedMarked){this.selfDependedMarked=!0;for(const e of this.baseRevision.selfDependent){const t=this.entries.get(e);t&&t.getValue()===u.TombStone||this.touch(e)}}}getActiveEntry(){return this.activeStack[this.activeStack.length-1]}yieldAsync(e){return e instanceof Promise?e:this.graph[e.handler](e,this)}yieldSync(e){if(e instanceof Promise)throw new Error("Can not yield a promise in the synchronous context");return this.graph[e.handler](e,this)}readAsync(e){if(!(e instanceof d.Identifier))return this.yieldAsync(e);let t;const n=this.getActiveEntry();if(n)t=this.addEdge(e,n,m);else if(t=this.entries.get(e),!t){const n=this.baseRevision.getLatestEntryFor(e);n||Object(d.throwUnknownIdentifier)(e),t=n.hasValue()?n:this.touch(e)}return t.hasValue()?t.getValue():t.promise?t.promise:(t.previous&&t.previous.hasValue()||t.forceCalculation(),this.ongoing=t.promise=this.ongoing.then(()=>(async()=>{for(;this.stackGen.lowestLevel<e.level;)await Object(a.runGeneratorAsyncWithEffect)(this.onEffectAsync,this.calculateTransitionsStackGen,[this.onEffectAsync,this.stackGen.takeLowestLevel()],this);if(this.markSelfDependent(),void 0===t.getValue())return Object(a.runGeneratorAsyncWithEffect)(this.onEffectAsync,this.calculateTransitionsStackGen,[this.onEffectAsync,[t]],this)})()).then(()=>{if(this.rejectedWith)throw new Error("Transaction rejected: "+String(this.rejectedWith.reason));if(!t.hasValue())throw new Error("Computation cycle. Sync");return t.getValue()}))}get(e){if(!(e instanceof d.Identifier))return this.yieldSync(e);let t;const n=this.getActiveEntry();if(n)t=this.addEdge(e,n,m);else if(t=this.entries.get(e),!t){const n=this.baseRevision.getLatestEntryFor(e);n||Object(d.throwUnknownIdentifier)(e),t=n.hasValue()?n:this.touch(e)}const r=t.getValue();if(r===u.TombStone&&Object(d.throwUnknownIdentifier)(e),void 0!==r&&t.hasValue())return r;if(t.promise)return t.promise;for(t.previous&&t.previous.hasValue()||t.forceCalculation();this.stackGen.getLowestLevel()<e.level;)this.calculateTransitionsStackSync(this.onEffectSync,this.stackGen.takeLowestLevel());if(this.markSelfDependent(),e.sync){this.calculateTransitionsStackSync(this.onEffectSync,[t]);const n=t.getValue();if(void 0===n)throw new Error("Cycle during synchronous computation");return n===u.TombStone&&Object(d.throwUnknownIdentifier)(e),n}{const n=this.ongoing=t.promise=this.ongoing.then(()=>{if(void 0===t.getValue())return Object(a.runGeneratorAsyncWithEffect)(this.onEffectAsync,this.calculateTransitionsStackGen,[this.onEffectAsync,[t]],this)}).then(()=>{if(this.rejectedWith)throw new Error("Transaction rejected: "+String(this.rejectedWith.reason));const n=t.getValue();if(void 0===n)throw new Error("Computation cycle. Async get");return n===u.TombStone&&Object(d.throwUnknownIdentifier)(e),n});return i.DEBUG&&(n.quark=t),n}}read(e){if(!(e instanceof d.Identifier))return this.yieldSync(e);let t;const n=this.getActiveEntry();if(n)t=this.addEdge(e,n,m);else if(t=this.entries.get(e),!t){const n=this.baseRevision.getLatestEntryFor(e);n||Object(d.throwUnknownIdentifier)(e),t=n.hasValue()?n:this.touch(e)}const r=t.getValue();if(r===u.TombStone&&Object(d.throwUnknownIdentifier)(e),void 0!==r)return r;for(t.previous&&t.previous.hasValue()||t.forceCalculation();this.stackGen.getLowestLevel()<e.level;)this.calculateTransitionsStackSync(this.onEffectSync,this.stackGen.takeLowestLevel());this.markSelfDependent(),this.calculateTransitionsStackSync(this.onEffectSync,[t]);const i=t.getValue();if(void 0===i)throw new Error("Cycle during synchronous computation");return i===u.TombStone&&Object(d.throwUnknownIdentifier)(e),i}readCurrentOrProposedOrPrevious(e){const t=this.entries.get(e);if(t){const e=t.getValue();if(void 0!==e)return e;if(void 0!==t.proposedValue)return t.proposedValue}return this.readPrevious(e)}readCurrentOrProposedOrPreviousAsync(e){const t=this.entries.get(e);if(t){const e=t.getValue();if(void 0!==e)return e;if(void 0!==t.proposedValue)return t.proposedValue}return this.readPreviousAsync(e)}readPrevious(e){const t=this.baseRevision.getLatestEntryFor(e);if(!t)return;const n=t.getValue();return n!==u.TombStone?void 0===n&&e.lazy?this.read(e):n:void 0}readPreviousAsync(e){const t=this.baseRevision.getLatestEntryFor(e);if(!t)return;const n=t.getValue();return n!==u.TombStone?void 0!==n?n:this.readAsync(e):void 0}readProposedOrPrevious(e){const t=this.entries.get(e);return t&&void 0!==t.proposedValue?t.proposedValue:this.readPrevious(e)}readProposedOrPreviousAsync(e){const t=this.entries.get(e);return t&&void 0!==t.proposedValue?t.proposedValue:this.readPreviousAsync(e)}write(e,t,...n){void 0===t&&(t=null),e.write.call(e.context||e,e,this,null,t,...n)}getWriteTarget(e){return this.touch(e).startOrigin()}acquireQuarkIfExists(e){const t=this.entries.get(e);return t&&t.origin===t?t.origin:void 0}touch(e){const t=this.entries.get(e);(!t||t.visitEpoch<this.walkContext.currentEpoch)&&this.walkContext.continueFrom([e]);const n=t||this.entries.get(e);return n.forceCalculation(),n}hasIdentifier(e){const t=this.entries.get(e);return(!t||t.getValue()!==u.TombStone)&&Boolean(t||this.baseRevision.getLatestEntryFor(e))}addIdentifier(e,t,...n){let r=this.entries.get(e);const i=e.level===d.Levels.UserInput;return r||(r=e.newQuark(this.baseRevision),r.previous=this.baseRevision.getLatestEntryFor(e),r.forceCalculation(),this.entries.set(e,r),e.lazy||i||this.stackGen.push(r)),(void 0!==t||i)&&(r.startOrigin(),e.write.call(e.context||e,e,this,r,void 0===t&&i?null:t,...n)),r.getValue()===u.TombStone&&(r.value=void 0),e.enterGraph(this.graph),r}removeIdentifier(e){e.leaveGraph(this.graph),this.touch(e).startOrigin().setValue(u.TombStone)}populateCandidateScopeFromTransitions(e,t){if(0===e.scope.size)e.scope=t;else for(const[n,r]of t)if(r.isShadow()){const t=e.getLatestEntryFor(n);r.getOutgoing().forEach((e,n)=>t.getOutgoing().set(n,e))}else e.scope.set(n,r)}preCommit(e){if(this.isClosed)throw new Error("Can not propagate closed revision");this.markSelfDependent(),this.isClosed=!0,this.propagationStartDate=Date.now(),this.plannedTotalIdentifiersToCalculate=this.stackGen.length}postCommit(){this.populateCandidateScopeFromTransitions(this.candidate,this.entries);const e=this.entries;return this.walkContext=void 0,{revision:this.candidate,entries:e,transaction:this}}commit(e){return this.preCommit(e),this.calculateTransitionsSync(this.onEffectSync),this.postCommit()}reject(e=c.RejectEffect.new()){this.rejectedWith=e;for(const t of this.entries.values())t.cleanup();this.entries.clear(),this.walkContext=void 0}async commitAsync(e){return this.preCommit(e),this.ongoing=this.ongoing.then(()=>Object(a.runGeneratorAsyncWithEffect)(this.onEffectAsync,this.calculateTransitions,[this.onEffectAsync],this)).then(()=>this.postCommit())}getLatestEntryFor(e){let t=this.entries.get(e)||this.baseRevision.getLatestEntryFor(e);if(t.getValue()!==u.TombStone)return t}getLatestStableEntryFor(e){let t=this.entries.get(e);if(t){const n=t.getValue();if(n===u.TombStone)return;return void 0===n?this.baseRevision.getLatestEntryFor(e):t}return this.baseRevision.getLatestEntryFor(e)}addEdge(e,t,n){if(t.identifier.level<e.level)throw new Error("Identifier can not read from higher level identifier");let r=this.entries.get(e);if(!r){const t=this.baseRevision.getLatestEntryFor(e);t||Object(d.throwUnknownIdentifier)(e),r=e.newQuark(this.baseRevision),t.origin&&r.setOrigin(t.origin),r.previous=t,this.entries.set(e,r)}return r.addOutgoingTo(t,n),r}onQuarkCalculationCompleted(e,t){e.cleanup();const n=e.identifier,r=e.previous,i=Boolean(r&&r.hasValue()&&n.equality(t,r.getValue()));i?(r.outgoingInTheFutureAndPastTransactionCb(this,e=>{const t=this.entries.get(e.identifier);t&&t.edgesFlow--}),e.edgesFlow=s.MAX_SMI,e.setOrigin(r.origin),e.value=t):(e.startOrigin(),e.setValue(t));let o=!1;e.usedProposedOrPrevious&&(void 0!==e.proposedValue?n.equality(t,e.proposedValue)&&(o=!0):(i||!r&&null===t)&&(o=!0),o||this.candidate.selfDependent.add(n))}onReadIdentifier(e,t,n){const r=this.addEdge(e,t,m);if(r.hasValue()||void 0!==r.value){const n=r.getValue();return n===u.TombStone&&Object(d.throwUnknownIdentifier)(e),t.continueCalculation(n)}if(r.isShadow())return r.startOrigin(),r.forceCalculation(),void n.push(r);if(!r.isCalculationStarted())return n.push(r),void(r.previous&&r.previous.hasValue()||r.forceCalculation());{let e;f.TransactionCycleDetectionWalkContext.new({transaction:this,onCycle:(t,n)=>(e=f.ComputationCycle.new({cycle:Object(o.cycleInfo)(n)}),o.OnCycleAction.Cancel)}).startFrom([r.identifier]),this.graph.onComputationCycleHandler(t,r,e)}}*calculateTransitions(e){const t=this.stackGen;for(;t.length;)yield*this.calculateTransitionsStackGen(e,t.takeLowestLevel())}calculateTransitionsSync(e){const t=this.stackGen;for(;t.length;)this.calculateTransitionsStackSync(e,t.takeLowestLevel())}*calculateTransitionsStackGen(e,t){if(this.rejectedWith)return;this.walkContext.startNewEpoch();const n=this.entries,r=this.propagationStartDate,i=!!this.graph&&this.graph.enableProgressNotifications;let o=0;const l=this.activeStack;for(this.activeStack=t;t.length&&!this.rejectedWith;){if(i&&!(o++%this.emitProgressNotificationsEveryCalculations)){const e=Date.now();if(e-r>this.startProgressNotificationsAfterMs){const n=this.lastProgressNotificationDate;(!n||e-n>this.emitProgressNotificationsEveryMs)&&(this.lastProgressNotificationDate=e,this.graph.onPropagationProgressNotification({total:this.plannedTotalIdentifiersToCalculate,remaining:t.length,phase:"propagating"}),yield Object(s.delay)(0))}}const e=t[t.length-1],l=e.identifier;if(n.get(l)!==e){e.cleanup(),t.pop();continue}if(0==e.edgesFlow){e.edgesFlow--;const t=e.previous;t&&t.outgoingInTheFutureAndPastTransactionCb(this,e=>{const t=n.get(e.identifier);t&&t.edgesFlow--})}if(e.edgesFlow<0&&e.previous&&e.previous.origin){e.setOrigin(e.previous.origin),0===e.size&&n.delete(l),e.cleanup(),t.pop();continue}if(e.hasValue()||e.proposedValue===u.TombStone){e.cleanup(),t.pop();continue}const h=e.visitEpoch;let f=e.isCalculationStarted()?e.iterationResult:e.startCalculation(this.onEffectSync);for(;f;){const n=void 0===f.value?null:f.value;if(e.isCalculationCompleted()){e.visitEpoch==h&&this.onQuarkCalculationCompleted(e,n),t.pop();break}if(n instanceof d.Identifier)f=this.onReadIdentifier(n,e,t);else{if(n===a.SynchronousCalculationStarted){t.pop();break}{const r=yield n;if(r===c.BreakCurrentStackExecution)break;if(e.visitEpoch!==h){t.pop();break}f=e.continueCalculation(r)}}}}this.activeStack=l}calculateTransitionsStackSync(e,t){if(this.rejectedWith)return;this.walkContext.startNewEpoch();const n=this.entries,r=this.activeStack;for(this.activeStack=t;t.length&&!this.rejectedWith;){const r=t[t.length-1],i=r.identifier;if(n.get(i)!==r){r.cleanup(),t.pop();continue}if(0==r.edgesFlow){r.edgesFlow--;const e=r.previous;e&&e.outgoingInTheFutureAndPastTransactionCb(this,e=>{const t=n.get(e.identifier);t&&t.edgesFlow--})}if(r.edgesFlow<0&&r.previous&&r.previous.origin){r.setOrigin(r.previous.origin),0===r.size&&n.delete(i),r.cleanup(),t.pop();continue}if(r.hasValue()||r.proposedValue===u.TombStone){r.cleanup(),t.pop();continue}const o=r.visitEpoch;let s=r.isCalculationStarted()?r.iterationResult:r.startCalculation(this.onEffectSync);for(;s;){const n=void 0===s.value?null:s.value;if(r.isCalculationCompleted()){r.visitEpoch==o&&this.onQuarkCalculationCompleted(r,n),t.pop();break}if(n instanceof d.Identifier)s=this.onReadIdentifier(n,r,t);else{if(n===a.SynchronousCalculationStarted){t.pop();break}{const i=e(n);if(i instanceof Promise)throw new Error("Effect resolved to promise in the synchronous context, check that you marked the asynchronous calculations accordingly");if(i===c.BreakCurrentStackExecution)break;if(r.visitEpoch!==o){t.pop();break}s=r.continueCalculation(i)}}}}this.activeStack=r}}},"./lib/ChronoGraph/chrono/TransactionCycleDetectionWalkContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ComputationCycle",(function(){return o})),n.d(t,"TransactionCycleDetectionWalkContext",(function(){return a}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/graph/WalkDepth.js");class o extends r.Base{toString(){const e=[],t=[];return this.cycle.forEach(({name:n,context:r})=>{e.push(n),t[t.length-1]!==r&&t.push(r)}),"events: \n"+t.map(e=>"#"+e.id).join(" => ")+"\n\nidentifiers: \n"+e.join("\n")}}class a extends i.WalkContext{constructor(){super(...arguments),this.transaction=void 0}onCycle(e,t){return i.OnCycleAction.Cancel}doCollectNext(e,t,n){let r=this.visited.get(t);r||(r={visitedAt:i.NOT_VISITED,visitEpoch:this.currentEpoch},this.visited.set(t,r)),n.push({node:t,from:e,label:void 0})}collectNext(e,t){const n=this.transaction.getLatestEntryFor(e);n&&n.outgoingInTheFutureTransactionCb(this.transaction,n=>{this.doCollectNext(e,n.identifier,t)})}}},"./lib/ChronoGraph/chrono/TransactionWalkDepth.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionWalkDepth",(function(){return a}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/graph/WalkDepth.js"),o=n("./lib/ChronoGraph/chrono/Identifier.js");class a extends r.Base{constructor(){super(...arguments),this.visited=new Map,this.transaction=void 0,this.baseRevision=void 0,this.pushTo=void 0,this.toVisit=[],this.currentEpoch=0}startFrom(e){this.continueFrom(e)}continueFrom(e){this.toVisit.push.apply(this.toVisit,e),this.walkDepth()}startNewEpoch(){if(this.toVisit.length)throw new Error("Can not start new walk epoch in the middle of the walk");this.currentEpoch++}onTopologicalNode(e,t){e.lazy||e.level===o.Levels.UserInput||this.pushTo.push(t)}onCycle(e,t){return i.OnCycleAction.Resume}doCollectNext(e,t,n){let r=this.visited.get(t);r||(r=t.newQuark(this.baseRevision),r.visitEpoch=this.currentEpoch,this.visited.set(t,r)),n.push(t)}collectNext(e,t,n){const r=this.baseRevision.getLatestEntryFor(e);r&&(n.previous=r,r.outgoingInTheFutureAndPastTransactionCb(this.transaction,n=>{this.doCollectNext(e,n.identifier,t)}));for(const i of n.getOutgoing().keys())this.doCollectNext(e,i,t);if(void 0!==n.$outgoingPast)for(const i of n.getOutgoingPast().keys())this.doCollectNext(e,i,t)}walkDepth(){const e=this.visited,t=this.toVisit;let n;for(;n=t.length;){const r=t[n-1];let o=e.get(r);if(o&&o.visitedAt===i.VISITED_TOPOLOGICALLY&&o.visitEpoch===this.currentEpoch)o.edgesFlow++,t.pop();else if(o&&o.visitEpoch===this.currentEpoch&&o.visitedAt!==i.NOT_VISITED){if(o.visitedAt<n){if(this.onCycle(r,t)!==i.OnCycleAction.Resume)break;o.edgesFlow++}else o.visitedAt=i.VISITED_TOPOLOGICALLY,this.onTopologicalNode(r,o);t.pop()}else{const a=t.length;o||(o=r.newQuark(this.baseRevision),o.visitEpoch=this.currentEpoch,e.set(r,o)),this.collectNext(r,t,o),o.visitEpoch<this.currentEpoch&&o.resetToEpoch(this.currentEpoch),o.visitedAt=n,o.edgesFlow++,t.length===a&&(o.visitedAt=i.VISITED_TOPOLOGICALLY,this.onTopologicalNode(r,o),t.pop())}}}}},"./lib/ChronoGraph/class/Base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Base",(function(){return r}));class r{initialize(e){e&&Object.assign(this,e)}static new(e){const t=new this;return t.initialize(e),t}}},"./lib/ChronoGraph/class/BetterMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/ChronoGraph/class/Mixin.js");n.d(t,"identity",(function(){return r.identity})),n.d(t,"ZeroBaseClass",(function(){return r.ZeroBaseClass})),n.d(t,"isInstanceOf",(function(){return r.isInstanceOf})),n.d(t,"Mixin",(function(){return r.Mixin})),n.d(t,"MixinAny",(function(){return r.MixinAny}));var i=n("./lib/ChronoGraph/class/Base.js");n.d(t,"Base",(function(){return i.Base}))},"./lib/ChronoGraph/class/Mixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"identity",(function(){return s})),n.d(t,"ZeroBaseClass",(function(){return l})),n.d(t,"isInstanceOf",(function(){return f})),n.d(t,"Mixin",(function(){return g})),n.d(t,"MixinAny",(function(){return m}));var r=n("./lib/ChronoGraph/collection/Iterator.js");const i=Symbol("MixinIdentity"),o=Symbol("MixinStateProperty");let a=1;const s=e=>class extends e{};class l{}class c{constructor(){this.id=a++,this.requirements=[],this.baseClass=l,this.identitySymbol=void 0,this.mixinLambda=s,this.walkDepthState=void 0,this.$minimalClass=void 0,this.name=""}static new(e){const t=new this;e&&Object.assign(t,e),t.walkDepthState=class{constructor(){this.baseEl=void 0,this.sourceEl=void 0,this.$elementsByTopoLevel=void 0,this.$topoLevels=void 0,this.linearizedByTopoLevelsSource=Object(r.MI)(this.linearizedByTopoLevels())}static new(e){const t=new this;return e&&Object.assign(t,e),t}get topoLevels(){return void 0!==this.$topoLevels?this.$topoLevels:this.$topoLevels=this.buildTopoLevels()}buildTopoLevels(){return Array.from(this.elementsByTopoLevel.keys()).sort((e,t)=>e-t)}get elementsByTopoLevel(){return void 0!==this.$elementsByTopoLevel?this.$elementsByTopoLevel:this.$elementsByTopoLevel=this.buildElementsByTopoLevel()}getOrCreateLevel(e,t){let n=e.get(t);return n||(n=[],e.set(t,n)),n}buildElementsByTopoLevel(){let e=0;const t=this.baseEl?Object(r.CI)(this.baseEl.walkDepthState.elementsByTopoLevel.values()).concat().toSet():new Set,n=Object(r.CI)(this.sourceEl.requirements).map(e=>e.walkDepthState.elementsByTopoLevel).concat().reduce((t,[n,r])=>(n>e&&(e=n),this.getOrCreateLevel(t,n).push(r),t),new Map);return this.getOrCreateLevel(n,e+1).push([this.sourceEl]),Object(r.CI)(n).map(([e,n])=>[e,Object(r.CI)(n).concat().uniqueOnly().filter(e=>!t.has(e)).sort((e,t)=>e.id-t.id)]).toMap()}*linearizedByTopoLevels(){yield*Object(r.CI)(this.topoLevels).map(e=>this.elementsByTopoLevel.get(e)).concat()}}.new({sourceEl:t,baseEl:d(t.baseClass)});const n=t.mixinLambda,a=t.identitySymbol=Symbol(n.name),s=Object.assign((function(e){const t=n(e);return t.prototype[a]=!0,t}),{[i]:a,[o]:t});return Object.defineProperty(s,Symbol.hasInstance,{value:h}),t.mixinLambda=s,t}get minimalClass(){return void 0!==this.$minimalClass?this.$minimalClass:this.$minimalClass=this.buildMinimalClass()}getBaseClassMixinId(e){const t=this.constructor,n=t.baseClassesIds.get(e);if(void 0!==n)return n;const r=a++;return t.baseClassesIds.set(e,r),r}buildMinimalClass(){const e=this.constructor;let t=this.baseClass;const n=this.walkDepthState.linearizedByTopoLevelsSource.reduce((t,n)=>{const{cls:r,hash:i}=t,o=i+String.fromCharCode(n.id);let a=e.minimalClassesByLinearHash.get(o);return a||(a=n.mixinLambda(r),n.name=a.name,e.minimalClassesByLinearHash.set(o,a)),t.cls=a,t.hash=o,t},{cls:t,hash:String.fromCharCode(this.getBaseClassMixinId(t))}).cls,r=Object.assign(n,{[i]:this.identitySymbol,[o]:this,mix:this.mixinLambda,derive:e=>g([r,e],e=>class extends e{}),$:this,toString:this.toString.bind(this)});return Object.defineProperty(r,Symbol.hasInstance,{value:h}),r}toString(){return this.walkDepthState.linearizedByTopoLevelsSource.reduce((e,t)=>`${t.name}(${e})`,this.baseClass.name)}}c.minimalClassesByLinearHash=new Map,c.baseClassesIds=new Map;const d=e=>Object.getPrototypeOf(e.prototype).constructor[o],u=(e,t)=>{let n;if(e.length>0){const t=e[e.length-1];r=t,Object.getPrototypeOf(r.prototype).constructor.hasOwnProperty(o)||t===l||(n=t)}var r;const i=[];return e.forEach((t,r)=>{const a=t[o];if(void 0!==a){const e=a.baseClass;if(e!==l)if(n){if(n!==e){const t=e.prototype.isPrototypeOf(n.prototype),r=n.prototype.isPrototypeOf(e.prototype);if(!t&&!r)throw new Error("Base class mismatch");n=r?e:n}}else n=e;i.push(a)}else if(r!==e.length-1)throw new Error("Base class should be provided as the last element of the requirements array")}),c.new({requirements:i,mixinLambda:t,baseClass:n||l}).minimalClass},h=function(e){return Boolean(e&&e[this[i]])},f=(e,t)=>Boolean(e&&e[t[i]]),g=u,m=u},"./lib/ChronoGraph/class/RequiredProperty.js":function(e,t,n){"use strict";n.r(t),n.d(t,"required",(function(){return o})),n.d(t,"validateRequiredProperties",(function(){return a}));var r=n("./lib/ChronoGraph/environment/Debug.js");const i=Symbol("RequiredProperties"),o=Object(r.DEBUG_ONLY)((e,t)=>{let n=e[i];n||(n=e[i]=[]),n.push(t)}),a=Object(r.DEBUG_ONLY)(e=>{const t=e[i];if(t)for(let n=0;n<t.length;n++)if(void 0===e[t[n]])throw new Error(`Required attribute [${String(t[n])}] is not provided`)})},"./lib/ChronoGraph/collection/Iterator.js":function(e,t,n){"use strict";function r(e){const t=[],n=[];let r;return[function*(){for(r||(r=e[Symbol.iterator]());t.length&&(yield*t,t.length=0),r;){const{value:t,done:i}=r.next();if(i){r=null,e=null;break}n.push(t),yield t}}(),function*(){for(r||(r=e[Symbol.iterator]());n.length&&(yield*n,n.length=0),r;){const{value:n,done:i}=r.next();if(i){r=null,e=null;break}t.push(n),yield n}}()]}function*i(e,t){if(t<0)throw new Error("Batch size needs to a natural number");t|=0;const n=[];for(const r of e)n.length===t&&(yield n,n.length=0),n.push(r);n.length>0&&(yield n)}function*o(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)}function*a(e,t){let n=0;for(const r of e)++n>t&&(yield r)}function s(e,t){let n=0;for(const r of e)if(!t(r,n++))return!1;return!0}function l(e,t){let n=0;for(const r of e)if(t(r,n++))return!0;return!1}function*c(e,t){let n=0;for(const r of e)yield t(r,n++)}function d(e,t,n){let r=0,i=n;for(const o of e)i=t(i,o,r++);return i}function*u(e){const t=new Set;for(const n of e)t.has(n)||(t.add(n),yield n)}function*h(e,t){const n=new Set;for(const r of e){const e=t(r);n.has(e)||(n.add(e),yield r)}}function*f(e){const t=Array.from(e);for(let n=t.length-1;n>=0;n--)yield t[n]}function*g(e,t){let n=0;for(const r of e){if(!t(r,n++))return;yield r}}function*m(e,t){let n=0;for(const r of e)if(yield r,t(r,n++))return}function*p(e,t){let n=0;for(const r of e){if(t(r,n++))return;yield r}}function*v(...e){for(let t=0;t<e.length;t++)yield*e[t]}function*b(e){for(const t of e)yield*t}n.r(t),n.d(t,"split",(function(){return r})),n.d(t,"inBatchesBySize",(function(){return i})),n.d(t,"filter",(function(){return o})),n.d(t,"drop",(function(){return a})),n.d(t,"every",(function(){return s})),n.d(t,"some",(function(){return l})),n.d(t,"map",(function(){return c})),n.d(t,"reduce",(function(){return d})),n.d(t,"uniqueOnly",(function(){return u})),n.d(t,"uniqueOnlyBy",(function(){return h})),n.d(t,"reverse",(function(){return f})),n.d(t,"takeWhile",(function(){return g})),n.d(t,"takeUntilIncluding",(function(){return m})),n.d(t,"takeUntilExcluding",(function(){return p})),n.d(t,"concat",(function(){return v})),n.d(t,"concatIterable",(function(){return b})),n.d(t,"ChainedIteratorClass",(function(){return y})),n.d(t,"ChainedIterator",(function(){return C})),n.d(t,"CI",(function(){return S})),n.d(t,"MemoizedIteratorClass",(function(){return w})),n.d(t,"MemoizedIterator",(function(){return E})),n.d(t,"MI",(function(){return D}));class y{constructor(e){if(this.iterable=void 0,!e)throw new Error("Require an iterable instance for chaining");this.iterable=e}derive(e){return this.iterable=void 0,new y(e)}copy(){const[e,t]=r(this.iterable);return this.iterable=t,new y(e)}split(){const[e,t]=r(this.iterable);return[new y(e),this.derive(t)]}inBatchesBySize(e){return this.derive(i(this.iterable,e))}filter(e){return this.derive(o(this.iterable,e))}drop(e){return this.derive(a(this.iterable,e))}map(e){return this.derive(c(this.iterable,e))}reduce(e,t){return d(this,e,t)}concat(){return this.derive(b(this.iterable))}uniqueOnly(){return this.derive(u(this.iterable))}uniqueOnlyBy(e){return this.derive(h(this.iterable,e))}every(e){return s(this,e)}some(e){return l(this,e)}takeWhile(e){return this.derive(g(this.iterable,e))}*[Symbol.iterator](){let e=this.iterable;if(!e)throw new Error("Chained iterator already exhausted or used to derive the new one");this.iterable=void 0,yield*e,e=void 0}toArray(){return Array.from(this)}sort(e){return Array.from(this).sort(e)}toSet(){return new Set(this)}toMap(){return new Map(this)}flush(){for(const e of this);}memoize(){return new w(this)}}const C=e=>new y(e),S=C;class w extends y{constructor(){super(...arguments),this.elements=[],this.$iterator=void 0}set iterable(e){this.$iterable=e}get iterable(){return this}derive(e){return new y(e)}*[Symbol.iterator](){const e=this.elements;if(this.$iterable){this.$iterator||(this.$iterator=this.$iterable[Symbol.iterator]());let t=this.$iterator,n=e.length;for(n>0&&(yield*e);;){if(e.length>n){for(let t=n;t<e.length;t++)yield e[t];n=e.length}if(!t)break;const{value:r,done:i}=t.next();i?(t=this.$iterator=null,this.$iterable=null):(e.push(r),n++,yield r)}}else yield*e}}const E=e=>new w(e),D=E},"./lib/ChronoGraph/cycle_resolver/CycleResolver.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalculateProposed",(function(){return u})),n.d(t,"Formula",(function(){return h})),n.d(t,"VariableWalkContext",(function(){return f})),n.d(t,"FormulasCache",(function(){return g})),n.d(t,"CycleDescription",(function(){return m})),n.d(t,"CycleResolution",(function(){return p})),n.d(t,"VariableInputState",(function(){return v})),n.d(t,"CycleResolutionInput",(function(){return b})),n.d(t,"WalkState",(function(){return y}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/class/Mixin.js"),o=n("./lib/ChronoGraph/class/RequiredProperty.js"),a=n("./lib/ChronoGraph/collection/Iterator.js"),s=n("./lib/ChronoGraph/environment/Debug.js"),l=n("./lib/ChronoGraph/graph/WalkDepth.js"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};let d=0;const u=d++;class h extends r.Base{constructor(){super(...arguments),this.formulaId=d++,this.inputs=new Set}}class f extends l.WalkContext{collectNext(e,t){if(e instanceof h)t.push({node:e.output,from:e,label:void 0});else{const n=this.cache.formulasByInput.get(e);n&&n.forEach(n=>t.push({node:n,from:e,label:void 0}))}}}class g extends(Object(i.Mixin)([r.Base],e=>class extends e{constructor(){super(...arguments),this.variables=new Set,this.formulas=new Set,this.$formulasByInput=void 0,this.$formulasByOutput=void 0}get formulasByInput(){return void 0!==this.$formulasByInput||this.fillCache(),this.$formulasByInput}get formulasByOutput(){return void 0!==this.$formulasByOutput||this.fillCache(),this.$formulasByOutput}add(e){this.$formulasByInput=void 0,this.$formulasByOutput=void 0,this.formulas.add(e)}has(e){return this.formulas.has(e)}fillCache(){this.$formulasByInput=new Map,this.$formulasByOutput=new Map,this.formulas.forEach(e=>{let t=this.$formulasByOutput.get(e.output);t||(t=new Set,this.$formulasByOutput.set(e.output,t)),t.add(e),e.inputs.forEach(t=>{let n=this.$formulasByInput.get(t);n||(n=new Set,this.$formulasByInput.set(t,n)),n.add(e)})})}allInputVariables(){return Object(a.uniqueOnly)(Object(a.concatIterable)(Object(a.map)(this.formulas,e=>e.inputs.values())))}isCyclic(){let e=!1;return f.new({cache:this,onCycle:()=>(e=!0,l.OnCycleAction.Cancel)}).startFrom(Array.from(this.allInputVariables())),e}})){}class m extends g{}class p extends r.Base{constructor(){super(...arguments),this.description=void 0,this.defaultResolutionFormulas=new Set,this.resolutionsByInputHash=new Map}clear(){this.resolutionsByInputHash.clear()}resolve(e){const t=this.resolutionsByInputHash.get(e.hash);if(void 0!==t)return t;const n=this.buildResolution(e);return this.resolutionsByInputHash.set(e.hash,n),n}buildResolution(e){const t=y.new({context:this,input:e}),n=Array.from(t.next()).map(e=>({resolution:e.asResolution(),nbrOfDefaultFormulas:Array.from(e.activatedFormulas.formulas).reduce((t,n)=>e.formulaIsDefault(n)?t+1:t,0),unCoveredInputWeight:e.unCoveredInputWeight()}));if(n.sort((e,t)=>e.unCoveredInputWeight<t.unCoveredInputWeight?-1:e.unCoveredInputWeight>t.unCoveredInputWeight?1:t.nbrOfDefaultFormulas-e.nbrOfDefaultFormulas),n.length>0)return n[0].resolution}}var v;!function(e){e[e.NoInput=0]="NoInput",e[e.HasPreviousValue=1]="HasPreviousValue",e[e.HasProposedValue=2]="HasProposedValue",e[e.KeepIfPossible=4]="KeepIfPossible"}(v||(v={}));class b extends r.Base{constructor(){super(...arguments),this.context=void 0,this.input=void 0,this.$hash=""}get hash(){return""!==this.$hash?this.$hash:this.$hash=this.buildHash()}get description(){return this.context.description}get resolution(){return this.context.resolve(this)}initialize(...e){super.initialize(...e),Object(o.validateRequiredProperties)(this),this.input=new Map(Object(a.CI)(this.description.variables).map(e=>[e,v.NoInput]))}buildHash(){return String.fromCharCode(...Object(a.CI)(this.description.variables).inBatchesBySize(5).map(e=>this.batchToCharCode(e)))}batchToCharCode(e){return e.reduceRight((e,t,n)=>e|this.input.get(t)<<3*n,0)}addProposedValueFlag(e){if(s.DEBUG){if(!this.description.variables.has(e))throw new Error("Unknown variable");if(""!==this.$hash)throw new Error("Already hashed")}const t=this.input.get(e);this.input.set(e,t|v.HasProposedValue)}hasProposedValue(e){return Boolean(this.input.get(e)&v.HasProposedValue)}hasProposedValueVars(){return Object(a.CI)(this.description.variables).filter(e=>this.hasProposedValue(e))}addPreviousValueFlag(e){if(s.DEBUG){if(!this.description.variables.has(e))throw new Error("Unknown variable");if(""!==this.$hash)throw new Error("Already hashed")}const t=this.input.get(e);this.input.set(e,t|v.HasPreviousValue)}hasPreviousValue(e){return Boolean(this.input.get(e)&v.HasPreviousValue)}hasPreviousValueVars(){return Object(a.CI)(this.description.variables).filter(e=>this.hasPreviousValue(e))}addKeepIfPossibleFlag(e){if(s.DEBUG){if(!this.description.variables.has(e))throw new Error("Unknown variable");if(""!==this.$hash)throw new Error("Already hashed")}const t=this.input.get(e);this.input.set(e,t|v.KeepIfPossible)}keepIfPossible(e){return Boolean(this.input.get(e)&v.KeepIfPossible)}keepIfPossibleVars(){return Object(a.CI)(this.description.variables).filter(e=>this.keepIfPossible(e))}}c([o.required],b.prototype,"context",void 0);class y extends r.Base{constructor(){super(...arguments),this.context=void 0,this.input=void 0,this.previous=void 0,this.activatedFormula=void 0,this.$activatedFormulas=void 0}get activatedFormulas(){if(void 0!==this.$activatedFormulas)return this.$activatedFormulas;const e=g.new({variables:this.description.variables,formulas:Object(a.CI)(this.thisAndPreviousStates()).map(e=>e.activatedFormula).toSet()});return this.$activatedFormulas=e}get description(){return this.context.description}*thisAndPreviousStates(){let e=this;for(;e&&e.activatedFormula;)yield e,e=e.previous}formulaHasProposedValueInInput(e){return Array.from(e.inputs).some(e=>this.input.hasProposedValue(e))}unCoveredInputWeight(){const e=Object(a.map)(this.input.hasProposedValueVars(),e=>({variable:e,isProposed:!0})),t=Object(a.map)(this.input.keepIfPossibleVars(),e=>({variable:e,isProposed:!1}));return Object(a.CI)([e,t]).concat().uniqueOnlyBy(e=>e.variable).reduce((e,{variable:t,isProposed:n})=>{let r=0;const i=this.activatedFormulas.formulasByOutput.get(t);if(i){const e=1===i.size?Array.from(i)[0]:null;e&&this.formulaIsDefault(e)&&this.formulaHasProposedValueInInput(e)?r+=n?1e6:1e4:r+=n?1e7:1e5}const o=this.activatedFormulas.formulasByInput.get(t);return o&&o.size>0||(r+=n?1e3:100),e+r},0)}preferFormula(e,t){const n=this.formulaAllInputsHasProposed(e),r=this.formulaAllInputsHasProposed(t);if(n&&!r)return-1;if(r&&!n)return 1;const i=this.formulaCountInputsWithProposedOrKeep(e),o=this.formulaCountInputsWithProposedOrKeep(t);return i>o?-1:i<o?1:this.formulaIsDefault(e)&&!this.formulaIsDefault(t)?-1:this.formulaIsDefault(t)&&!this.formulaIsDefault(e)?1:0}formulaIsDefault(e){return this.context.defaultResolutionFormulas.has(e)}formulaCountInputsWithProposedOrKeep(e){let t=0;return Array.from(e.inputs).forEach(e=>{(this.input.hasProposedValue(e)||this.input.keepIfPossible(e))&&t++}),t}formulaAllInputsHasProposedOrKeep(e){return Array.from(e.inputs).every(e=>this.input.hasProposedValue(e)||this.input.keepIfPossible(e))}formulaAllInputsHasProposed(e){return Array.from(e.inputs).every(e=>this.input.hasProposedValue(e))}formulaIsApplicable(e){const t=Array.from(e.inputs).every(e=>this.input.hasProposedValue(e)||this.input.hasPreviousValue(e)||this.activatedFormulas.formulasByOutput.has(e)),n=g.new({formulas:new Set(this.activatedFormulas.formulas)});return n.add(e),t&&!n.isCyclic()}formulaIsInsignificant(e){const t=this.activatedFormulas.formulasByOutput.has(e.output),n=this.input.hasPreviousValue(e.output);return t||n&&Array.from(e.inputs).some(e=>!this.input.hasPreviousValue(e)&&!this.input.hasProposedValue(e))}unvisitedFormulas(){return Array.from(this.description.formulas).filter(e=>!this.activatedFormulas.has(e))}*next(){const e=this.unvisitedFormulas();e.sort(this.preferFormula.bind(this));let t=!0;for(const n of e){if(!this.formulaIsApplicable(n)||this.formulaIsInsignificant(n))continue;const e=y.new({previous:this,context:this.context,input:this.input,activatedFormula:n});yield*e.next(),t=!1}t&&(yield this)}asResolution(){return new Map(Object(a.CI)(this.description.variables).map(e=>{const t=this.activatedFormulas.formulasByOutput.get(e);if(t)for(const n of t)return[e,n.formulaId];return[e,u]}))}}},"./lib/ChronoGraph/environment/Debug.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DEBUG",(function(){return a})),n.d(t,"DEBUG_ONLY",(function(){return l})),n.d(t,"debug",(function(){return c})),n.d(t,"warn",(function(){return d})),n.d(t,"StackEntry",(function(){return u})),n.d(t,"SourceLinePoint",(function(){return h}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/collection/Iterator.js"),o=n("./lib/ChronoGraph/util/Helpers.js");const a=!1,s=(...e)=>{},l=e=>a?e:s,c=l(e=>{}),d=l(e=>{"undefined"!==typeof console&&console.warn(e)});class u extends r.Base{}class h extends r.Base{constructor(){super(...arguments),this.stackEntries=[]}static fromError(e){return h.new({exception:e,stackEntries:f(e.stack)})}static fromThisCall(){const e=this.fromError(new Error);return e.stackEntries.splice(0,2),e}}const f=e=>Object(i.CI)(Object(o.matchAll)(/^   +at\s*(.*?)\s*\((https?:\/\/.*?):(\d+):(\d+)/gm,e)).map(e=>u.new({statement:e[1],sourceFile:e[2],sourceLine:Number(e[3]),sourceCharPos:Number(e[4])})).toArray()},"./lib/ChronoGraph/graph/WalkDepth.js":function(e,t,n){"use strict";n.r(t),n.d(t,"OnCycleAction",(function(){return r})),n.d(t,"WalkSource",(function(){return o})),n.d(t,"NOT_VISITED",(function(){return a})),n.d(t,"VISITED_TOPOLOGICALLY",(function(){return s})),n.d(t,"WalkContext",(function(){return l})),n.d(t,"cycleInfo",(function(){return c}));var r,i=n("./lib/ChronoGraph/class/Base.js");!function(e){e.Cancel="Cancel",e.Resume="Resume"}(r||(r={}));const o=Symbol("WalkSource"),a=-1,s=-2;class l extends i.Base{constructor(){super(...arguments),this.visited=new Map,this.toVisit=[],this.currentEpoch=0}startFrom(e){this.continueFrom(e)}continueFrom(e){this.toVisit.push.apply(this.toVisit,e.map(e=>({node:e,from:o,label:void 0}))),this.walkDepth()}onNode(e,t){}onTopologicalNode(e){}onCycle(e,t){return r.Cancel}forEachNext(e,t){throw new Error("Abstract method called")}collectNext(e,t,n){throw new Error("Abstract method called")}getVisitedInfo(e){return this.visited.get(e)}setVisitedInfo(e,t,n){return n?(n.visitedAt=t,n.visitEpoch=this.currentEpoch):(n={visitedAt:t,visitEpoch:this.currentEpoch},this.visited.set(e,n)),n}walkDepth(){this.visited;const e=this.toVisit;let t;for(;t=e.length;){const n=e[t-1].node,i=this.getVisitedInfo(n);if(i&&i.visitedAt===s&&i.visitEpoch===this.currentEpoch)e.pop();else if(i&&i.visitEpoch===this.currentEpoch&&i.visitedAt!==a){if(i.visitedAt<t){if(this.onCycle(n,e)!==r.Resume)break}else i.visitedAt=s,this.onTopologicalNode(n);e.pop()}else{if(!1===this.onNode(n,e[t-1]))break;const r=this.setVisitedInfo(n,t,i),o=e.length;this.collectNext(n,e,r),e.length===o&&(r.visitedAt=s,this.onTopologicalNode(n),e.pop())}}}}function c(e){const t=e.length;if(0===t)return[];const n=e[t-1].node,r=[n];let i=t-1,o=i;for(;i>=0&&e[i].from!==n;){for(;i>=0&&e[i].from===e[o].from;)i--;i>=0&&(r.push(e[i].node),o=i)}return i<0?[]:(r.push(n),r.reverse())}},"./lib/ChronoGraph/primitives/Calculation.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ContextSync",(function(){return i})),n.d(t,"ContextGen",(function(){return o})),n.d(t,"CalculationGen",(function(){return a})),n.d(t,"SynchronousCalculationStarted",(function(){return s})),n.d(t,"CalculationSync",(function(){return c})),n.d(t,"runGeneratorSyncWithEffect",(function(){return d})),n.d(t,"runGeneratorAsyncWithEffect",(function(){return u}));var r=n("./lib/ChronoGraph/class/Mixin.js");const i=Symbol("ContextSync"),o=Symbol("ContextGen");class a extends(Object(r.Mixin)([],e=>class extends e{constructor(){super(...arguments),this.iterator=void 0,this.iterationResult=void 0}isCalculationStarted(){return Boolean(this.iterator||this.iterationResult)}isCalculationCompleted(){return Boolean(this.iterationResult&&this.iterationResult.done)}get result(){return this.iterationResult&&this.iterationResult.done?this.iterationResult.value:void 0}startCalculation(e,...t){const n=this.iterator=this.calculation.call(this.context||this,e,...t);return this.iterationResult=n.next()}continueCalculation(e){return this.iterationResult=this.iterator.next(e)}cleanupCalculation(){this.iterationResult=void 0,this.iterator=void 0}*calculation(e,...t){throw new Error("Abstract method `calculation` called")}runSyncWithEffect(e,...t){for(this.startCalculation(e,...t);!this.isCalculationCompleted();)this.continueCalculation(e(this.iterationResult.value));return this.iterator=void 0,this.result}async runAsyncWithEffect(e,...t){for(this.startCalculation(e,...t);!this.isCalculationCompleted();)this.continueCalculation(await e(this.iterationResult.value));return this.iterator=void 0,this.result}})){}const s=Symbol("SynchronousCalculationStarted"),l={value:s};class c extends(Object(r.Mixin)([],e=>class extends e{constructor(){super(...arguments),this.iterationResult=void 0}isCalculationStarted(){return Boolean(this.iterationResult)}isCalculationCompleted(){return Boolean(this.iterationResult&&this.iterationResult.done)}get result(){return this.iterationResult&&this.iterationResult.done?this.iterationResult.value:void 0}startCalculation(e,...t){return this.iterationResult=l,this.iterationResult={done:!0,value:this.calculation.call(this.context||this,e,...t)}}continueCalculation(e){throw new Error("Can not continue synchronous calculation")}cleanupCalculation(){this.iterationResult=void 0}calculation(e,...t){throw new Error("Abstract method `calculation` called")}runSyncWithEffect(e,...t){return this.startCalculation(e,...t),this.result}async runAsyncWithEffect(e,...t){throw new Error("Can not run synchronous calculation asynchronously")}})){}function d(e,t,n,r){const i=t.apply(r||null,n);let o=i.next();for(;!o.done;)o=i.next(e(o.value));return o.value}async function u(e,t,n,r){const i=t.apply(r||null,n);let o=i.next();for(;!o.done;){const t=e(o.value);o=t instanceof Promise?i.next(await t):i.next(t)}return o.value}},"./lib/ChronoGraph/replica/Entity.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Entity",(function(){return f})),n.d(t,"createEntityOnPrototype",(function(){return g})),n.d(t,"ensureEntityOnPrototype",(function(){return m})),n.d(t,"generic_field",(function(){return p})),n.d(t,"field",(function(){return v})),n.d(t,"calculate",(function(){return b})),n.d(t,"write",(function(){return y})),n.d(t,"build_proposed",(function(){return C}));var r=n("./lib/ChronoGraph/chrono/Graph.js"),i=n("./lib/ChronoGraph/chrono/Identifier.js"),o=n("./lib/ChronoGraph/class/Mixin.js"),a=n("./lib/ChronoGraph/environment/Debug.js"),s=n("./lib/ChronoGraph/primitives/Calculation.js"),l=n("./lib/ChronoGraph/schema/EntityMeta.js"),c=n("./lib/ChronoGraph/schema/Field.js"),d=n("./lib/ChronoGraph/util/Helpers.js"),u=n("./lib/ChronoGraph/replica/Identifier.js");const h=Symbol("isEntity");class f extends(Object(o.Mixin)([],e=>class extends e{[h](){}get $entity(){return g(this.constructor.prototype)}get $(){const e={};if(this.$entity.forEachField((t,n)=>{e[n]=this.createFieldIdentifier(t)}),a.DEBUG){const t=new Proxy(e,{get:(e,t,n)=>(e[t]||Object(a.debug)(new Error(`Attempt to read a missing field ${String(t)} on ${e}`)),e[t].SOURCE_POINT=a.SourceLinePoint.fromThisCall(),e[t])});return Object(d.defineProperty)(this,"$",t)}return Object(d.defineProperty)(this,"$",e)}get $$(){return Object(d.defineProperty)(this,"$$",u.MinimalEntityIdentifier.new({name:this.$entityName,entity:this.$entity,calculation:this.calculateSelf,context:this,self:this}))}get $entityName(){return this.constructor.name||this.$entity.name}*calculateSelf(){return this}createFieldIdentifier(e){const t=e.name,n=this.$entity,r=this.constructor,i=n.$skeleton;i[t]||(i[t]=r.getIdentifierTemplateClass(this,e));const o=new i[t];return o.context=this,o.self=this,o.name=`${this.$$.name}.$.${e.name}`,o}forEachFieldIdentifier(e){this.$entity.forEachField((t,n)=>e(this.$[n],n))}enterGraph(e){if(this.graph)throw new Error("Already entered replica");this.graph=e,e.addIdentifier(this.$$),this.$entity.forEachField((t,n)=>{const r=this.$[n];e.addIdentifier(r,r.DATA),r.DATA=void 0})}leaveGraph(e){const t=this.graph,n=e||t;n&&(this.$entity.forEachField((e,t)=>n.removeIdentifier(this.$[t])),n.removeIdentifier(this.$$),n===t&&(this.graph=void 0))}propagate(e){return this.commit(e)}commit(e){const t=this.graph;return t?t.commit(e):r.CommitZero}async propagateAsync(){return this.commitAsync()}async commitAsync(e){const t=this.graph;return t?t.commitAsync(e):Promise.resolve(r.CommitZero)}static get $entity(){return m(this.prototype)}static getIdentifierTemplateClass(e,t){const n=t.name,r={name:`${e.$$.name}.$.${n}`,field:t};t.hasOwnProperty("sync")&&(r.sync=t.sync),t.hasOwnProperty("lazy")&&(r.lazy=t.lazy),t.hasOwnProperty("equality")&&(r.equality=t.equality);const i=e.$calculations&&e[e.$calculations[n]];i&&(r.calculation=i);const o=e.$writes&&e[e.$writes[n]];o&&(r.write=o);const a=e.$buildProposed&&e[e.$buildProposed[n]];a&&(r.buildProposedValue=a,r.proposedValueIsBuilt=!0);const s=t.getIdentifierClass(i).new(r),l=function(){};return l.prototype=s,l}run(e,...t){return Object(s.runGeneratorSyncWithEffect)(e=>{if(e instanceof i.Identifier)return this.graph.read(e);throw new Error("Helper methods can not yield effects during computation")},this[e],t,this)}static createPropertyAccessorsFor(e){const t=e,n=this.prototype;Object.defineProperty(n,t,{get:function(){return this.$[t].getFromGraph(this.graph)},set:function(e){this.$[t].writeToGraph(this.graph,e)}})}static createMethodAccessorsFor(e){const t=e,n=this.prototype,i="get"+Object(d.uppercaseFirst)(t),o="set"+Object(d.uppercaseFirst)(t),a="put"+Object(d.uppercaseFirst)(t);i in n||(n[i]=function(){return this.$[t].getFromGraph(this.graph)}),o in n||(n[o]=function(e,...n){return this.$[t].writeToGraph(this.graph,e,...n),this.graph?"sync"===this.graph.autoCommitMode?this.graph.commit():this.graph.commitAsync():Promise.resolve(r.CommitZero)}),a in n||(n[a]=function(e,...n){this.$[t].writeToGraph(this.graph,e,...n)})}})){}const g=e=>{let t=Object.getPrototypeOf(e);return Object(d.defineProperty)(e,"$entity",l.EntityMeta.new({parentEntity:t.hasOwnProperty(h)?null:t.$entity,name:e.constructor.name}))},m=e=>(e.hasOwnProperty("$entity")||g(e),e.$entity),p=(e,t=c.Field)=>function(n,r){m(n).addField(t.new(Object.assign(e||{},{name:r})));const i=n.constructor;i.createPropertyAccessorsFor(r),i.createMethodAccessorsFor(r)},v=p,b=function(e){return function(t,n,r){let i;m(t),i=t.$calculations?t.hasOwnProperty("$calculations")?t.$calculations:t.$calculations=Object.create(t.$calculations):t.$calculations={},i[e]=n}},y=function(e){return function(t,n,r){let i;m(t),i=t.$writes?t.hasOwnProperty("$writes")?t.$writes:t.$writes=Object.create(t.$writes):t.$writes={},i[e]=n}},C=function(e){return function(t,n,r){let i;m(t),i=t.$buildProposed?t.hasOwnProperty("$buildProposed")?t.$buildProposed:t.$buildProposed=Object.create(t.$buildProposed):t.$buildProposed={},i[e]=n}}},"./lib/ChronoGraph/replica/Identifier.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FieldIdentifier",(function(){return a})),n.d(t,"MinimalFieldIdentifierSync",(function(){return s})),n.d(t,"MinimalFieldIdentifierGen",(function(){return l})),n.d(t,"MinimalFieldVariable",(function(){return c})),n.d(t,"EntityIdentifier",(function(){return d})),n.d(t,"MinimalEntityIdentifier",(function(){return u}));var r=n("./lib/ChronoGraph/chrono/Identifier.js"),i=n("./lib/ChronoGraph/class/Mixin.js"),o=n("./lib/ChronoGraph/replica/Replica.js");class a extends(Object(i.Mixin)([r.Identifier],e=>class extends e{constructor(){super(...arguments),this.field=void 0,this.self=void 0,this.DATA=void 0}getFromGraph(e){return e?e.readMode===o.ReadMode.Current?e.get(this):e.readMode===o.ReadMode.Previous?e.activeTransaction.readPrevious(this):(e.readMode===o.ReadMode.ProposedOrPrevious&&e.activeTransaction.readProposedOrPrevious(this),e.activeTransaction.readCurrentOrProposedOrPrevious(this)):this.DATA}readFromGraph(e){return e?e.read(this):this.DATA}writeToGraph(e,t,...n){e?e.write(this,t,...n):this.DATA=t}leaveGraph(e){const t=e.activeTransaction.getLatestStableEntryFor(this);t&&(this.DATA=t.getValue()),super.leaveGraph(e)}toString(){return this.name}})){}class s extends(a.mix(r.CalculatedValueSync)){}class l extends(a.mix(r.CalculatedValueGen)){}class c extends(a.mix(r.Variable)){}class d extends(Object(i.Mixin)([r.Identifier],e=>class extends e{constructor(){super(...arguments),this.entity=void 0,this.self=void 0}equality(){return!1}toString(){return`Entity identifier [${this.self}]`}})){}class u extends(d.mix(r.CalculatedValueGen)){}},"./lib/ChronoGraph/replica/Reference.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ReferenceField",(function(){return d})),n.d(t,"reference",(function(){return u})),n.d(t,"ReferenceIdentifier",(function(){return h})),n.d(t,"MinimalReferenceIdentifier",(function(){return f}));var r=n("./lib/ChronoGraph/chrono/Identifier.js"),i=n("./lib/ChronoGraph/class/Mixin.js"),o=n("./lib/ChronoGraph/schema/Field.js"),a=n("./lib/ChronoGraph/util/Helpers.js"),s=n("./lib/ChronoGraph/replica/Entity.js"),l=n("./lib/ChronoGraph/replica/Identifier.js"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class d extends(Object(i.Mixin)([o.Field],e=>class extends e{constructor(){super(...arguments),this.identifierCls=f}})){}const u=(e,t=d)=>Object(s.generic_field)(e,t);class h extends(Object(i.Mixin)([l.FieldIdentifier],e=>{class t extends e{constructor(){super(...arguments),this.field=void 0,this.proposedValueIsBuilt=!0}hasBucket(){return Boolean(this.field.bucket)}getBucket(e){return e.$[this.field.bucket]}buildProposedValue(e,t,n){const r=t.proposedValue;if(null===r)return null;const o=Object(i.isInstanceOf)(r,s.Entity)?r:e.resolve(r);return o&&e.hasBucket()&&e.getBucket(o).addToBucket(n,e.self),o}resolve(e){const t=this.field.resolver;return t?t.call(this.self,e):null}enterGraph(e){if(this.hasBucket()){const t=e.activeTransaction.readProposedOrPrevious(this);t instanceof s.Entity&&this.getBucket(t).addToBucket(e.activeTransaction,this.self)}super.enterGraph(e)}leaveGraph(e){if(this.hasBucket()){const t=e.activeTransaction.readProposedOrPrevious(this);t instanceof s.Entity&&this.getBucket(t).removeFromBucket(e.activeTransaction,this.self)}super.leaveGraph(e)}write(e,t,n,r){const i=n||t.acquireQuarkIfExists(e);if(e.hasBucket())if(i){const n=i.getValue();n instanceof s.Entity&&e.getBucket(n).removeFromBucket(t,e.self)}else if(t.baseRevision.hasIdentifier(e)){const n=t.readPrevious(e);n instanceof s.Entity&&e.getBucket(n).removeFromBucket(t,e.self)}super.write(e,t,n,r)}}return c([Object(a.prototypeValue)(r.Levels.DependsOnlyOnUserInput)],t.prototype,"level",void 0),c([Object(a.prototypeValue)(r.QuarkSync)],t.prototype,"quarkClass",void 0),t})){}class f extends(h.mix(l.FieldIdentifier.mix(r.CalculatedValueSync))){}},"./lib/ChronoGraph/replica/ReferenceBucket.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ReferenceBucketField",(function(){return u})),n.d(t,"bucket",(function(){return h})),n.d(t,"ReferenceBucketQuark",(function(){return g})),n.d(t,"MinimalReferenceBucketQuark",(function(){return m})),n.d(t,"ReferenceBucketIdentifier",(function(){return p})),n.d(t,"MinimalReferenceBucketIdentifier",(function(){return v}));var r=n("./lib/ChronoGraph/chrono/Identifier.js"),i=n("./lib/ChronoGraph/chrono/Quark.js"),o=n("./lib/ChronoGraph/class/Mixin.js"),a=n("./lib/ChronoGraph/schema/Field.js"),s=n("./lib/ChronoGraph/util/Helpers.js"),l=n("./lib/ChronoGraph/replica/Entity.js"),c=n("./lib/ChronoGraph/replica/Identifier.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(o.Mixin)([a.Field],e=>class extends e{constructor(){super(...arguments),this.persistent=!1,this.identifierCls=v}})){}const h=(e,t=u)=>Object(l.generic_field)(e,t);var f;!function(e){e.Add="Add",e.Remove="Remove"}(f||(f={}));class g extends(Object(o.Mixin)([i.Quark],e=>class extends e{constructor(){super(...arguments),this.mutations=[],this.previousValue=void 0}hasProposedValueInner(){return this.mutations.length>0}})){}const m=g.mix(r.QuarkSync);class p extends(Object(o.Mixin)([c.FieldIdentifier],e=>{class t extends e{constructor(){super(...arguments),this.proposedValueIsBuilt=!0}addToBucket(e,t){const n=e.getWriteTarget(this);n.mutations.push({type:f.Add,entity:t});const r=e.baseRevision;!n.previousValue&&r.hasIdentifier(this)&&(n.previousValue=e.readPrevious(this))}removeFromBucket(e,t){const n=e.entries.get(this);if(n&&n.getValue()===i.TombStone)return;const r=e.getWriteTarget(this);r.mutations.push({type:f.Remove,entity:t});const o=e.baseRevision;!r.previousValue&&o.hasIdentifier(this)&&(r.previousValue=e.readPrevious(this))}buildProposedValue(e,t,n){const r=t,i=new Set(r.previousValue);for(let o=0;o<r.mutations.length;o++){const{type:e,entity:t}=r.mutations[o];e===f.Remove?i.delete(t):e===f.Add&&i.add(t)}return i}leaveGraph(e){super.leaveGraph(e),this.DATA=void 0}}return d([Object(s.prototypeValue)(r.Levels.DependsOnlyOnDependsOnlyOnUserInput)],t.prototype,"level",void 0),d([Object(s.prototypeValue)(m)],t.prototype,"quarkClass",void 0),t})){}class v extends(p.mix(c.FieldIdentifier.mix(r.CalculatedValueSync))){}},"./lib/ChronoGraph/replica/Replica.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ReadMode",(function(){return r})),n.d(t,"Replica",(function(){return a}));var r,i=n("./lib/ChronoGraph/chrono/Graph.js"),o=n("./lib/ChronoGraph/class/Mixin.js");!function(e){e[e.Current=0]="Current",e[e.Previous=1]="Previous",e[e.ProposedOrPrevious=2]="ProposedOrPrevious",e[e.CurrentOrProposedOrPrevious=3]="CurrentOrProposedOrPrevious"}(r||(r={}));class a extends(Object(o.Mixin)([i.ChronoGraph],e=>class extends e{constructor(){super(...arguments),this.autoCommit=!0,this.readMode=r.Current}addEntity(e){e.enterGraph(this)}addEntities(e){e.forEach(e=>this.addEntity(e))}removeEntity(e){e.leaveGraph(this)}removeEntities(e){e.forEach(e=>this.removeEntity(e))}})){}},"./lib/ChronoGraph/schema/EntityMeta.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EntityMeta",(function(){return i}));var r=n("./lib/ChronoGraph/class/Base.js");class i extends r.Base{constructor(){super(...arguments),this.name=void 0,this.ownFields=new Map,this.schema=void 0,this.$skeleton={},this.$allFields=void 0}hasField(e){return void 0!==this.getField(e)}getField(e){return this.allFields.get(e)}addField(e){const t=e.name;if(!t)throw new Error("Field must have a name");if(this.ownFields.has(t))throw new Error(`Field with name [${t}] already exists`);return e.entity=this,this.ownFields.set(t,e),e}forEachParent(e){let t=this;for(;t;)e(t),t=t.parentEntity}get allFields(){if(void 0!==this.$allFields)return this.$allFields;const e=new Map,t=new Set;return this.forEachParent(n=>{n.ownFields.forEach((n,r)=>{t.has(r)||(t.add(r),e.set(r,n))})}),this.$allFields=e}forEachField(e){this.allFields.forEach(e)}}},"./lib/ChronoGraph/schema/Field.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Field",(function(){return a}));var r=n("./lib/ChronoGraph/chrono/Identifier.js"),i=n("./lib/ChronoGraph/replica/Identifier.js"),o=n("./lib/ChronoGraph/util/Helpers.js");class a extends r.Meta{constructor(){super(...arguments),this.persistent=!0}getIdentifierClass(e){return this.identifierCls?this.identifierCls:e?Object(o.isGeneratorFunction)(e)?i.MinimalFieldIdentifierGen:i.MinimalFieldIdentifierSync:i.MinimalFieldVariable}}},"./lib/ChronoGraph/schema/Schema.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Schema",(function(){return o})),n.d(t,"entityDecoratorBody",(function(){return a})),n.d(t,"entity",(function(){return s}));var r=n("./lib/ChronoGraph/class/Base.js"),i=n("./lib/ChronoGraph/replica/Entity.js");class o extends r.Base{constructor(){super(...arguments),this.entities=new Map}hasEntity(e){return this.entities.has(e)}getEntity(e){return this.entities.get(e)}addEntity(e){const t=e.name;if(!t)throw new Error("Entity must have a name");if(this.hasEntity(t))throw new Error(`Entity with name [${String(t)}] already exists`);return e.schema=this,this.entities.set(t,e),e}getEntityDecorator(){return e=>{const t=a(e);return this.addEntity(t),e}}}const a=e=>{if(!e.name)throw new Error("Can't add entity - the target class has no name");return Object(i.ensureEntityOnPrototype)(e.prototype)},s=()=>e=>(a(e),e)},"./lib/ChronoGraph/util/Helpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MIN_SMI",(function(){return o})),n.d(t,"MAX_SMI",(function(){return a})),n.d(t,"uppercaseFirst",(function(){return s})),n.d(t,"isAtomicValue",(function(){return l})),n.d(t,"typeOf",(function(){return c})),n.d(t,"defineProperty",(function(){return d})),n.d(t,"prototypeValue",(function(){return u})),n.d(t,"copyMapInto",(function(){return h})),n.d(t,"copySetInto",(function(){return f})),n.d(t,"delay",(function(){return g})),n.d(t,"matchAll",(function(){return m})),n.d(t,"allMatches",(function(){return p})),n.d(t,"isGeneratorFunction",(function(){return b}));var r=n("./lib/ChronoGraph/collection/Iterator.js");const o=-Math.pow(2,30),a=Math.pow(2,30)-1,s=e=>e.slice(0,1).toUpperCase()+e.slice(1),l=e=>Object(e)!==e,c=e=>Object.prototype.toString.call(e).slice(8,-1),d=(e,t,n)=>(Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n),u=e=>function(t,n){t[n]=e},h=(e,t)=>{for(const[n,r]of e)t.set(n,r);return t},f=(e,t)=>{for(const n of e)t.add(n);return t},g=e=>new Promise(t=>setTimeout(t,e)),m=function*(e,t){let n;for(;null!==(n=e.exec(t));)yield n},p=function(e,t){return Object(r.CI)(m(e,t)).map(e=>Object(r.CI)(e).drop(1)).concat().toArray()};let v=null;const b=function(e){return null===v&&(v="undefined"!==typeof i),!0===v?i.isGeneratorFunction(e):"GeneratorFunction"===e.constructor.name}},"./lib/ChronoGraph/util/LeveledQueue.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LeveledQueue",(function(){return i}));var r=n("./lib/ChronoGraph/util/Helpers.js");class i{constructor(){this.length=0,this.levels=[],this.lowestLevel=r.MAX_SMI}getLowestLevel(){for(let e=this.lowestLevel!==r.MAX_SMI?this.lowestLevel:0;e<this.levels.length;e++)if(this.levels[e])return this.lowestLevel=e;return this.lowestLevel=r.MAX_SMI}takeLowestLevel(){for(let e=this.lowestLevel!==r.MAX_SMI?this.lowestLevel:0;e<this.levels.length;e++){const t=this.levels[e];if(t)return this.length-=t.length,this.levels[e]=null,this.lowestLevel=e+1,t}}pop(){for(let e=this.lowestLevel!==r.MAX_SMI?this.lowestLevel:0;e<this.levels.length;e++){const t=this.levels[e];if(this.lowestLevel=e,t&&t.length>0)return this.length--,t.pop()}this.lowestLevel=r.MAX_SMI}push(e){const t=e.level;let n=this.levels[t];if(!n){for(let e=this.levels.length;e<t;e++)this.levels[e]=null;n=this.levels[t]=[]}n.push(e),this.length++,t<this.lowestLevel&&(this.lowestLevel=t)}*[Symbol.iterator](){for(let e=0;e<this.levels.length;e++){const t=this.levels[e];t&&(yield*t)}}}},"./lib/Core/Base.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n("./lib/Core/helper/util/Objects.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/helper/VersionHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Core/Config.js");class l{constructor(e){e&&Object.assign(this,e)}getInherited(e,t=!0){let n=this[e];var r;return e in this||(n=null===(r=this.super)||void 0===r?void 0:r.getInherited(e,t),(n||t)&&(this[e]=n=Object.create(n||null))),n}}const{getPrototypeOf:c}=Object,{defineProperty:d}=Reflect,{hasOwnProperty:u}=Object.prototype,h=Symbol("classMetaData"),f=Symbol("mixinTag"),g=Symbol("originalConfig"),m=(Symbol("createdAt"),s.default.symbols.configuring),p=s.default.symbols.instanceProperties,v=s.default.symbols.lazyConfigs,b={merge:"replace",simple:!0},y=()=>{},C=e=>new l(e),S={};class w{static get isBase(){return!0}get isBase(){return!0}static get declarable(){return["declarable","configurable","defaultConfig","properties","prototypeProperties"]}constructor(...e){const t=this.constructor;this.$meta.class!==t&&t.$meta,this.construct(...e),this.afterConstruct()}static new(...e){return new this(r.default.merge({},...e))}construct(...e){null!==e[0]&&this.configure(...e),this.afterConfigure()}static destroy(...e){const t=e=>{null!==e&&void 0!==e&&e.destroy?e.destroy():Array.isArray(e)&&e.forEach(t)};t(e)}destroy(){const e=this,{id:t}=e;e.isDestroying=!0,e.destroy=y,e.doDestroy(),Object.setPrototypeOf(e,null);for(const n in e)"destroy"!==n&&"isDestroying"!==n&&delete e[n];delete e[g],e.isDestroyed=!0,e.id=t}_thisIsAUsedExpression(e){}static get $$name(){return u.call(this,"$name")&&this.$name||u.call(this,"_$name")&&this._$name||this.name}get $$name(){return this.constructor.$$name}startConfigure(e){}finishConfigure(e){}afterConfigure(){}afterConstruct(){}callback(e,t,n){"this"===t&&(t=this);const{handler:r,thisObj:i}=this.resolveCallback(e,t);return n?r.apply(i,n):r.call(i)}resolveProperty(e){let t=this;for(;t;){if(r.default.hasPath(t,e))return r.default.getPath(t,e);t=t.owner}}resolveCallback(e,t=this,n=!0){if(e.substr){if(e.startsWith("up.")){for(e=e.substr(3),t=this.owner;t&&!t[e];t=t.owner);if(!t)return}else e.startsWith("this.")&&(e=e.substr(5),t=this);if(!t||!(t instanceof Object))return;if("function"!==typeof t[e])return;e=t[e]}return{handler:e,thisObj:t}}bindCallback(e,t=this){if(e){const{handler:n,thisObj:r}=this.resolveCallback(e,t);if(n)return n.bind(r)}}delay(e,t){e=this.setTimeout?e:e.bind(this),(this.setTimeout?this:a.default.global)["number"===typeof t?"setTimeout":"requestAnimationFrame"](e,t)}doDestroy(){const e=this,{nullify:t}=e.$meta;if(t)for(let n=0;n<t.length;++n)null!=e[t[n].field]&&(e[t[n].name]=null)}destroyProperties(...e){const t=this;let n,r;for(n of e)!(n in t)||t[m]&&t[m][n]||(r=t[n],r&&r.destroy&&r.destroy(),delete t[n])}configure(e={}){const t=this,{beforeConfigure:n}=e,r=t.$meta.configs,i=t.getDefaultConfiguration();let o,a,s;for(a in t.initialConfig=e,t.isConfiguring=!0,Object.assign(t,t.getProperties()),e)s=e[a],o=r[a],i[a]=o?o.merge(s,i[a],null):s;n&&(delete i.beforeConfigure,n(t,i)),t.setConfig(t[g]=i,!0),t.isConfiguring=!1}getConfig(e){return this[e]}setConfig(e,t){const n=this,r=n[m],i=r?n.configDone:n.configDone={},o=n.$meta.configs;let a,l;for(l in n[p]={},n[m]=r?Object.setPrototypeOf(Object.assign({},e),r):e,e)null!=e[l]||u.call(e,l)?(a=o[l]||s.default.get(l),a.defineInitter(n,e[l]),t?a.lazy&&(i[l]=!0):i[l]=!1):i[l]=!0;for(l in t&&n.startConfigure(e),e)i[l]||(n[l]=e[l]);return r?n[m]=r:delete n[m],t&&n.finishConfigure(e),n}hasConfig(e){const t=this[v],n=this[m],r=null!=this["_"+e],i=null!=(null===t||void 0===t?void 0:t[e]),o=Boolean(!this.configDone[e]&&n&&(null!=n[e]||u.call(n,e)));return r||i||o}triggerConfig(e){const{configDone:t}=this,n=this[m],r=n&&(null!=n[e]||u.call(n,e))?!t[e]:null;return r&&this.getConfig(e),r}onConfigChange(){}get config(){const e={},t=this[g];for(const n in t)e[n]=t[n];return e}static initClass(){return this.$meta.class}static get $meta(){const e=this;let t=e[h];return u.call(e,h)||(e[h]=t=C(),t.class=e,e.setupClass(t)),t}static onClassMixedIn(){}static mergeConfigs(e,...t){const n=this.$meta.configs,i=r.default.clone(e)||{};let o,a,l,c;for(a=0;a<t.length;++a)if(o=t[a],o)for(l in o)c=o[l],n[l]?c=n[l].merge(c,i[l]):i[l]&&c&&(c=s.default.merge(c,i[l])),i[l]=c;return i}static mixin(...e){let t,n=this;for(t=0;t<e.length;++t){const r=e[t],i=r[f]||(r[f]=Symbol("mixinTag"));n[i]||(n=r(n),n[i]=!0,u.call(n,"onClassMixedIn")&&n.onClassMixedIn())}return n}static setupClass(e){var t;const n=e.class,r=c(n).$meta,o=n.$$name,a=r.names,s=n.prototype;if(d(s,"$meta",{value:e}),Object.assign(e,{super:r,config:Object.create(r.config),configs:Object.create(r.configs),declarables:r.declarables,forkConfigs:r.forkConfigs,hierarchy:Object.freeze([...r.hierarchy,n]),names:a.includes(o)?a:Object.freeze([...a,o]),properties:r.properties,nullify:null===(t=r.nullify)||void 0===t?void 0:t.slice()}),a!==e.names){const e="is"+o;u.call(s,e)||d(s,e,{value:!0}),u.call(n,e)||d(n,e,{value:!0})}for(let l,c,d=0;d<e.declarables.length;++d)l=e.declarables[d],u.call(n,l)&&(c=S[l]||(S[l]="setup"+i.default.capitalize(l)),n[c](n,e))}static setupConfigs(e,t,n){const i=e.config,o=e.configs,a=e.class.prototype;let l,c,u,h,{nullify:f}=e;for(const g in t)u=t[g],n?(l=o[g])?u=l.merge(u,i[g],e):l=s.default.get(g,b):(c=null,u&&"object"===typeof u&&"$config"in u&&(c=u.$config,c&&!r.default.isObject(c)&&(c=r.default.createTruthyKeys(c)),"default"in u&&d(a,s.default.get(g).field,{configurable:!0,writable:!0,value:u.default}),u=u.value),(l=o[g])?(h=l.nullify,c&&(l=l.extend(c)),u=l.merge(u,i[g],e)):(l=s.default.get(g,c),l.define(e.class.prototype),h=!1),l.nullify&&!h&&(f||(f=e.nullify||(e.nullify=[]))).push(l)),u&&(r.default.isObject(u)||Array.isArray(u))&&!Object.isFrozen(u)&&(e.forkConfigs=!0),o[g]=l,i[g]=u}static setupConfigurable(e,t){e.setupConfigs(t,e.configurable,!1)}static setupDefaultConfig(e,t){e.setupConfigs(t,e.defaultConfig,!0)}static setupDeclarable(e,t){const n=e.declarable;let r,i,o=t.declarables;for(i=0;i<n.length;++i)o.includes(n[i])||(r||(t.declarables=r=o=o.slice()),o.push(n[i]))}static setupProperties(e,t){t.properties=t.super.properties.slice(),t.properties.push(e),Object.freeze(t.properties)}static setupPrototypeProperties(e){Object.assign(e.prototype,e.prototypeProperties)}getDefaultConfiguration(){return this.constructor.getDefaultConfiguration()}static getDefaultConfiguration(){const e=this.$meta,t=e.forkConfigs?w.fork(e.config):Object.create(e.config);if(o.default.isTestEnv&&a.default.isBrowserEnv&&t.testConfig&&a.default.global.__applyTestConfigs)for(const n in t.testConfig)t[n]=t.testConfig[n];return t}static fork(e){let t,n,i=e;if(e&&r.default.isObject(e)&&!Object.isFrozen(e))for(t in i=Object.create(e),e)n=e[t],n&&(r.default.isObject(n)?i[t]=w.fork(n):Array.isArray(n)&&(i[t]=n.slice()));return i}getProperties(){const e=this.$meta.properties,t={};for(let n=0;n<e.length;n++)Object.assign(t,e[n].properties);return t}static get superclass(){return c(this)}classHierarchy(e){const t=this.$meta.hierarchy,n=e?t.indexOf(e):0;return n>0?t.slice(n):t}static isOfTypeName(e){return this.$meta.names.includes(e)}detachListeners(e){let t=this.$detachers;if(t=t&&t[e],t)for(;t.length;)t.pop()()}trackDetacher(e,t){const n=this.$detachers||(this.$detachers={});(n[e]||(n[e]=[])).push(t)}untrackDetachers(e){const t=this.$detachers;if(t)for(const n in t){const r=t[n];for(let t=r.length;t-- >0;)r[t].eventer===e&&r.splice(t,1)}}}const E=w.prototype;E.onConfigChange.$nullFn=!0,w[h]=E.$meta=C({class:w,config:Object.freeze({}),configs:Object.create(null),declarables:w.declarable,forkConfigs:!1,hierarchy:Object.freeze([w]),names:Object.freeze(["Base"]),nullify:null,properties:Object.freeze([]),super:null}),Object.assign(E,{$detachers:null,configObserver:null,isDestroyed:!1,isDestroying:!1}),o.default.setVersion("core","4.1.4"),w._$name="Base"},"./lib/Core/Config.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/helper/util/Objects.js");const{defineProperty:i,getOwnPropertyDescriptor:o}=Reflect,{hasOwnProperty:a,toString:s}=Object.prototype,l=Symbol("instanceProperties"),c=Symbol("configuring"),d=Symbol("lazyConfigValues"),u=s.call(new Date),h=/\s+/,f=(e,t)=>(e[t]=1,e);class g{static get(e,t){const{cache:n}=this,r=n[e]||(n[e]=new g(e));let i,o=r;return t&&(i=g.makeCacheKey(e,t),(o=i&&n[i])||(o=r.extend(t),i&&(n[i]=o))),o}constructor(e){const t=this,n=e[0].toUpperCase()+e.substr(1);t.base=t,t.name=e,t.field="_"+e,t.capName=n,t.changer="change"+n,t.initializing="initializing"+n,t.updater="update"+n}get descriptor(){let e=this._descriptor;return e&&a.call(this,"_descriptor")||(this._descriptor=e=this.makeDescriptor()),e}get initDescriptor(){let e=this._initDescriptor;return e&&a.call(this,"_initDescriptor")||(this._initDescriptor=e=this.makeInitter()),e}equal(e,t){return e===t}extend(e){const t=Object.assign(Object.create(this),e),{equal:n,merge:r}=e,{equalityMethods:i}=g;return"string"===typeof n&&(n.endsWith("[]")?t.equal=g.makeArrayEquals(i[n.substr(0,n.length-2)]):t.equal=i[n]),"string"===typeof r&&(t.merge=g.mergeMethods[r]),t}define(e){const t=o(e,this.name);let n=this.descriptor;t&&t.get&&(n=Object.assign({},n),n.get=t.get),i(e,this.name,n)}defineInitter(e,t){const{name:n}=this,r=e[l];let a,s;r[n]||!(s=o(e,n))||"value"in s||(r[n]=s),i(e,n,this.initDescriptor),this.lazy&&(a=e[d]||(e[d]={$counter_:0}),a[n]=t,++a.$counter_)}static makeArrayEquals(e){return(t,n)=>{let r,i=t&&n&&t.length===(r=n.length);if(i&&Array.isArray(t)&&Array.isArray(n))if(e)for(;i&&r-- >0;)i=e(t[r],n[r]);else for(;i&&r-- >0;)i=t[r]===n[r];else i=e?e(t,n):t===n;return i}}static makeCacheKey(e,t){const n=Object.keys(t).sort();for(let r,i,o,a=n.length;a-- >0;)if(o=t[r=n[a]],null==o&&!1===o)n.splice(a,1);else{if(i=typeof o,"function"===i)return null;"string"===i?n[a]=`${r}:"${o}"`:"number"===i&&(n[a]=`${r}:${o}`)}return n.length?`${e}>${n.join("|")}`:e}makeDescriptor(){const e=this,{base:t,field:n,changer:r,updater:i,name:o}=e;return t!==e&&t.equal===e.equal?t.descriptor:{get(){var e;return null===(e=this.configObserver)||void 0===e||e.get(o,this),this[n]},set(t){const a=this;let s,l,c=a[n];if("string"===typeof t&&t.startsWith("up.")){var d;const e=null===(d=a.owner)||void 0===d?void 0:d.resolveProperty(t.substr(3));"function"!==typeof e&&(t=e)}a[r]&&(s=void 0===(l=a[r](t,c)),s||(t=l,c=a[n])),s||(e.equal===p?c===t:e.equal(c,t))||(a[n]=t,s=!0,a[i]&&a[i](t,c)),s&&!a.onConfigChange.$nullFn&&a.onConfigChange({name:o,value:t,was:c,config:e})}}}makeInitter(){const e=this;return e!==e.base?e.lazy?e.makeLazyInitter():e.base.initDescriptor:e.makeBasicInitter()}makeBasicInitter(){const e=this,{initializing:t,name:n}=e;return{configurable:!0,get(){const r=this;return e.removeInitter(r),r[t]=!0,r[n]=r[c][n],r[t]=!1,r.configDone[n]=!0,r[n]},set(t){e.removeInitter(this),this.configDone[n]=!0,this[n]=t}}}makeLazyInitter(){const e=this,{initializing:t,name:n}=e;return{configurable:!0,get(){const r=this,i=r[d][n];return e.removeInitter(r),r[t]=!0,r[n]=i,r[t]=!1,r[n]},set(t){e.removeInitter(this),this[n]=t}}}removeInitter(e){const{name:t}=this,n=e[l][t];n?i(e,t,n):delete e[t],this.lazy&&(--e[d].$counter_||delete e[d])}merge(e,t){return t&&e&&r.default.isObject(t)&&r.default.isObject(e)&&(e=r.default.merge(r.default.clone(t),e)),e}}const{prototype:m}=g,{equal:p}=m;g.symbols={configuring:c,instanceProperties:l,lazyConfigs:d},g.cache=Object.create(null),g.equalityMethods={array:g.makeArrayEquals(),date:(e,t)=>e===t||!(!e||!t||s.call(e)!==u||s.call(t)!==u)&&e.getTime()===t.getTime(),strict:g.equal=p},g.mergeMethods={distinct(e,t){let n=t?t.slice():[];if(null!=e)if(r.default.isObject(e))if(void 0===t)n=e;else{let t,r;for(t in e)r=n.indexOf(t),e[t]?r<0&&n.push(t):r>-1&&n.splice(r,1)}else Array.isArray(e)?e.forEach(e=>!n.includes(e)&&n.push(e)):n.includes(e)||n.push(e);return n},merge:g.merge=m.merge,classList(e,t){if("string"===typeof e){if(!e.length)return t;e=e.split(h).reduce(f,{})}return g.merge(e,t)},objects:(e,t)=>!0===e?t||{}:g.merge(e,t),replace:e=>e},Object.assign(m,{_descriptor:null,_initDescriptor:null,lazy:!1,nullify:!1,render:!1}),g._$name="Config"},"./lib/Core/GlobalEvents.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/helper/DomHelper.js");const a=(window.bryntum||(window.bryntum={})).GlobalEvents=new class extends(r.default.mixin(i.default)){suspendFocusEvents(){u=!0}resumeFocusEvents(){u=!1}setupFocusListeners(e=document,t,n=!1){const r={element:e,touchstart(e){l=l||1!==e.changedTouches.length?null:e.changedTouches[0]},touchend:{handler:e=>{l&&(l.identifier===t.contextMenuTouchId?(e.stopImmediatePropagation(),e.preventDefault()):1===e.changedTouches.length&&e.changedTouches[0].identifier===l.identifier&&a.trigger("globaltap",{event:e}),l=null)},passive:!1},mousedown:{handler:e=>{c="mouse",l||a.trigger("globaltap",{event:e})},passive:!1},keydown(){c="key"},keypress(){c="key"},focusin(e){if(a.Widget.resetFloatRootScroll(),u)return;const t=e.relatedTarget?e.relatedTarget instanceof HTMLElement?e.relatedTarget:document.body:null,n=e.target||document.body,r=a.Widget.fromElement(t),i=a.Widget.fromElement(n),l=o.default.getCommonAncestor(r,i),c=!!(t&&4&n.compareDocumentPosition(t)),d=a.Widget.query(s);let f=null;if(f=n&&n!==document.body?o.default.getActiveElement(n):o.default.getActiveElement(document),d&&(!i||!d.owns(i)))return void d.focus();let g=h("focusout",t,e.target,r,i,c);for(let a=r;a&&a!==l;a=a.owner)if(!a.isDestroying&&a.onFocusOut&&(a.onFocusOut(g),e.target&&f!==o.default.getActiveElement(e.target)))return;if(l&&e.target===l.element)!l.isDestroying&&o.default.getActiveElement(l)===n&&l.focusElement&&l.focusElement!==l.element&&l.setTimeout(()=>l.focus&&l.focus(),0);else{g=h("focusin",n,t,r,i,c);for(let e=i;e&&e!==l;e=e.owner)e.isDestroying||e.onFocusIn&&e.onFocusIn(g)}const m=o.default.getCommonAncestor(t&&t.nodeType===t.ELEMENT_NODE?t:null,n)||n.parentNode;g=h("focusmove",n,t,r,i,c,{bubbles:!0}),m.dispatchEvent(g)},focusout(e){if(!u&&(!e.relatedTarget||!a.Widget.fromElement(e.relatedTarget))){const t=e.relatedTarget&&e.relatedTarget instanceof HTMLElement?e.relatedTarget:null;r.focusin({target:t,relatedTarget:e.target})}},capture:!0,passive:!0};n&&d&&d(),d=t.on(r)}get lastInteractionType(){return c}},s=e=>e.isVisible&&e.isTopModal;let l,c,d,u=!1;function h(e,t,n,r,i,o,a){const s=new CustomEvent(e,a);return Object.defineProperty(s,"_target",{get:()=>t}),Object.defineProperty(s,"relatedTarget",{get:()=>n}),s.fromWidget=r,s.toWidget=i,s.backwards=o,s}t.default=a},"./lib/Core/customElements/WidgetTag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Core/helper/DomHelper.js");class o extends(window.customElements?HTMLElement:Object){connectedCallback(){this.setup()}async setup(){const e=this;if(e.shadowRoot)return;let t,n;const o=e.tagName.substring("BRYNTUM-".length).toLowerCase(),a=(!r.default.isChrome||!document.fonts.check('normal 14px "Font Awesome 5 Free"'))&&e.getAttribute("fa-path"),s=document.getElementById("bryntum-theme"),l=e.getAttribute("theme")||"stockholm",c=e.getAttribute("stylesheet")||(null===s||void 0===s?void 0:s.href)||`${o}.${l}.css`,d=e.attachShadow({mode:"open"}),u=e.linkTag=i.default.createElement({tag:"link",rel:"stylesheet",href:c,parent:d}),h=[new Promise(e=>{t=e})],f={appendTo:d,features:{}};for(const r in e.dataset){let t=e.dataset[r];switch(t){case"true":case"false":case"null":t=JSON.parse(t)}f[r]=t}u.onload=()=>t(),a&&(n=new FontFace(r.default.isFirefox?"FontAwesome5Free":"Font Awesome 5 Free",`url("${a}/fa-solid-900.woff2")`),h.push(n.load())),await Promise.all(h),n&&document.fonts.add(n);for(const r of e.children)if("FEATURE"===r.tagName){const e=r.dataset.name,t=Object.assign({},r.dataset);delete t.name,Object.keys(t).length?f.features[e]=t:f.features[e]="false"!==r.textContent}e.widget=e.createInstance(f)}destroy(){var e,t;const n=this;if(!n.widget)return;const{shadowRoot:r}=n,i=r.bryntum,o=n.widget.constructor,a=r.querySelector(".b-float-root");null===i||void 0===i||null===(e=i.tooltip)||void 0===e||e.destroy(),null===i||void 0===i||null===(t=i.errorTooltip)||void 0===t||t.destroy(),n.widget.destroy(),null===a||void 0===a||a.remove(),o.removeFloatRoot(a),n.linkTag.remove(),n.widget=null}}o._$name="WidgetTag"},"./lib/Core/data/AjaxStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/Store.js"),i=n("./lib/Core/helper/AjaxHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js");const a=(e,t)=>(Array.isArray(t[1])?t[1].forEach(n=>e.push(encodeURIComponent(t[0])+"="+encodeURIComponent(n))):e.push(encodeURIComponent(t[0])+"="+encodeURIComponent(t[1])),e),s=Promise.resolve();class l extends r.default{static get defaultConfig(){return{headers:null,fetchOptions:null,sendAsFormData:!1,writeAllFields:null,parentIdParamName:"id",responseSuccessProperty:"success",responseDataProperty:"data",responseTotalProperty:"total",filterParamName:null,restfulFilter:!1,sortParamName:null,pageParamName:null,pageStartParamName:null,pageSizeParamName:"pageSize",pageSize:50,useRestfulMethods:!1,httpMethods:{create:"POST",read:"GET",update:"PUT",delete:"DELETE"}}}static get configurable(){return{params:null}}afterConstruct(e){super.afterConstruct(e),this.autoLoad&&this.load().catch(()=>{})}get isLoading(){return this._isLoading}get isCommitting(){return Boolean(this.commitPromise)}set pageParamName(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageStartParamName)throw new Error("Configs pageStartParamName and pageParamName are mutually exclusive");this._pageParamName=e}get pageParamName(){return this._pageParamName}set pageStartParamName(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageParamName)throw new Error("Configs pageParamName and pageStartParamName are mutually exclusive");this._pageStartParamName=e}get pageStartParamName(){return this._pageStartParamName}get isPaged(){return this.pageParamName||this.pageStartParamName}get allCount(){return"remoteTotal"in this?this.remoteTotal:super.allCount}get lastPage(){if(this.isPaged)return Math.floor((this.allCount+this.pageSize-1)/this.pageSize)}buildQueryString(e,...t){const n=e.includes("?"),r=Object.entries(Object.assign({},...t)).reduce(a,[]).join("&");return r?(n?"&":"?")+r:""}performSort(e){const t=this;if(t.sortParamName){const{groupRecords:n}=t,r={};return t.isGrouped&&n&&n.length&&n.forEach(e=>{e.meta.collapsed&&(t.includeGroupRecords(e),r[e.id]=!0)}),t.internalLoad({},"",n=>{t.data=n.data,t.afterPerformSort(e,r)})}super.performSort(e)}performFilter(e){const t=this;if(t.remoteFilter){const n=t.count,{filters:r}=t;return t.currentPage=1,t.internalLoad({},"",i=>{t.data=i.data,t.afterPerformFilter(e?null:{action:"filter",filters:r,oldCount:n,records:t.storage.values})})}super.performFilter(e)}encodeFilterParams(e){const t=[];for(const{property:n,operator:r,value:i,caseSensitive:o}of e)t.push({field:n,operator:r,value:i,caseSensitive:o});return JSON.stringify(t)}encodeSorterParams(e){return JSON.stringify(e.filter(e=>!e.sortFn).map(e=>e))}buildReadUrl(){const{readUrl:e}=this;return this.restfulFilter?(e.endsWith("/")?e:e+"/")+this.filters.first.value:e}internalLoad(e,t,n){const r=this,a=o.default.assign({},r.params,e),s=r.buildReadUrl(),l={action:"read"+t,params:a,url:s};return s?new Promise((e,s)=>{if(!1===r.trigger("beforeLoad"+t,l))return s(!1);if(r._isLoading=!0,r.trigger(`load${t}Start`,l),r.trigger("beforeRequest",l),r.filterParamName&&r.isFiltered&&(a[r.filterParamName]=r.encodeFilterParams(r.filters.values)),r.sortParamName&&r.isSorted&&(a[r.sortParamName]=r.encodeSorterParams(r.groupers?r.groupers.concat(r.sorters):r.sorters)),r.isPaged){if(!a[r.pageParamName]&&!a[r.pageStartParamName]){const e=Math.min(r.currentPage||1,r.allCount?r.lastPage:1/0);r.pageParamName?a[r.pageParamName]=e:a[r.pageStartParamName]=(e-1)*r.pageSize}a[r.pageSizeParamName]=r.pageSize}const c={headers:r.headers,parseJson:!0};r.useRestfulMethods&&(c.method=r.httpMethods.read),i.default.get(l.url+r.buildQueryString(l.url,a),o.default.assign(c,r.fetchOptions)).then(async i=>{const c=i.parsedJson,d=Array.isArray(c),u=d||c&&!1!==o.default.getPath(c,r.responseSuccessProperty),h=d?null:o.default.getPath(c,r.responseTotalProperty);if(r._isLoading=!1,l.response=i,l.json=c,u){if(null!=h&&(r.remoteTotal=parseInt(h,10)),r.isPaged){if(!(r.remoteTotal>=0))throw new Error("A paged store must receive its responseTotalProperty in each data packet");{const e=r.pageParamName?a[r.pageParamName]:a[r.pageStartParamName]/r.pageSize+1;r.currentPage=Math.min(e,r.lastPage)}}l.data=d?c:o.default.getPath(c,r.responseDataProperty),await n(l),r.trigger("load"+t,l),e(l)}else l.exception=!0,l.exceptionType="server",r.trigger("exception",l),s(l);r.trigger("afterRequest",l)}).catch(e=>{r._isLoading=!1,l.exception=!0,e instanceof Response?(l.exceptionType=e.ok?"server":"network",l.response=e,l.error=e.error):(l.exceptionType="server",l.error=e),r.trigger("exception",l),s(l),r.trigger("afterRequest",l)})}):null}async load(e){const t=this;return t.isPaged?t.loadPage(t.currentPage||1,e):t.internalLoad(e,"",e=>{t.data=e.data})}async loadChildren(e){return this.internalLoad({[this.parentIdParamName]:e.id},"Children",t=>{t.parentRecord=e,e.children.length&&e.clearChildren(!0),e.data[e.constructor.childrenField]=t.data,e.processChildren(e.stores)})}async loadPage(e,t){this.allCount&&(e=Math.min(e,this.lastPage));const n=this,r=n.pageParamName?{[n.pageParamName]:e}:{[n.pageStartParamName]:(e-1)*n.pageSize};return r[n.pageSizeParamName]=n.pageSize,n.internalLoad(o.default.assign(r,t),"Page",e=>{n.loadData(e.data,"pageLoad")})}async nextPage(e){return this.isPaged&&this.currentPage!==this.lastPage?this.loadPage(this.currentPage+1,e):s}async previousPage(e){return this.isPaged&&1!==this.currentPage?this.loadPage(this.currentPage-1,e):s}async commit(){const e=this,{changes:t}=e,n=[];if(e.commitPromise)return!1;if(!t)return e.modified.count&&(e.modified.forEach(e=>e.clearChanges(!1)),e.modified.clear()),s;if(!1!==e.trigger("beforeCommit",{changes:t})){[...t.added,...t.modified,...t.removed].forEach(e=>e.meta.committing=!0),e.trigger("commitStart",{changes:t});const r={action:"commit",exception:!1,changes:t};let i=e.commitRemoved(r);return i&&n.push(i),i=e.commitAdded(r),i&&n.push(i),i=e.commitModified(r),i&&n.push(i),n.length?(i=1===n.length?n[0]:Promise.all(n),e.commitPromise=new Promise((n,o)=>{i.then(()=>{e.commitPromise=null,r.exception?(e.trigger("exception",r),o(r)):(e.trigger("commit",{changes:t}),n(r))}).catch(()=>{e.commitPromise=null,o(r)})})):(e.modified.forEach(e=>e.clearChanges(!1)),e.modified.clear(),e.added.forEach(e=>e.clearChanges(!1)),e.added.clear(),e.removed.clear(),e.trigger("commit",{changes:t}),s)}}doAutoCommit(){this.suspendCount<=0&&this.commit().catch(e=>{const{response:t}=e;if(!t||!(t.ok&&t.parsedJson||[500,404].includes(t.status)))throw e})}commitAdded(e){const t=this,n=t.added,r={action:"create",params:t.params};return n.count&&t.createUrl?new Promise(a=>{const s=n.values.map(e=>e.persistableData);e.create=r;let l=r.body={data:s};if(t.trigger("beforeRequest",r),t.sendAsFormData){const e=new FormData;e.append("data",JSON.stringify(s)),l=e}const c={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(c.method=t.httpMethods.create),i.default.post(t.createUrl+t.buildQueryString(t.createUrl,t.params),l,o.default.assign(c,t.fetchOptions)).then(i=>{const o=i.parsedJson,s=Array.isArray(o),l=s||o&&!1!==o.success;e.response=i,r.json=o,r.response=i,l?(t.processReturnedData(n.values,s?o:o[t.responseDataProperty]),n.clear(),t.trigger("commitAdded"),t.trigger("refresh",r),a(e)):(n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,e.exceptionType=r.exceptionType="server",t.trigger("exception",r),a(e)),t.trigger("afterRequest",r)}).catch(i=>{n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,i instanceof Response?(e.response=i,r.exceptionType=i.ok?"server":"network",r.response=i,r.error=i.error):(r.exceptionType="server",r.error=i),t.trigger("exception",r),a(e),t.trigger("afterRequest",r)})}):null}commitModified(e){const t=this,{modified:n}=t.changes,r={action:"update",params:t.params},a=n.length&&t.updateUrl?new Promise(a=>{const s=n.map(e=>t.writeAllFields?e.persistableData:e.modificationDataToWrite).filter(e=>!o.default.isEmpty(e));if(0===s.length)return t.modified.clear(),n.forEach(e=>e.meta.committing=!1),void a();e.update=r;let l=r.body={data:s};if(t.trigger("beforeRequest",r),t.sendAsFormData){const e=new FormData;e.append("data",JSON.stringify(s)),l=e}const c={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(c.method=t.httpMethods.update),i.default.post(t.updateUrl+t.buildQueryString(t.updateUrl,t.params),l,o.default.assign(c,t.fetchOptions)).then(i=>{const o=i.parsedJson,s=Array.isArray(o),l=s||o&&!1!==o.success;e.response=i,r.json=o,r.response=i,l?(t.processReturnedData(n,s?o:o[t.responseDataProperty],!0),t.modified.clear(),t.trigger("commitModified"),t.trigger("refresh",r),a(e)):(n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,r.exceptionType="server",t.trigger("exception",r),a(e)),t.trigger("afterRequest",r)}).catch(i=>{n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,i instanceof Response?(e.response=i,r.exceptionType=i.ok?"server":"network",r.response=i,r.error=i.error):(r.exceptionType="server",r.error=i),t.trigger("exception",r),a(e),t.trigger("afterRequest",r)})}):null;return!n.length&&t.modified.count&&t.modified.clear(),a}processReturnedData(e,t,n=!1){const r=this.modelClass,i=r.fieldMap.id.dataSource;t.forEach((t,o)=>{const a=e[o];a.clearChanges(!1),a.syncId(t[i]),Object.assign(e[o].data,r.processData(t,n))})}commitRemoved(e){const t=this,n=t.removed,r={action:"delete",params:t.params};return n.count&&t.deleteUrl?new Promise(a=>{e.delete=r;let s=r.body={ids:n.map(e=>e.id)};if(t.trigger("beforeRequest",r),t.sendAsFormData){const e=new FormData;e.append("id",JSON.stringify(s.ids)),s=e}const l={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(l.method=t.httpMethods.delete),i.default.post(t.deleteUrl+t.buildQueryString(t.deleteUrl,t.params),s,o.default.assign(l,t.fetchOptions)).then(i=>{const o=i.parsedJson,s=Array.isArray(o)||o&&!1!==o.success;e.response=i,r.json=o,r.response=i,s?(n.forEach(e=>e.meta.committing=!1),n.clear(),t.trigger("commitRemoved"),t.trigger("refresh",r),a(e)):(n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,r.exceptionType="server",t.trigger("exception",r),a(e)),t.trigger("afterRequest",r)}).catch(i=>{n.forEach(e=>e.meta.committing=!1),e.exception=r.exception=!0,i instanceof Response?(e.response=i,r.exceptionType=i.ok?"server":"network",r.response=i,r.error=i.error):(r.exceptionType="server",r.error=i),t.trigger("exception",r),a(e),t.trigger("afterRequest",r)})}):null}get remoteFilter(){return Boolean(this.filterParamName||this.restfulFilter)}}l._$name="AjaxStore"},"./lib/Core/data/DomDataStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{static get(e,t){const n=e._domData||(e._domData={});return null!=t?n[t]:n}static remove(e,t){const{_domData:n}=e,r=null===n||void 0===n?void 0:n[t];return null===n||void 0===n||delete n[t],r}static set(e,t,n){3===arguments.length?(e._domData||(e._domData={}))[t]=n:e._domData=t}static assign(e,t){Object.assign(e._domData||(e._domData={}),t)}}r._$name="DomDataStore"},"./lib/Core/data/Duration.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/helper/DateHelper.js");class i{constructor(e,t){"number"===typeof e?(this._magnitude=e,this._unit=t):("string"===typeof e&&(e=r.default.parseDuration(e)),"object"===typeof e&&Object.assign(this,e))}get magnitude(){return this._magnitude}set magnitude(e){this._magnitude="number"===typeof e&&e}get unit(){return this._unit}set unit(e){this._unit=r.default.parseTimeUnit(e)}get isValid(){return null!=this._magnitude&&this._unit}get milliseconds(){return this.isValid?Math.round(r.default.asMilliseconds(this._magnitude,this._unit)):0}isEqual(e){return Boolean(e&&this.milliseconds===e.milliseconds)}toString(e){const t=e?"getShortNameOfUnit":"getLocalizedNameOfUnit";return this.isValid?`${this._magnitude} ${r.default[t](this._unit,1!==this._magnitude)}`:""}toJSON(){return this.toString()}valueOf(){return this.milliseconds}}i._$name="Duration"},"./lib/Core/data/Model.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Core/helper/VersionHelper.js"),s=n("./lib/Core/data/stm/mixin/ModelStm.js"),l=n("./lib/Core/data/mixin/TreeNode.js"),c=n("./lib/Core/data/field/DataField.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./lib/Core/data/field/BooleanDataField.js"),n("./lib/Core/data/field/DateDataField.js"),n("./lib/Core/data/field/IntegerDataField.js"),n("./lib/Core/data/field/ModelDataField.js"),n("./lib/Core/data/field/NumberDataField.js"),n("./lib/Core/data/field/ObjectDataField.js"),n("./lib/Core/data/field/StringDataField.js");const{defineProperty:f}=Reflect,{hasOwnProperty:g}=Object.prototype,m={children:1,data:1,meta:1},p=["name","title","text","label","description"];class v extends(r.default.mixin(s.default,l.default)){static get $name(){return"Model"}static get declarable(){return["fields"]}static get fields(){return[{name:"parentIndex",type:"number",persist:!1,internal:!0}]}static set idField(e){this._assignedIdField=!0,this._idField=e}static get idField(){return this._idField}static set childrenField(e){this._childrenField=e}static get childrenField(){return this._childrenField||"children"}get indexPath(){const e=[];let t=this,n=t.childLevel;for(t=this;t&&!t.isRoot;t=t.parent)e[n--]=t.parentIndex+1;return e}construct(e={},t=null,n=null,r=!1){const i=this,o=t?Array.isArray(t)?t:[t]:[],{constructor:a,fieldMap:s}=i;let l=null;if(t=o[0],i.meta=u(u({modified:{}},a.metaConfig),n),a.applyConfigs)for(const c in i.getDefaultConfiguration())l||(l={},i.useRawData&&i.useRawData.enabled||(e=u({},e))),c in e&&(l[c]=e[c],delete e[c]);if(super.construct(l),r||a.exposeProperties(e),!g.call(a,"idFieldProcessed")){let e=i.meta.idField;e||(a._assignedIdField?e=a.idField:t&&(e=t.idField)),e&&e!==s.id.dataSource&&a.addField({name:"id",dataSource:e,internal:!0}),a.idFieldProcessed=!0}i._internalId=v._internalIdCounter++,i.stores=[],i.unjoinedStores=[],i.originalData||(i.originalData=e),i.data=a.processData(e,!1,t,i),null==i.id&&i.setData("id",i.generateId(t)),i.data[a.childrenField]&&i.processChildren(o),i.generation=0}equals(e){if(e instanceof this.constructor){for(let t=this.$meta.fields.defs,n=0,{length:r}=t;n<r;n++){const r=t[n],{name:i}=r;if("id"!==i&&!r.isEqual(this[i],e[i]))return!1}return!0}return!1}get subclass(){return new this.constructor(Object.setPrototypeOf({id:void 0},this.data),this.stores[0],null,!0)}static processData(e,t=!1,n,r){const{fieldMap:o,defaultValues:a}=this,{useRawData:s={enabled:!1}}=n||{},l=s.enabled?e:i.default.clone(e);let c;if(!(t=t||s.disableDefaultValue))for(c in a)void 0===l[c]&&(l[c]=a[c]);if(!s.disableTypeConversion)for(c in o){const n=o[c],{name:a,dataSource:d}=n,u=d!==a,h=u&&i.default.pathExists(e,d),f=a in e&&(!u||!h),g=!s.disableTypeConversion&&n.convert;if((f||g)&&(!t||f||h)){const e=f?l[a]:i.default.getPath(l,d);i.default.setPath(l,d,g?n.convert(e,r):e),u&&delete l[a]}}return l}static setupClass(e){super.setupClass(e),e.fields||this.setupFields(this,e)}static setupFields(e,t){var n,r,i,o,a;const s=g.call(e,"fields")&&e.fields,l=t.super.fields,c=t.fields={defs:null!==(n=null===l||void 0===l?void 0:l.defs.slice())&&void 0!==n?n:[],exposedData:!1,defaults:l?u({},l.defaults):{},exposed:Object.create(null!==(r=null===l||void 0===l?void 0:l.exposed)&&void 0!==r?r:null),ordinals:Object.create(null!==(i=null===l||void 0===l?void 0:l.ordinals)&&void 0!==i?i:null),map:Object.create(null!==(o=null===l||void 0===l?void 0:l.map)&&void 0!==o?o:null),sources:Object.create(null!==(a=null===l||void 0===l?void 0:l.sources)&&void 0!==a?a:null)};g.call(e,"defaults")&&Object.assign(c.defaults,e.defaults),g.call(e,"idField")&&(e.addField({name:"id",dataSource:e.idField,internal:!0}),c.exposed[e.idField]=!0),null!==s&&void 0!==s&&s.length&&s.map(e.addField,e),e.exposeRelations()}static get defaultValues(){return this.$meta.fields.defaults}static get allFields(){return this.$meta.fields.defs}get allFields(){return this.$meta.fields.defs}static get fieldMap(){return this.$meta.fields.map}get fieldMap(){return this.$meta.fields.map}static get fieldDataSourceMap(){return this.$meta.fields.sources}static exposeProperties(e){const t=this,n=t.$meta.fields;if(e&&t.autoExposeFields&&!n.exposedData){let r,o,a;for(r in e)n.exposed[r]||r===t.childrenField||(a=Object(i.typeOf)(e[r]),o={name:r,dataSource:r,fromData:!0},"boolean"!==a&&"number"!==a&&"date"!==a||(o.type=a),t.addField(o));n.exposedData=!0}t.exposeRelations()}static addField(e){if(null==e)return;"string"===typeof e&&(e={name:e});const t=this.initClass(),n=t.$meta.fields,{ordinals:r}=n,i=n.exposed,{name:o}=e,a=n.map[o],s=e.dataSource||(e.dataSource=o);let l,d;if(!a||e.type&&e.type!==a.type)l=c.default.create(e),l.definedBy=a?a.definedBy:t,l.ordinal=a?a.ordinal:r[o]=n.defs.length;else for(d in l=Object.create(a),e)"type"!==d&&(l[d]=e[d]);return l.owner=t,n.defs[l.ordinal]=l,n.map[o]=l,n.sources[s]||(n.sources[s]=l),s.includes(".")&&(l.complexMapping=!0),l.complexMapping?i[s.split(".")[0]]=!0:i[s]=!0,"defaultValue"in l&&(n.defaults[s]=l.defaultValue),m[o]||l.defineAccessor(t.prototype),t._nonPersistableFields=null,t._alwaysWriteFields=null,l}static removeField(e){const t=this.initClass(),n=t.$meta.fields,r=n.map[e],{ordinals:i}=n,o=i[e];if(r){n.defs.splice(o,1),delete i[e],delete n.defaults[e],delete n.exposed[e],delete n.map[e],delete n.sources[r.dataSource];for(const e in i)i[e]>o&&--i[e];delete t.prototype[e]}}static exposeRelations(){const e=this;g.call(e,"relationsExposed")||e.relationConfig&&(e.relationsExposed=!0,e.relations=[],e.relationConfig.forEach(t=>{e.relations.push(t);const n=t.relationName;Reflect.ownKeys(e.prototype).includes(n)||f(e.prototype,n,{enumerable:!0,get:function(){return this.getForeign(n)},set:function(e){this.setForeign(n,e,t)}})}))}static get autoExposeFields(){return!0}get fields(){return this.$meta.fields.defs}getFieldDefinition(e){return this.$meta.fields.map[e]}getFieldDefinitionFromDataSource(e){return this.$meta.fields.sources[e]}get fieldNames(){return Object.keys(this.data)}static getFieldDefinition(e){return this.$meta.fields.map[e]}static getFieldDataSource(e){return this.getFieldDefinition(e).dataSource}getDataSource(e){const t=this.constructor.getFieldDefinition(e);return(null===t||void 0===t?void 0:t.dataSource)||(null===t||void 0===t?void 0:t.name)}static processField(e,t,n){const r=this.fieldMap[e];return null!==r&&void 0!==r&&r.convert?r.convert(t,n):t}initRelations(){const e=this;e.constructor.relations&&e.stores.forEach(t=>{var n;t.modelRelations||t.initRelations();const r=[];null===(n=t.modelRelations)||void 0===n||n.forEach(t=>{r.push({related:e.initRelation(t),config:t})}),t.updateRecordRelationCache(e,r)})}initRelation(e){const t=this,n=t.get(e.fieldName),r=void 0!==n&&"string"!==typeof e.store&&e.store.getById(n),i={id:n,placeHolder:!0};return t.meta.relationCache||(t.meta.relationCache={}),t.meta.relationCache[e.relationName]=r||(null!=n?i:null),r}removeRelation(e){this.meta.relationCache[e.relationName]&&(delete this.meta.relationCache[e.relationName],e.nullFieldOnRemove&&this.setData(e.fieldName,null))}getForeign(e){var t;return null===(t=this.meta.relationCache)||void 0===t?void 0:t[e]}setForeign(e,t,n){const r=v.asId(t);return this.set(n.fieldName,r)}flatGet(e,t){var n;return this.batching&&e in this.meta.batchChanges?this.meta.batchChanges[e]:null!==(n=this.data[t])&&void 0!==n?n:this.data[e]}complexGet(e,t){return this.batching&&e in this.meta.batchChanges?this.meta.batchChanges[e]:i.default.getPath(this.data,t)}get(e){if(!e)return;const t=this.fieldMap[e];return!t&&e.includes(".")?this.complexGet(e,e):null!==t&&void 0!==t&&t.complexMapping?this.complexGet(e,t.dataSource):this.flatGet(e,(null===t||void 0===t?void 0:t.dataSource)||e)}setData(e,t){const{data:n,fieldMap:r}=this;if("string"===typeof e){var o;const a=r[e],s=null!==(o=null===a||void 0===a?void 0:a.dataSource)&&void 0!==o?o:e;null!==a&&void 0!==a&&a.complexMapping?i.default.setPath(n,s,t):n[s]=t}else{const t=Object.keys(e);for(let o=0;o<t.length;o++){var a;const s=t[o],l=r[s],c=null!==(a=null===l||void 0===l?void 0:l.dataSource)&&void 0!==a?a:s;c&&(null!==l&&void 0!==l&&l.complexMapping?i.default.setPath(n,c,e[s]):n[c]=e[s])}}}getData(e){var t;const n=this.fieldMap[e],r=null!==(t=null===n||void 0===n?void 0:n.dataSource)&&void 0!==t?t:e;if(r)return null!==n&&void 0!==n&&n.complexMapping?i.default.getPath(this.data,r):this.data[r]}syncId(e){const t=this.id;if(t!==e){this.setData("id",e);const n={id:{value:e,oldValue:t}};this.afterChange(n,n)}}set(e,t,n=!1,r=!1,i=!1){const o=this;if(o.isBatchUpdating)return o.inBatchSet(e,t),null;{var a;const s=o.beforeSet?o.beforeSet(e,t,n,r):void 0,l=o.inSet(e,t,n,r,i);return null===(a=o.afterSet)||void 0===a||a.call(o,e,t,n,r,s,l),l}}fieldToKeys(e,t){return"string"!==typeof e?i.default.assign({},e):{[e]:t}}inBatchSet(e,t){const{meta:n,constructor:r}=this;let i=!1;"string"!==typeof e?Object.keys(this.fieldToKeys(e,t)).forEach(o=>{t=r.processField(o,e[o],this),n.batchChanges[o]!==t&&(n.batchChanges[o]=t,i=!0)}):n.batchChanges[e]!==t&&(n.batchChanges[e]=t,i=!0),i&&this.generation++}inSet(e,t,n,r,o=!1){const a=this,{data:s,meta:l,fieldMap:c,constructor:d}=a,{prototype:u,childrenField:h}=d,f={},g=a.fieldToKeys(e,t),m=Object.keys(g);let p=!1;if(!n&&!a.triggerBeforeUpdate(g))return null;for(let b=0;b<m.length;b++){var v;const e=m[b];if(e===h)continue;const t=c[e],n=t||i.default,y=null===t||void 0===t?void 0:t.readOnly,C=null!==(v=null===t||void 0===t?void 0:t.dataSource)&&void 0!==v?v:e,S=!o&&!t&&e in u,w=S?a[C]:null!==t&&void 0!==t&&t.complexMapping?i.default.getPath(s,C):s[C],E=d.processField(e,g[e],a),D=g[e]={value:E},x=a.getRelationConfig(e);y||n.isEqual(w,E)||(a.generation++,D.oldValue=w,p=!0,n.isEqual(a.meta.modified[e],E)?Reflect.deleteProperty(l.modified,e):a.ignoreBag||(e in l.modified||(l.modified[e]=w),void 0===D.oldValue&&Reflect.deleteProperty(D,"oldValue")),f[e]=D,a.applyValue(S,C,E,o,t),x&&!r&&(a.initRelation(x),a.stores.forEach(e=>e.cacheRelatedRecord(a,E,x.relationName,D.oldValue))))}return p&&a.afterChange(g,f,n,r,o),p?f:null}applyValue(e,t,n,r,o){var a;if(e)this[t]=n;else{if(!o&&t.includes(".")){const e=t.split(".")[0];o=this.constructor.fieldMap[e]}null!==(a=o)&&void 0!==a&&a.complexMapping?i.default.setPath(this.data,t,n):this.data[t]=n}}afterChange(e,t,n,r,i){this.stores.forEach(i=>{i.onModelChange(this,e,t,n,r)})}get isPersistable(){return!0}get isModified(){return Boolean(this.meta.modified&&Object.keys(this.meta.modified).length>0)}get hasPersistableChanges(){return this.isPersistable&&!i.default.isEmpty(this.rawModificationData)}isFieldModified(e){return this.isModified&&this.meta.modified[e]}getFieldPersistentValue(e){const t="string"===typeof e?this.getFieldDefinition(e):e,n=(null===t||void 0===t?void 0:t.name)||e;let r;return t&&!t.persist||(r=this[n],null!==t&&void 0!==t&&t.serialize&&(r=t.serialize(r,this))),r}get modifications(){const e=this.rawModifications;return e&&Object.keys(e).length&&(e[this.constructor.idField]=this.id),e}get rawModifications(){const e=this,t={};if(!e.isModified)return null;let n=!1;return Object.keys(e.meta.modified).forEach(r=>{const i=e.getFieldPersistentValue(r);void 0!==i&&(t[r]=i,n=!0)}),n?t:null}get modificationData(){const e=this.rawModificationData;return e&&Object.keys(e).length&&i.default.setPath(e,this.constructor.getFieldDefinition(this.constructor.idField).dataSource,this.id),e}get rawModificationData(){const e=this,{fieldMap:t}=e.constructor,n={};if(!e.isModified)return null;let r=!1;return Object.keys(e.meta.modified).forEach(o=>{const a=t[o];if(null!==a&&void 0!==a&&a.persist){const t=e.getFieldPersistentValue(o);void 0!==t&&(i.default.setPath(n,a.dataSource,t),r=!0)}}),r?n:null}get modificationDataToWrite(){const e=this.constructor.alwaysWriteFields;let t=this.modificationData;return e.length&&(t=Object.assign({},this.modificationData),e.forEach(e=>{t[this.getFieldDefinition(e).dataSource]=this[e]})),t}get persistableData(){const e=this,t={};return e.fields.forEach(n=>{const r=e.getFieldPersistentValue(n);void 0!==r&&(null!==n&&void 0!==n&&n.complexMapping?i.default.setPath(t,n.dataSource,r):t[n.dataSource]=r)}),t}get isCommitting(){return Boolean(this.meta.committing)}clearChanges(e=!0,t=!0){const n=this,{meta:r}=n;r.modified={},r.committing=!1,e&&n.stores.forEach(e=>{if(e.modified.remove(n),e.added.remove(n),t){const t=e.collectDescendants(n).all;e.added.remove(t),e.modified.remove(t)}})}revertChanges(e=!1){this.set(this.meta.modified,void 0,e)}get internalId(){return this._internalId}get isPhantom(){return""===this.id||null==this.id||this.hasGeneratedId}get isModel(){return!0}get hasGeneratedId(){return"string"===typeof this.id&&this.id.startsWith("_generated")}static generateId(e=this.$$name){return this.generatedIdIndex||(this.generatedIdIndex=0),`_generated${e}${++this.generatedIdIndex}`}generateId(){return this.constructor.generateId()}static asId(e){return null!==e&&void 0!==e&&e.isModel?e.id:e}get json(){return o.default.safeJsonStringify(this)}toJSON(){const{children:e}=this,t=this.persistableData;return e&&(t[this.constructor.childrenField]=e.map(e=>e.toJSON())),t}toString(){const e=this,t=p.find(t=>t in e.constructor.fieldMap),n=t?{[e.constructor.idField]:e.id,[t]:e[t]}:e.data;return o.default.safeJsonStringify(n)}get isBatchUpdating(){return Boolean(this.batching)}beginBatch(){const e=this;e.batching||(e.batching=0,e.meta.batchChanges={}),e.batching++}endBatch(e=!1,t=!1){const n=this,{parentIdField:r}=n.constructor;if(n.batching&&(n.batching--,!(n.batching>0)&&!i.default.isEmpty(n.meta.batchChanges))){const i=u({},n.meta.batchChanges);n.meta.batchChanges=null,i[r]&&(n.parentId=i[r],delete i[r]),n.set(i,void 0,e,!1,t),n.cancelBatch()}}cancelBatch(){this.batching=null,this.meta.batchChanges=null}triggerBeforeUpdate(e){return!this.stores.some(t=>!1===t.trigger("beforeUpdate",{record:this,changes:e}))}copy(e=null,t){const n=this,r=u({},n.data),o=n.constructor.idField;let s,l;s=i.default.isObject(t)?t.deep:t,!1!==e&&delete r[o],e&&"object"===typeof e?(l=e.id,"deep"in e?(s=e.deep,a.default.deprecate("Grid","5.0.0","`deep` attribute deprecated, in favor of a separate second parameter"),delete e.id,delete e.deep):Object.assign(r,e)):l=e,s&&n.children?r.children=n.children.map(e=>e.copy(void 0,t)):(delete r.children,delete r.expanded),null==r[o]&&(r[o]=l||n.generateId(n.firstStore));const c=new n.constructor(r);return c.originalInternalId=n.internalId,c}remove(e=!1){const t=this,{parent:n}=this;n?n.removeChild(t):t.stores.length&&(t.isSpecialRow||t.stores.forEach(n=>n.remove(t,e,!1,!0)))}get firstStore(){return this.stores.length>0&&this.stores[0]}getRelationConfig(e){var t,n;return null===(t=this.firstStore)||void 0===t||null===(n=t.modelRelations)||void 0===n?void 0:n.find(t=>t.fieldName===e)}get isValid(){return!0}joinStore(e){const t=this,{stores:n}=t;if(!n.includes(e)){const{unjoinedStores:r}=t;super.joinStore(e),e.register(t),n.push(e),r.includes(e)&&r.splice(r.indexOf(e),1),t.isLoaded&&t.children.forEach(t=>t.joinStore(e)),t.initRelations(),e.tree&&!t.isRoot&&(t.instanceMeta(e.id).collapsed=!t.expanded)}}unjoinStore(e,t=!1){const n=this,{stores:r,unjoinedStores:i}=n;var o,a;r.includes(e)&&(e.isDestroying||(e.unregister(n),i.push(e)),null===(o=n.unfilteredChildren||n.children)||void 0===o||null===(a=o.forEach)||void 0===a||a.call(o,n=>n.unjoinStore(e,t)),r.splice(r.indexOf(e),1),super.unjoinStore&&super.unjoinStore(e,t),e.uncacheRelatedRecord(n))}isPartOfStore(e){return e?e.includes(this):this.stores.length>0}get isRemoved(){return!this.isPartOfStore()}instanceMeta(e){const{meta:t}=this,n=e.id||e;return t.map||(t.map={}),t.map[n]||(t.map[n]={})}get isSpecialRow(){return this.meta.specialRow}static get nonPersistableFields(){const e=this;return e._nonPersistableFields||(e._nonPersistableFields={},e.allFields.forEach(t=>{t.persist&&!t.calculated||(e._nonPersistableFields[t.name]=1)})),e._nonPersistableFields}static get alwaysWriteFields(){const e=this;return e._alwaysWriteFields||(e._alwaysWriteFields=[],e.allFields.forEach(t=>{t.alwaysWrite&&e._alwaysWriteFields.push(t.name)})),e._alwaysWriteFields}}v._idField="id",v._internalIdCounter=1,v._assignedIdField=!1,v.exposeProperties(),v._$name="Model"},"./lib/Core/data/Store.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Pluggable.js"),o=n("./lib/Core/mixin/Events.js"),a=n("./lib/Core/mixin/State.js"),s=n("./lib/Core/mixin/Identifiable.js"),l=n("./lib/Core/data/Model.js"),c=(n("./lib/Core/helper/BrowserHelper.js"),n("./lib/Core/helper/ObjectHelper.js")),d=n("./lib/Core/helper/StringHelper.js"),u=n("./lib/Core/data/StoreBag.js"),h=n("./lib/Core/util/Collection.js"),f=n("./lib/Core/data/mixin/StoreCRUD.js"),g=n("./lib/Core/data/mixin/StoreFilter.js"),m=n("./lib/Core/data/mixin/StoreGroup.js"),p=n("./lib/Core/data/mixin/StoreProxy.js"),v=n("./lib/Core/data/mixin/StoreRelation.js"),b=n("./lib/Core/data/mixin/StoreSum.js"),y=n("./lib/Core/data/mixin/StoreSearch.js"),C=n("./lib/Core/data/mixin/StoreSort.js"),S=n("./lib/Core/data/mixin/StoreChained.js"),w=n("./lib/Core/data/mixin/StoreState.js"),E=n("./lib/Core/data/mixin/StoreTree.js"),D=n("./lib/Core/data/mixin/StoreSync.js"),x=n("./lib/Core/data/stm/mixin/StoreStm.js");class j extends(r.default.mixin(s.default,o.default,i.default,a.default,g.default,f.default,v.default,b.default,y.default,C.default,m.default,S.default,w.default,E.default,x.default,D.default,p.default)){static get properties(){return{relationCache:{},dependentStoreConfigs:new Map}}static get configurable(){return{id:!0,modelClass:l.default}}static get defaultConfig(){return{fields:null,autoTree:!0,data:null,tree:!1,callOnFunctions:!0,storage:null,useRawData:!1,allowNoId:!0,preventSubClassingModel:null}}static get identifiable(){return{registerGeneratedId:!1}}constructor(...e){if(super(...e),this.objectify)return this.initProxy()}construct(e={}){Object.assign(this,{added:new u.default,removed:new u.default,modified:new u.default,idRegister:{},internalIdRegister:{}}),e.storeId&&(e=c.default.assign({id:e.storeId},e)),super.construct(e),this.initRelations()}doDestroy(){var e;const t=this,n=t.registeredRecords;for(let o,a=n.length-1;a>=0;a--){var r;o=n[a],null!==(r=o)&&void 0!==r&&r.isDestroyed||o.unjoinStore(t)}var i;null===(e=t._storage)||void 0===e||e.destroy(),t.stm&&t.stm.removeStore(t),t.isChained||null===(i=t.rootNode)||void 0===i||i.destroy(),super.doDestroy()}beginBatch(){this.suspendEvents()}endBatch(){this.resumeEvents()&&this.trigger("refresh",{action:"batch",data:this.storage.values,records:this.storage.values})}set storage(e){const t=this;null!==e&&void 0!==e&&e.isCollection?t._storage=e:t._storage=new h.default(e),t._storage.autoFilter=t.reapplyFilterOnAdd;for(const n of t._storage)n.joinStore(t);t._storage.on({change:"onDataChange",thisObj:t})}get storage(){return this._storage||(this.storage={}),this._storage}get allRecords(){const e=this;if(e.isTree){const t=e.collectDescendants(e.rootNode,void 0,void 0,{unfiltered:!0}).all;return e.rootVisible&&t.unshift(e.rootNode),t}return e.isGrouped?e.collectGroupRecords():e.storage.allValues}onDataChange({source:e,action:t,added:n,removed:r,replaced:i,oldCount:o,items:a,from:s,to:l}){const c=this,d=null===n||void 0===n?void 0:n.length,u=null===r||void 0===r?void 0:r.length;let h;if(c._idMap=null,d&&n.forEach(e=>{e.joinStore(c)}),null===i||void 0===i||i.forEach(([e,t])=>{e.unjoinStore(c,!0),t.joinStore(c)}),super.onDataChange(...arguments),!c.isTree){if(d){for(const e of n)c.removed.includes(e)?c.removed.remove(e):c.added.add(e);h=!c.remoteFilter&&c.filtered&&c.reapplyFilterOnAdd,h&&c.filter({silent:!0})}if(u){for(const e of r)e.unjoinStore(c),c.added.includes(e)?c.added.remove(e):e._undoingInsertion||c.removed.add(e);c.modified.remove(r),h=!c.remoteFilter&&c.filtered,h&&c.filter({silent:!0})}}switch(t){case"clear":c.relationCache={},c.updateDependentStores("removeall"),c.trigger("removeAll"),c.trigger("change",{action:"removeall"});break;case"splice":if(d){c.updateDependentStores("add",n);const t=n.reduce((e,t)=>{const{previousIndex:n}=t.meta;return n>-1&&n<e&&(e=n),e},n[0].meta.previousIndex),r={records:n,index:e.indexOf(n[0],!e.autoFilter)};t>-1&&(r.oldIndex=t),c.trigger("add",r),c.trigger("change",Object.assign({action:"add"},r)),h&&c.triggerFilterEvent({action:"filter",filters:c.filters,oldCount:o,records:c.storage.allValues})}r.length&&(c.updateDependentStores("remove",r),c.trigger("remove",{records:r}),c.trigger("change",{action:"remove",records:r})),i.length&&(c.trigger("replace",{records:i,all:c.records.length===i.length}),c.trigger("change",{action:"replace",replaced:i,all:c.records.length===i.length}));break;case"filter":c.isGrouped?c.group(null,null,null,null,!0):c.isSorted&&c.performSort(!0);break;case"move":for(let e=c.storage.allValues,t=Math.min(s,l);t<=Math.max(s,l);t++)e[t].setData("parentIndex",t);c.trigger("move",{record:a[0],records:a,from:s,to:l}),c.isFiltered&&c.performFilter(),c.trigger("change",{action:t,record:a[0],records:a,from:s,to:l})}}onDataReplaced(e,t){var n;const r=this,i=r.storage.allValues;for(let a=0;a<i.length;a++)i[a].joinStore(r);if(r.prepareGroupRecords(r.storage.values),r.restoreCollapsedGroups(),!r.remoteFilter&&r.isFiltered&&r.filter({silent:!0}),r.isGrouped&&r.group(null,null,!1,!r.sorters.length,!0),!r.sortParamName&&r.sorters.length&&r.sort(null,null,!1,!0),!r.useRawData.disableDuplicateIdCheck){const e=r.idMap;if(Object.keys(e).length<r.storage.values.length){const t=[];throw r.storage.values.forEach(n=>e[n.id]?delete e[n.id]:t.push(n)),new Error("Id collision on "+t.map(e=>e.id))}}const o={action:e,data:t,records:r.storage.values};r.updateDependentStores(e,o.records),null===(n=r.afterLoadData)||void 0===n||n.call(r),r.trigger("refresh",o),r.trigger("change",o)}onModelChange(e,t,n,r,i){const o=this,a=e.constructor.idField,s={record:e,changes:n,batch:null!=e.batching,fromRelationUpdate:i},l=!e.ignoreBag&&o.updateModifiedBagForRecord(e);if(this.storage.onItemMutation(e,n),!r){if(a in n){const{oldValue:n,value:r}=t[a];o.updateDependentRecordIds(n,r),o.onRecordIdChange({record:e,oldValue:n,value:r}),o.trigger("idChange",{store:o,record:e,oldValue:n,value:r})}o.onUpdateRecord(e,n),o.trigger("update",s),o.trigger("change",Object.assign({action:"update"},s))}o.autoCommit&&l&&o.doAutoCommit()}updateModifiedBagForRecord(e){const t=this;let n=!1;return e.isModified?t.modified.includes(e)||t.added.includes(e)||!e.isPartOfStore(t)||e.isAutoRoot||(e.isPhantom?t.added.add(e):t.modified.add(e),n=!0):t.modified.remove(e),n}get idMap(){const e=this.storage.values,t=!this._idMap,n=this._idMap||(this._idMap={});if(t)for(let r,i=0,o=0;i<e.length;i++)r=e[i],n[r.id]={index:i,visibleIndex:o,record:r},r.isSpecialRow||o++;return n}changeModelClass(e){const t=this.fields;let n=null;return n=null!==t&&void 0!==t&&t.length?class extends e{static get fields(){return t}}:this.preventSubClassingModel?e:class extends e{},n.initClass(),n}set storeId(e){this.id=e}get storeId(){return this.id}changeId(e,t){return super.changeId(!0!==e&&e,t)}updateId(e,t){const n=j.getById(e);n&&j.unregisterInstance(n),super.updateId(e,t)}generateAutoId(){return j.generateId("store-")}get tree(){return this._tree}set tree(e){this._tree=e,e&&!this.rootNode&&(this.rootNode=this.buildRootNode(),this.rootNode.isAutoRoot=!0)}buildRootNode(){return{}}static getStore(e,t){if(e instanceof j)return e;if(this.getById(e))return this.getById(e);if(Array.isArray(e)){let n;const r=e.map(e=>(e instanceof l.default?n=e.constructor:"string"===typeof e&&(e={text:e}),e));e={autoCreated:!0,data:r,modelClass:n||class extends l.default{},allowNoId:!0},t||(t=j)}return t?new t(e):void 0}static get stores(){return j.registeredInstances}get rootNode(){return this.masterStore?this.masterStore.rootNode:this._rootNode}set rootNode(e){var t;const n=this,r=n._rootNode;e!==r&&(r&&n.clear(!0),e instanceof l.default?(e.instanceMeta(n).collapsed=!1,n._rootNode=e):n._rootNode=e=new n.modelClass(Object.assign({expanded:!0,[n.modelClass.idField]:n.id+"-rootNode"},e),n,null,!0),n._tree=!0,e.isRoot=!0,e.joinStore(n),(null!==(t=e.children)&&void 0!==t&&t.length||n.rootVisible)&&(e.isLoading=!0,n.onNodeAddChild(e,e.children||[],0),e.isLoading=!1),n.trigger("rootChange",{oldRoot:r,rootNode:e}))}set data(e){this.setStoreData(e)}setStoreData(e){var t;const n=this,{idField:r,childrenField:i,parentIdField:o}=n.modelClass;if(n.getConfig("plugins"),n.processConfiguredListeners(),e&&!Array.isArray(e)&&(e=c.default.transformNamedObjectToArray(e,r)),n.tree=!n.isChained&&(n.tree||Boolean(n.autoTree&&(null===(t=e)||void 0===t?void 0:t.some(e=>e[i])))),n.syncDataOnLoad&&n._data)n.syncDataset(e);else{if(n._data=e,n.tree){if(n.transformFlatData){let t=!1,r=!0;for(const n of e){if(n.isModel||n[i]){r=!1;break}null!=n[o]&&(t=!0)}r&&t&&(e=n.transformToTree(e))}const t=n.rootNode;t.isLoading=!0,n.clear(!0),t.appendChild(e),n.updateDependentStores("dataset",[t]),t.isLoading=!1,0===e.length?n.trigger("refresh",{action:"dataset",data:[],records:[]}):n.isFiltered&&n.filter()}else n.loadData(e);n.added.clear(),n.removed.clear(),n.modified.clear()}}loadData(e,t="dataset"){const n=this,{storage:r,allowNoId:i}=n,o=n.modelClass.fieldMap.id.dataSource;if(n.storeCollapsedGroups(),n.removeHeadersAndFooters(n.storage.values),n._idMap=null,e){if(e[0]instanceof l.default)n.clear(!0),r.replaceValues({values:e.slice(),isNewDataset:!0,silent:!0});else{n.modelClass.exposeProperties(e[0]);const t=e.length,a=new Array(t);for(let r=0;r<t;r++){const t=e[r];if(!i&&null==t[o])throw new Error("Id required but not found on row "+r);a[r]=n.processRecord(n.createRecord(t,!0),!0),a[r].setData("parentIndex",r)}n.clear(!0),r.replaceValues({values:a,isNewDataset:!0,silent:!0})}n.onDataReplaced(t,e)}else n.clear(!0),n._data=null}get data(){return this._data}getRange(e,t,n=!0){return(n?this.storage.allValues:this.storage.values).slice(e,t)}createRecord(e,t=!1){return new this.modelClass(e,this,null,t)}processRecord(e,t=!1){return e}refreshData(){this.filter(),this.sort()}onRecordIdChange({record:e,oldValue:t,value:n}){const r=this,i=r._idMap,{idRegister:o}=r;r.storage._indicesInvalid=!0,i&&(delete i[t],i[n]=e),r.added.changeId(t,n),r.removed.changeId(t,n),r.modified.changeId(t,n),delete o[t],o[n]=e,e.index=r.storage.indexOf(e)}onUpdateRecord(e,t){const{internalId:n}=t,{internalIdRegister:r}=this;n&&(this.storage._indicesInvalid=!0,delete r[n.oldValue],r[n.value]=e),this.reapplyFilterOnUpdate&&this.isFiltered&&this.filter()}get useRawData(){return this._useRawData}set useRawData(e){this._useRawData=!0===e?{enabled:!0,disableDuplicateIdCheck:!0,disableTypeConversion:!0,disableDefaultValue:!1}:e?Object.assign(e,{enabled:!0}):{enabled:!1}}getCount(e=!0){return e?this.count:this.originalCount}get originalCount(){var e;return this.storage.totalCount-((null===(e=this.groupRecords)||void 0===e?void 0:e.length)||0)}get count(){return this.storage.count}get allCount(){return this.isTree?this.rootNode.descendantCount:this.storage.totalCount}get records(){return this.storage.values}get first(){return this.storage.values[0]}get last(){return this.storage.values[this.storage.values.length-1]}getAt(e,t=!1){return this.storage.getAt(e,t)}register(e){const t=this.isTree&&this.idRegister[e.id];if(t&&t!==e)throw new Error("Id collision on "+e.id);this.idRegister[e.id]=e,this.internalIdRegister[e.internalId]=e}unregister(e){delete this.idRegister[e.id],delete this.internalIdRegister[e.internalId]}get registeredRecords(){return Object.values(this.idRegister)}getById(e){return null!==e&&void 0!==e&&e.isModel?e:this.idRegister[e]}isAvailable(e){const t=this.getById(e);return t&&this.storage.includes(t)||!1}getByInternalId(e){return this.internalIdRegister[e]}includes(e){return this.isTree?null!=this.idRegister[l.default.asId(e)]:this.indexOf(e)>-1}indexOf(e,t=!1){if(null!==e&&void 0!==e&&e.isModel&&!e.stores.includes(this))return-1;const n=l.default.asId(e);if(null==n)return-1;if(this.isTree)return this.storage.indexOf(n);const r=this.idMap[n];return r?r[t?"visibleIndex":"index"]:-1}allIndexOf(e){if(this.isTree){const t=this.getById(e);let n=-1;return t&&t.bubble(e=>{e.parent?n+=e.parentIndex+1:e===this.rootNode&&this.rootVisible&&(n+=1)}),n}return this.storage.indexOf(e,!0)}getDistinctValues(e){const t=[],n={};let r;return this.forEach(i=>{i.isSpecialRow||i.isRoot||(r=i.get(e),n[r]||(t.push(r),n[r]=1))}),t}getValueCount(e,t){let n=0;return this.forEach(r=>{c.default.isEqual(r.get(e),t)&&n++}),n}set json(e){"string"===typeof e&&(e=d.default.safeJsonParse(e)),this.data=e}get json(){return d.default.safeJsonStringify(this)}get formattedJSON(){return d.default.safeJsonStringify(this,null,4)}toJSON(){return(this.isTree?this.rootNode.children:this).map(e=>e.toJSON())}forEach(e,t=this,n){"boolean"===typeof(n=void 0!==n&&n)&&(n={includeFilteredOutRecords:n,includeCollapsedGroupRecords:!1});const r=(n,r)=>{if(!n.isRoot&&!n.isSpecialRow)return e.call(t,n,r)};if(this.isTree)this.rootNode.traverseWhile(r,!1,n.includeFilteredOutRecords);else{const e=n.includeFilteredOutRecords?this.storage.allValues:this.storage.values;if(this.isGrouped&&n.includeCollapsedGroupRecords)for(let t=0;t<e.length;t++){const n=e[t];if(n.groupChildren&&!0===n.meta.collapsed){for(let e=0;e<n.groupChildren.length;e++)if(!1===r(n.groupChildren[e],e))return}else if(!1===r(n,t))return}else for(let t=0;t<e.length;t++)if(!1===r(e[t],t))return}}map(e,t=this){return this.storage.values.map(e,t)}reduce(e,t=[],n=this){return n!==this&&(e=e.bind(n)),this.storage.values.reduce(e,t,n)}[Symbol.iterator](){return this.storage.values[Symbol.iterator]()}traverse(e,t=this.rootNode,n=t===this.rootNode,r){"boolean"===typeof(r=void 0!==r&&r)&&(r={includeFilteredOutRecords:r,includeCollapsedGroupRecords:!1});const i=this;if(i.isTree){if("boolean"===typeof t&&(n=t,t=i.rootNode),i.isChained){const t=e;e=e=>{i.chainedFilterFn(e)&&t(e)}}t.traverse(e,n,r.includeFilteredOutRecords)}else i.forEach(t=>t.traverse(e,!1,r.includeFilteredOutRecords),i,r)}traverseWhile(e,t=this.rootNode,n=t===this.rootNode){const r=this;if(r.isTree){if("boolean"===typeof t&&(n=t,t=r.rootNode),r.isChained){const t=e;e=e=>{r.chainedFilterFn(e)&&t(e)}}t.traverseWhile(e,n)}else for(const i of r.storage)if(!1===i.traverse(e))break}getNext(e,t=!1,n=!1){const r=this,i=r.storage.values;let o=r.indexOf(e);if(o>=i.length-1){if(!t)return null;o=-1}const a=i[o+1];return n&&a&&a.isSpecialRow?r.getNext(i[o+1],t,!0):a}getPrev(e,t=!1,n=!1){const r=this,i=r.storage.values;let o=r.indexOf(e);if(0===o){if(!t)return null;o=i.length}const a=i[o-1];return n&&a&&a.isSpecialRow&&o>0?r.getPrev(i[o-1],t,!0):a}getAdjacent(e,t=!0,n=!1,r=!1){return t?this.getNext(e,n,r):this.getPrev(e,n,r)}getNextLeaf(e,t=!1){const n=this.leaves,r=this.getById(e);let i=n.indexOf(r);if(i>=n.length-1){if(!t)return null;i=-1}return n[i+1]}getPrevLeaf(e,t=!1){const n=this.leaves,r=this.getById(e);let i=n.indexOf(r);if(0===i){if(!t)return null;i=n.length}return n[i-1]}getAdjacentLeaf(e,t=!0,n=!1){return t?this.getNextLeaf(e,n):this.getPrevLeaf(e,n)}makeChained(e=(()=>!0),t,n){return new this.constructor(Object.assign(n||{},{tree:!1,autoTree:!1,masterStore:this,modelClass:this.modelClass,chainedFilterFn:e,chainedFields:t}))}chain(){return this.makeChained(...arguments)}}j.storeMap={},j._$name="Store"},"./lib/Core/data/StoreBag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/util/Bag.js");class i extends r.default{add(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),super.add(...e.filter(e=>e.isPersistable))}}i._$name="StoreBag"},"./lib/Core/data/field/BooleanDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"boolean"}static get alias(){return"bool"}static get prototypeProperties(){return{nullValue:!1}}convert(e){return null==e?this.nullable?e:this.nullValue:Boolean(e)}}i.initClass(),i._$name="BooleanDataField"},"./lib/Core/data/field/DataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Factoryable.js"),o=n("./lib/Core/helper/ObjectHelper.js");const{getOwnPropertyDescriptor:a}=Reflect;class s extends(r.default.mixin(i.default)){static get type(){return"auto"}static get factoryable(){return{defaultType:"auto"}}static get prototypeProperties(){return{compare:null,compareItems:null,dataSource:null,alwaysWrite:!1,nullable:!0,nullText:null,nullValue:void 0,persist:!0,readOnly:!1,internal:!1}}construct(e){const t=this;e&&(t.name=e.name,Object.assign(t,e)),t.compare&&(t.compareItems=(e,n)=>t.compare(null===e||void 0===e?void 0:e[t.name],null===n||void 0===n?void 0:n[t.name]))}defineAccessor(e,t){const{name:n,dataSource:r}=this;!t&&n in e&&e.$meta.hierarchy.some(e=>{var t;return!1===(null===(t=a(e.prototype,n))||void 0===t?void 0:t.enumerable)})||Reflect.defineProperty(e,n,{configurable:!0,enumerable:!0,get:this.complexMapping?function(){return this.complexGet(n,r)}:function(){return this.flatGet(n,r)},set(e){const t=this.$meta.fields.map[n];t&&t.readOnly||this.set(n,e)}})}isEqual(e,t){return o.default.isEqual(e,t)}print(e){return null==e?this.nullText:this.printValue(e)}printValue(e){return String(e)}}s._$name="DataField"},"./lib/Core/data/field/DateDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/data/field/DataField.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/VersionHelper.js");class a extends r.default{static get type(){return"date"}static get prototypeProperties(){return{format:null}}get dateFormat(){return this.format}set dateFormat(e){o.default.deprecate("Core","5.0.0",`DateDataField "${this.name}": dateFormat config has been renamed to "format"`),this.format=e}convert(e){return null==e?this.nullable||(e=this.nullValue):"now"===e?e=new Date:e instanceof Date||(e=(e=i.default.parse(e,this.format||i.default.defaultParseFormat))||void 0),e}serialize(e){return e instanceof Date&&(e=i.default.format(e,this.format||i.default.defaultFormat)),e}printValue(e){return i.default.format(e,this.format||i.default.defaultFormat)}}a.initClass(),a._$name="DateDataField"},"./lib/Core/data/field/IntegerDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"integer"}static get alias(){return"int"}static get prototypeProperties(){return{nullValue:0,rounding:"round"}}convert(e){return null==e?this.nullable?e:this.nullValue:Math[this.rounding](Number(e))}}i.initClass(),i._$name="IntegerDataField"},"./lib/Core/data/field/ModelDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"model"}static get prototypeProperties(){return{complexMapping:!0}}}i.initClass(),i._$name="ModelDataField"},"./lib/Core/data/field/NumberDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"number"}static get alias(){return"float"}static get prototypeProperties(){return{nullValue:0,precision:null}}convert(e){if(null==e)return this.nullable?e:this.nullValue;e=Number(e);let t=this.precision;return t?(t=10**t,e=Math.round(e*t)/t):0===t&&(e=Math.round(e)),e}}i.initClass(),i._$name="NumberDataField"},"./lib/Core/data/field/ObjectDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"object"}static get prototypeProperties(){return{complexMapping:!0}}}i.initClass(),i._$name="ObjectDataField"},"./lib/Core/data/field/StringDataField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/field/DataField.js");class i extends r.default{static get type(){return"string"}static get prototypeProperties(){return{nullValue:""}}convert(e){return null==e?this.nullable?e:this.nullValue:String(e)}}i.initClass(),i._$name="StringDataField"},"./lib/Core/data/mixin/StoreCRUD.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ArrayHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreCRUD"}static get defaultConfig(){return{autoCommit:!1}}static get properties(){return{isRemoving:!1,suspendCount:0}}remove(e,t=!1){const n=this,{storage:r}=n;if(e instanceof Set&&(e=Array.from(e)),(e=(Array.isArray(e)?e:[e]).reduce((e,t)=>((t=n.getById(t))&&e.push(t),e),[])).length){if(n.isRemoving=!0,n.tree){const r=e.reduce((e,t)=>{const n=t.parent;return n&&(e[n.id]||(e[n.id]=[n,[]]),e[n.id][1].push(t)),e},{});for(const e of Object.values(r))e[0].removeChild(e[1],!1,t);return n.isRemoving=!1,e}if(n.isGrouped){const t=r.count,o=[],a=new Set;for(const r of e){const{groupParent:e}=r.instanceMeta(n);e&&e.meta.collapsed&&o.push(r),i.default.remove(e.groupChildren,r),e.meta.childCount--,a.add(e)}for(const e of a)e.groupChildren.length>0&&n.onModelChange(e,{},{});o.length&&r.trigger("change",{action:"splice",removed:o,added:[],replaced:[],oldCount:t})}if(!e.length||!t&&!1===n.trigger("beforeRemove",{records:e}))return n.isRemoving=!1,null;t&&n.suspendEvents(),r.remove(e),t&&n.resumeEvents(),n.autoCommit&&n.doAutoCommit(),n.isRemoving=!1}return e}clear(e=!1){var t,n;const r=this,{storage:i}=r;if(r.storage.totalCount||null!==(t=r.rootNode)&&void 0!==t&&null!==(n=t.unfilteredChildren)&&void 0!==n&&n.length){if(!e&&!1===r.trigger("beforeRemove",{records:i.allValues,removingAll:!0}))return null;if(r.rootNode)r.isChained||r.rootNode.clearChildren(e);else if(e){const e=r.registeredRecords;for(let t,n=e.length-1;n>=0;n--)t=e[n],t&&!t.isDestroyed&&t.unjoinStore(r)}e&&(r.removed.clear(),i.suspendEvents()),i.clear(),e&&i.resumeEvents(),r.added.clear(),r.modified.clear()}}removeAll(e=!1){const t=this,n=t.storage;let r;if(t.isRemoving=!0,e){n.suspendEvents();const e=t.registeredRecords;for(let n,r=e.length-1;r>=0;r--)n=e[r],n&&!n.isDestroyed&&n.unjoinStore(t)}return r=t.tree?!1!==t.rootNode.clear():null!==t.clear(),e&&n.resumeEvents(),t.isRemoving=!1,r}add(e,t=!1){const n=this,r=n.storage;if(Array.isArray(e)){if(!e.length)return}else e=[e];if(n.tree=n.tree||Boolean(n.autoTree&&e[0].children),n.tree){const r=new Map,i=[];return e.forEach(e=>{const t=e[n.modelClass.parentIdField];r.has(t)||r.set(t,[]),r.get(t).push(e)}),r.forEach((e,r)=>{const o=null==r?n.rootNode:n.getById(r);if(!o)throw new Error(`Parent node with id ${r} not found, cannot add children.`);i.push(...o.appendChild(e,t))}),i}if(!t&&!1===n.trigger("beforeAdd",{records:e}))return null;if(n.tree=n.tree||Boolean(n.autoTree&&e[0].children),n.tree)return n.rootNode.appendChild(e);const i=n.processRecords(e);return t&&n.suspendEvents(),r.add(i),t&&n.resumeEvents(),n.autoCommit&&n.doAutoCommit(),i}processRecords(e,t){return e.map(e=>{const n=this.processRecord(e.isModel?e:this.createRecord(e));return null===t||void 0===t||t.call(this,n),n})}insert(e,t,n=!1){const r=this,i=r.storage,o=r.getAt(e),a=i.values,s=[];if(Array.isArray(t)||(t=[t]),!1===r.trigger("beforeAdd",{records:t}))return null;let l,c,d;if(a[c=e]===t[0]||a[c=e-1]===t[0])for(l=!0,d=0;l&&d<t.length;d++)t[d]!==a[c+d]&&(l=!1);if(l)return null;const u=r.processRecords(t,t=>{const n=i.indexOf(t);t.children&&t.children.length&&r.autoTree&&(r.tree=!0),n>-1&&(n<e&&o&&e--,s.push(n)),t.meta.previousIndex=n});if(r.tree){const n=r.rootNode;return n.insertChild(t,n.children&&n.children[e])}return r.suspendEvents(),r.storage.remove(s),r.resumeEvents(),n&&r.suspendEvents(),i.splice(e,0,...u),n&&r.resumeEvents(),r.autoCommit&&r.doAutoCommit(),u}move(e,t){this.storage.move(e,t)}setMultiple(e,t,n){const r=this,i=[],o=[];r.forEach(r=>{e(r)&&(o.push(r.set(t,n,!0)),i.push(r))}),r.trigger("updateMultiple",{records:i,all:r.records.length===i.length}),r.trigger("change",{action:"updatemultiple",records:i,all:r.records.length===i.length}),r.reapplyFilterOnUpdate&&r.isFiltered&&r.filter()}setAll(e,t){const n=this,r=[];n.forEach(n=>{r.push(n.set(e,t,!0))}),n.trigger("updateMultiple",{records:n.records,all:!0}),n.trigger("change",{action:"updatemultiple",records:n.records,all:!0}),n.reapplyFilterOnUpdate&&n.isFiltered&&n.filter()}acceptChanges(){const e=this;e.added.forEach(e=>e.clearChanges(!1)),e.modified.forEach(e=>e.clearChanges(!1)),e.added.clear(),e.modified.clear(),e.removed.clear()}commit(e=!1){const{changes:t}=this;return!(!e&&!1===this.trigger("beforeCommit",{changes:t}))&&(this.acceptChanges(),e||this.trigger("commit",{changes:t}),t)}revertChanges(){const e=this,{changes:t}=e;e.add(e.removed.values,!0),e.remove(e.added.values,!0),e.modified.forEach(e=>e.revertChanges(!0)),e.added.clear(),e.modified.clear(),e.removed.clear(),e.trigger("change",{action:"clearchanges",changes:t})}get changes(){const e=this,t=e.modified.values.filter(e=>e.rawModifications);return e.added.count||t.length||e.removed.count?{added:e.added.values.slice(),modified:t,removed:e.removed.values.slice()}:null}get autoCommit(){return this._autoCommit}set autoCommit(e){this._autoCommit=e,e&&this.changes&&this.commit()}suspendAutoCommit(){this.suspendCount++}resumeAutoCommit(e=!0){this.suspendCount--,this.autoCommit&&e&&this.doAutoCommit()}doAutoCommit(){this.suspendCount<=0&&this.commit()}applyChangesFromStore(e){const t=this,n=e.changes;n&&(n.added&&t.add(n.added),n.removed&&t.remove(n.removed.map(e=>e.id)),n.modified&&n.modified.forEach(e=>{t.getById(e.id).set(e.modifications)}))}}},"./lib/Core/data/mixin/StoreChained.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=()=>!0;t.default=e=>class extends(e||r.default){static get $name(){return"StoreChained"}static get defaultConfig(){return{chainedFilterFn:null,chainedFields:null,masterStore:null,doRelayToMaster:["add","remove","insert"],dontRelayToMaster:[],keepUncommittedChanges:!1,excludeCollapsedRecords:!0}}construct(e){super.construct(e);const t=this,{masterStore:n}=t;n&&(t.methodNamesToRelay.forEach(e=>t[e]=(...n)=>t.relayToMaster(e,n)),t.removeAll=(...e)=>{n.remove(t.getRange(),...e)},n.on({changePreCommit:t.onMasterDataChangedPreCommit,change:t.onMasterDataChanged,prio:1,thisObj:t}),n.chainedStores||(n.chainedStores=[]),n.chainedStores.push(t),t.fillFromMaster())}get isChained(){return Boolean(this.masterStore)}set chainedFilterFn(e){this._chainedFilterFn=this.thisObj?e.bind(this.thisObj):e}get chainedFilterFn(){return this._chainedFilterFn||i}get methodNamesToRelay(){const e=Array.isArray(this.doRelayToMaster),t=Array.isArray(this.dontRelayToMaster);return e&&this.doRelayToMaster.filter(e=>!t||!this.dontRelayToMaster.includes(e))||[]}updateChainedStores(){this.chainedStores&&this.chainedStores.forEach(e=>e.fillFromMaster())}fillFromMaster(){const e=this,{masterStore:t,isTree:n}=e;if(!e.isChained)throw new Error("fillFromMaster only allowed on chained store");if(e.keepUncommittedChanges){if(n)throw new Error("Cannot use keepUncommittedChanges on a chained tree store");e.data=[].concat(e.added.values.filter(t=>!e.removed.includes(t)),t.allRecords.filter(t=>!e.removed.includes(t)&&!e.added.includes(t)&&e.chainedFilterFn(t)))}else{let r=t.allRecords.filter(e.chainedFilterFn);if(n&&(e.idRegister={},e.internalIdRegister={},r.forEach(t=>{t.stores.includes(e)?e.register(t):t.joinStore(e)}),e.excludeCollapsedRecords)){const t=e.getChildren(e.rootNode);r=e.doIncludeExclude(t,!0)}e.data=r}}commitToMaster(){const e=this,t=e.masterStore;if(!e.isChained)throw new Error("commitToMaster only allowed on chained store");return t.beginBatch(),t.remove(e.removed.values),t.add(e.added.values),t.endBatch(),e.commit()}relayToMaster(e,t){return this.masterStore[e](...t)}onMasterDataChangedPreCommit(e){this.onMasterDataChanged(e),this.$masterEventhandled=!0}onMasterDataChanged({action:e,changes:t,$handled:n}){var r;this.$masterEventhandled?this.$masterEventhandled=!1:("update"!==e||null!==(r=this.chainedFields)&&void 0!==r&&r.some(e=>e in t))&&this.fillFromMaster()}doDestroy(){var e;null===(e=this.chainedStores)||void 0===e||e.forEach(e=>e.destroy()),super.doDestroy()}}},"./lib/Core/data/mixin/StoreFilter.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/util/CollectionFilter.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/Core/util/Collection.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreFilter"}static get defaultConfig(){return{filters:null,reapplyFilterOnAdd:!1,reapplyFilterOnUpdate:!1}}set reapplyFilterOnAdd(e){this.storage.autoFilter=e}get reapplyFilterOnAdd(){return this.storage.autoFilter}set filters(e){const t=this,n=t.filters;if(n.clear(),t._filtersFunction=null,e){if("Object"===e.constructor.name)for(const t of Object.entries(e))"filterBy"===t[0]&&"function"===typeof t[1]?n.add(new i.default({filterBy:t[1]})):n.add(new i.default("Object"===t[1].constructor.name?Object.assign({property:t[0]},t[1]):{property:t[0],value:t[1]}));else Array.isArray(e)?n.add(...e.map(e=>e instanceof i.default?e:new i.default(e))):e.isCollection?n.add(...e.values):n.add(new i.default({filterBy:e}));n.forEach(e=>e.owner=t)}}get filters(){return this._filters||(this._filters=new a.default({extraKeys:["property"]}))}set filtersFunction(e){this._filtersFunction=e}get filtersFunction(){const e=this,{filters:t,isGrouped:n}=e;if(!e._filtersFunction)if(t.count){const r=i.default.generateFiltersFunction(t);e._filtersFunction=e=>n&&e.isSpecialRow?e.groupChildren.some(r):r(e)}else e._filtersFunction=o.default.returnTrue;return e._filtersFunction}get isFiltered(){return this.filters.values.some(e=>!e.disabled)}traverseFilter(e){const t=this,n=!e.isRoot&&t.filtersFunction(e),r=e.unfilteredChildren||e.children;return r&&r.length?(e.unfilteredChildren||(e.unfilteredChildren=e.children.slice()),e.children=e.unfilteredChildren.filter(e=>t.traverseFilter(e)),e.updateChildrenIndices(e.unfilteredChildren,!0,!0),e.updateChildrenIndices(e.children,!1,!0),n||Boolean(e.children.length)):n}traverseClearFilter(e){const t=this;e.unfilteredChildren&&(e.children=e.unfilteredChildren.slice(),e.unfilteredChildren=null),e.children&&(e.children.forEach(e=>t.traverseClearFilter(e)),e.updateChildrenIndices(e.children,!1,!0))}get latestFilterField(){return this.filters.last?this.filters.last.property:null}addFilter(e,t=!1){return(e=e instanceof i.default?e:new i.default(e)).owner=this,this.filters.add(e),t||this.filter(),e}filter(e){const t=this,{filters:n}=t;let r=!1;if(e){let o=typeof e;if("object"===o&&("silent"in e||"replace"in e)&&(r=e.silent,e.replace&&n.clear(),o=typeof(e=e.filters)),e&&(t.isConfiguring=!0,Array.isArray(e)?e.forEach(e=>t.addFilter(e,!0),t):"function"===o?t.addFilter(new i.default(e),!0):"string"===o?t.addFilter({property:e,value:arguments[1]},!0):t.addFilter(e,!0),t.isConfiguring=!1,!t.isFiltered))return}t.filtersFunction=null,t.performFilter(r)}performFilter(e){const t=this,{storage:n,filters:r,rootNode:i}=t,o=t.count;t.trigger("beforeFilter",{filters:r}),t.tree?(t.isFiltered?t.traverseFilter(i):t.traverseClearFilter(i),n.replaceValues({values:t.collectDescendants(i).visible,silent:!0})):t.isFiltered?n.addFilter({id:"primary-filter",filterBy:t.filtersFunction}):n.filters.clear(),t.afterPerformFilter(e?null:{action:"filter",filters:r,oldCount:o,records:t.storage.values})}afterPerformFilter(e){this.resetRelationCache(),e&&this.triggerFilterEvent(e)}get filtered(){return this.storage.isFiltered}triggerFilterEvent(e){this.trigger("filter",e),this.remoteFilter||(this.trigger("refresh",e),this.trigger("change",e))}filterBy(e){this.filter(e)}removeFilter(e,t=!1){const n=this,r=e instanceof i.default?e:n.filters.get(e);if(r)return n.filters.remove(r),n._filtersFunction=null,t||n.filter(),r}clearFilters(){this.filters.clear(),this.filter()}convertFilterToString(e){const t=this.filters.getBy("property",e);return t&&!t.filterBy?String(t):""}doDestroy(){var e;null===(e=this._filters)||void 0===e||e.destroy(),super.doDestroy()}}},"./lib/Core/data/mixin/StoreGroup.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/StringHelper.js");const a={add:1,replace:1};t.default=e=>class extends(e||r.default){static get $name(){return"StoreGroup"}static get defaultConfig(){return{groupers:null}}construct(e){super.construct(e),this.on("change",this.onDataChanged)}get groupers(){return this._groupers}set groupers(e){const t=this;e&&e.length?t._groupers=e:t.groupers&&(delete t._groupers,t.groupRecords.forEach(e=>{e.meta.collapsed&&t.includeGroupRecords(e)}),t.storage.replaceValues({values:t.removeHeadersAndFooters(t.storage._values),filteredValues:t.storage.isFiltered?t.removeHeadersAndFooters(t.storage._filteredValues):null,silent:!0}),t.group(null,null,null,!1),"groupRecords"in t&&delete t.groupRecords),this._idMap=null}storeCollapsedGroups(){const e=this;return e.collapsedGroupsHash={},!(!e.groupRecords||!e.groupRecords.length)&&(e.groupRecords.forEach(t=>{e.expand(t)&&(e.collapsedGroupsHash[t.id]=!0)}),!0)}restoreCollapsedGroups(){const e=this,{collapsedGroupsHash:t}=e;t&&Object.keys(t).forEach(t=>e.collapse(e.getById(t)))}onDataChange({source:e,action:t,removed:n}){const r=this,{groupers:i}=r;if(i){const o=e.values;i.length?"splice"===t&&n&&n.length&&(r.storeCollapsedGroups()&&r.storage.replaceValues({values:r.removeHeadersAndFooters(o),silent:!0}),r.storage.replaceValues({values:r.prepareGroupRecords(o),silent:!0}),r.restoreCollapsedGroups()):e.replaceValues({values:r.removeHeadersAndFooters(o),silent:!0})}super.onDataChange&&super.onDataChange(...arguments)}collapse(e){return!(!e||e.meta.collapsed)&&(this.excludeGroupRecords(e),e.meta.collapsed=!0,!0)}expand(e){return!(!e||!e.meta.collapsed)&&(this.includeGroupRecords(e),e.meta.collapsed=!1,!0)}removeHeadersAndFooters(e){const t=this;return e.filter(e=>!e.isSpecialRow||(t.unregister(e),!1),!0)}prepareGroupRecords(e){const t=this;if(e=t.removeHeadersAndFooters(e),!t.isGrouped)return e;const n=[],r=t.groupers[0].field,a=[];let s=null,l=null,c=0;function d(){const e=l.meta.groupRowFor,r="group-footer-"+("number"===typeof e?e:o.default.createId(e)),i=t.getById(r)||new t.modelClass({id:r},t,{specialRow:!0,groupFooterFor:e,groupRecord:l});return i.stores=[t],t.register(i),i.groupChildren=l.groupChildren,a.push(i),n.push(i),t.allRecords.push(i),l.groupChildren.push(i),c++,i}return e.forEach(e=>{const u=void 0==e[r]?"__novalue__":e[r],h="group-header-"+("number"===typeof u?u:o.default.createId(u));!e.groupChildren||e.groupChildren.length?(i.default.isEqual(u,s)||(l&&(t.useGroupFooters&&d(),l.meta.childCount=c),l=t.getById(h)||new t.modelClass({id:h},t,{specialRow:!0,groupRowFor:u,groupField:r}),l.stores=[t],t.register(l),l.groupChildren=[],n.push(l),t.allRecords.push(l),a.push(l),s=u,c=0),e.instanceMeta(t.id).groupParent=l,n.push(e),l.groupChildren.push(e),c++):t.unregister(e)}),l&&(t.useGroupFooters&&d(),l.meta.childCount=c),t.groupRecords=a,n}get isGrouped(){return Boolean(this.groupers&&this.groupers.length)}group(e,t,n=!1,r=!0,o=!1){const a=this;let s;if(n?a.groupers.push(s={field:e,ascending:t,complexMapping:e.includes(".")}):e&&(void 0==t&&(t=!a.groupInfo||a.groupInfo.field!==e||!a.groupInfo.ascending),a.groupInfo=s={field:e,ascending:t,complexMapping:e.includes(".")},a.groupers=[a.groupInfo]),s){const{prototype:t}=a.modelClass;s.complexMapping&&!Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(t,e,{get(){return i.default.getPath(this,e)}})}!1!==r&&a.sort(null,null,!1,!0),o||(a.trigger("group",{isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}),a.trigger("refresh",{action:"group",isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}))}addGrouper(e,t=!0){this.group(e,t,!0)}removeGrouper(e){const t=this,n=t.groupers.findIndex(t=>t.field===e);n>-1&&(t.groupers.splice(n,1),t.groupers.length?t.group():t.clearGroupers())}clearGroupers(){this.groupers=null}isRecordInGroup(e,t){return this.isGrouped?e[this.groupers[0]&&this.groupers[0].field]===t&&!e.isSpecialRow:null}isInCollapsedGroup(e){const t=e.instanceMeta(this).groupParent;return t&&t.meta.collapsed}getGroupRecords(e){const t=this;return t.isGrouped?t.storage.values.filter(n=>t.isRecordInGroup(n,e)):null}getGroupTitles(){return this.isGrouped?this.getDistinctValues(this.groupers[0]&&this.groupers[0].field):null}onDataChanged({changes:e,action:t}){this.isGrouped&&(!e&&a[t]||e&&this.groupers.some(t=>t.field in e))&&this.sort()}internalIncludeExcludeGroupRecords(e,t){const n=this,r=n.indexOf(e),i=n.id;if(-1!==r&&!(e.meta.collapsed&&!t||!e.meta.collapsed&&t)){if(e.groupChildren.forEach(e=>e.instanceMeta(i).hiddenByCollapse=!t),t){const t=e.groupChildren.filter(e=>!n.isAvailable(e));n.storage.values.splice(r+1,0,...t)}else n.storage.values.splice(r+1,e.groupChildren.length);n.storage._indicesInvalid=!0,n._idMap=null}}excludeGroupRecords(e){this.internalIncludeExcludeGroupRecords(e,!1)}includeGroupRecords(e){this.internalIncludeExcludeGroupRecords(e,!0)}collectGroupRecords(e,t=!0){return(e?this.storage.allValues:this.storage.values).reduce((e,n)=>(n.isSpecialRow&&(t&&e.push(n),"groupRowFor"in n.meta&&e.push.apply(e,n.groupChildren)),e),[])}}},"./lib/Core/data/mixin/StoreProxy.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Core/helper/StringHelper.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=e=>class extends(e||r.default){static get configurable(){return{objectify:null}}initProxy(){if(!i.default.global.Proxy)throw new Error("Proxy not supported");return new Proxy(this,{get(e,t){if(t in e)return e[t];let n=e.getById(t);return n||isNaN(parseInt(t))||(n=e.getAt(parseInt(t))),n},set:(e,t,n)=>(t in e||e.isDestroying?e[t]=n:e.add(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({[e.modelClass.idField]:t},n)),!0),deleteProperty:(e,t)=>e.isDestroying?(delete e[t],!0):Boolean(e.remove(t).length),has(e,t){if(t in e)return!0;if(t.startsWith("{")&&t.endsWith("}")){const e=o.default.safeJsonParse(t);t=null===e||void 0===e?void 0:e.id}return e.includes(t)}})}}},"./lib/Core/data/mixin/StoreRelation.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ArrayHelper.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Core/data/Model.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreRelation"}initRelations(e){const t=this,n=t.modelClass.relations;e&&t.modelRelations&&t.modelRelations.forEach(e=>{e.storeDetacher&&e.storeDetacher()}),t.modelRelations&&0!==t.modelRelations.length&&!e||!n||(t.modelRelations=[],n&&n.forEach(n=>{const r=Object.assign({},n),o="string"===typeof r.store?t[r.store]:r.store;if(r.dependentStore=t,t.modelRelations.push(r),o){r.storeProperty=r.store,r.store=o;const n=o.dependentStoreConfigs;if(n.has(t)){const o=n.get(t);if(e){const e=o.find(e=>e.relationName===r.relationName);e&&i.default.remove(o,e)}o.push(r)}else n.set(t,[r]);r.collectionName&&o.initRelationCollection(r,t),o.count>0&&o.updateDependentStores("dataset",o.records)}}))}initRelationCollection(e,t){const n=this,r=e.collectionName;n.collectionStores||(n.collectionStores={}),n.collectionStores[r]={store:t,config:e},n[r+"Store"]||(n[r+"Store"]=t),n.count>0&&n.initModelRelationCollection(r,n.records)}initModelRelationCollection(e,t){const n=this;t.forEach(t=>{t.traverse(t=>{const r=e in t?"$related"+o.default.capitalize(e):e;Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return n.getCollection(this,e)},set:function(t){return n.setCollection(this,e,t)}})})})}resetRelationCache(){this.relationCache={},this.forEach(e=>e.initRelations())}updateRecordRelationCache(e,t){const n=this;t&&t.forEach(t=>{const r=t.related?t.related.id:e.get(t.config.fieldName);void 0!==r&&n.cacheRelatedRecord(e,r,t.config.relationName,r)})}getRelationCollection(e,t){const n=a.default.asId(t);return this.relationCache[e]&&this.relationCache[e][n]||[]}getCollection(e,t){const{config:n,store:r}=this.collectionStores[t];return r.relationCache[n.relationName]&&r.relationCache[n.relationName][e.id]||[]}setCollection(e,t,n){const{config:r,store:i}=this.collectionStores[t];i.relationCache[r.relationName]||(i.relationCache[r.relationName]={});const o=(i.relationCache[r.relationName][e.id]||[]).slice(),s=[],l=[];i.suspendEvents(),o.forEach(e=>{n.includes(e)||(e[r.fieldName]=null,i.remove(e),l.push(e))}),n.forEach(t=>{t instanceof a.default?t.stores.includes(i)||(i.add(t),s.push(t)):([t]=i.add(t),s.push(t)),t[r.fieldName]=e.id}),i.resumeEvents(),l.length&&(i.trigger("remove",{records:l}),i.trigger("change",{action:"remove",records:l})),s.length&&(i.trigger("add",{records:s}),i.trigger("change",{action:"add",records:s}))}cacheRelatedRecord(e,t,n,r=null){const o=this,a=o.relationCache[n]||(o.relationCache[n]={});null!==r&&o.uncacheRelatedRecord(e,n,r),null!=t&&i.default.include(a[t]||(a[t]=[]),e)}uncacheRelatedRecord(e,t=null,n=null){const r=this;function i(t,n){const i=r.relationCache[t],o=i&&i[n];if(o){const t=o.indexOf(e);t>=0&&o.splice(t,1),0===o.length&&delete i[n]}}null!=n?i(t,n):e.meta.relationCache&&Object.entries(e.meta.relationCache).forEach(([e,t])=>{i(e,t&&t.id)})}updateDependentStores(e,t){this.dependentStoreConfigs.forEach(n=>{n.forEach(n=>{const r=n.dependentStore,i=r.relationCache[n.relationName];return"dataset"===e?(n.collectionName&&this.initModelRelationCollection(n.collectionName,t),void r.forEach(e=>{const t=e.initRelation(n);t&&r.cacheRelatedRecord(e,t.id,n.relationName,t.id)})):"removeall"===e?(r.forEach(e=>{e.removeRelation(n)}),void delete r.relationCache[n.relationName]):("add"===e&&n.collectionName&&this.initModelRelationCollection(n.collectionName,t),void("add"!==e&&"remove"!==e||t.forEach(t=>{const o=i&&i[t.id];switch(e){case"remove":o&&o.forEach(e=>e.removeRelation(n));break;case"add":r.forEach(e=>{e.get(n.fieldName)==t.id&&(e.initRelation(n),r.cacheRelatedRecord(e,t.id,n.relationName))})}})))})})}updateDependentRecordIds(e,t){this.dependentStoreConfigs&&this.dependentStoreConfigs.forEach(n=>{n.forEach(n=>{const r=n.dependentStore,i=r.relationCache[n.relationName],o=i&&i[e]&&i[e].slice();o&&o.forEach(i=>{r.cacheRelatedRecord(i,t,n.relationName,e),i.set(n.fieldName,t,!1,!0)})})})}}},"./lib/Core/data/mixin/StoreSearch.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");const o=(e,t)=>-1!==String(e).toLowerCase().indexOf(t),a={string:o,number:o,boolean:o,date:(e,t)=>e instanceof Date&&t instanceof Date?String(e)===String(t):-1!==String(e.getMonth()+1).indexOf(t)||-1!==String(e.getDate()).indexOf(t)||-1!==String(e.getFullYear()).indexOf(t)};t.default=e=>class extends(e||r.default){static get $name(){return"StoreSearch"}search(e,t=null){const n=this.storage.values,r=n.length,i=[];if(null==e)return null;let o,s,l,c,d;for("string"===typeof e&&(e=String(e).toLowerCase()),o=0;o<r;o++){s=n[o];for(const n of t||s.fieldNames)l=s[n],c=l instanceof Date?"date":typeof l,d=a[c],l&&d&&d(l,e)&&i.push({index:o,data:s,field:n,id:s.id})}return i}findByField(e,t){let n,r,i,o=this.storage.values,a=o.length,s=[];for(null!==t&&void 0!==t&&(t=String(t).toLowerCase()),n=0;n<a;n++){r=o[n],i=r[e];const a=i instanceof Date?"date":typeof i,l={date:()=>Boolean(i)&&i.toLocaleString().includes(t),string:()=>Boolean(i)&&i.toLowerCase().includes(t),number:()=>"number"===typeof i&&i.toString().includes(t),object:()=>i===t,undefined:()=>i===t};((null===t||void 0===t)&&i===t||t&&l[a]())&&s.push({id:r.id,index:n,data:r})}return s}find(e,t=!1){let n=t?this.storage.allValues:this.storage.values;return this.isGrouped&&(n=this.collectGroupRecords(t,!1)),n.find(e)}findRecord(e,t,n=!1){const r=n=>i.default.isEqual(n[e],t);return this.tree?this.query(r)[0]:(n?this.storage.allValues:this.storage.values).find(r)}query(e,t=!1){let n=t?this.storage.allValues:this.storage.values;if(this.isTree){const n=[];return this.traverse(t=>{e(t)&&n.push(t)},void 0,void 0,t),n}return this.isGrouped&&(n=this.collectGroupRecords(t,!1)),n.filter(e)}some(e,t=!1){let n=t?this.storage.allValues:this.storage.values;return this.isGrouped&&(n=this.collectGroupRecords(t,!1)),n.some(e)}}},"./lib/Core/data/mixin/StoreSort.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreSort"}static get defaultConfig(){return{sorters:[],useLocaleSort:null}}get isSorted(){return Boolean(this.sorters.length)||this.isGrouped}sort(e,t,n=!1,r=!1){const i=this,o=i.allRecords,a=i.sorters?i.sorters.slice():[];let s,l=null;if(e)if(Array.isArray(e))i.sorters=e.map(e=>i.normalizeSorterConfig(e,"string"===typeof e||t));else{const r=i.normalizeSorterConfig(e,t);n?(s=i.getCurrentSorterByField(r.field),s?(l=s.ascending,s.ascending=r.ascending):i.sorters.push(r)):i.sorters=[r]}return r||!1!==i.trigger("beforeSort",{sorters:i.sorters,records:o,currentSorters:a})?i.performSort(r):(i.sorters=a,void(null!==l&&(s.ascending=l)))}normalizeSorterConfig(e,t){const n=this,r={ascending:t};var i;if("object"===typeof e?(Object.assign(r,e),e.fn&&(delete r.fn,r.sortFn=e.fn),r.ascending=null!==(i=e.ascending)&&void 0!==i?i:t):"function"===typeof e?r.sortFn=e:r.field=e,null==r.ascending){const e=n.getCurrentSorterByField(r.field);r.ascending=!e||!e.ascending}if(null==r.sortFn){var o,a;const e=null===(o=n.modelClass)||void 0===o||null===(a=o.$meta.fields.map[r.field])||void 0===a?void 0:a.compareItems;e&&(r.sortFn=e)}return r}getCurrentSorterByField(e){return"string"===typeof e&&this.sorters.find(t=>t.field===e)||null}addSorter(e,t=!0){this.sort(e,t,!0)}removeSorter(e){const t=this.sorters.findIndex(t=>t.field===e||t.sortFn===e);t>-1&&(this.sorters.splice(t,1),this.sort())}clearSorters(){this.sorters.length=0,this.sort()}createSorterFn(e){const t=this.useLocaleSort;return(n,r)=>{for(let i=0;i<e.length;i++){const o=e[i],{field:a,ascending:s=!0,useLocaleSort:l=t}=o,c=o.fn||o.sortFn,d=s?1:-1;if(c){const e=c(n,r);if(null!==e)return e*d}const u=n[a],h=r[a];if(u!==h){if(null==u)return-d;if(null==h)return d;if(l){if(!0===l)return String(u).localeCompare(h)*d;if("string"===typeof l)return String(u).localeCompare(h,l)*d;if("object"===typeof l)return String(u).localeCompare(h,l.locale,l)*d}if(u>h)return d;if(u<h)return-d}}return 0}}performSort(e){const t=this,{rootNode:n,storage:r,sorters:i}=t,o=t.createSorterFn(t.isGrouped?t.groupers.concat(i):i);t.isGrouped&&t.storeCollapsedGroups()&&r.replaceValues({values:t.removeHeadersAndFooters(r.values),silent:!0}),t.tree?(n.traverse(e=>{e.isLoaded&&e.isParent&&(e.children.sort(o),e.updateChildrenIndices(e.children,!1,!0))}),r.replaceValues({values:t.collectDescendants(n).visible,silent:!0})):r.replaceValues({values:r.values.sort(o),silent:!0}),t.afterPerformSort(e)}afterPerformSort(e){const t=this,{storage:n}=t;if(t._idMap=null,t.isGrouped&&(n.replaceValues({values:t.prepareGroupRecords(n.values),silent:!0}),t.restoreCollapsedGroups()),!e){const e={action:"sort",sorters:t.sorters,records:t.allRecords};t.trigger("sort",e),t.sortParamName||t.trigger("refresh",e)}}}},"./lib/Core/data/mixin/StoreState.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreState"}getState(){const{sorters:e,groupers:t,filters:n}=this,r={};return null!==e&&void 0!==e&&e.length&&(r.sorters=e.map(e=>{const t=i.default.cleanupProperties(i.default.clone(e));return delete t.fn,delete t.sortFn,t})),null!==t&&void 0!==t&&t.length&&(r.groupers=t.slice()),null!==n&&void 0!==n&&n.values.length&&(r.filters=n.values.map(e=>{const t=i.default.cleanupProperties(i.default.clone(e.config));return t.value=e.value,t.caseSensitive&&delete t.caseSensitive,t})),r}applyState(e){const t=this,{sorters:n=[],groupers:r=[],filters:i=[]}=e;t.sorters=n.slice(),t.groupers=r.slice(),t.sort(),t.filters=i.slice(),t.filter()}}},"./lib/Core/data/mixin/StoreSum.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreSum"}sum(e,t=this.storage.values){return t?t.reduce((t,n)=>{if(n.isSpecialRow)return t;const r=Number(n[e]);return isNaN(r)?t:t+r},0):0}min(e,t=this.storage.values){return t&&t.length?t.reduce((t,n)=>{var r;return"number"===typeof(null===(r=n[e])||void 0===r?void 0:r.valueOf())&&n[e]<t&&(t=n[e]),t},t[0][e]):0}max(e,t=this.storage.values){return t&&t.length?t.reduce((t,n)=>{var r;return"number"===typeof(null===(r=n[e])||void 0===r?void 0:r.valueOf())&&n[e]>t&&(t=n[e]),t},t[0][e]):0}average(e,t=this.storage.values){if(!t||!t.length)return 0;let n=0;const r=t.reduce((t,r)=>{if(r.isSpecialRow)return t;const i=parseFloat(r[e]);return isNaN(i)?t:(n++,t+i)},0);return n>0?r/n:0}groupSum(e,t){return this.sum(t,this.getGroupRecords(e))}}},"./lib/Core/data/mixin/StoreSync.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/WalkHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"StoreSync"}static get defaultConfig(){return{syncDataOnLoad:null}}syncDataset(e){const t=this,{storage:n}=t,{toAdd:r,toRemove:i,updated:o}=t.tree?t.syncTreeDataset(e):t.syncFlatDataset(e);let{threshold:a}=t.syncDataOnLoad,s=!1;a&&("string"===typeof a&&(a=parseInt(a,10)/100*t.count),s=r.length+i.length+o.length>a),t.tree?(r.length&&t.add(r,s).forEach(e=>e.clearParentId()),t.remove(i,s)):(s&&n.suspendEvents(),n.splice(t.count-i.length,i,r),s&&n.resumeEvents()),a&&!s&&o.forEach(({record:e,toSet:n,wasSet:r})=>t.onModelChange(e,n,r)),t.acceptChanges();const l={added:r,removed:i,updated:o,thresholdSurpassed:s};s&&this.trigger("refresh",{action:"batch",data:e,records:n.values,syncInfo:l}),t.isFiltered&&t.filter(),t.isGrouped?t.group():t.isSorted&&t.sort(),t.trigger("loadSync",l)}syncFlatDataset(e){if(!e)return;const t=this,n=t.modelClass.idField,r=[],i=[],o=[],a={};let{threshold:s}=t.syncDataOnLoad,l=0;return e.forEach(e=>{const r=e[n],c=t.getById(r);if(c){const t=c.set(e,null,Boolean(s));t&&o.push({record:c,wasSet:t,toSet:e}),l++}else i.push(t.processRecord(t.createRecord(e)));a[r]=1}),l<t.allCount&&t.forEach(e=>{a[e.id]||r.push(e)}),{toAdd:i,toRemove:r,updated:o}}syncTreeDataset(e){if(!e)return;const t=this,{idField:n,parentIdField:r}=t.modelClass,o=[],a=[],s=[],l={},{threshold:c}=t.syncDataOnLoad;return i.default.preWalkWithParent({isRoot:!0,children:e},e=>e.children,(e,i)=>{if(e){const o=i[n],d=t.getById(o);if(d){const e=d.set(i,null,Boolean(c));e&&s.push({record:d,wasSet:e,toSet:i})}else i[r]=e[n],a.push(i);l[o]=1}}),t.traverse(e=>{l[e.id]||o.push(e)}),{toAdd:a,toRemove:o,updated:s}}}},"./lib/Core/data/mixin/StoreTree.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=Object.freeze([]);t.default=e=>class extends(e||r.default){static get $name(){return"StoreTree"}static get configurable(){return{transformFlatData:null}}get isTree(){return this.tree||this.masterStore&&this.masterStore.tree}get leaves(){const e=this,t=[];return e.isTree?(e.traverse(e=>{e.isLeaf&&t.push(e)}),t):(e.allRecords.forEach(e=>{e.isLeaf&&t.push(e),e.traverse(e=>{e.isLeaf&&t.push(e)},!0)}),t)}async loadChildren(e){}onNodeAddChild(e,t,n,r,i=!1){const o=this,a=e===o.rootNode&&e.isLoading,{storage:s}=o,l=[],c=[],d=t[0].previousSibling;let u;if(o.collectDescendants(t,l,c,{inCollapsedBranch:!(e.isExpanded(o)&&e.ancestorsExpanded(o))}),!a&&c.length)for(const f of c)o.modified.includes(f)||r[f.id]||(o.removed.includes(f)?o.removed.remove(f):o.added.add(f));var h;if(a&&o.rootVisible&&(l.unshift(e),c.unshift(e)),l.length&&(u=0!==n&&d?s.indexOf(d)+d.getDescendantCount(!0,o):s.indexOf(e),s.suspendEvents(),o.storage.splice(++u,0,l),s.resumeEvents()),o.updateDependentStores("add",t),a&&l.length){if(o.sorters.length&&o.sort(null,null,!1,!0),null===(h=o.afterLoadData)||void 0===h||h.call(o),!i){const e={action:"dataset",data:o._data,records:l};o.trigger("refresh",e),o.trigger("change",e)}}else if(!i){const n={action:"add",parent:e,isChild:!0,isMove:r,records:t,allRecords:c,index:u};o.trigger("add",n),o.trigger("change",n)}}onNodeRemoveChild(e,t,n,r={isMove:!1,silent:!1,unfiltered:!1}){const i=this,{storage:o}=i,a=[],s=[],{isMove:l,silent:c,unfiltered:d}=r,u=d&&i.isFiltered,h=u&&e.unfilteredChildren?e.unfilteredChildren:t;if(i.collectDescendants(h,a,s,{inCollapsedBranch:!(e.isExpanded(i)&&e.ancestorsExpanded(i)),unfiltered:u}),!l){for(const e of t)e.unjoinStore(i);if(s.length){for(const e of s)e.stores.includes(i)&&e.unjoinStore(i),i.added.includes(e)?i.added.remove(e):i.removed.add(e);i.modified.remove(s)}}if(a.length?(n=o.indexOf(a[0]))>-1&&(o.suspendEvents(),o.splice(n,a.length),o.resumeEvents()):n=-1,!c){const r={action:"remove",parent:e,isChild:!0,isMove:l,records:t,allRecords:s,index:n};i.trigger("remove",r),i.trigger("change",r)}}collectDescendants(e,t=[],n=[],r={inCollapsedBranch:!1,unfiltered:!1}){const i=this,{inCollapsedBranch:o,unfiltered:a}=r,s=Array.isArray(e)?e:i.getChildren(e,a);if(s)for(let l,c=0,d=s.length;c<d;c++)l=s[c],o||t.push(l),n.push(l),i.collectDescendants(l,t,n,{inCollapsedBranch:o||!l.isExpanded(i),unfiltered:a});return{visible:t,all:n}}getChildren(e,t=!1){const n=(t||this.isChained)&&e.unfilteredChildren||e.children;return n&&n.length?this.isChained?n.filter(this.chainedFilterFn):n:i}internalToggleTreeSubRecords(e,t){const n=this,{storage:r}=n,i=r.indexOf(e),o=n.doIncludeExclude(n.getChildren(e),t);if(o.length&&!1!==i){if(r.suspendEvents(),t){r.splice(i+1,0,...o);const e={action:"add",isExpand:!0,records:o,index:i+1};n.trigger("add",e),n.trigger("change",e)}else{r.splice(i+1,o.length);const e={action:"remove",isCollapse:!0,records:o,index:i+1};n.trigger("remove",e),n.trigger("change",e)}r.resumeEvents()}}doIncludeExclude(e,t,n=[]){const r=this,i=e&&e.length;for(let o=0;o<i;o++){const i=e[o];if(!r.isChained||r.chainedFilterFn(i)){const e=i.instanceMeta(r.id);t?n.push(i):e.hidden||n.push(i),e.hidden=!t,i.isExpanded(r)&&r.doIncludeExclude(r.getChildren(i),t,n)}}return n}async toggleCollapse(e,t){const n=this,r=n.getById(e),i=r.instanceMeta(n);if(void 0===t&&(t=!i.collapsed),!i.isLoadingChildren&&!r.isLeaf&&r.isExpanded(n)===t){if(n.trigger("beforeToggleNode",{record:r,collapse:t}),i.collapsed=t,i.collapsed)return n.onNodeCollapse(r),!0;{n.onNodeExpand(r);let e=!0;if(!r.isLoaded){i.isLoadingChildren=!0;try{await n.loadChildren(r)}catch(o){i.collapsed=!0,e=!1,n.trigger("loadChildrenException",{record:r,exception:o})}finally{i.isLoadingChildren=!1}}return e}}}onNodeCollapse(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!1)}onNodeExpand(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!0)}transformToTree(e){const{parentIdField:t,idField:n,childrenField:r}=this.modelClass,i=new Map,o=[];for(const s of e){const l=s[t];if(null!=l){let t=i.get(l);var a;void 0===t&&(t=null!==(a=e.find(e=>e[n]===l))&&void 0!==a?a:null,i.set(l,t)),t&&(t[r]||(t[r]=[]),t[r].push(s))}else o.push(s)}return o}}},"./lib/Core/data/mixin/TreeNode.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"TreeNode"}static set convertEmptyParentToLeaf(e){!0===e?e={onLoad:!0,onRemove:!0}:!1===e&&(e={onLoad:!1,onRemove:!1}),this._convertEmptyParentToLeaf=e}static get convertEmptyParentToLeaf(){return this._convertEmptyParentToLeaf||{onLoad:!1,onRemove:!1}}ingestChildren(e,t=this.stores){const{inProcessChildren:n,constructor:r}=this,i=t[0];if(!0===e)return!!n||[];if(e){Array.isArray(e)||(e=[e]);const t=e.length,n=[];for(let o,a=0;a<t;a++)o=e[a],o=o.isModel?o:i?i.createRecord(o):new r(o,null,null,!0),o=i?i.processRecord(o):o,n.push(o);if(!0===this.children&&i){const e=i.createSorterFn(i.sorters);n.sort(e)}return n}}processChildren(e=this.stores){const t=this,{meta:n}=t;t.inProcessChildren=!0;const r=t.ingestChildren(t.data[t.constructor.childrenField],e);r&&(r.length?(n.isLeaf=!1,!0===t.children&&(t.children=[]),t.appendChild(r,!1,!0)):!0===r?(n.isLeaf=!1,t.children=!0):t.isRoot||(n.isLeaf=t.constructor.convertEmptyParentToLeaf.onLoad)),t.inProcessChildren=!1}ancestorsExpanded(e=this.firstStore){const{parent:t}=this;return!t||t.isExpanded(e)&&t.ancestorsExpanded(e)}isExpanded(e=this.firstStore){const t=this.instanceMeta(e.id);return Object.prototype.hasOwnProperty.call(t,"collapsed")||(t.collapsed=!this.expanded),!t.collapsed}get expanded(){return this.data.expanded}get childLevel(){let e=this,t=-1;for(;e&&!e.isRoot;)++t,e=e.parent;return t}get isLeaf(){return!1!==this.meta.isLeaf&&!this.isRoot}get isParent(){return!this.isLeaf}get isLoaded(){return this.isParent&&Array.isArray(this.children)}get descendantCount(){return this.getDescendantCount()}get visibleDescendantCount(){return this.getDescendantCount(!0)}getDescendantCount(e=!1,t=this.firstStore){const n=this.children;return!n||!Array.isArray(n)||e&&!this.isExpanded(t)?0:n.reduce((t,n)=>t+n.getDescendantCount(e),n.length)}get allChildren(){const e=this.children;return e?e.reduce((e,t)=>(e.push(t),e.push.apply(e,t.allChildren),e),[]):[]}get firstChild(){const e=this.children;return e&&e.length&&e[0]||null}get lastChild(){const e=this.children;return e&&e.length&&e[e.length-1]||null}get previousSiblingsTotalCount(){let e=this.previousSibling,t=this.parentIndex;for(;e;)t+=e.descendantCount,e=e.previousSibling;return t}get root(){return this.parent&&this.parent.root||this}get parentId(){return this.parent&&!this.parent.isAutoRoot?this.parent.id:null}set parentId(e){const t=this,{parent:n}=t,r=e&&t.firstStore.getById(e);r!==n&&(n||r)&&(t.isBatchUpdating?t.meta.batchChanges.parentId=e:r?r.appendChild(t):t.parent.removeChild(t))}static set parentIdField(e){this._parentIdField=e,Object.defineProperty(this.prototype,e,{set:function(e){this.parentId=e},get:function(){return this.parentId}})}static get parentIdField(){return this._parentIdField||"parentId"}traverse(e,t=!1,n=!1){const r=(n?this.unfilteredChildren:this.children)||this.children;t||e.call(this,this);for(let i=0,o=r&&r.length;i<o;i++)r[i].traverse(e,!1,n)}traverseBefore(e,t=!1,n=!1){const r=(n?this.unfilteredChildren:this.children)||this.children;for(let i=0,o=r&&r.length;i<o;i++)r[i].traverse(e,!1,n);t||e.call(this,this)}traverseWhile(e,t=!1,n=!1){const r=this;let i=!0;return t||(i=!1!==e.call(r,r)),i&&r.isLoaded&&(i=((n?r.unfilteredChildren:r.children)||this.children).every(t=>t.traverseWhile(e,!1,n))),i}bubble(e,t=!1){let n=this;for(t||e.call(n,n);n.parent;)n=n.parent,e.call(n,n)}bubbleWhile(e,t=!1){let n=this,r=!0;for(t||(r=e.call(n,n));r&&n.parent;)n=n.parent,r=e.call(n,n);return r}contains(e){return e&&"object"===typeof e&&(e=e.id),!this.traverseWhile(t=>t.id!=e)}getTopParent(e){let t;return e?(t=[],this.bubbleWhile(e=>(t.push(e),e.parent&&!e.parent.isRoot))):(t=null,this.bubbleWhile(e=>(e.parent||(t=e),e.parent&&!e.parent.isRoot))),t}appendChild(e,t=!1){return this.insertChild(e,null,t)}insertChild(e,t=null,n=!1){if("number"===typeof e){const n=e;e=t,t=this.children[n]}const r=this,i=r.isLeaf,o=Array.isArray(e);if(Array.isArray(e)||(e=[e]),!n&&!r.stores.every(t=>!1!==t.trigger("beforeAdd",{records:e,parent:r})))return null;e=r.ingestChildren(e);const a=t?t.parentIndex:r.children?r.children.length:0,s=r.beforeInsertChild?r.beforeInsertChild(e):void 0,l=r.internalAppendInsert(e,t,n);return i&&l.length&&(r.meta.isLeaf=!1),r.isLeaf===i||r.root.isLoading||n||r.stores.forEach(e=>{const t={isLeaf:{value:!1,oldValue:!0}};e.trigger("update",{record:r,changes:t}),e.trigger("change",{action:"update",record:r,changes:t})}),r.afterInsertChild&&r.afterInsertChild(a,e,s,l),o||!l?l:l[0]}tryInsertChild(){return this.insertChild(...arguments)}internalAppendInsert(e,t,n){const r=this,{stores:i,root:o}=r,{firstStore:a}=o,{parentIdField:s}=r.constructor,l=r.isAutoRoot?null:r.id,c={};let d,u,h,f;if(t&&t.parent!==r&&(t=null),r.children){const n=r.children,i=t?t.parentIndex:n.length;if(n[u=i]===e[0]||n[u=i-1]===e[0])for(d=!0,h=0;d&&h<e.length;h++)e[h]!==n[u+h]&&(d=!1)}if(d)return e;for(h=0;h<e.length;h++){const t=e[h],n=t.parent;c[t.id]=t.root===o,a&&!o.isLoading&&t.traverse(e=>{e.root===o&&(c[e.id]=!0)}),n&&!1===n.removeChild(t,c[t.id])?(f||(e=e.slice(),f=!0),e.splice(h--,1)):(t.parent=r,t.data[s]=l,n&&(t.meta.oldParentId=n.id))}if(e.length){const o=r.addToChildren(r.children||(r.children=[]),t,e);r.addToChildren(r.unfilteredChildren,t,e,!0),i.forEach(t=>{t.isChained||(e.forEach(e=>{e.joinStore(t)}),t.onNodeAddChild(r,e,o,c,n),e.forEach(e=>{if(null!=e.meta.oldParentId&&!r.inProcessChildren&&!r.isLoading){const t={[s]:l,[r.getDataSource("parentIndex")]:e.parentIndex},n={},{modified:i,oldParentId:o}=e.meta,a=i.parentIndex;delete e.meta.oldParentId,r.id!==o&&(n[s]={value:l,oldValue:o}),e.parentIndex!==a&&(n.parentIndex={value:e.parentIndex,oldValue:a}),i[s]===r.id?Reflect.deleteProperty(i,s):s in i||(i[s]=o),e.afterChange(t,n)}}))})}return e}removeChild(e,t=!1,n=!1){const r=this,i=r.isLeaf,{children:o,stores:a}=r;if(Array.isArray(e)||(e=[e]),e=e.filter(e=>e.parent===r),!n)for(const l of a)if(!l.isChained&&!1===l.trigger("beforeRemove",{parent:r,records:e,isMove:t}))return!1;const s=r.beforeRemoveChild?r.beforeRemoveChild(e,t):void 0;for(const l of e){const{parentIdField:e}=l.constructor,{modified:i}=l.meta,s=l.parent?l.parent.id:null;e in i||(i[e]=s);const c=r.removeFromChildren(o,l);r.removeFromChildren(r.unfilteredChildren,l,!0),a.forEach(e=>{e.isChained||e.onNodeRemoveChild(r,[l],c,{isMove:t,silent:n})}),t||(l.parent=l.parentIndex=l.unfilteredIndex=l.nextSibling=l.previousSibling=null,l.data[e]=null)}o.length||!r.constructor.convertEmptyParentToLeaf.onRemove||r.isRoot||(r.meta.isLeaf=!0),r.isLeaf===i||n||r.stores.forEach(e=>{const t={isLeaf:{value:!0,oldValue:!1}};e.trigger("update",{record:r,changes:t}),e.trigger("change",{action:"update",record:r,changes:t})}),r.afterRemoveChild&&r.afterRemoveChild(e,s,t)}clearParentId(){const e=this;Reflect.deleteProperty(e.data,e.parentIdField),Reflect.deleteProperty(e.originalData,e.parentIdField),e.meta.modified&&Reflect.deleteProperty(e.meta.modified,e.parentIdField)}clearChildren(e=!1){const t=this,{stores:n}=t,r=t.unfilteredChildren||t.children;t.children=[],r&&!0!==r&&(n.forEach(n=>{n.isChained||n.onNodeRemoveChild(t,r,0,{unfiltered:!0,silent:e})}),t.unfilteredChildren&&(t.unfilteredChildren=[]))}clear(){const e=this,{stores:t}=e,n=e.children&&e.children.slice();if(e.isRoot&&n){for(const r of t)if(!r.isChained&&!1===r.trigger("beforeRemove",{parent:e,records:n,isMove:!1,removingAll:!0}))return!1;e.children.length=0,t.forEach(e=>{n.forEach(t=>{t.stores.includes(e)&&t.unjoinStore(e),t.parent=t.parentIndex=t.nextSibling=t.previousSibling=null}),e.storage.suspendEvents(),e.storage.clear(),e.storage.resumeEvents(),e.added.clear(),e.modified.clear(),e.trigger("removeAll"),e.trigger("change",{action:"removeall"})})}}updateChildrenIndices(e,t=!1,n=!1){const r=t?"unfilteredIndex":"parentIndex";let i=null;for(let o=0;o<e.length;o++){const a=e[o],s=a[r];"parentIndex"===r?void 0===s||n?a.setData("parentIndex",o):s!==o&&a.set("parentIndex",o,!0):a[r]=o,t||(a.previousSibling=i,i&&(i.nextSibling=a),o===e.length-1&&(a.nextSibling=null),i=a)}}addToChildren(e,t,n,r=!1){if(e){const i=r?"unfilteredIndex":"parentIndex",o=t?t[i]:e.length;return e.splice(o,0,...n),this.updateChildrenIndices(e,r),o}}removeFromChildren(e,t,n=!1){if(e){const r=t[n?"unfilteredIndex":"parentIndex"];return r>-1&&(e.splice(r,1),this.updateChildrenIndices(e,n)),r}}}},"./lib/Core/data/stm/Helpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"resetQueue",(function(){return i}));var r=n("./lib/Core/data/stm/Props.js");const i=(e,t)=>{const{undo:n,redo:i}=t;let o;return o=n&&!i?{[r.QUEUE_PROP]:e[r.QUEUE_PROP].slice(e.position),[r.POS_PROP]:0}:i&&!n?{[r.QUEUE_PROP]:e[r.QUEUE_PROP].slice(0,e.position)}:{[r.QUEUE_PROP]:[],[r.POS_PROP]:0},[o,()=>{e.notifyStoresAboutQueueReset(t)}]}},"./lib/Core/data/stm/Props.js":function(e,t,n){"use strict";n.r(t),n.d(t,"STATE_PROP",(function(){return r})),n.d(t,"STORES_PROP",(function(){return i})),n.d(t,"QUEUE_PROP",(function(){return o})),n.d(t,"POS_PROP",(function(){return a})),n.d(t,"TRANSACTION_PROP",(function(){return s})),n.d(t,"TRANSACTION_TIMER_PROP",(function(){return l})),n.d(t,"AUTO_RECORD_PROP",(function(){return c})),n.d(t,"PROPS",(function(){return d}));const r=Symbol("STATE_PROP"),i=Symbol("STORES_PROP"),o=Symbol("QUEUE_PROP"),a=Symbol("POS_PROP"),s=Symbol("TRANSACTION_PROP"),l=Symbol("TRANSACTION_TIMER_PROP"),c=Symbol("AUTO_RECORD_PROP"),d=Object.freeze([r,i,o,a,s,l,c])},"./lib/Core/data/stm/StateTrackingManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"makeModelUpdateAction",(function(){return S})),n.d(t,"makeModelInsertChildAction",(function(){return w})),n.d(t,"makeModelRemoveChildAction",(function(){return E})),n.d(t,"makeStoreModelAddAction",(function(){return D})),n.d(t,"makeStoreModelInsertAction",(function(){return x})),n.d(t,"makeStoreModelRemoveAction",(function(){return j})),n.d(t,"makeStoreRemoveAllAction",(function(){return T})),n.d(t,"default",(function(){return M}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/data/stm/state/StateBase.js"),a=n("./lib/Core/data/stm/state/DisabledState.js"),s=n("./lib/Core/data/stm/state/ReadyState.js"),l=n("./lib/Core/data/stm/state/RecordingState.js"),c=n("./lib/Core/data/stm/state/RestoringState.js"),d=n("./lib/Core/data/stm/state/AutoReadyState.js"),u=n("./lib/Core/data/stm/state/AutoRecordingState.js"),h=n("./lib/Core/data/stm/state/Registry.js"),f=n("./lib/Core/data/stm/action/UpdateAction.js"),g=n("./lib/Core/data/stm/action/InsertChildAction.js"),m=n("./lib/Core/data/stm/action/RemoveChildAction.js"),p=n("./lib/Core/data/stm/action/AddAction.js"),v=n("./lib/Core/data/stm/action/InsertAction.js"),b=n("./lib/Core/data/stm/action/RemoveAction.js"),y=n("./lib/Core/data/stm/action/RemoveAllAction.js"),C=n("./lib/Core/data/stm/Props.js");const S=(e,t,n)=>new f.default({model:e,newData:t,oldData:n}),w=(e,t,n,r)=>new g.default({parentModel:e,childModels:n,insertIndex:t,context:r}),E=(e,t,n)=>new m.default({parentModel:e,childModels:t,context:n}),D=(e,t,n)=>new p.default({store:e,modelList:t,silent:n}),x=(e,t,n,r,i)=>new v.default({store:e,insertIndex:t,modelList:n,context:r,silent:i}),j=(e,t,n,r)=>new b.default({store:e,modelList:t,context:n,silent:r}),T=(e,t,n)=>new y.default({store:e,allRecords:t,silent:n}),R=(e,t,...n)=>{const r=e.state,i=t.call(e[C.STATE_PROP],e,...n);if("string"===typeof i)e[C.STATE_PROP]=h.default.resolveStmState(i);else if(i instanceof o.default)e[C.STATE_PROP]=i;else if(Array.isArray(i)){const[t,r]=i;"string"===typeof t?e[C.STATE_PROP]=h.default.resolveStmState(t):t instanceof o.default?e[C.STATE_PROP]=t:t&&"object"===typeof t&&((e=Object.assign(e,t))[C.STATE_PROP]=h.default.resolveStmState(e[C.STATE_PROP])),"function"===typeof r&&R(e,r,...n)}else i&&"object"===typeof i&&((e=Object.assign(e,i))[C.STATE_PROP]=h.default.resolveStmState(e[C.STATE_PROP]));r!==s.default&&r!==d.default&&i!==s.default&&i!==d.default&&e.trigger("ready")};class M extends(Object(i.default)(r.default)){static get defaultConfig(){return{disabled:!0,autoRecord:!1,autoRecordTransactionStopTimeout:100,makeModelUpdateAction:S,makeModelInsertChildAction:w,makeModelRemoveChildAction:E,makeStoreModelAddAction:D,makeStoreModelInsertAction:x,makeStoreModelRemoveAction:j,makeStoreRemoveAllAction:T,getTransactionTitle:null}}construct(...e){Object.assign(this,{[C.STATE_PROP]:s.default,[C.STORES_PROP]:[],[C.QUEUE_PROP]:[],[C.POS_PROP]:0,[C.TRANSACTION_PROP]:null,[C.TRANSACTION_TIMER_PROP]:null,[C.AUTO_RECORD_PROP]:!1}),super.construct(...e)}get state(){return this[C.STATE_PROP]}get position(){return this[C.POS_PROP]}get length(){return this[C.QUEUE_PROP].length}get stores(){return Array.from(this[C.STORES_PROP])}hasStore(e){return this[C.STORES_PROP].includes(e)}addStore(e){this.hasStore(e)||(this[C.STORES_PROP].push(e),e.stm=this)}removeStore(e){this.hasStore(e)&&(this[C.STORES_PROP]=this[C.STORES_PROP].filter(t=>t!==e),e.stm=null)}forEachStore(e){this[C.STORES_PROP].forEach(t=>e(t,t.id))}get disabled(){return this.state===a.default}set disabled(e){const t=this;t.disabled!=e&&(R(t,e?t.state.onDisable:t.state.onEnable,t),t.trigger("stmDisabled",{disabled:e}),t.trigger("disabled",{disabled:e}))}enable(){this.disabled=!1}disable(){this.disabled=!0}get isReady(){return this.state===s.default||this.state===d.default}waitForReadiness(){return this.await("ready",!1)}get isRecording(){return this.state===l.default||this.state===u.default}get autoRecord(){return this[C.AUTO_RECORD_PROP]}set autoRecord(e){const t=this;t.autoRecord!=e&&R(t,e?t.state.onAutoRecordOn:t.state.onAutoRecordOff,t)}startTransaction(e=null){R(this,this.state.onStartTransaction,e)}stopTransaction(e=null){R(this,this.state.onStopTransaction,e)}stopTransactionDelayed(){R(this,this.state.onStopTransactionDelayed)}rejectTransaction(){R(this,this.state.onRejectTransaction)}get transaction(){return this[C.TRANSACTION_PROP]}get queue(){return this[C.QUEUE_PROP].map(e=>e.title)}get isRestoring(){return this.state===c.default}get canUndo(){return this.state.canUndo(this)}get canRedo(){return this.state.canRedo(this)}async undo(e=1){this.isReady||await this.waitForReadiness(),R(this,this.state.onUndo,e)}async undoAll(){this.isReady||await this.waitForReadiness(),this.undo(this.length)}async redo(e=1){this.isReady||await this.waitForReadiness(),R(this,this.state.onRedo,e)}async redoAll(){this.isReady||await this.waitForReadiness(),this.redo(this.length)}resetQueue(e={undo:!0,redo:!0}){R(this,this.state.onResetQueue,e)}resetUndoQueue(){this.resetQueue({undo:!0})}resetRedoQueue(){this.resetQueue({redo:!0})}notifyStoresAboutStateRecordingStart(e){this.forEachStore(t=>{t.onStmRecordingStart&&t.onStmRecordingStart(this,e)}),this.trigger("recordingStart",{stm:this,transaction:e})}notifyStoresAboutStateRecordingStop(e,t){this.forEachStore(n=>{n.onStmRecordingStop&&n.onStmRecordingStop(this,e,t)}),this.trigger("recordingStop",{stm:this,transaction:e,reason:t})}notifyStoresAboutStateRestoringStart(){this.forEachStore(e=>{e.onStmRestoringStart&&e.onStmRestoringStart(this)}),this.trigger("restoringStart",{stm:this})}notifyStoresAboutStateRestoringStop(){this.forEachStore(e=>{e.onStmRestoringStop&&e.onStmRestoringStop(this)}),this.trigger("restoringStop",{stm:this})}notifyStoresAboutQueueReset(e){this.forEachStore(t=>{t.onStmQueueReset&&t.onStmQueueReset(this,e)}),this.trigger("queueReset",{stm:this,options:e})}onModelUpdate(e,t,n){R(this,this.state.onModelUpdate,e,t,n)}onModelInsertChild(e,t,n,r){R(this,this.state.onModelInsertChild,e,t,n,r)}onModelRemoveChild(e,t,n){R(this,this.state.onModelRemoveChild,e,t,n)}onStoreModelAdd(e,t,n){R(this,this.state.onStoreModelAdd,e,t,n)}onStoreModelInsert(e,t,n,r,i){R(this,this.state.onStoreModelInsert,e,t,n,r,i)}onStoreModelRemove(e,t,n,r){R(this,this.state.onStoreModelRemove,e,t,n,r)}onStoreRemoveAll(e,t,n){R(this,this.state.onStoreRemoveAll,e,t,n)}onUndoKeyPress(e){this.disabled||(e.shiftKey?this.canRedo&&(e.preventDefault(),this.redo()):this.canUndo&&(e.preventDefault(),this.undo()))}}M._$name="StateTrackingManager"},"./lib/Core/data/stm/Transaction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/Base.js");const i=Symbol("ACTION_QUEUE_PROP");class o extends r.default{get defaultConfig(){return{title:null}}construct(...e){this[i]=[],super.construct(...e)}get queue(){return this[i].slice(0)}get length(){return this[i].length}addAction(e){this[i].push(e)}undo(){const e=this[i];for(let t=e.length-1;t>=0;--t)e[t].undo()}redo(){const e=this[i];for(let t=0,n=e.length;t<n;++t)e[t].redo()}}o._$name="Transaction"},"./lib/Core/data/stm/action/ActionBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/Base.js");const i=()=>{throw new Error("Abstract method call!")};class o extends r.default{get type(){return this.constructor.name}undo(){i()}redo(){i()}}o._$name="ActionBase"},"./lib/Core/data/stm/action/AddAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/data/stm/action/ActionBase.js");n("./lib/Core/data/Store.js");const i=Symbol("STORE_PROP"),o=Symbol("MODEL_LIST_PROP");class a extends r.default{static get defaultConfig(){return{store:void 0,modelList:void 0,silent:!1}}get type(){return"AddAction"}get store(){return this[i]}set store(e){this[i]=e}get modelList(){return this[o]}set modelList(e){this[o]=e.slice(0)}undo(){this.store.remove(this.modelList,this.silent)}redo(){this.store.add(this.modelList,this.silent)}}a._$name="AddAction"},"./lib/Core/data/stm/action/InsertAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/stm/action/ActionBase.js");n("./lib/Core/data/Store.js");const i=Symbol("STORE_PROP"),o=Symbol("MODEL_LIST_PROP"),a=Symbol("INSERT_INDEX_PROP"),s=Symbol("CONTEXT_PROP");class l extends r.default{static get defaultConfig(){return{store:void 0,modelList:void 0,insertIndex:void 0,context:void 0,silent:!1}}get type(){return"InsertAction"}get store(){return this[i]}set store(e){this[i]=e}get modelList(){return this[o]}set modelList(e){this[o]=e.slice(0)}get insertIndex(){return this[a]}set insertIndex(e){this[a]=e}get context(){return this[s]}set context(e){this[s]=e}undo(){const{store:e,modelList:t,context:n,silent:r}=this;t.sort((e,t)=>{const r=n.get(e),i=n.get(t);return void 0!==r&&void 0!==i?r-i:0}),t.forEach(t=>{const i=n.get(t);t._undoingInsertion=!0,void 0!==i?e.insert(i,t,r):e.remove(t,r),t._undoingInsertion=!1})}redo(){this.store.insert(this.insertIndex,this.modelList,this.silent)}}l._$name="InsertAction"},"./lib/Core/data/stm/action/InsertChildAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/stm/action/ActionBase.js");const i=Symbol("PARENT_MODEL_PROP"),o=Symbol("CHILD_MODELS_PROP"),a=Symbol("INSERT_INDEX_PROP"),s=Symbol("CONTEXT_PROP");class l extends r.default{static get defaultConfig(){return{parentModel:void 0,childModels:void 0,insertIndex:void 0,context:void 0}}get type(){return"InsertChildAction"}get parentModel(){return this[i]}set parentModel(e){this[i]=e}get childModels(){return this[o]}set childModels(e){this[o]=e.slice(0)}get insertIndex(){return this[a]}set insertIndex(e){this[a]=e}get context(){return this[s]}set context(e){this[s]=e}undo(){const{parentModel:e,context:t,childModels:n}=this;n.sort((e,n)=>{const{lhsParent:r,lhsIndex:i}=t.get(e)||{},{rhsParent:o,rhsIndex:a}=t.get(n)||{};return r&&r===o?i-a:0}),n.forEach(n=>{const{parent:r,index:i}=t.get(n)||{};if(r)if(r===e){let e;e=i>n.parentIndex?i+1:i,e=i===r.children.length-1?null:e;const t=r.children[e];r.insertChild(n,t)}else r.insertChild(n,r.children[i]);else e.removeChild(n)})}redo(){const{parentModel:e,insertIndex:t,childModels:n}=this,r=e.children[t];e.insertChild(n,r)}}l._$name="InsertChildAction"},"./lib/Core/data/stm/action/RemoveAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/stm/action/ActionBase.js");n("./lib/Core/data/Store.js");const i=Symbol("STORE_PROP"),o=Symbol("MODEL_LIST_PROP"),a=Symbol("CONTEXT_PROP");class s extends r.default{static get defaultConfig(){return{store:void 0,modelList:void 0,context:void 0,silent:!1}}get type(){return"RemoveAction"}get store(){return this[i]}set store(e){this[i]=e}get modelList(){return this[o]}set modelList(e){this[o]=e.slice(0)}get context(){return this[a]}set context(e){this[a]=e}undo(){const{store:e,context:t,modelList:n,silent:r}=this;n.sort((e,n)=>t.get(e)-t.get(n)),n.forEach(n=>{const i=t.get(n);e.insert(i,n,r)})}redo(){this.store.remove(this.modelList,this.silent)}}s._$name="RemoveAction"},"./lib/Core/data/stm/action/RemoveAllAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/data/stm/action/ActionBase.js");n("./lib/Core/data/Store.js");const i=Symbol("STORE_PROP"),o=Symbol("ALL_RECORDS_PROP");class a extends r.default{static get defaultConfig(){return{store:void 0,allRecords:void 0,silent:!1}}get type(){return"RemoveAllAction"}get store(){return this[i]}set store(e){this[i]=e}get allRecords(){return this[o]}set allRecords(e){this[o]=e.slice(0)}undo(){const{store:e,allRecords:t,silent:n}=this;e.add(t,n)}redo(){this.store.removeAll(this.silent)}}a._$name="RemoveAllAction"},"./lib/Core/data/stm/action/RemoveChildAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/stm/action/ActionBase.js");const i=Symbol("PARENT_MODEL_PROP"),o=Symbol("CHILD_MODELS_PROP"),a=Symbol("CONTEXT_PROP");class s extends r.default{static get defaultConfig(){return{parentModel:void 0,childModels:void 0,context:void 0}}get type(){return"RemoveChildAction"}get parentModel(){return this[i]}set parentModel(e){this[i]=e}get childModels(){return this[o]}set childModels(e){this[o]=e.slice(0)}get context(){return this[a]}set context(e){this[a]=e}undo(){const{parentModel:e,context:t,childModels:n}=this;n.sort((e,n)=>t.get(e)-t.get(n)),n.forEach(n=>{e.insertChild(t.get(n),n)})}redo(){this.parentModel.removeChild(this.childModels)}}s._$name="RemoveChildAction"},"./lib/Core/data/stm/action/UpdateAction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/stm/action/ActionBase.js");const i=Symbol("MODEL_PROP"),o=Symbol("NEW_DATA_PROP"),a=Symbol("OLD_DATA_PROP");class s extends r.default{static get defaultConfig(){return{model:void 0,newData:void 0,oldData:void 0}}get type(){return"UpdateAction"}get model(){return this[i]}set model(e){this[i]=e}get newData(){return this[o]}set newData(e){this[o]=Object.assign({},e)}get oldData(){return this[a]}set oldData(e){this[a]=Object.assign({},e)}undo(){this.model.set(this.oldData,null,null,null,!0),this.model.$&&Object.assign(this.model,this.oldData)}redo(){this.model.set(this.newData,null,null,null,!0),this.model.$&&Object.assign(this.model,this.newData)}}s._$name="UpdateAction"},"./lib/Core/data/stm/mixin/ModelStm.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=Symbol("STM_PROP"),o={parentIndex:1};t.default=e=>class extends(e||r.default){static get $name(){return"ModelStm"}static get defaultConfig(){return{stm:null}}joinStore(e){this.stm||(this.stm=e.stm)}unjoinStore(e){this.stm===e.stm&&(this.stm=null),super.unjoinStore&&super.unjoinStore(e)}get stm(){return this[i]}set stm(e){this[i]=e}beforeSet(e,t,n,r){const i=this.stm;if(i&&!i.disabled&&!o[e]&&!this.constructor.nonPersistableFields[e]){var a;const i=(null===(a=super.beforeSet)||void 0===a?void 0:a.call(this,e,t,n,r))||[];let o,s;return"object"==typeof e?[o,s]=Object.keys(e).reduce((t,n)=>(t[0][n]=e[n],t[1][n]=this.get(n),t),[{},{}]):(o={[e]:t},s={[e]:this.get(e)}),i.push([o,s]),i}return[]}afterSet(e,t,n,r,i,a){const s=this.stm,l=this.constructor.nonPersistableFields;if(s&&!s.disabled&&!o[e]&&!l[e]){const e=i.pop();if(a){let t;const[n,r]=e,[i,o]=Object.keys(a).reduce((e,i)=>(l[i]||(t=!0),e[0][i]=n[i],e[1][i]=r[i],e),[{},{}]);t&&s.onModelUpdate(this,i,o)}}}beforeInsertChild(e){const t=super.beforeInsertChild?super.beforeInsertChild(e):[],n=this.stm;return n&&!n.disabled&&t.push(e.reduce((e,t)=>(t.root===this.root&&e.set(t,{parent:t.parent,index:t.parent?t.parentIndex:void 0}),e),new Map)),t}afterInsertChild(e,t,n,r){const i=this.stm;if(i&&!i.disabled){const t=n.pop();r&&i.onModelInsertChild(this,e,r,t)}super.afterInsertChild&&super.afterInsertChild(e,t,n,r)}beforeRemoveChild(e,t){const n=super.beforeRemoveChild?super.beforeRemoveChild(e,t):[],r=this.stm;return!r||r.disabled||t||n.push(e.reduce((e,t)=>(e.set(t,t.parentIndex),e),new Map)),n}afterRemoveChild(e,t,n){const r=this.stm;if(r&&!r.disabled&&!n){const n=t.pop();e&&e.length&&r.onModelRemoveChild(this,e,n)}super.afterRemoveChild&&super.afterRemoveChild(e,t,n)}}},"./lib/Core/data/stm/mixin/StoreStm.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/Model.js");const o=Symbol("STM_PROP");t.default=e=>class extends(e||r.default){static get $name(){return"StoreStm"}static get defaultConfig(){return{stm:null}}get stm(){return this[o]}set stm(e){const t=this;t.stm!=e&&(t.stm&&t.stm.hasStore(t)&&t.stm.removeStore(t),t[o]=e,t.stm&&!t.stm.hasStore(t)&&t.stm.addStore(t))}add(e,t=!1){let n;const r=this.stm;return this.tree||!r||r.disabled?n=super.add(e,t):(n=super.add(e,t),n&&n.length&&r.onStoreModelAdd(this,n,t)),n}insert(e,t,n=!1){let r;const o=this.stm;if(this.tree||!o||o.disabled)r=super.insert(e,t,n);else{const a=(Array.isArray(t)?t:[t]).reduce((e,t)=>{const n=t instanceof i.default?this.indexOf(t):void 0;return void 0!==n&&-1!==n&&e.set(t,n),e},new Map);r=super.insert(e,t),r&&r.length&&(e=this.indexOf(r[0]),o.onStoreModelInsert(this,e,r,a,n))}return r}remove(e,t=!1,n){let r;const i=this.stm;if(this.tree||!i||i.disabled)r=super.remove(e,t,n);else{const o=(Array.isArray(e)?e:[e]).map(e=>this.getById(e)).filter(e=>!!e).reduce((e,t)=>{const n=this.indexOf(t);return void 0!==n&&-1!=n&&e.set(t,n),e},new Map);r=super.remove(e,t,n),r&&r.length&&i.onStoreModelRemove(this,r,o,t)}return r}removeAll(e){const t=this.stm;let n;if(t&&!t.disabled){const{tree:r,rootNode:i,allRecords:o}=this,a=o.length,s=r?i.children.slice():o.slice();n=super.removeAll(e),a&&0===this.count&&t.onStoreRemoveAll(this,s,e)}else n=super.removeAll(e);return n}}},"./lib/Core/data/stm/state/AutoReadyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AutoReadyStateClass",(function(){return l}));var r=n("./lib/Core/data/stm/state/StateBase.js"),i=n("./lib/Core/data/stm/Transaction.js"),o=n("./lib/Core/data/stm/state/ReadyState.js"),a=n("./lib/Core/data/stm/Props.js"),s=n("./lib/Core/data/stm/state/Registry.js");class l extends o.ReadyStateClass{onAutoRecordOn(){Object(r.throwInvalidMethodCall)()}onAutoRecordOff(){return{[a.STATE_PROP]:"readystate",[a.AUTO_RECORD_PROP]:!1}}onStartTransaction(e,t){const n=new i.default({title:t});return[{[a.STATE_PROP]:"autorecordingstate",[a.TRANSACTION_PROP]:n},()=>{e.notifyStoresAboutStateRecordingStart(n),e.stopTransactionDelayed()}]}onModelUpdate(e,t,n,r){e.startTransaction(),e.onModelUpdate(t,n,r)}onModelInsertChild(e,t,n,r,i){e.startTransaction(),e.onModelInsertChild(t,n,r,i)}onModelRemoveChild(e,t,n,r){e.startTransaction(),e.onModelRemoveChild(t,n,r)}onStoreModelAdd(e,t,n,r){e.startTransaction(),e.onStoreModelAdd(t,n,r)}onStoreModelInsert(e,t,n,r,i,o){e.startTransaction(),e.onStoreModelInsert(t,n,r,o)}onStoreModelRemove(e,t,n,r,i){e.startTransaction(),e.onStoreModelRemove(t,n,r,i)}onStoreRemoveAll(e,t,n,r){e.startTransaction(),e.onStoreRemoveAll(t,n,r)}}const c=new l;t.default=c,s.default.registerStmState("autoreadystate",c)},"./lib/Core/data/stm/state/AutoRecordingState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AutoRecordingStateClass",(function(){return l}));var r=n("./lib/Core/mixin/Delayable.js"),i=n("./lib/Core/data/stm/state/StateBase.js"),o=n("./lib/Core/data/stm/state/RecordingState.js"),a=n("./lib/Core/data/stm/Props.js"),s=n("./lib/Core/data/stm/state/Registry.js");class l extends(o.RecordingStateClass.mixin(r.default)){onDisable(e){const t=e[a.TRANSACTION_PROP],n=e[a.TRANSACTION_TIMER_PROP];return n&&this.clearTimeout(n),e.notifyStoresAboutStateRecordingStop(t,{disabled:!0}),{[a.STATE_PROP]:"disabledstate",[a.TRANSACTION_PROP]:null,[a.TRANSACTION_TIMER_PROP]:null}}onAutoRecordOn(e){Object(i.throwInvalidMethodCall)()}onAutoRecordOff(e){const t=e[a.TRANSACTION_TIMER_PROP];return t&&this.clearTimeout(t),{[a.STATE_PROP]:"recordingstate",[a.AUTO_RECORD_PROP]:!1,[a.TRANSACTION_TIMER_PROP]:null}}onStopTransaction(e,t){const n=e[a.TRANSACTION_PROP],r=e[a.TRANSACTION_TIMER_PROP];let i=e[a.POS_PROP],o=e[a.QUEUE_PROP];return r&&this.clearTimeout(r),n.length&&(n.title||t||!e.getTransactionTitle?t&&(n.title=t):n.title=e.getTransactionTitle(n),o[i]=n,o.length=++i),[{[a.STATE_PROP]:"autoreadystate",[a.POS_PROP]:i,[a.TRANSACTION_PROP]:null,[a.TRANSACTION_TIMER_PROP]:null},()=>{e.notifyStoresAboutStateRecordingStop(n,{stop:!0})}]}onStopTransactionDelayed(e){let t=e[a.TRANSACTION_TIMER_PROP];return t&&this.clearTimeout(t),t=this.setTimeout(()=>{e.stopTransaction()},e.autoRecordTransactionStopTimeout),{[a.STATE_PROP]:c,[a.TRANSACTION_TIMER_PROP]:t}}onRejectTransaction(e){const t=e[a.TRANSACTION_PROP],n=e[a.TRANSACTION_TIMER_PROP];return n&&this.clearTimeout(n),[{[a.STATE_PROP]:"restoringstate",[a.TRANSACTION_PROP]:null,[a.TRANSACTION_TIMER_PROP]:null},()=>(t.length&&t.undo(),["autoreadystate",()=>{e.notifyStoresAboutStateRecordingStop(t,{rejected:!0})}])]}onModelUpdate(e,...t){super.onModelUpdate(e,...t),e.stopTransactionDelayed()}onModelInsertChild(e,...t){super.onModelInsertChild(e,...t),e.stopTransactionDelayed()}onModelRemoveChild(e,...t){super.onModelRemoveChild(e,...t),e.stopTransactionDelayed()}onStoreModelAdd(e,...t){super.onStoreModelAdd(e,...t),e.stopTransactionDelayed()}onStoreModelInsert(e,...t){super.onStoreModelInsert(e,...t),e.stopTransactionDelayed()}onStoreModelRemove(e,...t){super.onStoreModelRemove(e,...t),e.stopTransactionDelayed()}onStoreRemoveAll(e,...t){super.onStoreRemoveAll(e,...t),e.stopTransactionDelayed()}}const c=new l;t.default=c,s.default.registerStmState("autorecordingstate",c)},"./lib/Core/data/stm/state/DisabledState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DisabledStateClass",(function(){return s}));var r=n("./lib/Core/data/stm/state/StateBase.js"),i=n("./lib/Core/data/stm/Props.js"),o=n("./lib/Core/data/stm/state/Registry.js"),a=n("./lib/Core/data/stm/Helpers.js");class s extends r.default{canUndo(){return!1}canRedo(){return!1}onUndo(){Object(r.throwInvalidMethodCall)()}onRedo(){Object(r.throwInvalidMethodCall)()}onEnable(e){return e.autoRecord?"autoreadystate":"readystate"}onDisable(){Object(r.throwInvalidMethodCall)()}onAutoRecordOn(){return{[i.AUTO_RECORD_PROP]:!0}}onAutoRecordOff(){return{[i.AUTO_RECORD_PROP]:!1}}onStartTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransactionDelayed(){Object(r.throwInvalidMethodCall)()}onRejectTransaction(){Object(r.throwInvalidMethodCall)()}onResetQueue(e,t){return Object(a.resetQueue)(e,t)}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}}const l=new s;t.default=l,o.default.registerStmState("disabledstate",l)},"./lib/Core/data/stm/state/ReadyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ReadyStateClass",(function(){return l}));var r=n("./lib/Core/data/stm/state/StateBase.js"),i=n("./lib/Core/data/stm/Transaction.js"),o=n("./lib/Core/data/stm/Props.js"),a=n("./lib/Core/data/stm/state/Registry.js"),s=n("./lib/Core/data/stm/Helpers.js");class l extends r.default{canUndo(e){return 0<e.position&&e.position<=e.length}canRedo(e){return 0<=e.position&&e.position<e.length}onUndo(e,t){const n=e[o.QUEUE_PROP];let r=e.position,i=Math.max(0,r-t);return[{[o.STATE_PROP]:"restoringstate",[o.POS_PROP]:i},()=>{for(e.notifyStoresAboutStateRestoringStart();r!=i;)n[--r].undo();return[e.autoRecord?"autoreadystate":"readystate",()=>{e.notifyStoresAboutStateRestoringStop()}]}]}onRedo(e,t){const n=e[o.QUEUE_PROP];let r=e.position,i=Math.min(n.length,r+t);return[{[o.STATE_PROP]:"restoringstate",[o.POS_PROP]:i},()=>{e.notifyStoresAboutStateRestoringStart();do{n[r++].redo()}while(r!=i);return[e.autoRecord?"autoreadystate":"readystate",()=>{e.notifyStoresAboutStateRestoringStop()}]}]}onEnable(){Object(r.throwInvalidMethodCall)()}onDisable(){return"disabledstate"}onAutoRecordOn(){return{[o.STATE_PROP]:"autoreadystate",[o.AUTO_RECORD_PROP]:!0}}onAutoRecordOff(){Object(r.throwInvalidMethodCall)()}onStartTransaction(e,t){const n=new i.default({title:t});return[{[o.STATE_PROP]:"recordingstate",[o.TRANSACTION_PROP]:n},()=>{e.notifyStoresAboutStateRecordingStart(n)}]}onStopTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransactionDelayed(){Object(r.throwInvalidMethodCall)()}onRejectTransaction(){Object(r.throwInvalidMethodCall)()}onResetQueue(e,t){return Object(s.resetQueue)(e,t)}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}}let c=new l;t.default=c,a.default.registerStmState("readystate",c)},"./lib/Core/data/stm/state/RecordingState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RecordingStateClass",(function(){return a}));var r=n("./lib/Core/data/stm/state/StateBase.js"),i=n("./lib/Core/data/stm/Props.js"),o=n("./lib/Core/data/stm/state/Registry.js");class a extends r.default{canUndo(){return!1}canRedo(){return!1}onEnable(){}onDisable(e){const t=e[i.TRANSACTION_PROP];return e.notifyStoresAboutStateRecordingStop(t,{disabled:!0}),{[i.STATE_PROP]:"disabledstate",[i.TRANSACTION_PROP]:null}}onAutoRecordOn(e){return[{[i.STATE_PROP]:"autorecordingstate",[i.AUTO_RECORD_PROP]:!0},()=>{e.stopTransactionDelayed()}]}onAutoRecordOff(){Object(r.throwInvalidMethodCall)()}onStartTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransaction(e,t){const n=e[i.TRANSACTION_PROP];let r=e[i.POS_PROP],o=e[i.QUEUE_PROP];return n.length&&(n.title||t||!e.getTransactionTitle?t&&(n.title=t):n.title=e.getTransactionTitle(n),o[r]=n,o.length=++r),[{[i.STATE_PROP]:"readystate",[i.POS_PROP]:r,[i.TRANSACTION_PROP]:null},()=>{e.notifyStoresAboutStateRecordingStop(n,{stop:!0})}]}onRejectTransaction(e){const t=e[i.TRANSACTION_PROP];return[{[i.STATE_PROP]:"restoringstate",[i.TRANSACTION_PROP]:null},()=>(t.length&&t.undo(),["readystate",()=>{e.notifyStoresAboutStateRecordingStop(t,{rejected:!0})}])]}onStopTransactionDelayed(){Object(r.throwInvalidMethodCall)()}onQueueReset(){Object(r.throwInvalidMethodCall)()}onModelUpdate(e,t,n,r){e[i.TRANSACTION_PROP].addAction(e.makeModelUpdateAction(t,n,r))}onModelInsertChild(e,t,n,r,o,a){e[i.TRANSACTION_PROP].addAction(e.makeModelInsertChildAction(t,n,r,o,a))}onModelRemoveChild(e,t,n,r){e[i.TRANSACTION_PROP].addAction(e.makeModelRemoveChildAction(t,n,r))}onStoreModelAdd(e,t,n,r){e[i.TRANSACTION_PROP].addAction(e.makeStoreModelAddAction(t,n,r))}onStoreModelInsert(e,t,n,r,o,a){e[i.TRANSACTION_PROP].addAction(e.makeStoreModelInsertAction(t,n,r,o,a))}onStoreModelRemove(e,t,n,r,o){e[i.TRANSACTION_PROP].addAction(e.makeStoreModelRemoveAction(t,n,r,o))}onStoreRemoveAll(e,t,n,r){e[i.TRANSACTION_PROP].addAction(e.makeStoreRemoveAllAction(t,n,r))}}const s=new a;t.default=s,o.default.registerStmState("recordingstate",s)},"./lib/Core/data/stm/state/Registry.js":function(e,t,n){"use strict";n.r(t),n.d(t,"registerStmState",(function(){return i})),n.d(t,"resolveStmState",(function(){return o})),n("./lib/Core/data/stm/state/StateBase.js");const r=new Map,i=(e,t)=>{r.set(e,t)},o=e=>("string"===typeof e&&(e=r.get(e)),e);t.default={registerStmState:i,resolveStmState:o}},"./lib/Core/data/stm/state/RestoringState.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RestoringStateClass",(function(){return a}));var r=n("./lib/Core/data/stm/state/StateBase.js"),i=n("./lib/Core/data/stm/Props.js"),o=n("./lib/Core/data/stm/state/Registry.js");class a extends r.default{canUndo(){return!1}canRedo(){return!1}onUndo(){Object(r.throwInvalidMethodCall)()}onRedo(){Object(r.throwInvalidMethodCall)()}onEnable(){Object(r.throwInvalidMethodCall)()}onDisable(){Object(r.throwInvalidMethodCall)()}onAutoRecordOn(){return{[i.AUTO_RECORD_PROP]:!0}}onAutoRecordOff(){return{[i.AUTO_RECORD_PROP]:!1}}onStartTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransaction(){Object(r.throwInvalidMethodCall)()}onStopTransactionDelayed(){Object(r.throwInvalidMethodCall)()}onRejectTransaction(){Object(r.throwInvalidMethodCall)()}onQueueReset(){Object(r.throwInvalidMethodCall)()}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}}const s=new a;t.default=s,o.default.registerStmState("restoringstate",s)},"./lib/Core/data/stm/state/StateBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"throwAbstractMethodCall",(function(){return i})),n.d(t,"throwInvalidMethodCall",(function(){return o})),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/Base.js");const i=()=>{throw new Error("Abstract method call!")},o=()=>{throw new Error("Method cannot be called at this state!")};class a extends r.default{canUndo(e){i()}canRedo(e){i()}onUndo(e){i()}onRedo(e){i()}onStartTransaction(e){i()}onStopTransaction(e){i()}onStopTransactionDelayed(e){i()}onRejectTransaction(e){i()}onEnable(e){i()}onDisable(e){i()}onAutoRecordOn(e){i()}onAutoRecordOff(e){i()}onResetQueue(e){i()}onModelUpdate(e){i()}onStoreModelAdd(e){i()}onStoreModelInsert(e){i()}onStoreModelRemove(e){i()}onStoreModelRemoveAll(e){i()}onModelInsertChild(e){i()}onModelRemoveChild(e){i()}}a._$name="StateBase"},"./lib/Core/helper/AjaxHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r,i=n("./lib/Core/helper/BrowserHelper.js");const o=/^(\w+)=(.*)$/,a=(null===(r=i.default.queryString)||void 0===r?void 0:r.__resourceRoot)||"";class s{static get(e,t){return this.fetch(e,t)}static post(e,t,n={}){return t instanceof FormData||"string"===typeof t||(t=JSON.stringify(t),n.headers=n.headers||{},n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json"),this.fetch(e,Object.assign({method:"POST",body:t},n))}static fetch(e,t={}){const n=new AbortController;if(Object.assign(t,{abortController:n,signal:n.signal}),"credentials"in t||(t.credentials="include"),t.queryParams){const n=Object.entries(t.queryParams);n.length&&(e+=(e.includes("?")?"&":"?")+n.map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"))}const r=new Promise((n,i)=>{fetch(a+e,t).then(e=>{t.parseJson?e.json().then(t=>{e.parsedJson=t,n(e)}).catch(t=>{e.parsedJson=null,e.error=t,i(e)}):n(e)}).catch(e=>{e.stack=r.stack,"AbortError"!==e.name&&i(e)})});return r.stack=(new Error).stack,r.abort=function(){n.abort()},r}static mockUrl(e,t){(this.mockAjaxMap||(this.mockAjaxMap={}))[e]=t,s.originalFetch||(s.originalFetch=s.fetch),s.fetch=this.mockAjaxFetch.bind(this)}static mockAjaxFetch(e,t){let n=e.split("?"),r=this.mockAjaxMap[n[0]],i=null;if(r){"function"===typeof r&&(r=r(n[0],n[1]&&function(e){const t={},n=e.split("&");for(const r of n){const[e,n,i]=o.exec(r),a=decodeURIComponent(n),s=decodeURIComponent(i);if(e){let e=t[a];e?(Array.isArray(e)||(e=t[a]=[e]),e.push(s)):t[a]=s}}return t}(n[1]),t));try{i=t.parseJson&&JSON.parse(r.responseText)}catch(a){i=null,r.error=a}return r=Object.assign({status:200,ok:!0,headers:new Headers,statusText:"OK",url:e,parsedJson:i,text:()=>new Promise(e=>{e(r.responseText)}),json:()=>new Promise(e=>{e(i)})},r),new Promise((function(e,t){r.synchronous?e(r):setTimeout((function(){e(r)}),"delay"in r?r.delay:100)}))}return s.originalFetch(e,t)}}s._$name="AjaxHelper"},"./lib/Core/helper/ArrayHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{static clean(e){return e.reduce((e,t)=>(null===t||void 0===t||Array.isArray(t)&&0===t.length||""===t||e.push(t),e),[])}static from(e,t,n){const r=[];if(e)for(const i of e)t&&!t(i)||r.push(n?n(i):i);return r}static remove(e,...t){let n,r,i=!1;for(let o=0;o<t.length;o++)r=t[o],-1!==(n=e.indexOf(r))&&(e.splice(n,1),i=!0);return i}static findInsertionIndex(e,t,n=this.lexicalCompare,r){const i=t.length;let o,a;return r<i&&(o=r>0?n(t[r-1],e):0,a=r<i-1?n(e,t[r]):0,o<1&&a<1)?r:this.binarySearch(t,e,n)}static findLast(e,t,n){for(let{length:r}=e,i=r-1;i>=0;i--)if(t.call(n,e[i],i,e))return e[i]}static binarySearch(e,t,n=0,r=e.length,i=this.lexicalCompare){const o=e.length;let a,s;for(n instanceof Function?(i=n,n=0):r instanceof Function&&(i=r,r=o),--r;n<=r;)a=n+r>>1,s=i(t,e[a]),s>=0?n=a+1:s<0&&(r=a-1);return n}magnitudeCompare(e,t){return e<t?-1:e>t?1:0}lexicalCompare(e,t){return(e=String(e))<(t=String(t))?-1:e>t?1:0}static fill(e,t={},n=null){const r=[],i=Array.isArray(t)?t:[t];for(let o=0;o<e;o++)for(const e of i){const t=Object.assign({},e);n&&n(t,o),r.push(t)}return r}static populate(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n}static include(e,t){e.includes(t)||e.push(t)}static unique(e){return[...new Set(e)]}static allowNegative(e){return new Proxy(e,{get(e,t,n){if("string"!==typeof t)return Reflect.get(e,t,n);const r=Number(t);return Number.isNaN(r)?Reflect.get(e,t,n):e[r<0?e.length+r:r]},set(e,t,n,r){if("string"!==typeof t)return Reflect.set(e,t,n,r);const i=Number(t);return Number.isNaN(i)?Reflect.set(e,t,n,r):(e[i<0?e.length+i:i]=n,!0)}})}static delta(e,t,n=!1){if(!t)return n?{toAdd:e,toRemove:[],toKeep:[]}:{onlyInA:e,onlyInB:[],inBoth:[]};const r=[],i=[],o=[];for(let a=0;a<e.length;a++){const n=e[a];t.includes(n)?o.push(n):r.push(n)}for(let a=0;a<t.length;a++){const e=t[a];o.includes(e)||i.push(e)}return n?{toAdd:r,toRemove:i,toKeep:o}:{onlyInA:r,onlyInB:i,inBoth:o}}}(e=>{const t=new Array(600),n={};let r,i,o,a;for(r=0;r<600;++r)t[r]=[Math.floor(3*Math.random())+1,r+1];for(t.sort((e,t)=>e[0]-t[0]),r=0;r<600&&!o;++r)[i,a]=t[r],o=n[i]>a,n[i]=a;if(o){const{prototype:e}=Array,{sort:t}=e,n=(e,t)=>e<t?-1:t<e?1:0,r=function(e){const r=this,i=r.length;let o,a;if(i>1){for(a=new Array(i),o=i;o-- >0;)a[o]=o;for(e=e||n,t.call(a,(t,n)=>e(r[t],r[n])||t-n),o=i;o-- >0;)a[o]=r[a[o]];for(o=i;o-- >0;)r[o]=a[o]}return r};Object.defineProperty(e,"sort",{configurable:!0,value:r})}})(),r._$name="ArrayHelper"},"./lib/Core/helper/AsyncHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{static animationFrame(){return new Promise(e=>{requestAnimationFrame(e)})}static sleep(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}static yield(){return Promise.resolve()}}r._$name="AsyncHelper"},"./lib/Core/helper/BrowserHelper.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return r}));class r{static cacheFlags(e=navigator.platform,t=navigator.userAgent){const n=this;n._isLinux=Boolean(e.match(/Linux/)),n._isMac=Boolean(e.match(/Mac/)),n._isWindows=Boolean(e.match(/Win32/)),n._isIE11=Boolean(t.match(/rv:11/)),n._edgeVersion=n.getVersion(t,/Edge?\/(\d+)\./),n._isEdge=n._edgeVersion>0&&n._edgeVersion<80,n._isEdge||(n._edgeVersion=0),n._isWebkit=Boolean(t.match(/WebKit/))&&!n._isEdge,n._firefoxVersion=n.getVersion(t,/Firefox\/(\d+)\./),n._isFirefox=n._firefoxVersion>0,n._chromeVersion=n._isEdge?0:n.getVersion(t,/Chrom(?:e|ium)\/(\d+)\./),n._isChrome=n._chromeVersion>0,n._isSafari=Boolean(t.match(/Safari/))&&!n._isChrome&&!n._isEdge,n._isMobileSafari=Boolean(t.match(/Mobile.*Safari/)),n._isAndroid=Boolean(t.match(/Android/g));try{document.querySelector(":scope"),n.supportsQueryScope=!n._isFirefox}catch(r){n.supportsQueryScope=!1}n._supportsPassive=!1;try{document.addEventListener("__notvalid__",null,{get passive(){n._supportsPassive=!0}})}catch(r){}}static get supportsSticky(){return!this._isIE11}static getVersion(e,t){const n=e.match(t);return n?parseInt(n[1]):0}static get isTouchDevice(){return"_isTouchDevice"in this?this._isTouchDevice:"ontouchstart"in window||!this.isEdge&&navigator.maxTouchPoints>0||this.isEdge&&window.TouchEvent||navigator.msMaxTouchPoints>0}static set isTouchDevice(e){this._isTouchDevice=e}static get supportsPointerEvents(){return Boolean(window.PointerEvent||window.MSPointerEvent)}static get isHoverableDevice(){return void 0===this._isHoverableDevice&&(this._isHoverableDevice=window.matchMedia("(any-hover: hover)").matches),this._isHoverableDevice}static get isBrowserEnv(){return"undefined"!==typeof window}static get isMac(){return this._isMac}static get isWindows(){return this._isWindows}static get isLinux(){return this._isLinux}static get isAndroid(){return this._isAndroid}static get isIE11(){return this._isIE11}static get isEdge(){return this._isEdge}static get edgeVersion(){return this._edgeVersion}static get isWebkit(){return this._isWebkit}static get isChrome(){return this._isChrome}static get chromeVersion(){return this._chromeVersion}static get isFirefox(){return this._isFirefox}static get firefoxVersion(){return this._firefoxVersion}static get isSafari(){return this._isSafari}static get isMobileSafari(){return this._isMobileSafari}static get supportsPassive(){return this._supportsPassive}static get storageAvailable(){let e,t;try{return e=localStorage,t="__storage_test__",e.setItem(t,t),e.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==e.length}}static setLocalStorageItem(e,t){this.storageAvailable&&localStorage.setItem(e,t)}static getLocalStorageItem(e){return this.storageAvailable&&localStorage.getItem(e)}static removeLocalStorageItem(e){this.storageAvailable&&localStorage.removeItem(e)}static searchParam(e,t=null,n=document.location.search){const r=new RegExp(`[?&]${e}=([^&]*)`),i=n.match(r);return i&&i[1]||t}static getCookie(e){const t=encodeURIComponent(e)+"=",n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return""}static download(e,t){const n=document.createElement("a");n.download=e,n.href=t||e,n.style.cssText="display:none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static downloadBlob(e,t){const n=window.URL.createObjectURL(e);this.download(t,n),window.URL.revokeObjectURL(n)}static get queryString(){if(this.isBrowserEnv){const e=new URL(window.location.href).searchParams;return Object.fromEntries(e.entries())}}static get global(){return this.isBrowserEnv?window:"undefined"!==typeof e?e:globalThis||{}}static copyToClipboard(e){let t=!0;const n=document.createElement("textarea");n.value=e,n.style.height=n.style.width=0,document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(r){t=!1}return n.remove(),t}}r.isBrowserEnv&&r.cacheFlags(),r._$name="BrowserHelper"}.call(this,n("../node_modules/webpack/buildin/global.js"))},"./lib/Core/helper/CSSHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/helper/DomHelper.js");class i{static insertRule(e){const t=this.getStyleSheet(document.head),n=t.cssRules.length;if(t.insertRule(e,0),t.cssRules.length>n)return t.cssRules[0]}static findRule(e){let t,n="function"===typeof e;return Array.prototype.find.call(document.head.querySelectorAll("link[rel=stylesheet],style[type*=css]"),r=>{if(t=Array.prototype.find.call(r.sheet.rules||r.sheet.cssRules,t=>n?e(t):t.selectorText===e),t)return!0}),t}static getStyleSheet(e=document.head){return e.$bryntumStylesheet||(e.$bryntumStylesheet=r.default.createElement({tag:"style",id:"bryntum-private-styles",type:"text/css",parent:e}).sheet),e.$bryntumStylesheet}}i._$name="CSSHelper"},"./lib/Core/helper/DateHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"unitMagnitudes",(function(){return G})),n.d(t,"default",(function(){return V}));var r=n("./lib/Core/localization/Localizable.js"),i=n("./lib/Core/localization/LocaleManager.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/StringHelper.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{toString:d}=Object.prototype,u=d.call(new Date),h=new RegExp("\u200e","g"),f=(e,t)=>isNaN(e)||null==e?t:e,g=e=>{let t="th";return["11","12","13"].find(t=>e.endsWith(t))||(t={1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th"),e+t},m=(e,t,n)=>{let r=(S[e]||(S[e]=new Intl.DateTimeFormat(b,t))).format(n);return o.default.isIE11&&(r=r.replace(h,"")),r},p=(e,t,n,r=!1)=>{let i=m(e,t,n);return/am|pm/i.test(i)&&(i=i.replace(/^0/,""),r&&(i=i.replace(/:00/,""))),i},v=e=>e>=0?e:e+7;let b="en-US",y=g,C={},S={},w={};const E={M:e=>e.getMonth()+1,Mo:e=>y(E.M(e).toString()),MM:e=>(e.getMonth()+1).toString().padStart(2,"0"),MMM:e=>m("MMM",{month:"short"},e),MMMM:e=>m("MMMM",{month:"long"},e),Q:e=>Math.ceil((e.getMonth()+1)/3),Qo:e=>y(E.Q(e).toString()),D:e=>e.getDate(),Do:e=>y(E.D(e).toString()),DD:e=>e.getDate().toString().padStart(2,"0"),DDD:e=>Math.ceil((new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0)-new Date(e.getFullYear(),0,0,12,0,0))/P.day.millisecond),DDDo:e=>y(E.DDD(e).toString()),DDDD:e=>E.DDD(e).toString().padStart(3,"0"),d:e=>e.getDay(),do:e=>y(e.getDay().toString()),d1:e=>E.ddd(e).substring(0,1),dd:e=>E.ddd(e).substring(0,2),ddd:e=>m("ddd",{weekday:"short"},e),dddd:e=>m("dddd",{weekday:"long"},e),e:e=>e.getDay(),E:e=>e.getDay()+1,W:e=>V.getWeekNumber(e)[1],Wo:e=>y(E.W(e).toString()),WW:e=>E.W(e).toString().padStart(2,"0"),Y:e=>e.getFullYear(),YY:e=>e.getFullYear()%100,YYYY:e=>e.getFullYear(),A:e=>e.getHours()<12?"AM":"PM",a:e=>e.getHours()<12?"am":"pm",H:e=>e.getHours(),HH:e=>e.getHours().toString().padStart(2,"0"),h:e=>e.getHours()%12||12,hh:e=>E.h(e).toString().padStart(2,"0"),k:e=>e.getHours()+1,kk:e=>E.k(e).toString().padStart(2,"0"),K:e=>p("K",{hour:"numeric"},e),KK:e=>p("KK",{hour:"2-digit"},e),m:e=>e.getMinutes(),mm:e=>E.m(e).toString().padStart(2,"0"),s:e=>e.getSeconds(),ss:e=>E.s(e).toString().padStart(2,"0"),S:e=>Math.floor(e.getMilliseconds()/100).toString(),SS:e=>Math.floor(e.getMilliseconds()/10).toString().padStart(2,"0"),SSS:e=>e.getMilliseconds().toString().padStart(3,"0"),z:e=>m("z",{timeZoneName:"short"},e),zz:e=>m("zz",{timeZoneName:"long"},e),Z:e=>W.getGMTOffset(e),LT:e=>p("LT",{hour:"2-digit",minute:"2-digit"},e),LST:e=>p("LST",{hour:"numeric",minute:"2-digit"},e,!0),LTS:e=>p("LTS",{hour:"2-digit",minute:"2-digit",second:"2-digit"},e),L:e=>m("L",{year:"numeric",month:"2-digit",day:"2-digit"},e),l:e=>m("l",{year:"numeric",month:"numeric",day:"numeric"},e),LL:e=>m("LL",{year:"numeric",month:"long",day:"numeric"},e),ll:e=>m("ll",{year:"numeric",month:"short",day:"numeric"},e),LLL:e=>m("LLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"},e),lll:e=>m("lll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"},e),LLLL:e=>m("LLLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"long"},e),llll:e=>m("llll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"short"},e)},D=`^(?:${Object.keys(E).sort((e,t)=>t.length-e.length).join("|")})`,x=()=>({}),j=e=>(e=>B.test(e))(e)&&{milliseconds:parseInt(e.padEnd(3,"0").substring(0,3))},T={YYYY:e=>({year:parseInt(e)}),Y:e=>({year:parseInt(e)}),YY:e=>{const t=parseInt(e);return{year:t+(t>1968?1900:2e3)}},MM:e=>({month:parseInt(e)-1}),Mo:e=>({month:parseInt(e)-1}),DD:e=>({date:parseInt(e)}),M:e=>({month:parseInt(e)-1}),D:e=>({date:parseInt(e)}),Do:e=>({date:parseInt(e)}),DDD:x,MMM:x,MMMM:x,DDDo:x,DDDD:x,d:x,do:x,d1:x,dd:x,ddd:x,dddd:x,Q:x,Qo:x,W:x,Wo:x,WW:x,e:x,E:x,HH:e=>({hours:parseInt(e)}),hh:e=>({hours:parseInt(e)}),mm:e=>({minutes:parseInt(e)}),H:e=>({hours:parseInt(e)}),m:e=>({minutes:parseInt(e)}),ss:e=>({seconds:parseInt(e)}),s:e=>({seconds:parseInt(e)}),S:j,SS:j,SSS:j,A:e=>({amPm:e.toLowerCase()}),a:e=>({amPm:e.toLowerCase()}),L:"MM/DD/YYYY",LT:"HH:mm A",Z:e=>{if(!e||!$.test(e)&&"Z"!==e)return null;let t=0;if("Z"!==e){const n=$.exec(e);t=n?("+"===n[1]?1:-1)*(60*(parseInt(n[2])||0)+(parseInt(n[3])||0)):-1*(new Date).getTimezoneOffset()}return{timeZone:t}}},R=Object.keys(T).sort((e,t)=>t.length-e.length),M=new RegExp(`(${R.join("|")})`),k=new RegExp("(l|LL|ll|LLL|lll|LLLL|llll)"),P={decade:{decade:1,year:10,quarter:40,month:120,week:520,day:3652,hour:87648,minute:5258880,second:315532800,millisecond:3155328e5},year:{decade:.1,year:1,quarter:4,month:12,week:52,day:365,hour:8760,minute:525600,second:31536e3,millisecond:31536e6},quarter:{decade:1/40,year:1/4,quarter:1,month:3,week:4,day:91,hour:2184,minute:131040,second:7862400,millisecond:78624e5},month:{decade:1/120,year:1/12,quarter:1/3,month:1,week:4,day:-30,hour:-720,minute:-43200,second:-2592e3,millisecond:-2592e6},week:{decade:-1/520,year:-1/52,quarter:-1/13,month:-1/4,day:7,hour:168,minute:10080,second:604800,millisecond:6048e5},day:{decade:-1/3652,year:-1/365,quarter:-1/91,month:-1/30,week:1/7,hour:24,minute:1440,second:86400,millisecond:864e5},hour:{decade:-1/87648,year:-1/8760,quarter:-1/2184,month:-1/720,week:1/168,day:1/24,minute:60,second:3600,millisecond:36e5},minute:{decade:-1/5258880,year:-1/525600,quarter:-1/131040,month:-1/43200,week:1/10080,day:1/1440,hour:1/60,second:60,millisecond:6e4},second:{decade:-1/315532800,year:-1/31536e3,quarter:-1/7862400,month:-1/2592e3,week:1/604800,day:1/86400,hour:1/3600,minute:1/60,millisecond:1e3},millisecond:{decade:-1/3155328e5,year:-1/31536e6,quarter:-1/78624e5,month:-1/2592e6,week:1/6048e5,day:1/864e5,hour:1/36e5,minute:1/6e4,second:.001}},O={ms:"millisecond",milliseconds:"millisecond",s:"second",seconds:"second",m:"minute",mi:"minute",min:"minute",minutes:"minute",h:"hour",hours:"hour",d:"day",days:"day",w:"week",weeks:"week",M:"month",months:"month",q:"quarter",quarters:"quarter",y:"year",years:"year",dec:"decade",decades:"decade"},F=/^\s*([-+]?\d+(?:[.,]\d*)?|[-+]?(?:[.,]\d+))\s*([^\s]+)?/i,A=/^\s*([-+]?\d+)(?![.,])\s*([^\s]+)?/i,I=["millisecond","second","minute","hour","day","week","month","quarter","year","decade"],L=[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"],["dec"]],H=["decade","year","month","week","day","hour","minute","second","millisecond"],_=["milliseconds","seconds","minutes","hours","date","month","year"],B=/^[0-9]+$/,$=/([+-])(\d\d):*(\d\d)*$/,G={millisecond:0,second:1,minute:2,hour:3,day:4,week:5,month:6,quarter:7,year:8,decade:9},N={round:(e,t=1)=>Math.round(e/t)*t,floor:(e,t=1)=>Math.floor(e/t)*t,ceil:(e,t=1)=>Math.ceil(e/t)*t},z={};class V extends(Object(r.default)()){static get $name(){return"DateHelper"}static set defaultFormat(e){W._defaultFormat=e}static get defaultFormat(){return W._defaultFormat||"YYYY-MM-DDTHH:mm:ssZ"}static set defaultParseFormat(e){this._defaultParseFormat=e}static get defaultParseFormat(){return this._defaultParseFormat||this._defaultFormat||"YYYY-MM-DDTHH:mm:ss.SSSZ"}static buildParser(e){const t=e.split(M),n=[];return 1===t.length||k.test(e)?[]:(t.reduce((t,r,i,o)=>{if(0!==i||""!==r)if(M.test(r)){const a=(this.localize("L{parsers}")||{})[r]||T[r];if("Z"===r&&i<o.length-2)throw new Error(`Invalid format ${e} TimeZone (Z) must be last token`);if("string"===typeof a){const e=W.buildParser(a),r=e.pop();delete r.last,n.push(...e),t=r}else t.pattern=r,t.fn=T[r]}else t.splitter=r,n.push(t),t={};else Object.prototype.hasOwnProperty.call(t,"pattern")&&n.push(t);return t},{}),n[n.length-1].last=!0,n)}static makeKey(e){e.getTime&&(e=e.getTime());const t=z[e];return t||(z[e]=W.format(new Date(e),"YYYY-MM-DD"))}static parseKey(e){return W.parse(e,"YYYY-MM-DD")}static parse(e,t=W.defaultParseFormat){if(e instanceof Date)return e;if("string"!==typeof e||!e)return null;const n={year:null,month:null,date:null,hours:null,minutes:null,seconds:null,milliseconds:null};t=t.replace(/S+/gm,"SSS");let r,i=w[t];i||(i=w[t]=W.buildParser(t)),i.reduce((e,t)=>{if(!t.last){let r,i,o;if(r="T"===t.splitter&&-1===e.indexOf("T")?e.indexOf(" "):""!==t.splitter?e.indexOf(t.splitter):t.pattern&&t.pattern.length||-1,-1===r||"SSS"===t.pattern&&e.match(/^\d+Z$/)){const t=e.split(/([Z\-+])/);1===t.length?(i=e,o=""):(i=t[0],o=`${t[1]}${t[2]}`)}else i=e.substring(0,r)||e,o=e.substring(r+t.splitter.length);if(t.fn){const e=t.fn(i);e?Object.assign(n,e):o=i+o}return o}Object.assign(n,t.fn(e))},e),n.year&&!n.date&&(n.date=1);const o=W.create(n);return r=o||new Date(e),r}static create(e){const t=l({},e);let n=isNaN(t.year),r=!1;if(!n){let e=!0;_.forEach(n=>{n in t&&!isNaN(t[n])||(t[n]=0),e=e&&null===t[n]}),n=e}if("pm"===t.amPm&&(t.hours=t.hours%12+12),"timeZone"in t&&(r=!0,t.minutes-=t.timeZone),n)return null;const i=[f(t.year,2020),f(t.month,0),f(t.date,1),t.hours,t.minutes,t.seconds,t.milliseconds];return r?new Date(Date.UTC(...i)):new Date(...i)}static toUTC(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()))}static format(e,t=W.defaultFormat){if(!e||isNaN(e))return null;let n=C[t],r="";if(!n){n=C[t]=[];for(let e=0;e<t.length;e++){const r=t.substr(e).match(D),i=null===r||void 0===r?void 0:r[0];if(i){const t=(this.localize("L{formats}")||{})[i]||E[i];n.push(t),e+=i.length-1}else if("{"===t[e]){const r=t.indexOf("}",e+1);-1===r?(n.push(t.substr(e+1)),e=t.length):(n.push(t.substring(e+1,r)),e=r)}else n.push(t[e])}}return n.forEach(t=>{r+="string"===typeof t?t:t(e)}),(o.default.isEdge||o.default.isIE11)&&(r=r.replace(/\u200E/g,"")),r}static asMilliseconds(e,t=null){return"string"===typeof e&&(t=e,e=1),W.as("millisecond",e,t)}static asMonths(e){const t=W.as("ms",W.daysInMonth(e),"day"),n=(e.valueOf()-W.startOf(e,"month").valueOf())/t;return 12*e.getYear()+e.getMonth()+n}static monthsToDate(e){const t=Math.floor(e),n=e-t,r=new Date(0,t),i=W.as("ms",W.daysInMonth(r),"days");return r.setTime(r.getTime()+n*i),r}static formatDelta(e,t){let n,r;"boolean"===typeof t?n=t:t&&(n=t.abbrev);const i=this.getDelta(e,t),o=[],a=(null===t||void 0===t?void 0:t.separator)||(n?"":" ");for(r in i)o.push(`${i[r]}${a}${r}`);return!1===(null===t||void 0===t?void 0:t.asString)?o:o.join(", ")}static getDelta(e,t){let n,r,i,o,a;"boolean"===typeof t?n=t:t&&(n=t.abbrev,o=W.normalizeUnit(t.precision));const s={},l=n?W.getShortNameOfUnit:W.getLocalizedNameOfUnit;for(a of H)if(r=W.as(a,e),i=o===a,r=Math[i?"round":"floor"](r),(r||i&&!s.length)&&(s[l.call(W,a,1!==r)]=r,e-=W.as("ms",r,a)),i||!e)break;return s}static as(e,t,n="ms"){return"string"===typeof t&&(t=W.parseDuration(t)),"object"===typeof t&&(n=t.unit,t=t.magnitude),e===n||(e=W.normalizeUnit(e))===(n=W.normalizeUnit(n))?t:G[n]>G[e]?t*Math.abs(P[n][e]):t/Math.abs(P[e][n])}static formatContainsHourInfo(e){return/([HhKkmSsAa]|LT|L{3,}|l{3,})/.test(e.replace(/(\\.)/g,""))}static is24HourFormat(e){return W.format(W.getTime(13,0,0),e).includes("13")}static add(e,t,n="ms"){let r;if(r="string"===typeof e?W.parse(e):new Date(e.getTime()),!n||0===t)return r;switch(n=W.normalizeUnit(n)){case"millisecond":r=new Date(r.getTime()+t);break;case"second":r=new Date(r.getTime()+1e3*t);break;case"minute":r=new Date(r.getTime()+6e4*t);break;case"hour":r=new Date(r.getTime()+36e5*t);break;case"day":t%1===0?r.setDate(r.getDate()+t):r=new Date(r.getTime()+864e5*t),23===r.getHours()&&0===e.getHours()&&(r=W.add(r,1,"hour"));break;case"week":r.setDate(r.getDate()+7*t);break;case"month":{let e=r.getDate();e>28&&(e=Math.min(e,W.getLastDateOfMonth(W.add(W.getFirstDateOfMonth(r),t,"month")).getDate())),r.setDate(e),r.setMonth(r.getMonth()+t);break}case"quarter":r=W.add(r,3*t,"month");break;case"year":r.setFullYear(r.getFullYear()+t)}return r}static diff(e,t,n="ms",r=!0){if(n=W.normalizeUnit(n),!e||!t)return 0;let i;switch(n){case"year":i=W.diff(e,t,"month")/12;break;case"quarter":i=W.diff(e,t,"month")/3;break;case"month":i=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());break;case"week":i=W.diff(e,t,"day")/7;break;case"day":{const n=e.getTimezoneOffset()-t.getTimezoneOffset();i=(t-e+60*n*1e3)/864e5;break}case"hour":i=(t-e)/36e5;break;case"minute":i=(t-e)/6e4;break;case"second":i=(t-e)/1e3;break;case"millisecond":i=t-e}return r?i:Math.round(i)}static startOf(e,t="day",n=!0){if(!e)return null;t=W.normalizeUnit(t),n&&(e=W.clone(e));const r={},i=G[t];for(let o=0;o<i;o++){const e=I[o];"quarter"!==e&&"week"!==e&&(r[e]="day"===e?1:0)}if("quarter"===t)r.month=3*(W.get(e,"quarter")-1);else if("week"===t){const t=e.getDay()-W.weekStartDay;r.day=e.getDate()-t}return W.set(e,r)}static endOf(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}static clone(e){return new Date(e.getTime())}static clearTime(e,t=!0){return W.startOf(e,"day",t)}static midnight(e,t){let n=W.clearTime(e);return t&&n<e&&(n=W.add(n,1,"d")),n}static getTimeOfDay(e){return e.getHours()*P.hour.millisecond+e.getMinutes()*P.minute.millisecond+e.getSeconds()*P.second.millisecond+e.getMilliseconds()}static set(e,t,n){if(!t)return e;if("string"===typeof t)switch(W.normalizeUnit(t)){case"millisecond":(0!==n||e.getMilliseconds()>0)&&e.setMilliseconds(n);break;case"second":(0!==n||e.getSeconds()>0)&&e.setSeconds(n);break;case"minute":(0!==n||e.getMinutes()>0)&&e.setMinutes(n);break;case"hour":e.setHours(n);break;case"day":case"date":e.setDate(n);break;case"week":throw new Error("week not implemented");case"month":e.setMonth(n);break;case"quarter":e.setDate(1),e.setMonth(3*(n-1));break;case"year":e.setFullYear(n)}else Object.entries(t).sort((e,t)=>G[e[0]]-G[t[0]]).forEach(([t,n])=>{W.set(e,t,n)});return e}static setDateToMidday(e,t=!0){return W.set(W.clearTime(e,t),"hour",12)}static constrain(e,t,n){return null!=t&&(e=W.max(e,t)),null==n?e:W.min(e,n)}static getTime(e,t=0,n=0,r=0){return e instanceof Date&&(r=e.getMilliseconds(),n=e.getSeconds(),t=e.getMinutes(),e=e.getHours()),new Date(2020,0,1,e,t,n,r)}static copyTimeValues(e,t){return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds()),e}static isDST(e){const t=e.getFullYear(),n=new Date(t,0,1),r=new Date(t,6,1);return e.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),r.getTimezoneOffset())}static isBefore(e,t){return e<t}static isAfter(e,t){return e>t}static isEqual(e,t,n=null){return null===n?e&&t&&e.getTime()===t.getTime():W.startOf(e,n)-W.startOf(t,n)===0}static compare(e,t,n=null){return n&&(e=W.startOf(e,n),t=W.startOf(t,n)),e<t?-1:e>t?1:0}static isStartOf(e,t){return W.isEqual(e,W.startOf(e,t))}static betweenLesser(e,t,n){return t.getTime()<=e.getTime()&&e.getTime()<n.getTime()}static betweenLesserEqual(e,t,n){return t.getTime()<=e.getTime()&&e.getTime()<=n.getTime()}static intersectSpans(e,t,n,r){return W.betweenLesser(e,n,r)||W.betweenLesser(n,e,t)}static compareUnits(e,t){return Math.sign(G[e]-G[t])}static timeSpanContains(e,t,n,r){return n-e>=0&&t-r>=0}static get weekStartDay(){return this.localize("L{weekStartDay}")||0}static get nonWorkingDays(){return l({},this.localize("L{nonWorkingDays}"))}static get nonWorkingDaysAsArray(){return Object.keys(this.nonWorkingDays).map(Number)}static get weekends(){return l({},this.localize("L{weekends}"))}static get(e,t){switch(W.normalizeUnit(t)){case"millisecond":return e.getMilliseconds();case"second":return e.getSeconds();case"minute":return e.getMinutes();case"hour":return e.getHours();case"date":case"day":return e.getDate();case"week":return E.W(e);case"month":return e.getMonth();case"quarter":return Math.floor(e.getMonth()/3)+1;case"year":return e.getFullYear()}return null}static daysInMonth(e){const t=W.clone(e);return t.setDate(1),t.setMonth(e.getMonth()+1),t.setDate(0),t.getDate()}static getFirstDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}static getLastDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}static min(e,t){return e.getTime()<t.getTime()?e:t}static max(e,t){return e.getTime()>t.getTime()?e:t}static getNext(e,t,n=1,r=W.weekStartDay){if("week"===t){let t=W.clone(e);const i=t.getDay();return t=W.startOf(t,"day"),t=W.add(t,r-i+7*(n-(r<=i?0:1)),"day"),t.getDay()!==r&&W.add(t,1,"hour"),t}return W.startOf(W.add(e,n,t),t)}static isValidDate(e){return W.isDate(e)&&!isNaN(e)}static isDate(e){return e&&d.call(e)===u}static getStartOfNextDay(e,t,n){let r=W.add(n?e:W.clearTime(e,t),1,"day");if(r.getDate()===e.getDate()){const n=W.add(W.clearTime(e,t),2,"day").getTimezoneOffset(),i=e.getTimezoneOffset();r=W.add(r,i-n,"minute")}return r}static getEndOfPreviousDay(e,t){const n=t?e:W.clearTime(e,!0);return n-e?n:W.add(n,-1,"day")}static getWeekDescription(e,t=e){const n=e.getMonth()===t.getMonth()?V.format(e,"MMMM"):`${V.format(e,"MMM")} - ${V.format(t,"MMM")}`,r=V.getWeekNumber(e);return`${r[1]}, ${n} ${r[0]}`}static getWeekNumber(e,t=V.weekStartDay){const n=new Date(e.getFullYear(),0,1),r=new Date(e.getFullYear(),11,31),i=v(n.getDay()-t),o=v(r.getDay()-t),a=(s=e,l=n,Math.floor((s.getTime()-l.getTime()-(s.getTimezoneOffset()-l.getTimezoneOffset())*P.minute.millisecond)/P.day.millisecond)+1);var s,l;let c;if(c=i<4?Math.floor((a+i-1)/7)+1:Math.floor((a+i-1)/7),c){let t=e.getFullYear();return 53===c&&o<3&&(t++,c=1),[t,c]}const d=V.getWeekNumber(new Date(e.getFullYear()-1,11,31))[1];return[e.getFullYear()-1,d]}static formatCount(e,t){return t=W.normalizeUnit(t),1!==e&&(t+="s"),e+" "+t}static getUnitToBaseUnitRatio(e,t,n=!1){return(e=W.normalizeUnit(e))===(t=W.normalizeUnit(t))?1:P[e]&&P[e][t]&&(n||P[e][t]>0)?1/W.as(t,1,e):P[t]&&P[t][e]&&(n||P[t][e]>0)?W.as(e,1,t):-1}static getShortNameOfUnit(e){return e=W.parseTimeUnit(e),W.unitLookup[e].abbrev}static getLocalizedNameOfUnit(e,t=!1){const n=e.charAt(0)===e.charAt(0).toUpperCase();return e=W.normalizeUnit(e),e=W.parseTimeUnit(e),e=W.unitLookup[e][t?"plural":"single"],n&&(e=a.default.capitalize(e)),e}static normalizeUnit(e){if(!e)return null;const t=e.toLowerCase();return"date"===t||I.includes(t)?t:O[e]||O[t]}static getUnitByName(e){return W.normalizeUnit(e)||W.normalizeUnit(W.parseTimeUnit(e))}static getDurationInUnit(e,t,n,r){return W.diff(e,t,n,r)}static doesUnitsAlign(e,t){return!(e!==t&&"week"===t)}static getSmallerUnit(e){return I[G[W.normalizeUnit(e)]-1]||null}static getLargerUnit(e){return I[G[W.normalizeUnit(e)]+1]||null}static round(e,t,n){return W.snap("round",e,t,n)}static floor(e,t,n){return W.snap("floor",e,t,n)}static ceil(e,t,n){return W.snap("ceil",e,t,n)}static snap(e,t,n,r){const i=N[e];if("string"===typeof n){switch((n=W.parseDuration(n)).unit){case"week":{const{weekStartDay:i}=W,o=t.getDay();return r=W.add(W.clearTime(t),o>=i?i-o:-(o-i+7),"day"),W[e](t,7*n.magnitude+" days",r)}case"month":{let e;return t=W.asMonths(t),e=r?t+i(t-(r=W.asMonths(r)),n.magnitude):i(t,n.magnitude),W.monthsToDate(e)}case"quarter":return W[e](t,3*n.magnitude+" months",r);case"year":return W[e](t,12*n.magnitude+" months",r);case"decade":return W[e](t,10*n.magnitude+" years",r)}n=W.as("ms",n.magnitude,n.unit)}if(r){const e=W.as("ms",r.getTimezoneOffset()-t.getTimezoneOffset(),"ms");return new Date(r.valueOf()+i(W.diff(r,t,"ms")+e,n))}{const e=60*t.getTimezoneOffset()*1e3;return new Date(i(t.valueOf()-e,n)+e)}}static parseDuration(e,t=!0,n){var r;const i=(t?F:A).exec(e);if(null==e||!i)return null;const o=(e=>{const t=parseFloat(e);return isNaN(t)?null:t})(null===(r=i[1])||void 0===r?void 0:r.replace(",",".")),a=W.parseTimeUnit(i[2])||n;return a?{magnitude:o,unit:a}:null}static parseTimeUnit(e){const t=null==e?null:W.durationRegEx.exec(e.toLowerCase());if(!t)return null;for(let n=0;n<I.length;n++)if(t[n+1])return I[n]}static getGMTOffset(e=new Date){if(!e)return;const t=e.getTimezoneOffset();return t?(t>0?"-":"+")+Math.abs(Math.trunc(t/60)).toString().padStart(2,"0")+":"+Math.abs(t%60).toString().padStart(2,"0"):"Z"}static fillDayNames(){const e=new Date("2000-01-01T12:00:00"),t=W._dayNames||[],n=W._dayShortNames||[];t.length=0,n.length=0;for(let r=2;r<9;r++)e.setDate(r),t.push(W.format(e,"dddd")),n.push(W.format(e,"ddd"));W._dayNames=t,W._dayShortNames=n}static getDayNames(){return W._dayNames}static getDayName(e){return W._dayNames[e]}static getDayShortNames(){return W._dayShortNames}static getDayShortName(e){return W._dayShortNames[e]}static fillMonthNames(){const e=new Date("2000-01-15T12:00:00"),t=W._monthNames||[],n=W._monthShortNames||[];t.length=0,n.length=0;for(let r=0;r<12;r++)e.setMonth(r),t.push(W.format(e,"MMMM")),n.push(W.format(e,"MMM"));W._monthNames=t,W._monthShortNames=n}static getMonthShortNames(){return W._monthShortNames}static getMonthShortName(e){return W._monthShortNames[e]}static getMonthNames(){return W._monthNames}static getMonthName(e){return W._monthNames[e]}static set locale(e){b=e}static get locale(){return b}static setupDurationRegEx(e=[],t=[]){const n=this,r={};let i="";for(let o=0;o<t.length;o++){const a=t[o],s=e[o];s.canonicalUnitName=I[o],r[s.single]=r[s.single.toUpperCase()]=r[s.canonicalUnitName]=r[s.canonicalUnitName.toUpperCase()]=s,i+=(o?"|":"")+"(";for(let e=0;e<a.length;e++)i+=a[e]+"|";if(b=n.localize("L{locale}")||"en-US","en-US"!==b){const e=L[o];for(let t=0;t<e.length;t++)i+=e[t]+"|"}i+=`${s.single}|${s.plural}|${s.canonicalUnitName}|${s.canonicalUnitName}s)`}n.unitLookup=r,n.durationRegEx=new RegExp(`^(?:${i})$`)}static applyLocale(){const e=this,t=e.localize("L{unitAbbreviations}")||[],n=e.unitNames=e.localize("L{unitNames}");"unitNames"!==n&&(b=e.localize("L{locale}")||"en-US",y="en-US"===b?g:e.localize("L{ordinalSuffix}")||y,C={},w={},S={},W.setupDurationRegEx(n,t),W.fillDayNames(),W.fillMonthNames())}}const W=V;W.useIntlFormat=m,i.default.on({locale:"applyLocale",prio:1e3,thisObj:W}),i.default.locale&&W.applyLocale(),V._$name="DateHelper"},"./lib/Core/helper/DomHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"hasLayout",(function(){return N})),n.d(t,"isVisible",(function(){return $})),n.d(t,"isInDocument",(function(){return z})),n.d(t,"default",(function(){return Q}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/helper/util/Rectangle.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/util/DomClassList.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={align:"t0-t0"},h=Node.ELEMENT_NODE,f=Node.TEXT_NODE,{isObject:g}=a.default,m=/[+-]?\d*\.?\d+[eE]?-?\d*/g,p=m.source,v=new RegExp(`matrix\\((?:${p}),\\s?(?:${p}),\\s?(?:${p}),\\s?(?:${p}),\\s?(${p}),\\s?(${p})`),b=new RegExp("matrix3d\\((?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(-?\\d*),\\s?(-?\\d*)"),y=new RegExp(`(?:${v.source})|(?:${b.source})`),C=new RegExp(`translate(3d|X)?\\((${p})px(?:,\\s?(${p})px)?`),S=new RegExp(`translate(3d|Y)?\\((${p})px(?:,\\s?(${p})px)?`),w=/^[^a-z]+|[^\w:.-]+/gi,E=/\s+/,D=/\s*;\s*/,x=/\s*:\s*/,j={elementData:"",for:"htmlFor",retainElement:""},T={tag:1,html:1,text:1,children:1,tooltip:1,style:1,dataset:1,parent:1,nextSibling:1,ns:1,reference:1,class:1,className:1,unmatched:1,_element:1,onlyChildren:1,listeners:1,compareHtml:1,syncOptions:1},R={length:1,parentRule:1,style:1},M={width:1,height:1,top:1,left:1,minWidth:1,minHeight:1,maxWidth:1,maxHeight:1,fontSize:1,"min-width":1,"min-height":1,"max-width":1,"max-height":1,"font-size":1},k={BUTTON:1,IFRAME:1,EMBED:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1,HTML:r.default.isIE11?1:0,BODY:r.default.isIE11?0:1},P=window,O=document,F={},A=[],I=Array.prototype.slice,L=Promise.resolve(),H=["font-size","font-size-adjust","font-style","font-weight","font-family","font-kerning","font-stretch","line-height","text-transform","text-decoration","letter-spacing","word-break"],_=e=>e._hidden,B=(e,t,n)=>"children"===n.key?a.default.mergeItems(e,t,n):a.default.blend(e,t,n),$=e=>{const t=e.ownerDocument.defaultView.getComputedStyle(e);return"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility")},G=document.documentElement.getRootNode?e=>e.getRootNode():e=>{for(;e.parentNode;)e=e.parentNode;return e},N=e=>e&&(e===document.body||("offsetParent"in e?e.offsetParent:N(e.parentNode))),z=e=>e&&(document.body.contains(e)||(W=G(e))&&(e=>e.host&&e.host instanceof Element)(W)&&z(W.host)),V=e=>e instanceof Node?e:"string"===typeof e?Z.createElementFromTemplate(e):Z.createElement(e);let W,U,q,Y=null,K=0,X=null;class Q{static isFocusable(e,t=!1){if(!t&&(!Z.isVisible(e)||Z.Widget.fromElement(e,_)))return!1;const n=e.nodeName;return k[n]||("A"===n||"LINK"===n)&&!!e.href||null!=e.getAttribute("tabIndex")||"true"===e.contentEditable}static isInView(e,t=!0){let n=o.default.from(e),r=!0;const i=n.height,a=n.width;for(;r&&e.parentElement;)e=e.parentElement,n=n.intersect(o.default.from(e)),r=n&&(!t||n.height>=i&&n.width>=a);return r}static isVisible(e){const t=e.ownerDocument;for(;e;e=(n=e).parentNode||n.host){if(e===t)return!0;if(e.nodeType===e.ELEMENT_NODE&&!$(e))return!1}var n;return!1}static merge(e,...t){return a.default.blend(e,t,{merge:B})}static normalizeChildren(e,t){let n,r,i,o,a,s=null===e||void 0===e?void 0:e.children;if(s&&!(e instanceof Node))if(Array.isArray(s))for(r=0;r<s.length;++r)Q.normalizeChildren(s[r],t);else for(i in o=s,e.children=s=[],o){var l;n=o[i],null!==(l=n)&&void 0!==l&&l.isWidget&&(n=n.element),a=!i.startsWith("$")&&!Q.isElement(n),a&&(null===t||void 0===t||t(i)),n&&(n instanceof Node||(!1===n.reference?delete n.reference:a&&(n.reference=i),Q.normalizeChildren(n,t)),s.push(n))}return e}static roundPx(e,t=window.devicePixelRatio||1){const n=1/t;return Math.round(e/n)*n}static isCustomElement(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}static elementFromPoint(e,t){let n=document.elementFromPoint(e,t);return Z.isCustomElement(n)&&(n=n.shadowRoot.elementFromPoint(e,t)||n),n}static childFromPoint(e,t,n){const r=null==n?t:new o.default(t,n,0,0);let i=null;return Array.from(e.children).some(t=>{if(o.default.from(t,e,!0).contains(r))return i=t.children.length&&Z.childFromPoint(t,r)||t,!0}),i}static get activeElement(){let e=document.activeElement;for(;e.shadowRoot;)e=e.shadowRoot.activeElement;return e}static getActiveElement(e){var t,n,r;null!==(t=e)&&void 0!==t&&t.isWidget&&(e=e.element);let i=((null===(n=e)||void 0===n||null===(r=n.getRootNode)||void 0===r?void 0:r.call(n))||document).activeElement;for(;null!==(o=i)&&void 0!==o&&o.shadowRoot;){var o;i=i.shadowRoot.activeElement}return i}static getRootElement(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return(null===n||void 0===n?void 0:n.body)||n||e.ownerDocument.body}static isValidFloatRootParent(e){return e===document.body||"ShadowRoot"===e.constructor.name}static getId(e){return e.id||(e.id="b-element-"+ ++K)}static getCommonAncestor(e,t){if(e===t)return e;for(;e&&!(null!==(n=(r=e)[e.isWidget?"owns":"contains"])&&void 0!==n&&n.call(r,t)||e===t);){var n,r;e=e.owner||e.parentNode}return e}static getElement(e){return e instanceof Element?e:O.querySelector(e)}static setAttributes(e,t){const n=Z.getElement(e);if(n&&t)for(const r in t)null!=t[r]&&n.setAttribute(r,t[r])}static setLength(e,t,n){return n=1===arguments.length?"number"===typeof e?e+"px":e:(e=Z.getElement(e)).style[t]="number"===typeof n?n+"px":n}static getChild(e,t){return t=r.default.supportsQueryScope?":scope>"+t:`#${e.id||(e.id="b-element-"+ ++K)} > ${t}`,e.querySelector(t)}static hasChild(e,t){return null!=Z.getChild(e,t)}static children(e,t){return(">"===t[0]||t.startsWith("# "))&&("#"===t[0]&&(t=t.substr(2)),t=r.default.supportsQueryScope?":scope "+t:`#${e.id||(e.id="b-element-"+ ++K)} ${t}`),Array.from(e.querySelectorAll(t))}static down(e,t){return e?e.matches&&e.matches(t)?e:(t=r.default.supportsQueryScope?":scope "+t:`#${e.id||(e.id="b-element-"+ ++K)} ${t}`,e.querySelector(t)):null}static isDescendant(e,t){e.contains||(e=e.body);const n=Z.getRootElement(e),r=Z.getRootElement(t);return n!==r&&r.host?Z.isDescendant(n,r.host):e.contains(t)}static getEventElement(e,t="target"){return Z.isElement(e)?e:e[t]}static isElement(e){return(null===e||void 0===e?void 0:e.nodeType)===document.ELEMENT_NODE&&Z.isNode(e)}static isNode(e){return Boolean(e)&&"number"===typeof e.nodeType&&!g(e)}static forEachSelector(e,t,n){if("string"===typeof e)throw new Error("DomHelper.forEachSelector must provide a root element context (for shadow root scenario)");Z.children(e,t).forEach(n)}static forEachChild(e,t){Array.from(e.children).forEach(t)}static removeEachSelector(e,t){Z.forEachSelector(e,t,e=>e.remove())}static removeClsGlobally(e,...t){t.forEach(t=>Z.forEachSelector(e,"."+t,e=>e.classList.remove(t)))}static isOrphaned(e){return!z(e)}static up(e,t){return e&&e.closest(t)}static getAncestor(e,t,n=null){let r,i=!1,o=e;for(Array.isArray(t)||(t=[t]);o=o.parentElement;){if(t.includes(o)){i=!0;break}if(n&&o===n)break;r=o}return i?r||e:null}static getParents(e){const t=[];for(;e.parentElement;)t.push(e.parentElement),e=e.parentElement;return t}static makeValidId(e){return null==e?null:String(e).replace(w,"")}static createElement(e={},t,...n){let r,i,o,a,l,d,u,h,f,g=t;"boolean"===typeof g?(h=n[0],f=n[1],t={returnAll:g,refs:h,syncIdField:f}):t&&(o=t.ignoreRefs,u=t.refOwner,h=t.refs,g=t.returnAll,f=t.syncIdField),"string"===typeof e.parent&&(e.parent=document.getElementById(e.parent));const m=e.parent||e.nextSibling&&e.nextSibling.parentNode,{dataset:p,html:v,reference:b,syncOptions:y,text:C}=e;if(y&&(f=y.syncIdField||f,y.ignoreRefs&&(o=!0,t=c(c({},t),{},{ignoreRefs:o}))),o&&(u=null),r=e.ns?O.createElementNS(e.ns,e.tag||"svg"):O.createElement(e.tag||"div"),null!=C?Z.setInnerText(r,C):null!=v&&(v instanceof DocumentFragment?r.appendChild(v):r.innerHTML=v),e.tooltip&&Z.Widget.attachTooltip(r,e.tooltip),e.style&&Z.applyStyle(r,e.style),p)for(l in p)d=p[l],null!=d&&(r.dataset[l]=d);m&&m.insertBefore(r,e.nextSibling),u&&(r.$refOwnerId=u.id),b&&!o&&(u?(r.$reference=b,u.attachRef(b,r,e)):(h||((t=Object.assign({},t)).refs=h={}),h[b]=r,r.setAttribute("data-reference",b)));const S=e.className||e.class,w=Object.keys(e);for(S&&r.setAttribute("class",s.default.normalize(S)),i=0;i<w.length;++i)l=w[i],d=e[l],null!=(a=j[l])?r[a||l]=d:!T[l]&&l&&null!=d&&r.setAttribute(l,d);return!0===g?t.returnAll=g=[r]:Array.isArray(g)&&g.push(r),e.children&&(f&&(r.syncIdMap={}),e.children.forEach(n=>{if(n)if("string"===typeof n){const e=document.createTextNode(n);u&&(e.$refOwnerId=u.id),r.appendChild(e)}else if(isNaN(n.nodeType)){n.parent=r,!n.ns&&e.ns&&(n.ns=e.ns);const i=Z.createElement(n,t),o=n.dataset&&n.dataset[f];null!=o&&(r.syncIdMap[o]=i),delete n.parent}else r.appendChild(n)})),r.lastDomConfig=e,e._element=r,h||g||r}static createElementFromTemplate(e,t=F){const{array:n,raw:r,fragment:i}=t;let o;if(Z.supportsTemplate){if((U||(U=O.createElement("template"))).innerHTML=e,o=U.content,i)return o.cloneNode(!0)}else{if((q||(q=new DOMParser)).parseFromString(e,"text/html"),o=q.parseFromString(e,"text/html").body,i){const e=o?o.childNodes:A;for(o=document.createDocumentFragment();e.length;)o.appendChild(e[0]);return o}o||(o={children:[],childNodes:[]})}return o=r?o.childNodes:o.children,1!==o.length||n?I.call(o):o[0]}static insertFirst(e,t){return t&&t.nodeType!==h&&t.tag&&(t=Z.createElement(t)),e.insertBefore(t,e.firstElementChild)}static insertBefore(e,t,n){return t&&t.nodeType!==h&&t.tag&&(t=Z.createElement(t)),n?e.insertBefore(t,n):Z.insertFirst(e,t)}static insertAt(e,t,n){const r=Array.from(e.children);if(n>=r.length)return Z.append(e,t);const i=r[n];return Z.insertBefore(e,t,i)}static append(e,t){if(t.forEach){if(Array.isArray(t)&&(t=t.map(e=>V(e))),e.append)e.append(...t);else{const n=document.createDocumentFragment();t.forEach((function(e){n.appendChild(e)})),e.appendChild(n)}return t}return e.appendChild(V(t))}static getTranslateX(e){const t=e.style.transform;let n=C.exec(t);return n?parseInt(n[2]):(n=y.exec(t)||y.exec(Z.getStyleValue(e,"transform")),n?parseInt(n[1]||n[3]):0)}static getTranslateY(e){const t=e.style.transform;let n=S.exec(t);if(n){const e=parseInt(n["Y"===n[1]?2:3]);return isNaN(e)?0:e}return n=y.exec(t)||y.exec(Z.getStyleValue(e,"transform")),n?parseInt(n[2]||n[4]):0}static getTranslateXY(e){return[Z.getTranslateX(e),Z.getTranslateY(e)]}static getOffsetX(e,t=null){return t?e.getBoundingClientRect().left-t.getBoundingClientRect().left:e.offsetLeft}static getOffsetY(e,t=null){return t?e.getBoundingClientRect().top-t.getBoundingClientRect().top:e.offsetTop}static getOffsetXY(e,t=null){return[Z.getOffsetX(e,t),Z.getOffsetY(e,t)]}static focusWithoutScrolling(e){function t(e){e.forEach(({element:e,scrollLeft:t,scrollTop:n})=>{e.scrollLeft!==t&&(e.scrollLeft=t),e.scrollTop!==n&&(e.scrollTop=n)})}if(r.default.chromeVersion>=64||r.default.firefoxVersion>=68)e.focus({preventScroll:!0});else{const n=Z.getParents(e).map(e=>({element:e,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));e.focus(),r.default.isIE11?t(n):setTimeout(()=>t(n),0)}}static getPageX(e){return e.getBoundingClientRect().left+P.pageXOffset}static getPageY(e){return e.getBoundingClientRect().top+P.pageYOffset}static getExtremalSizePX(e,t){const n=i.default.hyphenate(t),r=n.split("-")[1];let o=Z.getStyleValue(e,n);return o=/%/.test(o)?e.parentElement?parseInt(Z.getStyleValue(e.parentElement,r),10):NaN:parseInt(o,10),o}static setTranslateX(e,t){const n=Z.getStyleValue(e,"transform").split(/,\s*/);t=Z.roundPx(t),n.length>1?(n[n[0].startsWith("matrix3d")?12:4]=t,e.style.transform=n.join(",")):e.style.transform=`translateX(${t}px)`}static setTranslateY(e,t){const n=Z.getStyleValue(e,"transform").split(/,\s*/);t=Z.roundPx(t),n.length>1?(n[n[0].startsWith("matrix3d")?13:5]=t,e.style.transform=n.join(",")+")"):e.style.transform=`translateY(${t}px)`}static setTop(e,t){Z.setLength(e,"top",t)}static setLeft(e,t){Z.setLength(e,"left",t)}static setTranslateXY(e,t,n){if(null==t)return Z.setTranslateY(e,n);if(null==n)return Z.setTranslateX(e,t);t=Z.roundPx(t),n=Z.roundPx(n);const r=Z.getStyleValue(e,"transform").split(/,\s*/),i=r[0].startsWith("matrix3d");r.length>1?(r[i?12:4]=t,r[i?13:5]=n,e.style.transform=r.join(",")+")"):e.style.transform=`translate(${t}px, ${n}px)`}static addTranslateX(e,t){Z.setTranslateX(e,Z.getTranslateX(e)+t)}static addTranslateY(e,t){Z.setTranslateY(e,Z.getTranslateY(e)+t)}static addLeft(e,t){Z.setLeft(e,Z.getOffsetX(e)+t)}static addTop(e,t){Z.setTop(e,Z.getOffsetY(e)+t)}static alignTo(e,t,n=u,r){t=t instanceof o.default?t:o.default.from(t,!0);const i=Z.getTranslateXY(e),a=o.default.from(e,!0);r&&(a.roundPx(),t.roundPx());const s=a.alignTo(Object.assign(n,{target:t}));Z.setTranslateXY(e,i[0]+s.x-a.x,i[1]+s.y-a.y)}static getStyleValue(e,t,n,r){const o=n?e.style:e.ownerDocument.defaultView.getComputedStyle(e,r);if(Array.isArray(t)){const e={};for(const n of t)e[n]=o.getPropertyValue(i.default.hyphenate(n));return e}return o.getPropertyValue(i.default.hyphenate(t))}static getEdgeSize(e,t,n){const r="border"===t?"-width":"",i={raw:{}};for(const o of["top","right","bottom","left"])n&&!n.includes(o[0])||(i[o]=parseFloat(i.raw[o]=Z.getStyleValue(e,`${t}-${o}${r}`)));return i.width=(i.left||0)+(i.right||0),i.height=(i.top||0)+(i.bottom||0),i}static parseStyle(e){if("string"===typeof e){const t=e.split(D);e={};for(let n=0,{length:r}=t;n<r;n++){const r=t[n].split(x);e[r[0]]=r[1]}}return e||{}}static applyStyle(e,t,n=!1){if("string"===typeof t)n?(t.length||e.style.cssText.length)&&(e.style.cssText=t):e.style.cssText+=t;else{n&&(e.style.cssText=""),t.style&&("string"===typeof t.style?e.style.cssText=t.style:t=Object.assign({},t.style,t));for(const n in t)if(!R[n]){const r=M[n]&&"number"==typeof t[n]?"px":"";e.style.setProperty(i.default.hyphenate(n),t[n]+r)}}}static getCSSText(e){if("string"===typeof e)return e;let t="";for(const n in e)R[n]||(t+=`${i.default.hyphenate(n)}:${e[n]};`);return t}static addClasses(e,t){for(let n=0;n<t.length;n++)e.classList.add(t[n])}static removeClasses(e,t){for(let n=0;n<t.length;n++)e.classList.remove(t[n])}static toggleClasses(e,t,n=null){Array.isArray(t)||(t=[t]),!0===n?Z.addClasses(e,t):!1===n?Z.removeClasses(e,t):t.forEach(t=>e.classList.toggle(t))}static addTemporaryClass(e,t,n,r=window){n>0&&(e.classList.add(t),r.setTimeout(()=>e.classList.remove(t),n))}static getPropertyTransitionDuration(e,t){const n=window.getComputedStyle(e),r=n.transitionProperty.split(", "),i=n.transitionDuration.split(", "),o=r.indexOf(t);let a;return-1!==o&&(a=1e3*parseFloat(i[o])),a}static getAnimationDuration(e){return 1e3*parseFloat(Z.getStyleValue(e,"animation-duration"))}static highlight(e,t=window){return e instanceof o.default?e.highlight():new Promise(n=>{t.setTimeout(()=>{e.classList.add("b-fx-highlight"),t.setTimeout(()=>{e.classList.remove("b-fx-highlight"),n()},1e3)},0)})}static get scrollBarWidth(){if(null===Y&&O.body){const e=Z.createElement({parent:O.body,style:"position:absolute;top:-999px;width:100px;height:100px;overflow:scroll"});Y=e.offsetWidth-e.clientWidth,e.remove()}return Y}static get scrollBarPadElement(){return{className:"b-yscroll-pad",children:[{className:"b-yscroll-pad-sizer"}]}}static resetScrollBarWidth(){Y=null}static measureText(e,t,n=!1,r){const i=Z.getMeasureElement(t,r);i[n?"innerHTML":"innerText"]=e;const o=i.clientWidth;return i.className="",o}static measureSize(e,t,n=!0){if(!e)return 0;if("number"===typeof e)return e;if(!e.length)return 0;if(/^\d+(px)?$/.test(e))return parseInt(e);if(t){const r=Z.getMeasureElement(t);r.innerHTML="",r.style.width=Z.setLength(e);const i=n?r.offsetWidth:r.getBoundingClientRect().width;return r.style.width=r.className="",i}return/^\d+em$/.test(e)?14*parseInt(e):isNaN(e)?0:parseInt(e)}static getMeasureElement(e,t=O.body){const n=P.getComputedStyle(e),r=t.offScreenDiv=t.offScreenDiv||Z.createElement({parent:t,style:"position:fixed;top:-10000px;left:-10000px;visibility:hidden;contain:strict",className:"b-measure-element",children:[{style:"white-space:nowrap;display:inline-block;will-change:contents;width:auto;contain:none"}]},!0)[1];return H.forEach(e=>{r.style[e]!==n[e]&&(r.style[e]=n[e])}),r.className=e.className,r.parentElement.parentElement!==t&&t.appendChild(r.parentElement),r}static stripTags(e){return(Z.$domParser||(Z.$domParser=new DOMParser)).parseFromString(e,"text/html").body.textContent}static sync(e,t){if("string"===typeof e){if(""===e)return void(t.innerHTML="");e=Z.createElementFromTemplate(e)}return Z.performSync(e,t),t}static performSync(e,t){return e.outerHTML!==t.outerHTML&&(Z.syncAttributes(e,t),Z.syncContent(e,t),Z.syncChildren(e,t),!0)}static getSyncAttributes(e){const t={},n=[];for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r];if(i.specified){const e=i.name.toLowerCase();t[e]=i.value,n.push(e)}}return{attributes:t,names:n}}static syncAttributes(e,t){const{attributes:n,names:r}=Z.getSyncAttributes(e),{attributes:i,names:o}=Z.getSyncAttributes(t),a=r.includes("dataset"),l=r.filter(e=>!o.includes(e)),c=o.filter(e=>!r.includes(e)&&(!a||!e.startsWith("data-"))),d=r.filter(e=>o.includes(e));if(l.length>0)for(let s=0;s<l.length;s++){const e=l[s];"style"===e?Z.applyStyle(t,n.style,!0):"dataset"===e?Object.assign(t.dataset,n.dataset):t.setAttribute(e,n[e])}if(c.length>0)for(let s=0;s<c.length;s++)t.removeAttribute(c[s]);if(d.length>0)for(let u=0;u<d.length;u++){const e=d[u];if("style"===e)Z.applyStyle(t,n.style,!0);else if("dataset"===e)Object.assign(t.dataset,n.dataset);else if("class"!==e||!n.class.isDomClassList&&"object"!==typeof n.class)i[e]!==n[e]&&t.setAttribute(e,n[e]);else{let e;e=n.class.isDomClassList?n.class:new s.default(n.class),e.isEqual(i.class)||t.setAttribute("class",e)}}}static syncContent(e,t){0===e.childElementCount&&(t.innerText=e.innerText)}static setInnerText(e,t){const n=e.firstChild;n?n.data=t:e.textContent=t}static syncChildren(e,t){const n=this,r=I.call(e.childNodes),i=I.call(t.childNodes);for(;r.length;){const e=r.shift(),o=i.shift();if(e&&e.nodeType!==f&&e.nodeType!==h)throw new Error(`Source node type ${e.nodeType} not supported by DomHelper.sync()`);if(o&&o.nodeType!==f&&o.nodeType!==h)throw new Error(`Target node type ${o.nodeType} not supported by DomHelper.sync()`);if(o)if(e.nodeType===o.nodeType)e.nodeType===f?o.data=e.data:e.tagName===o.tagName?n.performSync(e,o):(t.insertBefore(e,o),o.remove());else{if(e.nodeType!==f||o.nodeType!==h){const t=e.parentElement||e;throw new Error("Currently no support for transforming nodeType.\n"+t.outerHTML)}t.innerText=e.data.trim()}else t.appendChild(e)}i.forEach(e=>{e.remove()})}static syncClassList(e,t){const n=e.classList,r="string"===typeof t,i=r?t.trim().split(E):Array.isArray(t)?t:a.default.getTruthyKeys(t),o=i.length;let s,l=n.length!==o;for(s=0;!l&&s<o;s++)l=!n.contains(i[s]);l&&(e.className=r?t:i.join(" "))}static setTheme(e){e=e.toLowerCase();const t=Z.themeInfo.name.toLowerCase(),n=document.head.querySelector("#bryntum-theme:not([data-loading])")||document.head.querySelector(`[href*="${t}.css"]:not([data-loading])`);if(Z.removeEachSelector(document.head,"#bryntum-theme[data-loading]"),null===n||void 0===n||!n.href.includes(t+".css"))throw new Error(`Theme link for ${t} not found`);return n.href.includes(e+".css")?L:new Promise((t,r)=>{const i=document.createElement("link"),o=n.nextSibling,a=Z.themeInfo.name.toLowerCase(),s={theme:e,prev:a};i.rel="stylesheet",i.id="bryntum-theme",i.addEventListener("load",()=>{delete i.dataset.loading,X=null,n.remove(),window.bryntum.GlobalEvents.trigger("theme",s),t(s)}),i.addEventListener("error",e=>{delete i.dataset.loading,r(e)}),i.dataset.loading="true",i.href=n.href.replace(a,e),o.parentNode.insertBefore(i,o)})}static get themeInfo(){if(!X){const t=Z.createElement({parent:document.body,className:"b-theme-info"}),n=Z.getStyleValue(t,"content",!1,":before");if(n)try{X=JSON.parse(n.replace(/^["']|["']$|\\/g,""))}catch(e){X=null}t.remove()}return X}static async loadScript(e){return new Promise((t,n)=>{const r=document.createElement("script");r.src=e,r.onload=t,r.onerror=n,document.head.appendChild(r)})}static isNamedColor(e){return e&&!/^(#|hsl|rgb)/.test(e)}}const Z=Q;let J;const ee=()=>Z.isTouchEvent=!1,te=()=>{Z.isTouchEvent=!0,clearTimeout(J),J=setTimeout(ee,400)};if(O.addEventListener("touchstart",te,!0),O.addEventListener("touchend",te,!0),Z.supportsTemplate="content"in O.createElement("template"),Z.elementPropKey="$bryntum",Z.numberRe=m,!("children"in Node.prototype)){const e=e=>e.nodeType===e.ELEMENT_NODE;Object.defineProperty(Node.prototype,"children",{get:function(){return Array.prototype.filter.call(this.childNodes,e)}})}if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1}),P.Element&&!Element.prototype.closest?Node.prototype.closest=Element.prototype.closest=function(e){let t=this;if(!O.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===t.ELEMENT_NODE);return null}:Node.prototype.closest=function(e){var t;return null===(t=this.parentNode)||void 0===t?void 0:t.closest(e)},[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),SVGElement.prototype.contains||(SVGElement.prototype.contains=function(e){do{if(this===e)return!0;e=e.parentNode}while(e);return!1}),"function"!==typeof P.CustomEvent){let e,t;P.CustomEvent=t=function(t,n={bubbles:!1,cancelable:!1,detail:void 0}){return e=O.createEvent("CustomEvent"),e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),e},t.prototype=P.Event.prototype,P.MouseEvent=t=function(t,n={bubbles:!1,cancelable:!1,detail:void 0}){return e=O.createEvent("MouseEvents"),e.initMouseEvent(t,n.bubbles,n.cancelable,O.defaultView||P,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,document),e},t.prototype=P.Event.prototype,P.KeyboardEvent=t=function(t,n={bubbles:!1,cancelable:!1,detail:void 0}){const r=`${n.shiftKey?"Shift ":""}${n.ctrlKey?"Control":""}`;return e=O.createEvent("KeyboardEvent"),e.initKeyboardEvent(t,n.bubbles,n.cancelable,O.defaultView||P,n.key,n.location,r,!1,""),e},t.prototype=P.Event.prototype}if(!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset")||!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset").get){const e={enumerable:!0,get:function(){let e,t,n,r,i,o=this,a={},s=this.attributes,l=s.length,c=function(e){return e.charAt(1).toUpperCase()},d=function(){return this},u=function(e,t){return"undefined"!==typeof t?this.setAttribute(e,t):this.removeAttribute(e)};for(e=0;e<l;e++)i=s[e],i&&i.name&&/^data-\w[\w-]*$/.test(i.name)&&(t=i.value,n=i.name,r=n.substr(5).replace(/-./g,c),Object.defineProperty(a,r,{enumerable:this.enumerable,get:d.bind(t||""),set:u.bind(o,n)}));return a}};Object.defineProperty(SVGElement.prototype,"dataset",e)}const ne=DOMTokenList.prototype.add,re=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(e){Array.isArray(e)?e.forEach(e=>ne.call(this,e)):ne.call(this,...arguments)},DOMTokenList.prototype.remove=function(e){Array.isArray(e)?e.forEach(e=>re.call(this,e)):re.call(this,...arguments)},window.addEventListener("resize",()=>Y=null),Q._$name="DomHelper"},"./lib/Core/helper/DomSync.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var r=n("./lib/Core/helper/ArrayHelper.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/util/DomClassList.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/StringHelper.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=Array.prototype.slice,h=Object.freeze([]),f=Object.freeze({}),g=/[&<]/,{getPrototypeOf:m}=Object,{toString:p}=Object.prototype,{isEqual:v,isObject:b}=a.default,y={_element:1,parent:1,elementData:1,ns:1,syncOptions:1},C=()=>({ignore:y,refsFound:new Set}),S={class:1,className:1,classname:1},w={bigint:1,boolean:1,function:1,number:1,string:1,symbol:1},E={tag:1,html:1,text:1,children:1,tooltip:1,parent:1,nextSibling:1,ns:1,reference:1,_element:1,elementData:1,retainElement:1,compareHtml:1,syncOptions:1,listeners:1,isReleased:1};class D{static checkEquality(e,t,n,r){if(e===t)return!0;if(null==e)return null==t;if(!e||!t)return!1;const i=typeof e;if(i!==typeof t||w[i])return!1;let o,a,s,l,c,d,u=n.equalityCache||(n.equalityCache=new Map);if(u=u.get(e)||u.set(e,new Map).get(e),o=u.get(t),void 0===o){if(o=!0,m(e)!==m(t)||e instanceof Node)o=!1;else if(Array.isArray(e)){if(a=e.length,a!==t.length)o=!1;else for(;a-- >0;)if(!D.checkEquality(e[a],t[a],n,r)){o=!1;break}}else{var h;for(l in c=e.syncOptions,null!==(h=c)&&void 0!==h&&h.ignoreRefs&&(r=!0),s=n.ignore||f,t)if(!s[l]&&!(l in e)&&(!r||"reference"!==l)){o=!1;break}if(o)if("[object Date]"===p.call(t))o=e.getTime()===t.getTime();else for(l in e)if(!s[l]&&(!r||"reference"!==l)){if(!(l in t)){o=!1;break}if(d=e[l],!D.checkEquality(d,t[l],n,r)){o=!1;break}}}var g;!r&&b(e)&&e.reference&&(null===(g=n.refsFound)||void 0===g||g.add(e.reference)),u.set(t,o)}return o}static sync(e){const t=e,{refOwner:n}=e,r=null===n||void 0===n?void 0:n.byRef,i=C();let o,a,s,l,d=e.affected;if("string"===typeof d&&(d=[d]),e=c(c({},e),{},{checkEqualityOptions:i}),n){if(n.byRef={},d)for(a in r)d.includes(a)||(n.byRef[a]=r[a]);e.refsWas=r}if(t.changed=D.performSync(e,e.targetElement),n)for(d||(d=Object.keys(r)),o=0;o<d.length;++o)a=d[o],s=r[a],i.refsFound.has(a)||s.retainElement?n.byRef[a]=s:(l=s.lastDomConfig,s.remove(),n.detachRef(a,s,l));return e.targetElement}static performSync(e,t){const{domConfig:n,callback:r}=e,{lastDomConfig:i}=t;return(e.configEquality||D.checkEquality)(n,i,e.checkEqualityOptions,e.ignoreRefs)?(n._element||D.relinkElements(n,t),null===r||void 0===r||r({action:"none",domConfig:n,targetElement:t}),!1):(n?(n.onlyChildren||(D.syncAttributes(n,t,e),D.syncContent(n,t)),D.syncChildren(e,t),n._element=t):(t.innerHTML=null,t.syncIdMap=null),t.lastDomConfig=null!==n&&void 0!==n&&n.onlyChildren&&i?c(c({},i),{},{children:n.children}):n,!0)}static relinkElements(e,t){var n;e.retainElement||(e._element=t,null===(n=e.children)||void 0===n||n.forEach((e,n)=>{!e||"string"===typeof e||e instanceof Node||D.relinkElements(e,t.lastDomConfig.children[n]._element)}))}static syncDataset(e,t){const{lastDomConfig:n}=t,i=e===n,o=Object.keys(e.dataset),a=n&&n.dataset&&Object.keys(n.dataset),l=r.default.delta(o,a);let c,d,u,h;for(d=0;d<l.onlyInA.length;d++)c=l.onlyInA[d],h=e.dataset[c],null!=h&&t.setAttribute("data-"+s.default.hyphenate(c),h);for(d=0;d<l.inBoth.length;d++)c=l.inBoth[d],h=e.dataset[c],(i||h!=n.dataset[c])&&(u="data-"+s.default.hyphenate(c),null==h?t.removeAttribute(u):t.setAttribute(u,h));for(d=0;d<l.onlyInB.length;d++)t.removeAttribute("data-"+s.default.hyphenate(l.onlyInB[d]))}static addCls(e,t){const{lastDomConfig:n}=t;(e=o.default.normalize(e,"array")).forEach(e=>{t.classList.add(e),((e,t)=>{const n="className"in t?"className":"class",r=t[n];if(r)if("string"===typeof r){const i=r.split(" ");i.includes(e)||(i.push(e),t[n]=i.join(" "))}else Array.isArray(r)?r.includes(e)||r.push(e):r.isDomClassList?r.add(e):a.default.isObject(r)&&(r[e]=1)})(e,n)})}static removeCls(e,t){const{lastDomConfig:n}=t;(e=o.default.normalize(e,"array")).forEach(e=>{t.classList.remove(e),((e,t)=>{const n="className"in t?"className":"class",r=t[n];if(r)if("string"===typeof r){const i=r.split(" ");i.includes(e)&&(i.splice(i.indexOf(e),1),t[n]=i.join(" "))}else Array.isArray(r)?r.includes(e)&&r.splice(r.indexOf(e),1):r.isDomClassList?r.remove(e):a.default.isObject(r)&&delete r[e]})(e,n)})}static syncClassList(e,t,n){let r,i,a,s,l,c,d=e.className||e.class;if(n){for(i=o.default.normalize(t,"array"),d=o.default.normalize(d,"object"),c=o.default.normalize(n.className||n.class,"object"),l=[],a=0,s=i.length;a<s;++a)r=i[a],!d[r]&&r in c||(c[r]=1,l.push(r));for(r in d)c[r]||l.push(r);d=l.join(" ")}else d=o.default.normalize(d);t.setAttribute("class",d)}static getSyncAttributes(e){const t={},n=[];return e&&Object.keys(e).forEach(r=>{if(!E[r]){const i=r.toLowerCase();t[i]=e[r],n.push(i)}}),{attributes:t,names:n}}static syncAttributes(e,t,n){const{lastDomConfig:o}=t,a=e===o,s=D.getSyncAttributes(e),{attributes:l,names:c}=s,{attributes:d,names:u}=a?s:D.getSyncAttributes(o),{onlyInA:f,onlyInB:g,inBoth:m}=a?{onlyInA:h,onlyInB:h,inBoth:c}:r.default.delta(c,u);for(let r=0;r<f.length;r++){const n=f[r],o=l[n];"style"===n?i.default.applyStyle(t,o,!0):"dataset"===n?D.syncDataset(e,t):S[n]?D.syncClassList(e,t):null!=o&&t.setAttribute(n,o)}for(let r=0;r<g.length;r++)t.removeAttribute(g[r]);for(let r=0;r<m.length;r++){const o=m[r],s=l[o],c=d[o];null==s?t.removeAttribute(o):"style"===o?n.strict?a?D.syncStyles(t,s):v(s,c,!0)||D.syncStyles(t,s,c):!a&&v(s,c,!0)||i.default.applyStyle(t,s,!0):"dataset"===o?D.syncDataset(e,t):S[o]?D.syncClassList(e,t,n.strict&&t.lastDomConfig):(a||s!==c)&&t.setAttribute(o,s)}}static syncStyles(e,t,n){let r,o,a;if(n){if(r={},t=i.default.parseStyle(t),n=i.default.parseStyle(n),t)for(o in t)a=t[o],n[o]!==a&&(r[o]=a);for(o in n)o in t||(r[o]="")}else r=t;i.default.applyStyle(e,r)}static syncContent(e,t){const{html:n,text:r}=e,o=null!==r&&void 0!==r?r:n;e.elementData&&(t.elementData=e.elementData),o instanceof DocumentFragment?1===t.childNodes.length&&0===t.childElementCount&&1===o.childNodes.length&&0===o.childElementCount?i.default.setInnerText(t,o.firstChild.data):(t.innerHTML="",t.appendChild(o)):null!=n&&g.test(n)?t.innerHTML=String(n):null!=o&&i.default.setInnerText(t,String(o))}static insertTextNode(e,t,n,r,i=null){const o=document.createTextNode(e);t.insertBefore(o,i),r&&(o.$refOwnerId=r.id),null===n||void 0===n||n({action:"newNode",domConfig:e,targetElement:o})}static insertElement(e,t,n,r,i,o,a){const s=a.ns?document.createElementNS(a.ns,e.tag||"svg"):document.createElement(e.tag||"div");t.insertBefore(s,n),D.performSync(a,s),null!=o&&(i[o]=s),r&&(s.$refOwnerId=r.id,o&&(s.$reference=o,r.attachRef(o,s,e))),a.callback&&a.callback({action:"newElement",domConfig:e,targetElement:s,syncId:o})}static syncChildren(e,t){var n;let i,o,a,{domConfig:s,syncIdField:l,callback:c,releaseThreshold:d,configEquality:h,ns:f,refOwner:g,refsWas:m,strict:p,checkEqualityOptions:v,ignoreRefs:b}=e,y=s.syncOptions||{},S=null;if(null!==(n=s.html)&&void 0!==n?n:s.text)return;y.ignoreRefs&&(b=!0),b&&(g=m=null),"strict"in y&&(p=y.strict);const w=g?g.byRef:{},E=u.call(s.children||[]),x=u.call(t.childNodes),j=m||t.syncIdMap||{},T=t.releasedIdMap||{},R=e=>{for(;x.length&&x[0].parentNode!==t;)x.shift();return(e?x.shift():x[0])||null};l=y.syncIdField||l,p=y.strict||p,c=y.callback||c,h=y.configEquality||h,d="releaseThreshold"in y?y.releaseThreshold:d,l&&(t.syncIdMap=w);const M={checkEqualityOptions:v||C(),ignoreRefs:b,refOwner:g,refsWas:m,strict:p,syncIdField:l,releaseThreshold:d,callback:c,configEquality:h};for(;E.length;){const e=E.shift();if(a=null,!e)continue;if(e instanceof Node){o=R(),e!==o&&t.insertBefore(e,o),i=x.indexOf(e),i>-1&&x.splice(i,1);continue}const n="string"===typeof e;if(M.domConfig=e,M.ns=e.ns||f,!n){if(g?a=e.reference:l&&e.dataset&&(a=e.dataset[l]),null!=a&&!e.unmatched){const n=j[a]||T[a];if(n){const{lastDomConfig:i}=n;if(n.retainElement)D.relinkElements(M.domConfig,n);else if(D.performSync(M,n)){var k;null===(k=c)||void 0===k||k({action:"reuseOwnElement",domConfig:e,targetElement:n,lastDomConfig:i,syncId:a})}e.retainElement&&(n.retainElement=!0,e._element=n),w[a]=n,r.default.remove(x,n),delete T[a],n.isReleased=!1,o=R(),(n.parentNode!==t||p&&n.nextSibling!==o)&&t.insertBefore(n,o)}else p?D.insertElement(e,t,R(),g,w,a,M):(E.push(e),e.unmatched=!0);continue}e.unmatched&&delete e.unmatched}let s,d=null,u=null;for(;!u&&(s=R(!0));){if(g){if(s.$refOwnerId!==g.id)continue;if(s.$reference){if(!p)continue;d=s;break}u=s}else s.retainElement||(u=s);u||(S||(S=[])).push(s)}if(d||!u)n?D.insertTextNode(e,t,c,g,d):D.insertElement(e,t,d,g,w,a,M);else if(n||u.nodeType!==Node.ELEMENT_NODE||(e.tag||"div").toLowerCase()!==u.tagName.toLowerCase())n&&u.nodeType===Node.TEXT_NODE?u.data=e:(n?D.insertTextNode(e,t,c,g,u):D.insertElement(e,t,u,g,w,a,M),u.remove());else{var P,O;const{lastDomConfig:t}=u,n=D.performSync(M,u);l&&null!=(null===t||void 0===t||null===(P=t.dataset)||void 0===P?void 0:P[l])&&delete T[t.dataset[l]],null!=a&&(w[a]=u),u.isReleased=!1,n&&(null===(O=c)||void 0===O||O({action:"reuseElement",domConfig:e,targetElement:u,lastDomConfig:t,syncId:a}))}}for(;o=R(!0);)g&&(o.$refOwnerId!==g.id||o.$reference)||(S||(S=[])).push(o);S&&D.syncChildrenCleanup(t,S,w,c,g,d,l)}static syncChildrenCleanup(e,t,n,r,i,o,a){let s,l=0;for(const c of t){const{lastDomConfig:t}=c;c.retainElement?a&&t&&(n[c.dataset[a]]=c):!i&&a&&(null==o||l<o)?(c.isReleased||(c.className="b-released",c.isReleased=!0,null!==t&&void 0!==t&&t.dataset&&(e.releasedIdMap||(e.releasedIdMap={}),e.releasedIdMap[t.dataset[a]]=c),null===r||void 0===r||r({action:"releaseElement",domConfig:t,lastDomConfig:t,targetElement:c}),t&&(t.isReleased=!0,t.className&&(t.className="b-released"),t.style&&(t.style=null))),l++):(c.remove(),i&&(s=c.$reference,s&&i.detachRef(s,c,t)),e.releasedIdMap&&a&&null!==t&&void 0!==t&&t.dataset&&delete e.releasedIdMap[t.dataset[a]],null===r||void 0===r||r({action:"removeElement",domConfig:c.lastDomConfig,lastDomConfig:c.lastDomConfig,targetElement:c}))}}static removeChild(e,t){if(e.contains(t)){const n=e.syncIdMap;if(n){const e=Object.values(n).indexOf(t);e>-1&&delete n[Object.keys(n)[e]]}e.removeChild(t)}}static addChild(e,t,n){e.appendChild(t),e.syncIdMap[n]=t}static getChild(e,t){const n=String(t).split(".");for(const r of n)e=e.syncIdMap[r];return e}}D._$name="DomSync"},"./lib/Core/helper/DragHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/helper/mixin/DragHelperContainer.js"),a=n("./lib/Core/helper/mixin/DragHelperTranslate.js"),s=n("./lib/Core/helper/BrowserHelper.js"),l=n("./lib/Core/helper/EventHelper.js"),c=n("./lib/Core/helper/DomHelper.js");const d="onMouseDown",u="onMouseMove",h="onMouseUp",f="onDocumentClick",g="onTouchStart",m="onTouchMove",p="onTouchEnd",v="onKeyDown";class b extends(r.default.mixin(i.default,o.default,a.default)){static get defaultConfig(){return{dragProxyCls:"b-drag-proxy",invalidCls:"b-drag-invalid",draggingCls:"b-dragging",dropPlaceholderCls:"b-drop-placeholder",dragThreshold:5,outerElement:document.body,dragWithin:null,constrain:!0,minX:null,maxX:null,minY:null,maxY:null,mode:null,isElementDraggable:null,targetSelector:null,dropTargetSelector:null,cloneTarget:!1,hideOriginalElement:!1,containers:null,ignoreSelector:null,startEvent:null,lockX:!1,lockY:!1,touchStartDelay:300,snapCoordinates:null,transitionDuration:300,clickSwallowDuration:50,ignoreSamePositionDrop:!0,floatRootOwner:null,testConfig:{transitionDuration:10,clickSwallowDuration:s.default.isEdge?300:50}}}construct(e){const t=this;super.construct(e),t.initListeners(),"container"===t.mode?t.initContainerDrag():t.mode.startsWith("translate")&&t.initTranslateDrag(),t.initialMode=t.mode}doDestroy(){this.abort(!0),super.doDestroy()}initListeners(){const e={element:this.outerElement,mousedown:d,thisObj:this};s.default.isTouchDevice&&(e.touchstart=g),l.default.on(e)}onPointerDown(e){let t=this,n=!1,r="touches"in e;if(t.context)t.context.awaitingFinalization||(t.onMouseUp(e),t.reset());else if(t.startEvent=e,(!t.isElementDraggable||t.isElementDraggable(e.target,e))&&(t.mode&&(n||"container"!==t.mode||(n=t.grabContainerDrag(e)),!n&&t.mode.startsWith("translate")&&(n=t.grabTranslateDrag(e))),n)){const e={element:document,thisObj:t,keydown:v};if(r?(e.touchmove={handler:m,passive:!1},e.touchend=e.pointerup=p):(e.mousemove=u,e.mouseup=h),t.removeListeners=l.default.on(e),t.dragWithin&&t.dragWithin!==t.outerElement){const e=t.dragWithin.getBoundingClientRect();t.minY=e.top,t.maxY=e.bottom,t.minX=e.left,t.maxX=e.right}}}onTouchStart(e){const t=this;1===e.touches.length&&(t.touchStartTimer=t.setTimeout(()=>{t.touchStartTimer=null},t.touchStartDelay,"touchStartDelay"),t.onPointerDown(e))}onMouseDown(e){0===e.button&&this.onPointerDown(e)}internalMove(e){const t=this,n=t.context,r=l.default.getDistanceBetween(t.startEvent,e);if(t.touchStartTimer&&r>t.dragThreshold)t.abort(!0);else if(!t.touchStartTimer&&n&&n.element&&e.target&&e.target.nodeType===Node.ELEMENT_NODE&&(n.started||r>=t.dragThreshold)){if(!n.started){if(!1===t.trigger("beforeDragStart",{context:n,event:e}))return t.abort();{"container"!==t.mode&&(t.lockY?t.mode="translateX":t.lockX?t.mode="translateY":t.mode=t.initialMode);const r=t.lockX?"vertical":t.lockY?"horizontal":"both";n.action.startsWith("translate")?t.startTranslateDrag(e):"container"===n.action&&t.startContainerDrag(e),n.started=!0,t.scrollManager&&t.scrollManager.startMonitoring({direction:r,element:t.dragWithin||t.outerElement,callback:e=>{t.context.element&&t.lastMouseMoveEvent&&(t.lastMouseMoveEvent.isScroll=!0,t.update(t.lastMouseMoveEvent,e))},thisObj:t}),n.outermostEl=e.target.closest(".b-outer")||document.body,n.outermostEl.classList.add("b-draghelper-active")}t.trigger("dragStart",{context:n,event:e})}"touchmove"===e.type&&(e.preventDefault(),e.stopImmediatePropagation()),t.update(e)}}onTouchMove(e){this.internalMove(e)}onMouseMove(e){this.internalMove(e)}update(e,t){const n=this,r=n.context,i=r.dragProxy||r.element;let o=e.target,a=document.scrollingElement||document.body;if("touchmove"===e.type){const t=e.changedTouches[0];o=c.default.elementFromPoint(t.clientX+a.scrollLeft,t.clientY+a.scrollTop)}r.target=o,n.dropTargetSelector?r.valid=Boolean(o.closest(n.dropTargetSelector)):r.valid=!0,r.action&&("container"===r.action&&n.updateContainerProxy(e,t),r.action.startsWith("translate")&&n.updateTranslateProxy(e,t)),n.trigger("drag",{context:r,event:e}),"container"===r.action&&n.updateContainerDrag(e,t),i.classList[r.valid?"remove":"add"](n.invalidCls),e&&(n.lastMouseMoveEvent=e)}abort(e=!1){var t,n;const r=this,i=r.context;null===(t=r.scrollManager)||void 0===t||null===(n=t.stopMonitoring)||void 0===n||n.call(t,r.dragWithin||r.outerElement),i&&(i.element.getBoundingClientRect(),i.valid=!1,"container"===i.action?r.abortContainerDrag(void 0,void 0,e):r.abortTranslateDrag(void 0,void 0,e)),r.reset()}removeListeners(){}reset(e){const t=this,n=t.context;null!==n&&void 0!==n&&n.started&&n.outermostEl.classList.remove("b-draghelper-active"),t.removeListeners(),e||t.trigger("reset"),t.context=t.lastMouseMoveEvent=null}onTouchEnd(e){this.onMouseUp(e)}onDocumentClick(e){e.stopPropagation()}onMouseUp(e){const t=this,n=t.context;t.removeListeners(),n&&(t.scrollManager&&t.scrollManager.stopMonitoring(t.dragWithin||t.outerElement),"container"===n.action?t.finishContainerDrag(e):n.started&&n.action.startsWith("translate")&&t.finishTranslateDrag(e),n.started?l.default.on({element:document,thisObj:t,click:f,capture:!0,expires:t.clickSwallowDuration,once:!0}):t.reset(!0))}onKeyDown(e){"Escape"===e.key&&this.abort()}createProxy(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}}b._$name="DragHelper"},"./lib/Core/helper/EventHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=(n("./lib/Core/helper/util/Point.js"),n("./lib/Core/helper/StringHelper.js"));const c=["clientX","clientY","pageX","pageY","screenX","screenY"],d={element:1,thisObj:1,once:1,delegate:1,delay:1,capture:1,passive:1,throttled:1,autoDetach:1,expires:1},u={get:()=>!0},h={Spacebar:"Space",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown"},f={Meta:1,Control:1,Alt:1};function g(e,t){let n,r;for(;(e=Object.getPrototypeOf(e))&&!r;)n=Object.getOwnPropertyDescriptor(e,t),r=n&&n.get;return r}class m{static normalizeEvent(e){return i.default.copyPropertiesIf(e,e.changedTouches[0]||e.touches[0],c)}static getXY(e){return e.touches&&(e=e.touches[0]),[e.clientX,e.clientY]}static getDistanceBetween(e,t){const n=p.getXY(e),r=p.getXY(t);return Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2))}static getPagePoint(e){return new s.default.Point(e.pageX,e.pageY)}static getClientPoint(e){return new s.default.Point(e.clientX,e.clientY)}static addListener(e,t,n,r){return r=e.nodeType?"string"===typeof t?Object.assign({element:e,[t]:n},r):Object.assign({element:e},t):e,p.on(r)}static on(e){const t=e.element,n=e.thisObj,r=[];for(const o in e)if(!d[o]){let i=e[o];"object"!==typeof i&&(i={handler:i});const s=i.element||t;a.default.isTouchDevice&&!a.default.isAndroid&&"contextmenu"===o&&r.push(p.addElementListener(s,"touchstart",{handler:p.createContextMenuWrapper(i.handler,i.thisObj||n)},e)),r.push(p.addElementListener(s,o,i,e))}const i=()=>{for(let e,t=0;t<r.length;t++)e=r[t],p.removeEventListener(e[0],e[1],e[2]);r.length=0};return n&&!1!==e.autoDetach&&(n.doDestroy=o.default.createInterceptor(n.doDestroy,i,n)),i}static addElementListener(e,t,n,r){const i=p.createHandler(e,t,n,r),o="passive"in n,s=n.expires||r.expires;let l=n.capture||r.capture;if((o||"passive"in r)&&a.default.supportsPassive&&(l={capture:!!l,passive:o?n.passive:r.passive}),e.addEventListener(t,i,l),s){const o=n.thisObj||r.thisObj,a=null!==o&&void 0!==o&&o.isDelayable?o:window,{alt:l}=s,c=l?s.delay:s,{spec:d}=i;d.expires=s,d.timerId=a["number"===typeof c?"setTimeout":"requestAnimationFrame"](()=>{d.timerId=null,p.removeEventListener(e,t,i),l&&!i.called&&("string"===typeof l?o[l]:l).call(o)},c,"listener-timer-"+performance.now())}return[e,t,i,l]}static fixEvent(e){var t,n,i,o;const{type:s}=e;if(s.startsWith("key")){const t=h[e.key];t&&Object.defineProperty(e,"key",{get:()=>t})," "!==e.key||e.code||Object.defineProperty(e,"code",{get:()=>"Space"})}if(e.metaKey&&!e.ctrlKey&&Object.defineProperty(e,"ctrlKey",u),null!==(t=e.target)&&void 0!==t&&t.shadowRoot&&e.composedPath&&!a.default.isIE11&&!a.default.isEdge){const t=e.composedPath()[0],n=e.target;e.target!==t&&(Object.defineProperty(e,"target",{get:()=>t,configurable:!0}),Object.defineProperty(e,"originalTarget",{get:()=>n,configurable:!0}))}if(a.default.isChrome&&e.target&&"offsetX"in e&&(Object.getOwnPropertyDescriptor(e,"offsetX")||Object.defineProperty(e,"offsetX",{get:()=>{const t=g(e,"offsetX").call(e),{target:n}=e,{offsetWidth:r}=n,i=Math.min(Math.max(t,0),r-1);return t<0||t>=r?i:t}}),Object.getOwnPropertyDescriptor(e,"offsetY")||Object.defineProperty(e,"offsetY",{get:()=>{const t=g(e,"offsetY").call(e),{target:n}=e,{offsetHeight:r}=n,i=Math.min(Math.max(t,0),r-1);return t<0||t>=r?i:t}})),(null===(n=e.target)||void 0===n?void 0:n.nodeType)===Element.DOCUMENT_NODE&&"clientX"in e){const t=r.default.elementFromPoint(e.clientX,e.clientY);Object.defineProperty(e,"target",{get:()=>t})}if((null===(i=e.target)||void 0===i?void 0:i.nodeType)===Element.TEXT_NODE){const t=e.target.parentElement;Object.defineProperty(e,"target",{get:()=>t})}if((null===(o=e.relatedTarget)||void 0===o?void 0:o.nodeType)===Element.TEXT_NODE){const t=e.target.parentElement;Object.defineProperty(e,"relatedTarget",{get:()=>t})}return s.startsWith("touch")&&e.touches.length&&this.normalizeEvent(e),e}static createHandler(e,t,n,r){const i=n.delay||r.delay,a=n.throttled||r.throttled,s=n.block||r.block,l=n.once||r.once,c=n.thisObj||r.thisObj,d=n.capture||r.capture,u=n.delegate||r.delegate,h=n.handler;let f=(e,...t)=>{if(f.called=!0,(!p.playingDemo||!e.isTrusted)&&(!c||!c.isDestroyed)){if(e=p.fixEvent(e),u){var n;const t=(null===(n=e.target.closest)||void 0===n?void 0:n.call)&&e.target.closest(u);if(!t)return;Object.defineProperty(e,"currentTarget",{get:()=>t,configurable:!0})}("string"===typeof h?c[h]:h).call(c,e,...t)}};if(s){const e=f;let t,n;f=(r,...i)=>{const o=performance.now();(!t||r.target!==n||o-t>s)&&(n=r.target,t=o,e(r,...i))}}if(null!=i){const e=f,t=c&&c.setTimeout?c:window;f=(...n)=>{t.setTimeout(()=>{e(...n)},i)}}if(null!=a){let e,t=a;a.buffer&&(e=e=>a.alt.call(p,p.fixEvent(e)),t=a.buffer),f=c&&c.isDelayable?c.throttle(f,{delay:t,throttled:e}):o.default.createThrottled(f,t,c,null,e)}if(l){const n=f;f=(...r)=>{p.removeEventListener(e,t,f),n(...r)}}return n.thisObj&&!1!==n.autoDetach&&(c.doDestroy=o.default.createInterceptor(c.doDestroy,()=>p.removeEventListener(e,t,f),c)),f.spec={delay:i,throttled:a,block:s,once:l,thisObj:c,capture:d,delegate:u},f}static removeEventListener(e,t,n){const{expires:r,timerId:i,thisObj:o,capture:a}=n.spec;null!==r&&void 0!==r&&r.alt&&i&&(null!==o&&void 0!==o&&o.isDelayable?o:window)["number"===typeof r.delay?"clearTimeout":"cancelAnimationFrame"](i),e.removeEventListener(t,n,a)}static onTransitionEnd({element:e,property:t,handler:n,mode:i="transition",duration:o=r.default[`get${"transition"===i?"Property":""}${l.default.capitalize(i)}Duration`](e,t),thisObj:a=window,args:s=[]}){let c;const d=[e,t,...s],u=a.isDelayable?a:window,h=()=>{f(),a.isDestroyed||(a.callback?a.callback(n,a,d):n.apply(a,d))},f=p.on({element:e,[i+"end"]({propertyName:n,target:r}){n===t&&r===e&&(c&&(u.clearTimeout(c),c=null),h())}});return null!=o&&(c=u.setTimeout(h,o+20)),f}static async waitForTransitionEnd(e){return new Promise(t=>{e.handler=t,m.onTransitionEnd(e)})}static createContextMenuWrapper(e,t){return n=>{if(1===n.touches.length){const r=n.touches[0],i=setTimeout(()=>{a();const i=new MouseEvent("contextmenu",r);Object.defineProperty(i,"target",{get:()=>r.target}),"string"===typeof e&&(e=t[e]),i.browserEvent=n,e.call(t,i),p.contextMenuTouchId=r.identifier},p.longPressTime),o=({clientX:e,clientY:t,type:n})=>{let o="touchend"===n||"pointerup"===n;if(!o){const n=Math.abs(e-r.clientX),i=Math.abs(t-r.clientY);o=n>=5||i>=5}o&&(p.contextMenuTouchId=null,a(),clearTimeout(i))},a=p.on({element:document,touchmove:o,touchend:o,pointermove:o,pointerup:o,capture:!0})}}}static createDblClickWrapper(e,t,n){let r,i,o;return()=>{i||(i=p.on({element:e,touchstart:e=>{r=e.changedTouches[0].identifier,e.preventDefault()},touchend:e=>{if(e.changedTouches[0].identifier===r){e.preventDefault(),clearTimeout(o),r=i=null;const a=s.default.from(e.changedTouches[0].target,null,!0),l=e.changedTouches[0].pageX-a.x,c=e.changedTouches[0].pageY-a.y,d=Object.assign({browserEvent:e},e),u=new MouseEvent("dblclick",d);Object.defineProperty(u,"target",{get:()=>e.target}),Object.defineProperty(u,"offsetX",{get:()=>l}),Object.defineProperty(u,"offsetY",{get:()=>c}),"string"===typeof t&&(t=n[t]),t.call(n,u)}},once:!0}),o=setTimeout(()=>{i(),r=i=null},p.dblClickTime))}}}const p=m;p.longPressTime=500,p.dblClickTime=300,p.on({element:document,mousedown({target:e}){if(!r.default.isTouchEvent){var t;const n=r.default.getRootElement(e);r.default.usingKeyboard=!1,null===(t=n.classList)||void 0===t||t.remove("b-using-keyboard"),r.default.removeClsGlobally(n,"b-using-keyboard")}},touchmove({changedTouches:e}){var t;const n=e[0].target,i=r.default.getRootElement(n);r.default.usingKeyboard=!1,null===(t=i.classList)||void 0===t||t.remove("b-using-keyboard"),r.default.removeClsGlobally(i,"b-using-keyboard")},keydown({target:e,key:t}){if(!f[t]){r.default.usingKeyboard=!0;const t=r.default.getRootElement(e);t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(t.children).forEach(e=>{e.matches(".b-outer")&&e.classList.add("b-using-keyboard")}):t.classList.add("b-using-keyboard")}}}),a.default.isTouchDevice&&p.on({element:document,touchmove:e=>{e.target.closest(".b-dragging")&&e.preventDefault()},passive:!1,capture:!0}),m._$name="EventHelper"},"./lib/Core/helper/FunctionHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n("./lib/Core/helper/BrowserHelper.js");const{hasOwnProperty:r}=Object.prototype;class i{static after(e,t,n,r,o){const a="string"===typeof n,s=!1!==(null===o||void 0===o?void 0:o.return),l=(...t)=>{const i=l.$nextHook.call(e,...t),o=null!==r&&void 0!==r&&r.isDestroyed?void 0:s?a?r[n](i,...t):n.call(r,i,...t):a?r[n](...t):n.call(r,...t);return void 0===o?i:o};return i.hookMethod(e,t,l)}static before(e,t,n,r){const o="string"===typeof n,a=(...t)=>{const i=null!==r&&void 0!==r&&r.isDestroyed?0:o?r[n](...t):n.call(r,...t);return!1===i?i:a.$nextHook.call(e,...t)};return i.hookMethod(e,t,a)}static curry(e){return function t(...n){return n.length>=e.length?e.apply(this,n):function(...e){return t.apply(this,n.concat(e))}}}static bindAll(e){for(const t in e)"function"===typeof e[t]&&(e[t]=e[t].bind(e))}static createInterceptor(e,t,n){return(...r)=>!1!==t.call(n,...r)&&e.call(n,...r)}static createSequence(e,t,n){return(...r)=>{const i=e.call(n,...r),o=t.call(n,...r);return void 0===o?i:o}}static createThrottled(e,t,n,r,i){let o,a,s=0;const l=()=>{a=0,s=performance.now(),o.push.apply(o,r),e.apply(n,o)},c=function(...e){const c=performance.now()-s;o=e,c>=t?(clearTimeout(a),l()):(a||(a=setTimeout(l,t-c)),i&&(o.push.apply(o,r),i.apply(n,o)))};return c.cancel=()=>clearTimeout(a),c}static createBuffered(e,t,n,r){let i,o;const a=()=>{o=0,s.isPending=!1,i.push.apply(i,r),e.apply(n,i)},s=function(...e){i=e,o&&clearTimeout(o),s.isPending=!0,o=setTimeout(a,t)};return s.cancel=()=>{s.isPending=!1,clearTimeout(o)},s}static hookMethod(e,t,n){return n.$nextHook=e[t],e[t]=n,()=>{if(r.call(e,t)){let r,a=e[t];var i;if(a===n)(null===(i=Object.getPrototypeOf(e))||void 0===i?void 0:i[t])===n.$nextHook?delete e[t]:e[t]=n.$nextHook;else for(;r=null===(o=a)||void 0===o?void 0:o.$nextHook;a=r){var o;if(r===n){a.$nextHook=n.$nextHook;break}}}}}static noThrow(e,t,n){const r=e[t];e[t]=(...t)=>{try{return r.apply(e,t)}catch(i){return null===n||void 0===n?void 0:n(i)}}}static returnTrue(){return!0}static animate(e,t,n,r="linear"){let i=!1;const o=new Promise(o=>{const a=performance.now(),s=()=>{const l=Math.min((performance.now()-a)/e,1),c=n&&n.setTimeout?n:window;i||!1===t.call(n,this.easingFunctions[r](l))&&o(),i||1===l?c.requestAnimationFrame(()=>o()):c.requestAnimationFrame(s)};s()});return o.cancel=()=>(i=!0,!1),o}}const o=1.70158,a=7.5625,s=1.525,l=2/2.75,c=2.25/2.75,d=1/2.75,u=1.5/2.75,h=2.5/2.75,f=2.625/2.75,g=.984375;i.easingFunctions={linear:e=>e,easeInQuad:e=>Math.pow(e,2),easeOutQuad:e=>-(Math.pow(e-1,2)-1),easeInOutQuad:e=>(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2),easeInCubic:e=>Math.pow(e,3),easeOutCubic:e=>Math.pow(e-1,3)+1,easeInOutCubic:e=>(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2),easeInQuart:e=>Math.pow(e,4),easeOutQuart:e=>-(Math.pow(e-1,4)-1),easeInOutQuart:e=>(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2),easeInQuint:e=>Math.pow(e,5),easeOutQuint:e=>Math.pow(e-1,5)+1,easeInOutQuint:e=>(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2),easeInSine:e=>1-Math.cos(e*(Math.PI/2)),easeOutSine:e=>Math.sin(e*(Math.PI/2)),easeInOutSine:e=>-.5*(Math.cos(Math.PI*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e)),easeInCirc:e=>-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeOutBounce:e=>e<d?a*e*e:e<l?a*(e-=u)*e+.75:e<h?a*(e-=c)*e+.9375:a*(e-=f)*e+g,easeInBack:e=>e*e*((o+1)*e-o),easeOutBack:e=>(e-=1)*e*((o+1)*e+o)+1,easeInOutBack:e=>{let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=s))*e-t)*.5:.5*((e-=2)*e*((1+(t*=s))*e+t)+2)},elastic:e=>-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1,swingFromTo:e=>{let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=s))*e-t)*.5:.5*((e-=2)*e*((1+(t*=s))*e+t)+2)},swingFrom:e=>e*e*((o+1)*e-o),swingTo:e=>(e-=1)*e*((o+1)*e+o)+1,bounce:e=>e<d?a*e*e:e<l?a*(e-=u)*e+.75:e<h?a*(e-=c)*e+.9375:a*(e-=f)*e+g,bouncePast:e=>e<d?a*e*e:e<l?2-(a*(e-=u)*e+.75):e<h?2-(a*(e-=c)*e+.9375):2-(a*(e-=f)*e+g),easeFromTo:e=>(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2),easeFrom:e=>Math.pow(e,4),easeTo:e=>Math.pow(e,.25)},i._$name="FunctionHelper"},"./lib/Core/helper/IdHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{static generateId(e="generatedId"){return e+(r.idCounts[e]=(r.idCounts[e]||0)+1)}}r.idCounts={},r._$name="IdHelper"},"./lib/Core/helper/ObjectHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"typeOf",(function(){return s})),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/util/Objects.js"),i=n("./lib/Core/helper/VersionHelper.js"),o=n("./lib/Core/helper/DateHelper.js");const{hasOwnProperty:a}=Object.prototype,s=e=>{const t=typeof e;if("object"===t){if(null===e)return"null";if("[object Date]"===Object.prototype.toString.call(e))return"date"}return t},l="1.01"===1.005.toFixed(2)?null:function(e,t){const n=e.toString().split("."),r=+(n[1]?n.join(".")+"1":n[0]);return e.toFixed.call(r,t)};class c extends r.default{static transformArrayToNamedObject(e,t="ref"){const n={};return e.forEach((e,r)=>{const i=null!=e[t]&&e[t].toString().length?e[t]:r;n[i]=e}),n}static transformNamedObjectToArray(e,t="ref"){return Object.keys(e).filter(t=>e[t]).map(n=>{const r=e[n];return r[t]=n,r})}static isEqual(e,t,n=!1){if(null===e&&null!==t||void 0===e&&void 0!==t||null===t&&null!==e||void 0===t&&void 0!==e)return!1;if(null==e&&null==t)return!0;if(e===t)return!0;const r=typeof e;if(r===typeof t){switch(r){case"number":case"string":case"boolean":return e===t}switch(!0){case e instanceof Date&&t instanceof Date:return e.getTime()===t.getTime();case Array.isArray(e)&&Array.isArray(t):return e.length===t.length&&e.every((e,r)=>d.isEqual(e,t[r],n));case"object"===r&&e.constructor.prototype===t.constructor.prototype:return n?d.isDeeplyEqual(e,t,n):JSON.stringify(e)===JSON.stringify(t)}}return String(e)===String(t)}static isDeeplyEqual(e,t,n={}){if(e===t)return!0;if(!e||!t)return!1;const r=d.keys(e,n.ignore),i=d.keys(t,n.ignore);if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++){const a=r[o],s=i[o];if(a!==s)return!1;const l=e[a],c=t[s];if(!n.shouldEvaluate||!1!==n.shouldEvaluate(a,{value:l,object:e},{value:c,object:t})){if(n.evaluate){const r=n.evaluate(a,{value:l,object:e},{value:c,object:t});if(!1===r)return!1;if(!0===r)continue}if(!d.isEqual(l,c,n))return!1}}return!0}static isPartial(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),-1!==e.indexOf(t)}static isLessThan(e,t){return e instanceof Date&&t instanceof Date?o.default.isBefore(e,t):e<t}static isMoreThan(e,t){return e instanceof Date&&t instanceof Date?o.default.isAfter(e,t):e>t}static fork(e){let t,n,r;if(e&&e.constructor===Object)for(n in t=Object.setPrototypeOf({},e),e)r=e[n],r&&(r.constructor===Object?t[n]=d.fork(r):r instanceof Array&&(t[n]=r.slice()));else t=e;return t}static copyProperties(e,t,n){let r,i;for(i=0;i<n.length;i++)r=n[i],r in t&&(e[r]=t[r]);return e}static copyPropertiesIf(e,t,n){if(t)for(const r of n)r in e||(e[r]=t[r]);return e}static entries(e,t){const n=[],r="function"===typeof t;if(e)for(const i in e)(r?t(i,e[i]):null!==t&&void 0!==t&&t[i])||n.push([i,e[i]]);return n}static fromEntries(e,t){if(t=t||{},e)for(let n=0;n<e.length;++n)t[e[n][0]]=e[n][1];return t}static keys(e,t){const n=[],r="function"===typeof t;if(e)for(const i in e)(r?t(i,e[i]):null!==t&&void 0!==t&&t[i])||n.push(i);return n}static values(e,t){const n=[],r="function"===typeof t;if(e)for(const i in e)(r?t(i,e[i]):null!==t&&void 0!==t&&t[i])||n.push(e[i]);return n}static allKeys(e){return i.default.deprecate("Core","5.0.0","Deprecated in favor of `keys()`; will be removed in 5.0"),c.keys(e)}static pathExists(e,t){return t.split(".").every(t=>t in e&&(e=e[t],!0))}static pathifyKeys(e){const t={};for(const n in e)if(Object.hasOwnProperty.call(e,n))if(e[n]instanceof Object){const r=this.pathifyKeys(e[n]);for(const e in r)t[`${n}.${e}`]=r[e]}else t[n]=e[n];return t}static deletePath(e,t){t.split(".").reduce((e,t,n,r)=>{if(null==e)return null;if(Object.hasOwnProperty.call(e,t)){if(n!==r.length-1)return e[t];delete e[t]}},e)}static coerce(e,t){const n=s(e),r=s(t),i="string"===typeof e;if(n!==r)switch(r){case"string":return String(e);case"number":return Number(e);case"boolean":return!(i&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return!(!i||e&&"null"!==e)&&null;case"undefined":return!(!i||e&&"undefined"!==e)&&void 0;case"date":return i&&isNaN(e)?o.default.parse(e):Date(Number(e))}return e}static wrapProperty(e,t,n,r,i=!0){const o={};let a=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(a,t);for(;!s&&a&&i;)a=Object.getPrototypeOf(a),a&&(s=Object.getOwnPropertyDescriptor(a,t));s?(s.set?o.set=t=>{s.set.call(e,t),r&&r.call(e,s.get.call(e))}:o.set=r,s.get?o.get=()=>{let t=s.get.call(e);return n&&(t=n.call(e,t)),t}:o.get=n):(o.set=n=>{e["_"+t]=n,r&&r.call(e,n)},o.get=()=>{let r=e["_"+t];return n&&(r=n.call(e,r)),r}),Object.defineProperty(e,t,o)}static getPropertyDescriptor(e,t){let n=null;for(let r=e;r&&!n&&!a.call(r,"isBase");r=Object.getPrototypeOf(r))n=Object.getOwnPropertyDescriptor(r,t);return n}static cleanupProperties(e,t=!1){return Object.entries(e).forEach(([n,r])=>{t?void 0===r&&delete e[n]:null==r&&delete e[n]}),e}static removeAllProperties(e){return Object.keys(e).forEach(t=>delete e[t]),e}static assertType(e,t,n){if(null!=e&&typeof e!==t)throw new Error(`Incorrect type "${typeof e}" for ${n}, expected "${t}"`)}static assertNumber(e,t){const n=Number(e);if("number"!==typeof e||isNaN(n))throw new Error(`Incorrect type for ${t}, got "${e}" (expected a Number)`)}static assertBoolean(e,t){d.assertType(e,"boolean",t)}static toFixed(e,t){return l?l(e,t):e.toFixed(t)}static roundTo(e,t=1){return Math.round(e/t)*t}static round(e,t){if(null==t)return e;const n=10**t;return Math.round(e*n)/n}static isPromise(e){return"function"===typeof(null===e||void 0===e?void 0:e.then)}static getMapPath(e,t,n){const r=Array.isArray(t)?t:"string"===typeof t?t.split("."):[t],i=1===r.length,o=r[0],a=e.has(o)?e.get(o):e.set(o,i?n:{}).get(o);return i?a:d.getPathDefault(a,r.slice(1),n)}}const d=c;c._$name="ObjectHelper"},"./lib/Core/helper/ResizeHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/util/Rectangle.js");const c="onMouseDown",d="onMouseMove",u="onMouseUp",h="onDocumentClick",f="onTouchStart",g="onTouchMove",m="onTouchEnd",p="onKeyDown";class v extends(Object(i.default)(r.default)){static get defaultConfig(){return{resizingCls:"b-resizing",dragThreshold:5,handleSize:10,dynamicHandleSize:null,reservedSpace:10,touchHandleSize:30,minWidth:1,maxWidth:0,minHeight:1,maxHeight:0,outerElement:document.body,scroller:null,allowResize:null,dragWithin:null,isElementResizable:null,targetSelector:null,leftHandle:!0,rightHandle:!0,topHandle:!0,bottomHandle:!0,handleSelector:null,handleContainerSelector:null,startEvent:null,grab:null,invalidCls:"b-resize-invalid",handleVisibilityThreshold:null,skipTranslate:!1,direction:"horizontal",clickSwallowDuration:50}}construct(e){const t=this;super.construct(e),t.handleSelector||o.default.isHoverableDevice||(t.handleSize=t.touchHandleSize),t.handleVisibilityThreshold=t.handleVisibilityThreshold||2*t.handleSize,t.initListeners(),t.initResize()}doDestroy(){this.abort(!0),super.doDestroy()}initResize(){const e=this;if(!e.isElementResizable&&e.targetSelector&&(e.isElementResizable=t=>s.default.up(t,e.targetSelector)),e.grab){const{edge:t,element:n,event:r}=e.grab;e.startEvent=r;const i=e.getCursorOffsetToElementEdge(r,n,t);e.context={element:n,edge:t,valid:!0,async:!1,elementStartX:s.default.getTranslateX(n)||n.offsetLeft,elementStartY:s.default.getTranslateY(n)||n.offsetTop,newX:s.default.getTranslateX(n)||n.offsetLeft,newY:s.default.getTranslateY(n)||n.offsetTop,elementWidth:n.offsetWidth,elementHeight:n.offsetHeight,cursorOffset:i,startX:r.clientX+i.x+e.scrollLeft,startY:r.clientY+i.y+e.scrollTop,finalize:()=>{var t;return null===(t=e.reset)||void 0===t?void 0:t.call(e)}},n.classList.add(e.resizingCls),e.internalStartResize(e.isTouch)}}initListeners(){const e=this,t={element:e.outerElement,mousedown:c,touchstart:f,thisObj:e};!e.handleSelector&&o.default.isHoverableDevice&&(t.mousemove={handler:d,delegate:e.targetSelector},t.mouseleave={handler:"onMouseLeaveTarget",delegate:e.targetSelector,capture:!0}),e.removeListeners=a.default.on(t)}removeListeners(){}get scrollLeft(){return this.scroller?this.scroller.x:this.outerElement.scrollLeft}get scrollTop(){return this.scroller?this.scroller.y:this.outerElement.scrollTop}internalStartResize(e){const t={element:document,keydown:p,thisObj:this};e?(t.touchmove=g,t.touchend=t.pointerup=m):(t.mousemove=d,t.mouseup=u),this.removeDragListeners=a.default.on(t)}removeDragListeners(){}reset(){var e;null===(e=this.removeDragListeners)||void 0===e||e.call(this),this.context=null}onPointerDown(e,t){const n=this;n.startEvent=t,n.isElementResizable&&!n.isElementResizable(t.target,t)||n.grabResizeHandle(e,t)&&(t.stopImmediatePropagation(),n.internalStartResize(e))}onTouchStart(e){e.touches.length>1||this.onPointerDown(!0,e)}onMouseDown(e){0===e.button&&this.onPointerDown(!1,e)}internalMove(e,t){const n=this,r=n.context;r&&r.element&&(r.started||a.default.getDistanceBetween(n.startEvent,t)>=n.dragThreshold)?(r.started||(n.scrollManager&&n.scrollManager.startMonitoring({direction:n.direction,element:n.dragWithin||n.outerElement,callback:e=>n.context&&n.context.element&&n.lastMouseMoveEvent&&n.update(n.lastMouseMoveEvent,e),thisObj:n}),n.trigger("resizeStart",{context:r,event:t}),r.started=!0),n.update(t)):e||n.handleSelector||n.checkResizeHandles(t)}onTouchMove(e){this.internalMove(!0,e)}onMouseMove(e){this.internalMove(!1,e)}onPointerUp(e,t){var n;const r=this,i=r.context;var o;null===(n=r.removeDragListeners)||void 0===n||n.call(r),i?(r.scrollManager&&r.scrollManager.stopMonitoring(r.dragWithin||r.outerElement),i.started&&a.default.on({element:document,thisObj:r,click:h,expires:r.clickSwallowDuration,capture:!0,once:!0}),r.finishResize(t)):null===(o=r.reset)||void 0===o||o.call(r)}onTouchEnd(e){this.onPointerUp(!0,e)}onMouseUp(e){this.onPointerUp(!1,e)}onDocumentClick(e){e.stopPropagation()}onKeyDown(e){"Escape"===e.key&&this.abort()}update(e){const t=this,n=t.context,r=l.default.from(t.outerElement);n.currentX=Math.max(Math.min(e.clientX+n.cursorOffset.x,r.right),r.x)+t.scrollLeft,n.currentY=Math.max(Math.min(e.clientY+n.cursorOffset.y,r.bottom),r.y)+t.scrollTop,t.updateResize(e),t.trigger("resizing",{context:n,event:e}),n.element.classList[!1===n.valid?"add":"remove"](t.invalidCls),e&&(t.lastMouseMoveEvent=e)}abort(e=!1){var t,n;const r=this;null===(t=r.scrollManager)||void 0===t||null===(n=t.stopMonitoring)||void 0===n||n.call(t,r.dragWithin||r.outerElement),r.context?r.abortResize(null,e):r.isDestroyed||r.reset()}grabResizeHandle(e,t){const n=this;if(n.allowResize&&!n.allowResize(t.target,t))return!1;const r=n.handleSelector,i="touchstart"===t.type?t.changedTouches[0]:t,o=i.clientX,a=i.clientY,l=n.targetSelector?s.default.up(t.target,n.targetSelector):t.target;if(l){let c;if(r){if(!t.target.matches(r))return!1;c="horizontal"===n.direction?t.pageX<s.default.getPageX(l)+l.offsetWidth/2?"left":"right":t.pageY<s.default.getPageY(l)+l.offsetHeight/2?"top":"bottom"}else if("horizontal"===n.direction?n.overLeftHandle(t,l)?c="left":n.overRightHandle(t,l)&&(c="right"):n.overTopHandle(t,l)?c="top":n.overBottomHandle(t,l)&&(c="bottom"),!c)return n.context=null,!1;"touchstart"===t.type&&t.preventDefault();const d=n.getCursorOffsetToElementEdge(i,l,c);if(!1!==n.trigger("beforeResizeStart",{element:l,event:t}))return n.context={element:l,edge:c,isTouch:e,valid:!0,async:!1,direction:n.direction,elementStartX:s.default.getTranslateX(l)||l.offsetLeft,elementStartY:s.default.getTranslateY(l)||l.offsetTop,newX:s.default.getTranslateX(l)||l.offsetLeft,newY:s.default.getTranslateY(l)||l.offsetTop,elementWidth:l.offsetWidth,elementHeight:l.offsetHeight,cursorOffset:d,startX:o+d.x+n.scrollLeft,startY:a+d.y+n.scrollTop,finalize:()=>{var e;return null===(e=n.reset)||void 0===e?void 0:e.call(n)}},l.classList.add(n.resizingCls),!0}return!1}getCursorOffsetToElementEdge(e,t,n){const r=l.default.from(t);let i=0,o=0;switch(n){case"left":i=r.x-e.clientX;break;case"right":i=r.x+r.width-e.clientX;break;case"top":o=r.y-e.clientY;break;case"bottom":o=r.y+r.height-e.clientY}return{x:i,y:o}}checkResizeHandles(e){const t=this,n=t.targetSelector?s.default.up(e.target,t.targetSelector):e.target;if(!n||t.allowResize&&!t.allowResize(e.target,e))t.currentElement&&t.unHighlightHandle();else if(t.currentElement=t.handleContainerSelector?s.default.up(e.target,t.handleContainerSelector):e.target,t.currentElement){let r=!1;r="horizontal"===t.direction?t.overLeftHandle(e,n)||t.overRightHandle(e,n):t.overTopHandle(e,n)||t.overBottomHandle(e,n),r?t.highlightHandle():t.unHighlightHandle()}}onMouseLeaveTarget(e){const t=this;t.currentElement=t.handleContainerSelector?s.default.up(e.target,t.handleContainerSelector):e.target,t.currentElement&&t.unHighlightHandle()}updateResize(e){const t=this,n=t.context;t.allowEdgeSwitch&&("horizontal"===t.direction?n.edge=n.currentX>n.startX?"right":"left":n.edge=n.currentY>n.startY?"bottom":"top");const r=n.currentX-n.startX,i=n.currentY-n.startY,o=s.default.getExtremalSizePX(n.element,"minWidth")||t.minWidth,a=s.default.getExtremalSizePX(n.element,"maxWidth")||t.maxWidth,l=s.default.getExtremalSizePX(n.element,"minHeight")||t.minHeight,c=s.default.getExtremalSizePX(n.element,"maxHeight")||t.maxHeight,d="right"===n.edge||"bottom"===n.edge?1:-1,u=n.elementWidth+r*d,h=n.elementHeight+i*d;let f=Math.max(o,u),g=Math.max(l,h);a>0&&(f=Math.min(f,a)),c>0&&(g=Math.min(g,c)),n.element.style.flex&&(n.element.style.flex=""),"horizontal"===t.direction?(n.element.style.width=Math.abs(f)+"px",n.newWidth=f,"left"===n.edge||f<0?(n.newX=Math.max(Math.min(n.elementStartX+n.elementWidth-t.minWidth,n.elementStartX+r),0),t.skipTranslate||s.default.setTranslateX(n.element,n.newX)):"right"===n.edge&&t.allowEdgeSwitch&&!t.skipTranslate&&s.default.setTranslateX(n.element,n.elementStartX)):(n.element.style.height=Math.abs(g)+"px",n.newHeight=g,"top"===n.edge||g<0?(n.newY=Math.max(Math.min(n.elementStartY+n.elementHeight-t.minHeight,n.elementStartY+i),0),t.skipTranslate||s.default.setTranslateY(n.element,n.newY)):"bottom"===n.edge&&t.allowEdgeSwitch&&!t.skipTranslate&&s.default.setTranslateY(n.element,n.elementStartY))}finishResize(e){const t=this,n=t.context,r={context:n,event:e};if(n.element.classList.remove(t.resizingCls),n.started){let e=!1;e="horizontal"===t.direction?n.newWidth&&n.newWidth!==n.elementWidth:n.newHeight&&n.newHeight!==n.elementHeight,t.trigger(e?"resize":"cancel",r),n.async||n.finalize()}else{var i;null===(i=t.reset)||void 0===i||i.call(t)}}abortResize(e=null,t=!1){const n=this,r=n.context;r.element.classList.remove(n.resizingCls),"horizontal"===n.direction?(s.default.setTranslateX(r.element,r.elementStartX),r.element.style.width=r.elementWidth+"px"):(s.default.setTranslateY(r.element,r.elementStartY),r.element.style.height=r.elementHeight+"px"),!t&&n.trigger("cancel",{context:r,event:e}),n.isDestroyed||n.reset()}highlightHandle(){const e=this,t=e.targetSelector?s.default.up(e.currentElement,e.targetSelector):e.currentElement;e.currentElement.classList.add("b-resize-handle"),t.classList.add("b-over-resize-handle")}unHighlightHandle(){const e=this,t=e.targetSelector?s.default.up(e.currentElement,e.targetSelector):e.currentElement;t&&t.classList.remove("b-over-resize-handle"),e.currentElement.classList.remove("b-resize-handle"),e.currentElement=null}overAnyHandle(e,t){return this.overStartHandle(e,t)||this.overEndHandle(e,t)}overStartHandle(e,t){return"horizontal"===this.direction?this.overLeftHandle(e,t):this.overTopHandle(e,t)}overEndHandle(e,t){return"horizontal"===this.direction?this.overRightHandle(e,t):this.overBottomHandle(e,t)}getDynamicHandleSize(e,t){const n=e?2:1,{handleSize:r}=this;return this.dynamicHandleSize&&r*n>t-this.reservedSpace?Math.max(Math.floor((t-this.reservedSpace)/n),0):r}overLeftHandle(e,t){const n=this,{offsetWidth:r}=t;if(n.leftHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){const i=l.default.from(t);return i.width=n.getDynamicHandleSize(n.rightHandle,r),i.width>0&&i.contains(a.default.getPagePoint(e))}return!1}overRightHandle(e,t){const n=this,{offsetWidth:r}=t;if(n.rightHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){const i=l.default.from(t);return i.x=i.right-n.getDynamicHandleSize(n.leftHandle,r),i.width>0&&i.contains(a.default.getPagePoint(e))}return!1}overTopHandle(e,t){const n=this,{offsetHeight:r}=t;if(n.topHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){const i=l.default.from(t);return i.height=n.getDynamicHandleSize(n.bottomHandle,r),i.height>0&&i.contains(a.default.getPagePoint(e))}return!1}overBottomHandle(e,t){const n=this,{offsetHeight:r}=t;if(n.bottomHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){const i=l.default.from(t);return i.y=i.bottom-n.getDynamicHandleSize(n.bottomHandle,r),i.height>0&&i.contains(a.default.getPagePoint(e))}return!1}}v._$name="ResizeHelper"},"./lib/Core/helper/ResizeMonitor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/ArrayHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js");let a=null;const s=[],l=e=>{var t;return e.nodeType===e.ELEMENT_NODE&&"absolute"===(null===(t=e.ownerDocument.defaultView)||void 0===t?void 0:t.getComputedStyle(e).getPropertyValue("position"))};class c{static addResizeListener(e,t){const n=this;if(e!==document&&e!==window||(e=document.body),e.nodeType===e.DOCUMENT_FRAGMENT_NODE&&(e=e.host),e.classList.contains("b-resize-monitored")||(e.classList.add("b-resize-monitored"),e._bResizemonitor={handlers:[]}),e===document.body)n.hasWindowResizeListener||(window.addEventListener("resize",n.onWindowResize),n.hasWindowResizeListener=!0);else if(window.ResizeObserver)n.resizeObserver||(n.resizeObserver=new ResizeObserver(n.onElementResize)),n.resizeObserver.observe(e);else{e.classList.add("b-no-resizeobserver");const[i,a,s]=r.default.createElement({parent:e,className:"b-resize-monitors",children:[{className:"b-resize-monitor-expand"},{className:"b-resize-monitor-shrink"}]},!0);a.scrollLeft=a.scrollTop=s.scrollLeft=s.scrollTop=1e6,a.addEventListener("scroll",n.onSizeMonitorScroll,!0),s.addEventListener("scroll",n.onSizeMonitorScroll,!0),(t.targetMutationMonitor=new MutationObserver(e=>{const t=[];for(const n of e)"childList"===n.type&&(t.push.apply(t,n.removedNodes),t.push.apply(t,n.addedNodes));t.length>0&&t.every(l)||(!o.default.isEdge&&!o.default.isIE11||a.classList.contains("b-resize-monitor-expand"))&&a.dispatchEvent(new CustomEvent("scroll",{bubbles:!1}))})).observe(e,{childList:!0,subtree:!0}),t.monitorElement=i}e._bResizemonitor.handlers.push(t)}static removeResizeListener(e,t){if(e){e!==document&&e!==window||(e=document.body);const n=e._bResizemonitor;let r=0;n&&n.handlers&&(i.default.remove(n.handlers,t),r=n.handlers.length),r||(e.classList.remove("b-resize-monitored"),this.resizeObserver?this.resizeObserver.unobserve(e):(t.monitorElement&&(t.monitorElement.remove(),t.monitorElement=null),t.targetMutationMonitor&&t.targetMutationMonitor.disconnect()))}}static onElementResize(e){for(const t of e){const e=t.target,n=e._bResizemonitor,r=t.contentRect||e.getBoundingClientRect();if(e.offsetParent&&(!n.rectangle||r.width!==n.rectangle.width||r.height!==n.rectangle.height)){const t=n.rectangle;n.rectangle=r;for(const i of n.handlers)i(e,t,r)}}}static onSizeMonitorScroll(e){var t;if(null!==(t=document.body)&&void 0!==t&&t.contains(e.target)){e.stopImmediatePropagation();const t=e.target.parentNode,n=t.parentNode,r=n._bResizemonitor,i=n.getBoundingClientRect();r.rectangle&&i.width===r.rectangle.width&&i.height===r.rectangle.height||(s.push([n,r.rectangle,i]),r.rectangle=i,a||(a=requestAnimationFrame(c.fireResizeEvents))),t.firstChild.scrollLeft=t.firstChild.scrollTop=t.childNodes[1].scrollTop=t.childNodes[1].scrollLeft=1e6}}static onWindowResize(e){const t=document.body,n=t._bResizemonitor,r=n.rectangle;n.rectangle=document.documentElement.getBoundingClientRect();for(const i of n.handlers)i(t,r,n.rectangle)}static fireResizeEvents(){for(const e of s)for(const t of e[0]._bResizemonitor.handlers)e[0].offsetParent&&t.apply(this,e);a=null,s.length=0}}c._$name="ResizeMonitor"},"./lib/Core/helper/StringHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("./lib/Core/helper/VersionHelper.js");let i,o,a,s;const l=/([a-z])([A-Z])/g,c=/[\n\r]/g,d=/[.*+?^${}()|[\]\\]/g,u=/[&<]/,h=/(^[^a-z]+|[^\w]+)/gi,f=/\s+/,g=(e,t)=>o[t.toLowerCase()]||String.fromCharCode(parseInt(t.substr(2),10)),m=(e,t)=>i[t],p=(e,t,n)=>`${t}-${n.toLowerCase()}`,v=(e,t,n)=>`${t} ${n.toLowerCase()}`,b=e=>e?"_x"+e.charCodeAt(0).toString(16):"__blank__",y={},C={};class S{static capitalize(e){return e&&e[0].toUpperCase()+e.substr(1)}static capitalizeFirstLetter(e){return r.default.deprecate("Core","5.0.0","Deprecated in favor of `capitalize()`, will be removed in 5.0"),e?e[0].toUpperCase()+e.substr(1):null}static decodeHtml(e){return e&&String(e).replace(s,g)}static encodeHtml(e){return e&&String(e).replace(a,m)}static encodeHtmlBR(e){var t;return null===(t=S.encodeHtml(e))||void 0===t?void 0:t.replace(c,"<br>")}static isHtml(e){return"string"===typeof e&&u.test(e||"")}static lowercaseFirstLetter(e){return r.default.deprecate("Core","5.0.0","Deprecated in favor of `uncapitalize()`, will be removed in 5.0"),e?e[0].toLowerCase()+e.substr(1):null}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substr(1)}static hyphenate(e){const t=y[e];return t||(y[e]=e.replace(l,p))}static separate(e){const t=C[e];return t||(C[e]=this.capitalize(e.replace(l,v)))}static initHtmlEntities(e){e=e||{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};const t=Object.keys(e);i=e,o=t.reduce((t,n)=>(t[e[n]]=n,t),{}),a=new RegExp(`([${t.map(e=>"[-]".includes(e)?"\\"+e:e).join("")}])`,"g"),s=new RegExp(`(${Object.values(e).join("|")}|&#[0-9]+;)`,"ig")}static safeJsonParse(e){let t=null;try{t=JSON.parse(e)}catch(n){}return t}static safeJsonStringify(e,t=null,n=null){let r=null;try{r=JSON.stringify(e,t,n)}catch(i){}return r}static createId(e){return String(e).replace(h,b)}static escapeRegExp(e,t){let n=e.replace(d,"\\$&");return void 0!==t&&(n=new RegExp(n,t)),n}static joinPaths(e,t="/"){return e.join(t).replace(new RegExp("\\"+t+"+","g"),t)}static split(e,t=f){let n=e;return"string"===typeof n&&(n=e.trim(),n=n?n.split(t):[]),n}static xss(e,...t){const n=[];let r=t.length;for(n[r]=e[r];r-- >0;)n[r]=e[r]+S.encodeHtml(t[r]);return n.join("")}static xssBR(e,...t){const n=[];let r=t.length;for(n[r]=e[r];r-- >0;)n[r]=e[r]+S.encodeHtmlBR(t[r]);return n.join("")}}S.initHtmlEntities(),S._$name="StringHelper"},"./lib/Core/helper/TemplateHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));const r=/>[ \t\r\n]+</g,i=/\s\s+/g;class o{static tpl(e,...t){let n=0,o=t.map((t,r)=>{let i=e[r];return Array.isArray(t)?i+=t.reduce((e,t)=>e+(("string"===typeof t?t.trim():t)+"\n"),""):(void 0===t&&(t=""),i+="string"===typeof t?t.trim():t),n++,i}).join("");return n<=e.length&&(o+=e[e.length-1]),o.replace(r,"><").replace(i," ").trim()}static docsTpl(e,...t){let n=0,i=t.map((t,r)=>{let i=e[r];return Array.isArray(t)?i+=t.reduce((e,t)=>e+(("string"===typeof t?t.trim():t)+"\n"),""):(void 0===t&&(t=""),i+="string"===typeof t?t.trim():t),n++,i}).join("");return n<=e.length&&(i+=e[e.length-1]),i.replace(r,"><").trim()}static repeat(e){return function(...t){return o.tpl(...t).repeat(e)}}static loop(e){}}o._$name="TemplateHelper"},"./lib/Core/helper/VersionHelper.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/BrowserHelper.js");let i=!1;try{i=Boolean(r.default.global.parent&&r.default.global.parent.Siesta||"undefined"!==typeof e&&(r.default.global.StartTest||r.default.global.Siesta))}catch(s){}i&&(r.default._isHoverableDevice=!0);class o{static setVersion(e,t){e=e.toLowerCase(),a[e]={version:t,isNewerThan:e=>e<t,isOlderThan:e=>e>t};let n="";n="gantt";const o=`${n}.${e}${t.replace(/\./g,"-")}`;if(r.default.isBrowserEnv)if(!0===window.bryntum[o]){if(!i)throw new Error('Bryntum bundle included twice, check cache-busters and file types (.js).\nSimultaneous imports from "*.module.js" and "*.umd.js" bundles are not allowed.');window.BUNDLE_EXCEPTION=!0}else window.bryntum[o]=!0}static getVersion(e){if(e=e.toLowerCase(),!a[e])throw new Error("No version specified! Please check that you import VersionHelper right into the class from where you call `deprecate` function.");return a[e].version}static checkVersion(e,t,n){const r=a.getVersion(e);let i;switch(n){case"<":i=r<t;break;case"<=":i=r<=t;break;case"=":i=r===t;break;case">=":i=r>=t;break;case">":i=r>t}return i}static deprecate(e,t,n){if(!a.checkVersion(e,t,"<"))throw new Error("Deprecated API use. "+n);console.warn(`Deprecation warning: You are using a deprecated API which will change in v${t}. ${n}`)}static get isTestEnv(){return i}static get isDebug(){return!1}}const a=o;r.default.isBrowserEnv&&((window.bryntum||(window.bryntum={})).getVersion=a.getVersion.bind(a),window.bryntum.checkVersion=a.checkVersion.bind(a),window.bryntum.deprecate=a.deprecate.bind(a),window.bryntum.isTestEnv=a.isTestEnv),o._$name="VersionHelper"}.call(this,n("../node_modules/process/browser.js"))},"./lib/Core/helper/WalkHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{static preWalk(e,t,n){const r=[e];let i,o;for(;r.length;)i=r.pop(),n(i),o=t(i),o&&r.push.apply(r,o.slice().reverse())}static preWalkWithParent(e,t,n){const r=[{node:e,parent:null}];for(;r.length;){const{parent:e,node:i}=r.pop();n(e,i);const o=t(i);o&&r.push(...o.slice().reverse().map(e=>({node:e,parent:i})))}}static preWalkUnordered(e,t,n){let r,i,o=[e];for(;o.length;)r=o[o.length-1],n(r),i=t(r),i?o.splice(o.length-1,1,...i):o.length=o.length-1}static postWalk(e,t,n){let r,i,o=new Map,a=[e];for(;a.length;)r=a[a.length-1],o.has(r)?(n(r),a.pop()):(i=t(r),i&&(a=a.concat(i.slice().reverse())),o.set(r,r))}static prePostWalk(e,t,n,r){let i,o,a=new Map,s=[e];for(;s.length;)i=s[s.length-1],a.has(i)?(r(i),s.pop()):(n(i),o=t(i),o&&(s=s.concat(o.slice().reverse())),a.set(i,i))}}r._$name="WalkHelper"},"./lib/Core/helper/WidgetHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/ObjectHelper.js"),i=n("./lib/Core/widget/Widget.js"),o=n("./lib/Core/widget/Toast.js"),a=n("./lib/Core/widget/Mask.js"),s=n("./lib/Core/helper/util/Point.js");class l{static getById(e){return i.default.getById(e)}static fromElement(e,t,n){return i.default.fromElement(e,t,n)}static createWidget(e={}){return e.isWidget?e:i.default.create(e)}static append(e,t){if(e=Array.isArray(e)&&e||[e],(t instanceof HTMLElement||"string"===typeof t)&&(t={appendTo:t}),t.insertFirst){const e="string"===typeof t.insertFirst?document.getElementById(t.insertFirst):t.insertFirst;e.firstChild?t.insertBefore=e.firstChild:t.appendTo=e}return e.map(e=>i.default.create(r.default.assign({},t||{},e)))}static openPopup(e,t){return i.default.create(r.default.assign({forElement:e},"string"===typeof t?{html:t}:t),"popup")}static showContextMenu(e,t){const n=this;return n.currentContextMenu&&n.currentContextMenu.destroy(),e instanceof HTMLElement?t.forElement=e:Array.isArray(e)?t.forElement={target:new s.default(...e)}:e instanceof s.default&&(t.forElement={target:e}),n.currentContextMenu=i.default.create(t,"menu"),n.currentContextMenu.on("destroy",()=>{n.currentContextMenu=null}),n.currentContextMenu}static attachTooltip(e,t){return i.default.attachTooltip(e,t)}static hasTooltipAttached(e){return i.default.resolveType("tooltip").hasTooltipAttached(e)}static destroyTooltipAttached(e){return i.default.resolveType("tooltip").destroyTooltipAttached(e)}static mask(e,t="Loading"){if(e)return e instanceof HTMLElement&&(e={target:e,text:t}),a.default.mask(e,e.target)}static unmask(e,t=!0){e.mask&&(t?e.mask.close():e.mask.hide())}static toast(e){return o.default.show(e)}}l._$name="WidgetHelper"},"./lib/Core/helper/XMLHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/util/Objects.js"),i=n("./lib/Core/helper/StringHelper.js");class o{static convertFromObject(e,t={}){r.default.assignIf(t,{rootName:"root",elementName:"element",includeHeader:!0,rootElementForArray:!0});const{rootName:n,elementName:o,includeHeader:a,rootElementForArray:s}=t;let{xmlns:l}=t;l=l?` xmlns="${l}"`:"";const c=e=>{const t=[];for(const n in e){const a=e[n];if(Array.isArray(a)){s&&t.push(`<${n}>`);for(const e of a)o.length?t.push(`<${o}>`):t.push(`<${n}>`),t.push(c(e)),o.length?t.push(`</${o}>`):t.push(`</${n}>`);s&&t.push(`</${n}>`)}else r.default.isObject(a)?t.push(`<${n}>${c(a)}</${n}>`):null==a?t.push(`<${n}/>`):t.push(`<${n}>${i.default.encodeHtml(a)}</${n}>`)}return t.join("")};return`${a?'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>':""}<${n}${l}>${c(e)}</${n}>`}}o._$name="XMLHelper"},"./lib/Core/helper/mixin/DragHelperContainer.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/GlobalEvents.js"),o=n("./lib/Core/helper/DomHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"DragHelperContainer"}initContainerDrag(){if(this.mode||(this.mode="container"),"container"===this.mode&&!this.containers)throw new Error("Container drag mode must specify containers")}grabContainerDrag(e){const t=this;if(!t.ignoreSelector||!o.default.up(e.target,t.ignoreSelector)){const n=o.default.getAncestor(e.target,t.containers,t.outerElement);if(n){const r=n.getBoundingClientRect();t.context={element:n,valid:!0,action:"container",offsetX:e.pageX-r.left,offsetY:e.pageY-r.top,originalPosition:{parent:n.parentElement,prev:n.previousElementSibling,next:n.nextElementSibling}}}return!0}return!1}startContainerDrag(e){const{context:t,floatRootOwner:n}=this,{element:r}=t,i=r.cloneNode(!0),a=r.getBoundingClientRect();i.classList.add(this.dragProxyCls),i.classList.add(this.draggingCls),((null===n||void 0===n?void 0:n.floatRoot)||o.default.getRootElement(r)).appendChild(i),t.dragProxy=i,i.style.width=a.width+"px",i.style.height=a.height+"px",o.default.setTranslateXY(t.dragProxy,a.left,a.top),t.dragging=r,r.classList.add(this.dropPlaceholderCls)}updateContainerDrag(e){const t=this,n=t.context;if(!n.started||!n.targetElement)return;const r=o.default.getAncestor(n.targetElement,t.containers,"b-grid"),a=n.dragging&&n.dragging.contains(o.default.getActiveElement(n.dragging));r&&o.default.isDescendant(n.element,r)||(a&&i.default.suspendFocusEvents(),r&&n.valid?t.moveNextTo(r,e):t.revertPosition(),a&&i.default.resumeFocusEvents(),e.preventDefault())}finishContainerDrag(e){const t=this,n=t.context,{dragging:r,dragProxy:i,valid:o,draggedTo:a,insertBefore:s,originalPosition:l}=n;r&&(n.valid=o&&a&&(r!==s||l.parent!==a),n.finalize=(e=n.valid)=>{!e&&this.context&&t.revertPosition(),r.classList.remove(t.dropPlaceholderCls),i.remove(),t.reset()},n.async=!1,t.trigger("drop",{context:n,event:e}),n.async?n.awaitingFinalization=!0:n.finalize())}abortContainerDrag(e=!1,t=null,n=!1){const r=this,i=r.context;i.dragging&&(i.dragging.classList.remove(r.dropPlaceholderCls),i.dragProxy.remove(),r.context={}),n||r.trigger(e?"drop":"abort",{context:i,event:t})}updateContainerProxy(e){const t=this,n=t.context,r=n.dragProxy;let i,a=e.pageX-n.offsetX,s=e.pageY-n.offsetY;if("number"===typeof t.minX&&(a=Math.max(t.minX,a)),"number"===typeof t.maxX&&(a=Math.min(t.maxX-r.offsetWidth,a)),"number"===typeof t.minY&&(s=Math.max(t.minY,s)),"number"===typeof t.maxY&&(s=Math.min(t.maxY-r.offsetHeight,s)),t.lockX?o.default.setTranslateY(r,s):t.lockY?o.default.setTranslateX(r,a):o.default.setTranslateXY(r,a,s),"touchmove"===e.type){const t=e.changedTouches[0];i=o.default.elementFromPoint(t.clientX,t.clientY)}else i=e.target;n.targetElement=i}moveNextTo(e,t){const n=this.context,r=n.dragging,i=e.parentElement;if(e!==r){const o=e.getBoundingClientRect().left+e.offsetWidth/2;t.pageX<o?(i.insertBefore(r,e),n.insertBefore=e):e.nextElementSibling?e.nextElementSibling!==r?(n.insertBefore=e.nextElementSibling,i.insertBefore(r,e.nextElementSibling)):n.insertBefore||r.parentElement.lastElementChild===r||(n.insertBefore=e.nextElementSibling):(i.appendChild(r),n.insertBefore=null),n.draggedTo=i}}revertPosition(){const e=this.context,t=e.originalPosition;t.next?t.next&&t.next.previousSibling===e.dragging||!t.next&&e.dragging===t.parent.lastChild||t.parent.insertBefore(e.dragging,t.next):t.parent.appendChild(e.dragging),e.draggedTo=null}}},"./lib/Core/helper/mixin/DragHelperTranslate.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/mixin/Delayable.js"),a=n("./lib/Core/helper/util/Rectangle.js");const s={pageXOffset:0,pageYOffset:0};t.default=e=>class extends(Object(o.default)(e||r.default)){static get $name(){return"DragHelperTranslate"}initTranslateDrag(){const e=this;e.mode=e.mode||"translateXY",!e.isElementDraggable&&e.targetSelector&&(e.isElementDraggable=t=>i.default.up(t,e.targetSelector))}grabTranslateDrag(e){const t=this,n=t.getTarget(e);return!!n&&(t.context={valid:!0,action:t.mode,element:n,startPageX:e.pageX,startPageY:e.pageY,startClientX:e.clientX,startClientY:e.clientY},!0)}getTarget(e){return i.default.up(e.target,this.targetSelector)}startTranslateDrag(e){const t=this,n=t.context,{relatedElements:r}=n;let o=n.dragProxy||n.element;if(o&&!n.started){const a=o,s=o.parentElement,l=t.dragWithin=t.dragWithin||t.cloneTarget&&document.body,c=t.outerElement;if(t.cloneTarget){const e=i.default.getOffsetX(o,l),n=i.default.getOffsetY(o,l),r=o.offsetWidth,s=o.offsetHeight;o=t.createProxy(o),i.default.setTranslateXY(o,e,n),o.style.width=r+"px",o.style.height=s+"px",o.classList.add(t.dragProxyCls),l.appendChild(o),a.classList.add("b-drag-original"),t.hideOriginalElement&&a.classList.add("b-hidden")}Object.assign(t.context,{element:o,grabbed:a,grabbedParent:s,grabbedNextSibling:o.nextElementSibling,elementStartX:i.default.getTranslateX(o),elementStartY:i.default.getTranslateY(o),elementX:i.default.getOffsetX(o,l||c),elementY:i.default.getOffsetY(o,l||c),scrollX:0,scrollY:0,scrollManagerElementContainsDragProxy:!t.cloneTarget||l===c}),o.classList.add(t.draggingCls),l&&(n.parentElement=o.parentElement,l!==o.parentElement&&l.appendChild(o),t.updateTranslateProxy(e)),r&&r.forEach(e=>{e.classList.add(t.draggingCls)})}}applyConstraints(e,t,n){const r=this,i=r.dragWithin,{pageXOffset:o,pageYOffset:a}=i===document.body?window:s;return i&&r.constrain&&(t<0&&(t=0),t+e.offsetWidth>i.scrollWidth&&(t=i.scrollWidth-e.offsetWidth),n<0&&(n=0),n+e.offsetHeight>i.scrollHeight&&(n=i.scrollHeight-e.offsetHeight)),"number"===typeof r.minX&&(t=Math.max(r.minX+o,t)),"number"===typeof r.maxX&&(t=Math.min(r.maxX+o,t)),"number"===typeof r.minY&&(n=Math.max(r.minY+a,n)),"number"===typeof r.maxY&&(n=Math.min(r.maxY+a,n)),{constrainedX:t,constrainedY:n}}updateTranslateProxy(e,t){const n=this,{mode:r,lockX:o,lockY:a}=n,s=n.context,l=s.dragProxy||s.element,{relatedElements:c,relatedElDragFromPos:d}=s;s.scrollManagerElementContainsDragProxy&&t&&(s.scrollX=t.scrollRelativeLeft,s.scrollY=t.scrollRelativeTop),s.pageX=e.pageX,s.pageY=e.pageY,s.clientX=e.clientX,s.clientY=e.clientY;let u=s.elementStartX+e.pageX-s.startPageX+s.scrollX,h=s.elementStartY+e.pageY-s.startPageY+s.scrollY;if(n.snapCoordinates){const e=n.snapCoordinates({element:l,newX:u,newY:h});u=e.x,h=e.y}const{constrainedX:f,constrainedY:g}=n.applyConstraints(l,u,h);if("translateXY"!==r||o||a?"translateX"===r||a?i.default.setTranslateX(l,f):("translateY"===r||o)&&i.default.setTranslateY(l,g):i.default.setTranslateXY(l,f,g),c){const e=o||"translateY"===r?0:f-s.elementStartX,t=a||"translateX"===r?0:g-s.elementStartY;c.forEach((n,r)=>{const[o,a]=d[r];i.default.setTranslateXY(n,o+e,a+t)})}s.newX=f,s.newY=g}finishTranslateDrag(e){const t=this,n=t.context,r=n.newX!==n.elementStartX,i=n.newY!==n.elementStartY,o=n.dragProxy||n.element,{relatedElements:s}=n;function l(){o.classList.remove(t.invalidCls),o.classList.remove(t.draggingCls),s&&s.forEach(e=>{e.classList.remove(t.invalidCls),e.classList.remove(t.draggingCls)}),o.classList.contains("b-aborting")||(t.hideOriginalElement&&n.grabbed.classList.remove("b-hidden"),n.grabbed.classList.remove("b-drag-original"))}if(!t.ignoreSamePositionDrop||"translateY"!==t.mode&&r||"translateX"!==t.mode&&i){if(!1===n.valid)t.abortTranslateDrag(!0,e);else{const r=a.default.from(t.dragWithin||t.outerElement);!t.minX&&e.pageX<r.left||!t.maxX&&e.pageX>r.right||!t.minY&&e.pageY<r.top||!t.maxY&&e.pageY>r.bottom?(n.valid=!1,t.abortTranslateDrag(!0,e)):(n.finalize=(e=n.valid)=>{n.asyncCleanup&&l(),!e&&t.context?t.abortTranslateDrag(!0,null,!0):(t.cloneTarget||n.dragProxy)&&o.remove(),t.reset()},n.async=!1,t.trigger("drop",{context:n,event:e}),n.async?n.awaitingFinalization=!0:n.finalize())}n.asyncCleanup||l()}else t.abortTranslateDrag(!1,e)}abortTranslateDrag(e=!1,t=null,n=!1){const r=this,o=r.context,{relatedElements:a,relatedElStartPos:s,grabbed:l}=o,c=o.dragProxy||o.element,d=r.cloneTarget&&r.hideOriginalElement?l:c;let{elementStartX:u,elementStartY:h}=o;c&&o.started&&(!r.cloneTarget&&r.dragWithin&&r.dragWithin!==o.grabbedParent&&o.grabbedParent.insertBefore(c,o.grabbedNextSibling),l.classList.remove("b-hidden"),r.cloneTarget&&(r.hideOriginalElement&&([u,h]=i.default.getTranslateXY(l),i.default.alignTo(l,c),d.getBoundingClientRect()),c.remove()),d.classList.add("b-aborting"),"translateXY"!==r.mode||r.lockX||r.lockY||(i.default.setTranslateXY(d,u,h),a&&a.forEach((e,t)=>{e.classList.add("b-aborting"),i.default.setTranslateXY(e,s[t][0],s[t][1])})),("translateX"===r.mode||r.lockY)&&(i.default.setTranslateX(d,u),a&&a.forEach((e,t)=>{e.classList.add("b-aborting"),i.default.setTranslateX(e,s[t][0])})),("translateY"===r.mode||r.lockX)&&(i.default.setTranslateY(d,h),a&&a.forEach((e,t)=>{e.classList.add("b-aborting"),i.default.setTranslateY(e,s[t][1])})),r.setTimeout(()=>{d.classList.remove("b-aborting"),l.classList.remove("b-dragging"),l.classList.remove("b-drag-original"),r.cloneTarget||(a&&a.forEach((e,t)=>{e.classList.remove("b-aborting")}),c.classList.remove("b-aborting"),c.classList.remove(r.draggingCls),c.classList.remove(r.invalidCls))},r.transitionDuration,void 0,!0),n||r.trigger(e?"drop":"abort",{context:o,event:t})),r.reset()}}},"./lib/Core/helper/util/DataGenerator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/util/RandomGenerator.js"),i=n("./lib/Core/helper/DateHelper.js");class o{static reset(){this.rnd.reset(),this.rndTime.reset(),this.rndRating.reset()}static*generate(e,t=!1,n=1){const r=this,o=r.rnd,a=r.rndTime,s=r.rndRating,l=r.firstNames,c=r.surNames,d=r.teams,u=r.foods,h=r.colors,f=r.cities;for(let g=0;g<e;g++){const r=o.fromArray(l),m=o.fromArray(c),p=`${r} ${String.fromCharCode(65+g%25)} ${m}`,v=o.nextRandom(60)+1,b=new Date(2019,0,v),y=new Date(2019,0,v+o.nextRandom(30)+2),C={id:n>-1?g+n:void 0,title:"Row "+g,name:p,firstName:r,surName:m,city:o.fromArray(f),team:o.fromArray(f)+" "+o.fromArray(d),age:10+o.nextRandom(80),food:o.fromArray(u),color:o.fromArray(h),score:10*o.nextRandom(100),rank:o.nextRandom(100)+1,start:b,finish:y,time:i.default.getTime(a.nextRandom(24),5*a.nextRandom(12)),percent:o.nextRandom(100),done:o.nextRandom(100)<50,rating:s.nextRandom(5),relatedTo:Math.min(e-1,g+n+o.nextRandom(10))};t&&(C.rowHeight=5*o.nextRandom(!0===t?20:t)+20),yield C}}static generateData(e,t=!1,n=1,r=!0){r&&this.reset();const i=[],a=o.overrideRowCount?o.overrideRowCount:e,s=this.generate(a,t,n);for(let o=0;o<a;o++)i.push(s.next().value);return i}static generateRow(){return o.generateData(1,!1,-1,!1)[0]}}Object.assign(o,{rnd:new r.default,rndTime:new r.default,rndRating:new r.default,cities:["Stockholm","Barcelona","Paris","Dubai","New York","San Francisco","Washington","Moscow"],firstNames:["Mike","Linda","Don","Karen","Doug","Jenny","Daniel","Melissa","John","Jane","Theo","Lisa","Adam","Mary","Barbara","James","David"],surNames:["McGregor","Ewans","Scott","Smith","Johnson","Adams","Williams","Brown","Jones","Miller","Davis","More","Wilson","Taylor","Anderson","Thomas","Jackson"],teams:["Lions","Eagles","Tigers","Horses","Dogs","Cats","Panthers","Rats","Ducks","Cougars","Hens","Roosters"],foods:["Pancake","Burger","Fish n chips","Carbonara","Taco","Salad","Bolognese","Mac n cheese","Waffles"],colors:["Blue","Green","Red","Yellow","Pink","Purple","Orange","Teal","Black"]}),o._$name="DataGenerator"},"./lib/Core/helper/util/DemoBot.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/widget/Widget.js"),a=n("./lib/Core/mixin/Events.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/mixin/Delayable.js");const c=["action","target","to","deltaX","deltaY","x","y","text"];class d extends(Object(a.default)(Object(l.default)())){static get defaultConfig(){return{repeat:!0,outerElement:document.body,callOnFunctions:!0}}construct(e){super.construct(e);const t=this;t.widget&&(t.outerElement=t.widget.element,t.widget.playingDemo=!0),s.default.playingDemo=!0,Object.assign(t,{prevTarget:null,currentStep:0,mouse:r.default.createElement({parent:t.outerElement,tag:"div",className:"simulated-mouse"}),timeoutId:null,innerIntervalId:null,mouseOutElements:[]}),t.intervalId=t.setInterval(t.nextStep.bind(t),1e3),t.outerElement.classList.add("b-playing-demo"),t.outerElement.addEventListener("click",e=>{e.isTrusted&&t.abort()})}doDestroy(){this.abort()}abort(e=!1){const t=this;t.mouse.style.top="-100px",t.clearInterval(t.intervalId),t.timeoutId&&t.clearTimeout(t.timeoutId),t.innerIntervalId&&t.clearInterval(t.innerIntervalId),t.outerElement.classList.remove("b-playing-demo"),t.widget&&(t.widget.playingDemo=!1),s.default.playingDemo=!1,t.trigger(e?"done":"abort")}triggerEvent(e,t,n){if(!e)return null;let r;if(t.startsWith("mouse")){const e=this.mouse.getBoundingClientRect();r=new MouseEvent(t,Object.assign({view:window,bubbles:!0,cancelable:!0,clientX:e.left,clientY:e.top},n||{}))}else r=document.createEvent("Event"),r.initEvent(t,!0,!1);return e.dispatchEvent(r),r}handleMouseMove(e,t){const n=this,o=n.mouse;o.classList.add("quick"),n.mouseDown&&o.classList.add("drag");const a=i.default.from(o,n.outerElement),s=a.x,l=a.y;let c=0,d=0;if(e.to)if("string"===typeof e.to){const t=n.outerElement.querySelector(e.to);if(t){const e=i.default.from(t,n.outerElement),r=e.x+e.width/2,o=e.y+e.height/2;c=(r-s)/10,d=(o-l)/10}}else e.to.x?c=(e.to.x-s)/10:(c=e.to[0]/10,d=e.to[1]/10);else e.deltaX?c=e.deltaX/10:e.x&&(c=(e.x-s)/10);e.deltaY&&(d=e.deltaY/10);let u=0;n.innerIntervalId=n.setInterval(()=>{if(n.shouldPause)return;9===u++&&(clearInterval(n.innerIntervalId),e.then&&e.then());const t=s+c*u,i=l+d*u;o.style.left=t+"px",o.style.top=i+"px";const a=o.getBoundingClientRect(),h=a.left,f=a.top,g=r.default.elementFromPoint(h,f);g!==n.prevTarget&&(n.prevTarget&&(n.mouseOutElements.push(n.prevTarget),r.default.isDescendant(n.mouseOutElements[0],g)||(n.mouseOutElements.forEach(e=>n.triggerEvent(e,"mouseout")),n.mouseOutElements.length=0)),n.prevTarget=g,n.triggerEvent(g,"mouseover")),n.triggerEvent(g,e.action,{clientX:h,clientY:f})},50)}getTarget(e){const t=this,n=e.target;return n?"function"===typeof n?n(e):document.querySelector(n):t.prevTarget||t.outerElement}normalizeStep(e){if(e.action)return"function"===typeof e.action?e.action(e):e;if("function"===typeof e)return e(),e;for(const t in e)Object.hasOwnProperty.call(e,t)&&!c.includes(t)&&(e.action=t.toLowerCase(),e.to=e[t]);return e.target||"string"!==typeof e.to&&"function"!==typeof e.to||(e.target=e.to),e}get isScrolling(){const e=this.outerElement.getBoundingClientRect(),t=this.lastTop&&e.top!==this.lastTop;return this.lastTop=e.top,t}get isInView(){const e=this.outerElement.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}get shouldPause(){return!this.isInView||this.isScrolling||document.hidden||!document.hasFocus()}nextStep(){const e=this;if(e.shouldPause)return;if(e.currentStep===e.steps.length){if(!e.repeat)return e.abort(!0);e.currentStep=0}0===e.currentStep&&e.trigger("initialize");const t=e.mouse,n=e.normalizeStep(e.steps[e.currentStep++]),r=e.getTarget(n),a=n.action;if(r&&a)if(t.className="simulated-mouse","mousemove"===a)e.handleMouseMove(n,r);else{if(r!==e.prevTarget){const n=i.default.from(r,e.outerElement);t.style.left=n.x+n.width/2+"px",t.style.top=n.y+n.height/2+"px"}"mousedown"===a&&(e.mouseDown=!0),"mouseup"===a&&(e.mouseDown=!1),e.timeoutId=e.setTimeout(()=>{if(e.prevTarget=r,t.classList.add(a),"type"===a){const e=o.default.fromElement(r),t=n.text.split("|");e.value=t[1===t.length||e.value!=t[0]?0:1]}else e.triggerEvent(r,a)},"type"===a?100:550)}}}d._$name="DemoBot"},"./lib/Core/helper/util/DomClassList.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/util/Objects.js"),i=n("./lib/Core/helper/StringHelper.js");const o=Symbol("value"),a=Symbol("length");class s{static change(e,t,n,r="string"){n=s.normalize(n,"object");const i=s.normalize(e,"array").filter(e=>!n[e]);if(t){t=s.normalize(t,"array");for(let e=0;e<t.length;++e)i.includes(t[e])||i.push(t[e])}return s.normalize(i,r)}static from(e,t){return e&&(e.isDomClassList||(e=new s(e)),e.value||t||(e=null)),e||(t?new s:null)}static normalize(e,t="string"){const n=typeof(e=e||""),o="array"===t,a=!o&&!("object"===t);let s,l,c,d="string"===n;var u;for("object"===n&&(e.nodeType===Element.ELEMENT_NODE&&"function"===typeof e.getAttribute?(e=e.getAttribute("class")||"",d=!0):null!==(u=e)&&void 0!==u&&u.isDomClassList?e=e.values:e instanceof DOMTokenList?e=Array.from(e):e instanceof Map?e=Array.from(e.keys()).filter(t=>e.get(t)):e instanceof Set?e=Array.from(e.values()):Array.isArray(e)||(e=r.default.getTruthyKeys(e))),d&&(e=i.default.split(e)),l=e.length;l-- >0;)s=e[l],s.length?s.includes(" ")&&e.splice(l,1,...i.default.split(s)):e.splice(l,1);if(o)c=e;else if(a)c=e.join(" ");else for(c=Object.create(null),l=0;l<e.length;++l)c[e[l]]=!0;return c}constructor(...e){this.process(1,e)}get isDomClassList(){return!0}clone(){return new s(this)}contains(e){return!("string"!==typeof e||!e)&&Boolean(this[e])}toString(){return this.length?this.value+" ":""}toJSON(){return this.toString()}trim(){return this.value}isEqual(e){const t=s.normalize(e,"array"),n=t.length;if(this.length===n){for(let e=0;e<n;e++)if(!this[t[e]])return!1;return!0}return!1}get value(){let e,t=this[o];return null==t&&(e=r.default.getTruthyKeys(this),this[a]=e.length,this[o]=t=e.join(" ")),t}set value(e){const t=this,n=Object.keys(t),r=n.length;for(let i=0;i<r;i++)delete t[n[i]];e?t.process(1,[e]):t[o]=null}get values(){return r.default.getTruthyKeys(this)}get length(){return this.value?this[a]:0}process(e,t){for(let n,r,i=0;i<t.length;i++)if(t[i])for(n=s.normalize(t[i],"array"),r=0;r<n.length;++r)this[n[r]]=e;return this[o]=null,this}assign(e){for(const t in e)!this[t]!==!e[t]&&(this[t]=e[t],this[o]=null);return this}add(...e){return this.process(1,e)}remove(...e){return this.process(0,e)}split(){return r.default.getTruthyKeys(this)}forEach(e){return r.default.getTruthyKeys(this).forEach(e)}}s._$name="DomClassList"},"./lib/Core/helper/util/Formatter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));const r=Object.prototype.hasOwnProperty;let i=null;class o{constructor(e){this.formatter=e}format(e){return this.formatter.defaultFormat(e)}parse(e,t){return this.formatter.defaultParse(e,t)}resolvedOptions(){return null}}class a{static get(e){if(null==e)return this.NULL;const t="string"===typeof e?e:JSON.stringify(e),n=this.cache;let r=n.get(t);return r||(i=t,r=new this(e),n.set(t,r)),r}static get cache(){return r.call(this,"_cache")&&this._cache||(this._cache=new Map)}static get NULL(){return r.call(this,"_null")?this._null:this._null=new this(null)}constructor(e){const t=this;if(t.cacheKey=i,i=null,t.initialize(),null===e)t.formatter=new o(t);else{t.configure(e);for(const[e,n]of Object.entries(t.resolvedOptions()))null!=n&&e in t.defaults&&(t[e]=n)}}get parser(){return e=this,t=new this.constructor.Parser(this),Object.defineProperty(e,"parser",{value:t}),t;var e,t}defaultFormat(e){return null==e?e:String(e)}defaultParse(e){return e}format(e){return null==e?e:this.formatter.format(e)}parse(e,t){return null==e?e:this.parser.parse(e,t)}parseStrict(e){return this.parse(e,!0)}resolvedOptions(){return this.formatter.resolvedOptions()}}a._$name="Formatter"},"./lib/Core/helper/util/Fullscreen.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/helper/StringHelper.js");class i{static init(){const e=["fullscreenEnabled","requestFullscreen","exitFullscreen","fullscreenElement"],t=t=>e.map(e=>{let n=t+r.default.capitalize(e);return"moz"===t&&(n=n.replace("screen","Screen"),"mozCancelFullScreen"in document&&"exitFullscreen"===e&&(n="mozCancelFullScreen")),n});this.functions="fullscreenEnabled"in document&&e||"webkitFullscreenEnabled"in document&&t("webkit")||"mozFullScreenEnabled"in document&&t("moz")||"msFullscreenEnabled"in document&&t("ms")||[];const n=["fullscreenchange","fullscreenerror"],i=e=>n.map(t=>e+r.default.capitalize(t));this.events="fullscreenEnabled"in document&&n||"webkitFullscreenEnabled"in document&&i("webkit")||"mozFullscreenEnabled"in document&&i("moz")||"msFullscreenEnabled"in document&&["MSFullscreenChange","MSFullscreenError"]||[]}static get enabled(){return document[this.functions[0]]}static request(e){return e[this.functions[1]]()}static exit(){return document[this.functions[2]]()}static get isFullscreen(){return!!document[this.functions[3]]}static onFullscreenChange(e){document.addEventListener(this.events[0],e)}static unFullscreenChange(e){document.removeEventListener(this.events[0],e)}}i.init(),i._$name="Fullscreen"},"./lib/Core/helper/util/Navigator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/mixin/Events.js");class s extends(Object(a.default)(r.default)){static get configurable(){return{ownerCmp:null,target:null,keyEventTarget:null,processEvent:null,itemSelector:null,activeItem:null,focusCls:"b-active",keys:null,allowCtrlKey:null,allowShiftKey:null,scrollDuration:50,disabled:null,testConfig:{scrollDuration:1}}}updateOwnerCmp(e){this.itemSelector||(this.itemSelector="."+this.ownerCmp.itemCls)}onKeyDown(e){const t=this,{ownerCmp:n,itemSelector:r,activeItem:o,itemsTabbable:a}=t,{target:s}=e,l=t.target.querySelector(r),c=(e.key||"").trim()||e.code,d=`${e.ctrlKey?"CTRL+":""}${e.shiftKey?"SHIFT+":""}${e.altKey?"ALT+":""}${c}`,u=s.matches(r)||s===t.keyEventTarget;if(!t.disabled&&l&&t.target.offsetParent&&u){if(!a){if(null==t.inlineFlow){const e=l.parentNode,n=i.default.getStyleValue(l,"position"),r=i.default.getStyleValue(l,"display"),o=i.default.getStyleValue(l,"float");t.inlineFlow="absolute"===n||"inline"===r||"inline-block"===r||"left"===o||"right"===o||"flex"===i.default.getStyleValue(e,"display")&&"row"===i.default.getStyleValue(e,"flex-direction")}t.prevKey||(t.inlineFlow?(t.prevKey="ArrowLeft",t.nextKey="ArrowRight"):(t.prevKey="ArrowUp",t.nextKey="ArrowDown"))}if(t.processEvent&&!(e=t.processEvent.call(n,e)))return;if(o)switch(c){case t.prevKey:if(t.disabled||e.ctrlKey&&!t.allowCtrlKey)return;if(e.shiftKey&&!t.allowShiftKey)return;e.preventDefault(),t.navigatePrevious(e);break;case t.nextKey:if(t.disabled||e.ctrlKey&&!t.allowCtrlKey)return;if(e.shiftKey&&!t.allowShiftKey)return;e.preventDefault(),t.navigateNext(e);break;default:{const r=t.keys&&t.keys[d];if(r&&!t.disabled?t.callback(r,t.thisObj||n,[e]):n.onInternalKeyDown&&n.onInternalKeyDown(e),i.default.getActiveElement(s)!==s&&e.preventDefault(),a)return}}else{if(a)return;t.activeItem=t.previousActiveItem||t.getDefaultNavigationItem(e)}t.activeItem!==o&&t.triggerNavigate(e)}}getDefaultNavigationItem(e){const{target:t,itemSelector:n,prevKey:r,nextKey:i}=this;return 4&t.compareDocumentPosition(e.target)&&e.key===r?t.querySelector(n+":last-of-type"):2&t.compareDocumentPosition(e.target)&&e.key===i?t.querySelector(""+n):void 0}navigatePrevious(e){const t=this,n=t.previous;e.preventDefault(),n&&t.ownerCmp.scrollable.scrollIntoView(n,{animate:t.scrollDuration}).then(()=>{t.activeItem=n,t.triggerNavigate(e)})}navigateNext(e){const t=this,n=t.next;e.preventDefault(),n&&t.ownerCmp.scrollable.scrollIntoView(n,{animate:t.scrollDuration}).then(()=>{t.activeItem=n,t.triggerNavigate(e)})}get owner(){return this.ownerCmp}get previous(){return this.getAdjacent(-1)}get next(){return this.getAdjacent(1)}getAdjacent(e=1,t=this.activeItem){const n=this.treeWalker;if(n.currentNode=t,n[e<0?"previousNode":"nextNode"](),n.currentNode!==this.activeItem)return n.currentNode}onTargetFocusIn(e){const t=this,{target:n}=e,{itemsTabbable:r,skipScrollIntoView:i}=t;if(!n.matches(".b-focus-trap"))if(n.matches(t.itemSelector))t.skipScrollIntoView=!0,t.activeItem=n,t.skipScrollIntoView=i,t.activeItem&&r&&t.triggerNavigate(e);else{const n=bryntum.fromElement(e.target);var o,a,s;n&&t.owner.owns(n)||!r&&null!==(o=e.relatedTarget)&&void 0!==o&&null!==(a=o.matches)&&void 0!==a&&a.call(o,t.itemSelector)&&(null===(s=t.owner.previousSibling)||void 0===s||s.focus())}}onTargetFocusOut(e){const t=this,{relatedTarget:n}=e;null!==n&&void 0!==n&&n.matches(".b-focus-trap")||n&&t.target.contains(n)&&n.matches(t.itemSelector)||t.activeItem&&(t.activeItem=null,t.itemsTabbable&&t.triggerNavigate(e))}onTargetMouseDown(e){const t=this,n=e.target.closest(t.itemSelector);t.mouseDownEvent=e,!1===t.ownerCmp.itemsFocusable?t.onFocusGesture(e):n&&(e.preventDefault(),i.default.focusWithoutScrolling(n))}onTargetClick(e){var t;const n=this,{skipScrollIntoView:r}=n;n.skipNextClick||null!==(t=n.mouseDownEvent)&&void 0!==t&&t.ignoreNavigation?n.skipNextClick=!1:n.disabled||(n.skipScrollIntoView=!0,n.processEvent&&(e=n.processEvent.call(n.ownerCmp,e)),e&&(n.activeItem=e.target.closest(n.itemSelector),n.triggerNavigate(e)),n.skipScrollIntoView=r)}onFocusGesture(e){(e.target===this.ownerCmp.contentElement||e.target.closest(this.itemSelector)&&!1===this.ownerCmp.itemsFocusable)&&e.preventDefault()}acceptNode(e){return e.offsetParent&&e.matches&&e.matches(this.itemSelector)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}changeActiveItem(e){return null!=e&&this.ownerCmp.getItem&&(e=this.ownerCmp.getItem(e)),e}updateActiveItem(e,t){const n=this,{ownerCmp:r}=n,o=t&&n.target.contains(t);if(o&&(n.previousActiveItem=t),null!=e){if(n.skipScrollIntoView||r.scrollable.scrollIntoView(e,{block:"nearest",focus:i.default.isFocusable(e)&&e!==i.default.getActiveElement(e),silent:n.scrollSilently}),e===t&&o)return;t&&t.classList.remove(n.focusCls),e.classList.add(n.focusCls),n._activeItem=e}else t&&(t.classList.remove(n.focusCls),t===i.default.getActiveElement(t)&&r.revertFocus()),n._activeItem=null}updateTarget(e,t){const n=this,r={element:e,thisObj:n,focusin:"onTargetFocusIn",focusout:"onTargetFocusOut"};n.itemsTabbable||(r.mousedown="onTargetMouseDown",r.click="onTargetClick"),Object.prototype.hasOwnProperty.call(n,"acceptNode")||(n.acceptNode=n.acceptNode.bind(n),n.acceptNode.acceptNode=n.acceptNode),o.default.on(r),n.treeWalker=n.setupTreeWalker(e,NodeFilter.SHOW_ELEMENT,n.acceptNode,!1),n.keyEventTarget||(n.keyEventTarget=e),(n.targetMutationMonitor=new MutationObserver(n.onTargetChildListChange.bind(n))).observe(e,{childList:!0,subtree:!0})}setupTreeWalker(e,t,n,r){return document.createTreeWalker(e,t,n,r)}onTargetChildListChange(){const e=this.activeItem;e&&(this.target.contains(e)?e.classList.add(this.focusCls):this.activeItem=this.target.querySelector(`${this.itemSelector}[data-id="${e.dataset.id}"]`)||null)}changeKeyEventTarget(e){this._keyEventTarget=e,o.default.on({element:e,keydown:"onKeyDown",thisObj:this})}triggerNavigate(e,t=this.activeItem){var n;const r={event:e,item:t,oldItem:this.previousActiveItem};this.trigger("navigate",r),null===(n=this.ownerCmp)||void 0===n||n.trigger("navigate",r)}}s._$name="Navigator"},"./lib/Core/helper/util/NumberFormat.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/helper/util/Formatter.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/localization/LocaleManager.js");n("./lib/Core/localization/En.js");const a=i.default.escapeRegExp,s=/[\d+-]/g,l=(e,t)=>new Intl.NumberFormat(e||void 0,t),c=/^(?:([$])\s*)?(?:(\d+)>)?\d+(,\d+)?(?:\.((\d*)(?:#*)|[*]))?(?:\s*([%])?)?$/;class d extends r.default{static get $name(){return"NumberFormat"}initialize(){this._as={},this.is={decimal:!1,currency:!1,percent:!1,null:!0,from:null}}get truncator(){const e=this.maximumFractionDigits;return null==e?null:this.as({style:"decimal",maximumFractionDigits:Math.min(20,e+1)},"truncator")}configure(e){const t=this;"string"!==typeof e?Object.assign(t,e):t.template=e;const n={},r=t.locale?o.default.locales[t.locale]:o.default.locale,i=r&&r.NumberFormat,a=t.template;if(i)for(const o in i)null==t[o]&&"function"!==typeof i[o]&&(t[o]=i[o]);if(a){const e=c.exec(a),n=e[2],r=e[4];t.useGrouping=!!e[3],t.style=e[1]?"currency":e[6]?"percent":"decimal",n&&(t.integer=+n),"*"===r?t.fraction=[0,20]:null!=r&&(t.fraction=[e[5].length,r.length])}t._minMax("fraction",!0,!0),t._minMax("integer",!0,!1),t._minMax("significant",!1,!0);for(const o in t.defaults)null!=t[o]&&(n[o]=t[o]);t.is.from=t.from&&t.from.is,t.is[t.style]=!(t.is.null=!1),t.formatter=l(t.locale,n)}as(e,t=null){const n=this.resolvedOptions()||{template:"9.*"},r=this._as;let i=t&&r[t];return i||("string"===typeof e?n.style=e:Object.assign(n,e),n.from=this,i=new d(n)),t&&(r[t]=i),i}defaultParse(e,t){return null==e?e:t?Number(e):parseFloat(e)}format(e){if("string"===typeof e){const t=Number(e);e=isNaN(t)?this.parse(e):t}return super.format(e)}round(e){return this.parse(this.format(e))}truncate(e){const t=this.maximumFractionDigits,{truncator:n}=this;let r,i=this.parse(e);return n&&(i=n.format(i),r=i.indexOf(n.parser.decimal),r>-1&&i.length-r-1>t&&(i=i.substr(0,r+t+1)),i=n.parse(i)),i}resolvedOptions(){const e=super.resolvedOptions();for(const t in e)void 0===e[t]&&(e[t]=this[t]);return e}_minMax(e,t,n){const r=this,o=r[e];if(null!=o){const a=i.default.capitalize(e),s=`maximum${a}Digits`,l=`minimum${a}Digits`;"number"===typeof o?(t&&(r[l]=o),n&&(r[s]=o)):(r[l]=o[0],r[s]=o[1])}}}d.Parser=class{constructor(e){const t=this,n=e.locale,r=l(n,{maximumFractionDigits:3}),i=e.is.currency?t._decodeStyle(n,{style:"currency",currency:e.currency,currencyDisplay:e.currencyDisplay}):null,o=e.is.percent?t._decodeStyle(n,{style:"percent"}):null,c=r.format(1.2).replace(s,"")[0],d=r.format(1e9).replace(s,"")[0]||"";Object.assign(t,{currency:i,decimal:c,formatter:e,grouper:d,percent:o}),t.decimal=c,t.decimalRe=a(c,"g"),t.grouper=d,t.stripRe=new RegExp(`(?:\\s+|${a(d)})`+(i?`|(?:${a(i.text)})`:"")+(o?`|(?:${a(o.text)})`:""),"g")}decimalPlaces(e){const t=(e=e.replace(this.stripRe,"")).indexOf(this.decimal)+1;return t&&e.length-t}parse(e,t){return"string"===typeof e&&(e=e.replace(this.stripRe,"").replace(this.decimalRe,"."),e=t?Number(e):parseFloat(e),this.formatter.is.percent&&(e/=100)),e}_decodeStyle(e,t){const n=l(e,t),r=l(e,Object.assign(n.resolvedOptions(),{style:"decimal"})),i=n.format(0),o=r.format(0);return{suffix:i.startsWith(o),text:i.replace(o,"").trim()}}},Object.assign(d.prototype,{defaults:{style:"decimal",currency:null,currencyDisplay:"symbol",locale:null,maximumFractionDigits:null,minimumFractionDigits:null,minimumIntegerDigits:null,maximumSignificantDigits:null,minimumSignificantDigits:null,useGrouping:!0},fraction:null,from:null,integer:null,significant:null,template:null}),Object.assign(d.prototype,d.prototype.defaults),r.default.number=(e,t)=>d.format(e,t),d._$name="NumberFormat"},"./lib/Core/helper/util/Objects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/helper/StringHelper.js");const{toString:i}=Object.prototype,{isFrozen:o}=Object,a=/\s*<\s*/,s=/\s*>\s*/,l={},c=/\[object ([^\]]+)]/,d={},u=Object.freeze({});class h{static assign(e,...t){for(let n,r,i=0;i<t.length;i++)if(n=t[i],n)for(r in n)e[r]=n[r];return e}static assignIf(e,...t){for(let n,r,i=0;i<t.length;i++)if(n=t[i],n)for(r in n)r in e&&void 0!==e[r]||(e[r]=n[r]);return e}static blend(e,t,n){n=n||l,e=e||{};const{clone:r=h.clone,merge:i=h.blend}=n;if(Array.isArray(t)){if(t.length>1)return t.forEach(t=>{e=h.blend(e,t,n)}),e;t=t[0]}if(t){let a,s,l;for(s in t)l=t[s],l&&f.isObject(l)&&(a=e[s],n.key=s,a&&f.isObject(a)?(o(a)&&(e[s]=a=r(a,n)),l=i(a,l,n)):l=o(l)?l:r(l,n)),e[s]=l}return e}static clone(e,t){let n,r=e;if(e&&"object"===typeof e)if(t&&"object"===typeof t&&t&&(t=null),f.isObject(e))for(n in r={},e)r[n]=f.clone(e[n]);else if(Array.isArray(e))for(r=[],n=e.length;n-- >0;)r[n]=f.clone(e[n]);else f.isDate(e)?r=new Date(e.getTime()):t&&(r=t(e));return r}static createTruthyKeys(e){const t=r.default.split(e),n=t&&{};if(t)for(const r of t)r&&(n[r]=!0);return n}static getPath(e,t){return t.split(".").reduce((e,t)=>(e||u)[t],e)}static getPathDefault(e,t,n){const r=Array.isArray(t)?t:"string"===typeof t?t.split("."):[t],i=r.length-1;return r.reduce((e,t,r)=>(n&&!(t in e)&&(e[t]=r===i?n:{}),(e||u)[t]),e)}static hasPath(e,t){return t.split(".").every(t=>t in e&&(e=e[t],!0))}static getTruthyKeys(e){const t=[];for(const n in e)e[n]&&t.push(n);return t}static getTruthyValues(e){const t=[];for(const n in e)e[n]&&t.push(e[n]);return t}static isClass(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}static isDate(e){return Boolean(e&&e.getUTCDate)&&"date"===f.typeOf(e)}static isPromise(e){if(Promise&&Promise.resolve)return Promise.resolve(e)===e;throw new Error("Promise not supported in your environment")}static isEmpty(e){if(e&&"object"===typeof e)for(const t in e)return!1;return!0}static isObject(e){const t=null===e||void 0===e?void 0:e.constructor;return Boolean(t?t===Object||t.getPrototypeOf&&t.prototype&&!Object.getPrototypeOf(t.prototype):e&&"object"===typeof e)}static isInstantiated(e){return!!e&&"object"===typeof e&&!h.isObject(e)}static merge(e,...t){return h.blend(e,t)}static mergeItems(e,t,n){let r,i,o,c,d,u,f;n=n||l;const{merge:g=h.blend,rebuild:m=!h.ES6_OBJECT_ORDER}=n;if(e=e||{},Array.isArray(t))t.forEach(t=>{e=h.mergeItems(e,t,n)});else if(t){for(d in t)if(f=t[d],r=null,d.includes(">")?([d,r]=d.split(s),i=0):d.includes("<")&&([r,d]=d.split(a),i=1),d in e)f&&e[d]&&g&&(n.key=d,f=g(e[d],f,n)),e[d]=f;else if(r){if(!c){c=new Map,o=0;for(const t in e)c.set(t,o++)}if(o=c.get(r),e[d]=f,null==o&&i)o=c.size;else{u=!m&&(u||[]),o=(o||0)+i;for(const e of c){const[t,n]=e;o<=n&&(u&&(u[c.size-n-1]=t),c.set(t,n+1))}if(u)for(;u.length;){const t=u.pop(),n=e[t];delete e[t],e[t]=n}}c.set(d,o)}else{var p;e[d]=f,null===(p=c)||void 0===p||p.set(d,c.size)}if(m&&c){const t=Array.from(c.entries()).sort((e,t)=>e[1]-t[1]),n=e;e={};for(let r,i=0;i<t.length;++i)r=t[i][0],e[r]=n[r]}}return e}static setPath(e,t,n){return t.split(".").reduce((e,t,r,i)=>r===i.length-1?e[t]=n:(e[t]instanceof Object||(e[t]={}),e[t]),e),e}static typeOf(e){let t,n,r=typeof e;return"object"===r?null===e?r="null":(n=i.call(e),(r=d[n])||(t=c.exec(n),d[n]=r=t?t[1].toLowerCase():n)):e!==e&&(r="nan"),r}}const f=h;f.ES6_OBJECT_ORDER=(()=>{const e={a:1,b:2,c:3};return delete e.b,e.b=20,"c"===Object.keys(e)[1]})(),h._$name="Objects"},"./lib/Core/helper/util/Point.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/helper/util/Rectangle.js");class i extends r.default{static from(e){const t=e.changedTouches;return new i(t?t[0].screenX:e.screenX,t?t[0].screenY:e.pageY)}constructor(e,t){super(e,t,0,0)}constrain(e){return this.x=Math.min(Math.max(this.x,e.x),e.right-1),this.y=Math.min(Math.max(this.y,e.y),e.bottom-1),this}toArray(){return[this.x,this.y]}}Object.getPrototypeOf(i).Point=i,i._$name="Point"},"./lib/Core/helper/util/Promissory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{constructor(e){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),e&&e(this)}}r._$name="Promissory"},"./lib/Core/helper/util/RandomGenerator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{constructor(){this.random100=[46,2,36,46,54,59,18,20,71,55,88,98,13,61,61,40,2,15,3,32,51,45,64,25,81,85,54,13,57,49,64,22,81,94,0,62,17,7,11,2,33,99,85,26,83,83,96,26,20,89,91,38,26,13,11,79,32,30,5,51,70,7,5,56,58,77,37,89,40,80,78,59,26,36,8,51,60,23,86,5,11,96,64,94,87,64,4,78,17,85,35,0,90,86,23,55,53,9,35,59,29,2,64,42,8,49,43,73,6,53,38,9,39,31,32,40,49,13,78,68,20,99,24,78,35,91,73,46,67,76,89,69,30,69,25,3,4,55,1,65,66,76,83,19,67,1,95,24,54,45,56,40,67,92,72,4,69,8,47,50,27,2,38,9,14,83,12,14,62,95,22,47,35,18,38,14,86,64,68,61,52,69,39,93,20,73,32,52,74,6,56,68,99,29,24,92,40,67,6,72,31,41,91,53,80,55,33,97,97,99,18,20,5,27,82,84,61,78,27,67,7,42,75,95,91,25,63,21,70,36,46,0,1,45,84,6,86,15,10,62,96,94,10,23,93,83,94,47,5,29,29,52,51,37,77,96,43,72,43,14,54,14,72,52,4,39,15,26,68,28,25,76,60,50,22,40,72,74,68,58,8,48,40,62,52,24,9,26,47,44,49,96,7,77,90,45,76,47,5,86,1,36,18,42,19,90,34,23,70,32,69,79,0,99,57,80,72,21,19,72,85,68,4,40,86,62,0,63,4,11,69,31,78,31,21,78,29,84,13,53,57,10,26,50,24,30,90,42,51,96,93,21,99,23,81,0,89,43,86,63,93,19,54,71,92,36,4,95,37,99,60,29,23,50,68,95,57,95,77,53,99,78,75,12,92,47,23,14,0,41,98,11,34,64,26,90,50,23,38,31,74,76,16,76,66,23,22,72,48,50,20,36,37,58,5,43,49,64,81,30,8,21,98,75,60,17,50,42,27,38,90,74,45,68,67,27,31,15,58,76,41,99,23,98,53,98,56,19,79,2,4,38,96,24,65,51,43,42,41,60,46,7,90,65,3,27,63,99,51,44,86,1,54,40,15,74,3,81,51,63,87,79,84,72,22,38,96,95,33,41,21,99,21,69,7,49,40,52,41,6,91,19,76,40,54,17,33,11,11,0,1,32,94,33,13,18,45,7,85,61,42,54,45,72,78,96,17,9,80,87,41,96,66,0,8,59,18,21,2,28,64,75,97,32,80,86,97,97,55,2,73,75,11,89,67,58,70,76,12,46,64,17,22,97,25,35,93,57,82,46,57,61,31,74,27,4,32,85,53,86,53,53,42,5,28,50,65,63,70,61,73,37,13,80,7,34,22,3,26,6,62,78,12,56,87,41,58,64,31,27,45,35,18,66,62,43,89,69,94,93,33,74,2,43,85,37,82,41,74,9,15,44,33,42,65,19,1,49,78,12,29,9,78,7,55,12,45,40,33,16,86,14,52,16,73,76,0,98,75,91,78,46,99,95,90,69,78,45,62,55,37,88,49,77,27,83,38,73,39,1,75,40,65,83,54,95,7,73,4,30,26,36,89,21,5,95,11,14,87,45,36,21,77,55,5,66,51,98,48,62,74,58,23,82,30,28,19,53,89,76,98,8,34,70,28,54,16,52,35,93,54,54,72,49,18,93,72,90,71,73,15,60,38,80,76,53,70,39,69,25,5,31,61,46,6,54,34,31,52,33,36,79,76,44,29,28,38,1,66,2,90,91,1,76,78,31,55,37,71,2,3,38,85,0,95,42,2,39,57,87,61,77,98,2,24,80,48,27,47,71,15,7,49,60,86,3,2,29,38,54,36,59,83,27,47,9,36,42,8,73,85,9,16,73,60,39,12,43,25,23,29,28,47,40,77,20,89,22,30,41,59,96,19,56,20,76,73,39,46,72,40,47,37,52,29,79,37,39,50,41,87,66,17,75,31,45,26,88,70,11,90,40,74,9,32,65,72,61,6,93,54,15,84,22,99,47,10,96,4,84,19,85,73,45,25,16,8,94,99,39,28,26,68,87,48,1,65,86,46,86,7,60,82,45,75,38,56,41,35,30,86,91,97,85,45,5,14,69,85,96,37,18,26,16,38,16,1,44,94,85,58,60,20,5,47,52,41,50,71,43,42,67,64,38,65,83,99,78,96,33,20,98,24,6,2,25,16,16,44,63,24,68,56,49,91,15,59,99,27,43,34,28,36,45,1,10,19,54,26,75,17,88,96,63,24,71,93,72,97,66,87,18,86],this.randomCache={},this.rndIndex=0}nextRandom(e){let t,n=this.randomCache;return n[e]?t=n[e]:(t=this.random100.filter(t=>t<e),n[e]=t),t[this.rndIndex++%t.length]}reset(){this.rndIndex=0}fromArray(e){return e[this.nextRandom(e.length)]}}r._$name="RandomGenerator"},"./lib/Core/helper/util/Rectangle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js");const a=["border-top-width","border-right-width","border-bottom-width","border-left-width"],s=["margin-top","margin-right","margin-bottom","margin-left"],l=["padding-top","padding-right","padding-bottom","padding-left"],c="border-top-width",d="border-right-width",u="border-bottom-width",h="border-left-width",f="padding-top",g="padding-right",m="padding-bottom",p="padding-left",v=Object.freeze({x:0,y:0}),b=/^([trblc])(\d*)-([trblc])(\d*)$/i,y=/^([trblc])(\d*)$/i,C=["top","right","bottom","left"],S={t:0,r:1,b:2,l:3},w=["b-t","l-r","t-b","r-l"],E=Object.freeze([0,0]),D=["width","height"],x=(e,t=e,n=e,r=t)=>Array.isArray(e)?x.apply(null,e):[e,t,n,r];function j(e){return`${C[(S[e.myEdge]+2)%4][0]}${e.myOffset}-${C[(S[e.targetEdge]+2)%4][0]}${e.targetOffset}`}class T{static from(e,t,n){var r;if(e instanceof T)return e;if(void 0===n&&"boolean"===typeof t&&(n=t,t=null),t){let{scrollLeft:e,scrollTop:n}=t;(i.default.isEdge||i.default.isSafari)&&t===document.body&&(e=n=0),t=T.from(t).translate(-e,-n)}else t=v;const o=e===document||e===window,a=e===document.body&&0===document.body.offsetHeight,s=a&&e.getBoundingClientRect(),l=a?new T(s.left,s.top,s.width,document.body.parentElement.scrollHeight):o?new T(0,0,window.innerWidth,window.innerHeight):e.getBoundingClientRect(),c=n||o?[0,0]:[window.pageXOffset,window.pageYOffset];let d=0,u=0;var h,f;return(i.default.isIE11||i.default.isEdge&&null!==(r=e.namespaceURI)&&void 0!==r&&r.match(/svg/))&&(d=(null===(h=e.dataset)||void 0===h?void 0:h.scaleX)||0,u=(null===(f=e.dataset)||void 0===f?void 0:f.scaleY)||0),new T(l.left+c[0]-t.x+d/2,l.top+c[1]-t.y+u/2,l.width-d,l.height-u)}static fromScreen(e,t){return T.from(e,t,!0)}static inner(e,t,n=!1){const i=this.from(e,t,n);if(document.body.contains(e)){const t=r.default.getStyleValue(e,a);i.x+=parseFloat(t[h]),i.y+=parseFloat(t[c]),i.right-=parseFloat(t[d]),i.bottom-=parseFloat(t[u])}return i}static content(e,t,n=!1){const i=this.from(e,t,n);if(document.body.contains(e)){const t=r.default.getStyleValue(e,a),n=r.default.getStyleValue(e,l);i.x+=parseFloat(t[h])+parseFloat(n[p]),i.y+=parseFloat(t[c])+parseFloat(n[f]),i.right-=parseFloat(t[d])+parseFloat(n[g]),i.bottom-=parseFloat(t[u])+parseFloat(n[m])}return i}static client(e,t,n=!1){const i=this.content(e,t,n),o=r.default.scrollBarWidth;let a;return o&&(e.scrollHeight>e.clientHeight&&"hidden"!==r.default.getStyleValue(e,"overflow-y")&&(a=parseFloat(r.default.getStyleValue(e,"padding-right")),i.right+=a-Math.max(a,o)),e.scrollWidth>e.clientWidth&&"hidden"!==r.default.getStyleValue(e,"overflow-x")&&(a=parseFloat(r.default.getStyleValue(e,"padding-bottom")),i.bottom+=a-Math.max(a,o))),i}static outer(e,t,n=!1){const i=this.from(e,t,n);if(document.body.contains(e)){const t=r.default.getStyleValue(e,s);i.x-=parseFloat(t["margin-left"]),i.y-=parseFloat(t["margin-top"]),i.right+=parseFloat(t["margin-right"]),i.bottom+=parseFloat(t["margin-bottom"])}return i}static union(...e){let t,{x:n,y:r,right:i,bottom:o}=e[0];if(e.length>1)for(let a=1;a<e.length;a++)t=e[a],t.x<n&&(n=t.x),t.y<r&&(r=t.y),t.right>i&&(i=t.right),t.bottom>o&&(o=t.bottom);return new T(n,r,i-n,o-r)}roundPx(e=window.devicePixelRatio||1){const t=this;return t._x=r.default.roundPx(t._x,e),t._y=r.default.roundPx(t._y,e),t._width=r.default.roundPx(t._width,e),t._height=r.default.roundPx(t._height,e),t}static get $$name(){return hasOwnProperty.call(this,"$name")&&this.$name||hasOwnProperty.call(this,"_$name")&&this._$name||this.name}get $$name(){return this.constructor.$$name}constructor(e,t,n,r){o.default.assertNumber(e,"Rectangle.x"),o.default.assertNumber(t,"Rectangle.y"),o.default.assertNumber(n,"Rectangle.width"),o.default.assertNumber(r,"Rectangle.height"),this._x=e,this._y=t,this._width=n,this._height=r}clone(){const e=this,t=new T(e.x,e.y,e.width,e.height);return t.isAlignRectangle=e.isAlignRectangle,t.minHeight=e.minHeight,t.minWidth=e.minWidth,t}contains(e){const t=this;return e instanceof T&&e._x>=t._x&&e._y>=t._y&&e.right<=t.right&&e.bottom<=t.bottom}intersect(e,t=!1,n=!1){const r=Math.max(this.y,e.y),i=Math.min(this.right,e.right),o=Math.min(this.bottom,e.bottom),a=Math.max(this.x,e.x);return!!(n?o>=r&&i>=a:o>r&&i>a)&&(!!t||new T(a,r,i-a,o-r))}equals(e,t=!1){const n=t?e=>Math.round(e):e=>e;return e instanceof T&&n(e.x)===n(this.x)&&n(e.y)===n(this.y)&&n(e.width)===n(this.width)&&n(e.height)===n(this.height)}translate(e,t){return this._x+=e||0,this._y+=t||0,this}moveTo(e,t){return null!=e&&(this._x=e),null!=t&&(this._y=t),this}getDelta(e){return[e.x-this.x,e.y-this.y]}get center(){return new T.Point(this.x+this.width/2,this.y+this.height/2)}set x(e){const t=e-this._x;this._x=e,this._width-=t}get x(){return this._x}set left(e){this.x=e}get left(){return this.x}set top(e){this.y=e}get top(){return this.y}set y(e){const t=e-this._y;this._y=e,this._height-=t}get y(){return this._y}set width(e){this._width=e}get width(){return this._width}set height(e){this._height=e}get height(){return this._height}set right(e){this._width=e-this._x}get right(){return this._x+this._width}set bottom(e){this._height=e-this._y}get bottom(){return this._y+this._height}get area(){return this.width*this.height}set minWidth(e){const t=this;isNaN(e)?t._minWidth=null:(t._minWidth=Number(e),t.isAlignRectangle||(t.width=Math.max(t.width,t._minWidth)))}get minWidth(){return this._minWidth}set minHeight(e){const t=this;isNaN(e)?t._minHeight=null:(t._minHeight=Number(e),t.isAlignRectangle||(t.height=Math.max(t.height,t._minHeight)))}get minHeight(){return this._minHeight}adjust(e,t,n,r){const i=this;return i.x+=e,i.y+=t,i.width+=n,i.height+=r,i}inflate(e,t=e,n=e,r=t){return this.adjust(-r,-e,t,n)}deflate(e,t=e,n=e,r=t){return this.adjust(r,e,-t,-n)}constrainTo(e,t){const n=this,r=n.height,i=n.y,o=n.minWidth||n.width,a=n.minHeight||n.height;if(n.height>=e.height){if(t&&a>e.height)return!1;n._y=e.y,n.height=e.height}if(n.width>=e.width){if(t&&o>e.width)return n.y=i,n.height=r,!1;n._x=e.x,n.width=e.width}let s=n.bottom-e.bottom;return s>0&&n.translate(0,-s),s=n.right-e.right,s>0&&n.translate(-s),s=e.y-n.y,s>0&&n.translate(0,s),s=e.x-n.x,s>0&&n.translate(s),n}alignTo(e){let t,n,r,i,o=this.clone(),{target:a,constrainTo:s,constrainPadding:l}=e;if(!a||a instanceof T||(a=T.from(a.element?a.element:a)),s&&!(s instanceof T)){i=s===window||s===document;const t="ignorePageScroll"in e?e.ignorePageScroll:!i;s=T.from(s.element?s.element:s,null,t),l&&(l=x(l),l[0]=Math.min(l[0],a.top),l[1]=Math.min(l[1],s.right-a.right),l[2]=Math.min(l[0],s.bottom-a.bottom),l[3]=Math.min(l[0],a.left),s.deflate.apply(s,l))}const c=this,d=null==(P=e.offset)?E:"number"===typeof P?[P,P]:P,{align:u,axisLock:h,anchorSize:f,anchorPosition:g}=e,m=function(e){const t=b.exec(e),n=parseInt(t[2]||50),r=parseInt(t[4]||50);return{myAlignmentPoint:t[1]+n,myEdge:t[1],myOffset:n,targetAlignmentPoint:t[3]+r,targetEdge:t[3],targetOffset:r,startZone:S[t[3]]}}(u),p=e.position||(a&&"Point"===a.$$name?a:null),v=s&&s.clone(),y=[],R=[{zone:n=m.startZone,align:u}],M=e.matchSize&&D[1&m.startZone],k=c[M];var P;if(M&&h&&(o[M]=a[M]),s&&o.constrainTo(s),s&&null!=m.startZone)if(h)R.push({zone:n=(n+2)%4,align:j(m)}),"flexible"===h&&(R.push({zone:n=(m.startZone+1)%4,align:w[n]}),R.push({zone:n=(n+2)%4,align:w[n]}));else for(let b=1;b<4;b++)R.push({zone:n=(n+1)%4,align:w[n]});if(g){const e=1&m.startZone?"y":"x";t={[e]:g[e],edge:C[(m.startZone+2)%4]}}if(v&&a&&(v.adjust(-a.width,-a.height,a.width,a.height),a.constrainTo(v)),o.minWidth=c.minWidth,o.minHeight=c.minHeight,p)o.moveTo(p.x,p.y),s&&o.constrainTo(s);else{const e="c"===m.myEdge||"c"===m.targetEdge,n=f&&!e?[f[1]+d[0],f[1]+d[1]]:d,l=a.getAlignmentPoint(m.targetAlignmentPoint,n),u=o.getAlignmentPoint(m.myAlignmentPoint);o.translate(l[0]-u[0],l[1]-u[1]);const g=o.intersect(a,!0);if(g)s&&o.constrainTo(s),r=m.startZone,o.translate(...n);else if(s&&!s.contains(o)){let e,l,d=o.clone(),u=[];t=null,y[0]=e=s.clone(),e.bottom=a.y-n[1],y[1]=e=s.clone(),e.x=a.right+n[0],y[2]=e=s.clone(),e.y=a.bottom+n[1],y[3]=e=s.clone(),e.right=a.x-n[0];for(let t=0;t<R.length;t++){if(M&&2==t&&(o[M]=k),e=y[r=R[t].zone],o=o.alignTo({target:a,offsets:n,align:R[t].align}),o.constrainTo(e,!0)&&(u.push({result:o,zone:r}),!l||o.width<c.width||o.height<c.height)){o.align=R[t].align;break}if(!l||e.area>l.area){const t=o.clone();switch(r){case 0:t.moveTo(null,e.bottom-t.height);break;case 1:t.moveTo(e.left);break;case 2:t.moveTo(null,e.top);break;case 3:t.moveTo(e.right-t.width)}l={area:e.area,result:t,zone:r}}}u.length?(u.length>1&&!h&&u.sort((e,t)=>Math.sqrt((d.x-e.result.x)**2+(d.y-e.result.y)**2)-Math.sqrt((d.x-t.result.x)**2+(d.y-t.result.y)**2)),o=u[0].result,r=u[0].zone):(o=l.result,r=l.zone,i&&o.constrainTo(s))}else r=m.startZone;if(o.zone=r,f&&!g){if(!t){let e=1&r,n=e?"y":"x",i=e?"bottom":"right",s=Math.max(a[n],o[n]),l=s+(Math.min(a[i],o[i])-s)/2-f[0]/2,c=l+f[0];c>o[i]&&(l-=c-o[i]),l<o[n]&&(l+=o[n]-l),t={[n]:l-o[n],edge:C[(r+2)%4]}}o.anchor=t}}return o}getAlignmentPoint(e,t=E){const n=this,r=y.exec(e),i=r[1].toLowerCase(),o=Math.min(Math.max(parseInt(r[2]||50),0),100)/100;switch(i){case"t":return[n.x+n.width*o,n.y-t[1]];case"r":return[n.right+t[0],n.y+n.height*o];case"b":return[n.x+n.width*o,n.bottom+t[1]];case"l":return[n.x-t[0],n.y+n.height*o];case"c":{const e=n.center;return[e.x+t[0],e.y+t[1]]}}}highlight(){const e=r.default.createElement({parent:document.body,style:`position:absolute;z-index:9999999;pointer-events:none;\n                            left:${this.x}px;top:${this.y}px;width:${this.width}px;height:${this.height}px`});return r.default.highlight(e).then(()=>e.remove())}}T._$name="Rectangle"},"./lib/Core/helper/util/Scroller.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/mixin/Delayable.js"),a=n("./lib/Core/mixin/Events.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/FunctionHelper.js"),c=n("./lib/Core/helper/IdHelper.js"),d=n("./lib/Core/helper/BrowserHelper.js"),u=n("./lib/Core/helper/EventHelper.js");n("./lib/Core/helper/util/Point.js");const h={true:"auto",false:"hidden","hidden-scroll":"auto"},f={block:"nearest"},g=Promise.resolve(),m={x:1};class p extends(Object(o.default)(Object(a.default)(r.default))){static get configurable(){return{widget:null,element:{$config:{nullify:!0},value:null},overflowX:null,overflowY:null,translate:null,x:0,y:0}}static get delayable(){return{onScrollEnd:{type:"buffer",delay:100}}}syncOverflowState(){const{element:e}=this,{classList:t}=e;d.default.isEdge?t[e.scrollWidth-e.clientWidth>1?"add":"remove"]("b-horizontal-overflow"):t[e.scrollWidth>e.clientWidth?"add":"remove"]("b-horizontal-overflow"),t[e.scrollHeight>e.clientHeight?"add":"remove"]("b-vertical-overflow")}hasScrollbar(e="y"){const{element:t}=this;if(t&&s.default.scrollBarWidth){const n="y"===e,r=n?"Width":"Height",i=t["client"+r],o=parseInt(s.default.getStyleValue(t,`border${n?"Left":"Top"}Width`))+parseInt(s.default.getStyleValue(t,`border${n?"Right":"Bottom"}Width`)),a=t["offset"+r]-o-i;return Math.abs(a-s.default.scrollBarWidth)<2}}addPartner(e,t=m){const n=this;"string"===typeof t&&(t={[t]:1}),n.partners||(n.partners={}),n.partners[e.id]={scroller:e,axes:t},t.x&&(e.x=n.x),t.y&&(e.y=n.y),e.isPartneredWith(n)||e.addPartner(n,t)}eachPartner(e){const{partners:t}=this;t&&Object.values(t).forEach(e)}removePartner(e){this.isPartneredWith(e)&&(delete this.partners[e.id],e.removePartner(this))}isPartneredWith(e){return Boolean(this.partners&&this.partners[e.id])}scrollIntoView(e,t=f){const n=this,r=e instanceof i.default,o=r?e:i.default.from(e),{xDelta:a,yDelta:l}=n.getDeltaTo(e,t),c=n.scrollBy(a,l,t);return(t.highlight||t.focus)&&c.then(()=>{r&&(e=o.translate(-a,-l)),t.highlight&&(isNaN(t.highlight)?(n.widget||n).callback(t.highlight,null,[e]):s.default.highlight(e,n)),t.focus&&e.focus()}),c}scrollBy(e=0,t=0,n=f){const r=this,i="object"===typeof n?n.animate:n,o=Math.abs(e),a=Math.abs(t);r.scrollAnimation&&(r.scrollAnimation.cancel(),r.scrollAnimation=null),(e||t)&&(r.silent=n.silent);let s=i&&("number"===typeof i?i:"number"===typeof i.duration?i.duration:300);if(s&&(o>10||a>10)){const{x:c,y:d}=r;let u=c,h=d;return Math.max(o,a)<50&&(s=Math.min(s,500)),r.scrollAnimation=l.default.animate(s,i=>{const o=1===i;if(e){if(r.x!==u&&!n.force)return r.scrollAnimation&&r.scrollAnimation.cancel();r.x=Math.max(c+(o?e:Math.round(e*i)),0)}if(t){if(r.y!==h&&!n.force)return r.scrollAnimation&&r.scrollAnimation.cancel();r.y=Math.max(d+(o?t:Math.round(t*i)),0)}u=r.x,h=r.y},r,i.easing),r.element.classList.add("b-scrolling"),r.scrollAnimation.then(()=>{r.isDestroyed||(r.element.classList.remove("b-scrolling"),r.scrollAnimation=null)}),r.scrollAnimation}return e|t?(r.x+=e,r.y+=t,c=r.element,new Promise(e=>u.default.on({element:c,scroll:e,once:!0}))):g;var c}scrollTo(e,t,n){const{x:r,y:i}=this,o=null==e?0:e-r,a=null==t?0:t-i;return this.scrollBy(o,a,n)}doDestroy(){const e=this;e._element&&(e._element.removeEventListener("scroll",e.scrollHandler),e.wheelListenerRemover&&e.wheelListenerRemover()),e.scrollAnimation&&e.scrollAnimation.cancel(),Object.values(e.partners||{}).forEach(({scroller:t})=>t.removePartner(e)),super.doDestroy()}onElMutation(e){const t=this,[n,r]=s.default.getTranslateXY(t.element);if(t._x!==-n||t.y!==-r){const e=new CustomEvent("scroll",{bubbles:!0});Object.defineProperty(e,"target",{get:()=>t.element}),t.onScroll(e)}}onScroll(e){const t=this;t.widget&&t.widget.isDestroyed||(t.positionDirty=!0,t.element.classList.contains("b-scrolling")||t.element.classList.add("b-scrolling"),e.widget=t.widget,t.silent||t.trigger("scroll",e),t.syncPartners(),t.controllingPartner=null,t.onScrollEnd(e))}syncPartners(){const e=this;e.partners&&Object.values(e.partners).forEach(({axes:t,scroller:n})=>{n!==e.controllingPartner&&n.sync(e,t)})}onScrollEnd(e){this.silent&&(this.silent=!1),this.trigger("scrollEnd",e),this.controllingPartner=null,this.element.classList.remove("b-scrolling")}getDeltaTo(e,t){const n=this;if(!n.viewport)return{xDelta:0,yDelta:0};const r=e instanceof i.default?e:i.default.from(e),o=t.block||"nearest",a=n.viewport,s=t.edgeOffset||0,l=a.width>=r.width+2*s?s:0,c=a.height>=r.height+2*s?s:0,d=r.clone().adjust(-l,-c,l,c).constrainTo(new i.default(a.x-n.x,a.y-n.y,n.scrollWidth,n.scrollHeight)),u=d.clone();let h=0,f=0;if("start"===o)u.moveTo(a.x,a.y),h=d.x-u.x,f=d.y-u.y;else if("end"===o)u.translate(a.right-u.right,a.bottom-u.bottom),h=d.x-u.x,f=d.y-u.y;else if("center"===o){const e=a.center;u.moveTo(e.x-u.width/2,e.y-u.height/2),h=h||d.x-u.x,f=f||d.y-u.y}else u.width>a.width?h=u.x-a.x:u.right>a.right?h=u.right-a.right:u.x<a.x&&(h=u.x-a.x),u.height>a.height?f=u.y-a.y:u.bottom>a.bottom?f=u.bottom-a.bottom:u.y<a.y&&(f=u.y-a.y);return{xDelta:!1===t.x?0:Math.round(Math.max(Math.min(h,n.maxX-n.x),-n.x)),yDelta:!1===t.y?0:Math.round(Math.max(Math.min(f,n.maxY-n.y),-n.y))}}get viewport(){return i.default.client(this.element)}updateElement(e,t){const n=this,r=n.scrollHandler||(n.scrollHandler=n.onScroll.bind(n));if(t&&(n.translate?n.mutationObserver&&n.mutationObserver.disconnect(t):(t.removeEventListener("scroll",r),t.classList.remove("b-widget-scroller"),t.style.overflowX=t.style.overflowY="")),n.translate){if(n.mutationObserver||(n.mutationObserver=new MutationObserver(e=>n.onElMutation(e))),n.mutationObserver.observe(e,{attributes:!0}),n._x=n._y=0,document.contains(e)){const[t,r]=s.default.getTranslateXY(e);n._x=-t,n._y=-r}}else e&&(e.addEventListener("scroll",r),e.classList.add("b-widget-scroller"));n.positionDirty&&(n.updateOverflowX(n.overflowX),n.updateOverflowY(n.overflowY)),n.isConfiguring&&(n._x&&n.updateX(n._x),n._y&&n.updateY(n._y)),n.positionDirty=!0}get x(){const e=this,{element:t}=e;if(t&&e.positionDirty){if(e.translate){const[n,r]=s.default.getTranslateXY(t);e._x=-n,e._y=-r}else e._x=t.scrollLeft,e._y=t.scrollTop;e.positionDirty=!1}return e._x}changeX(e){if(!this.isConfiguring||e)return e;this._x=e}updateX(e){const{element:t,widget:n}=this;!t||null!==n&&void 0!==n&&n.isConfiguring||(this.trigger("scrollStart",{x:e}),this.translate?s.default.setTranslateX(t,-e):t.scrollLeft=e),this.positionDirty=!0}sync(e,t){const{x:n,y:r}=t;null!=n&&this.x!==e.x&&(this.controllingPartner=e,this.x=e.x),null!=r&&this.y!==e.y&&(this.controllingPartner=e,this.y=e.y)}get y(){const e=this,{element:t}=e;if(t&&e.positionDirty){if(e.translate){const[n,r]=s.default.getTranslateXY(t);e._x=-n,e._y=-r}else e._x=t.scrollLeft,e._y=t.scrollTop;e.positionDirty=!1}return e._y}changeY(e){if(!this.isConfiguring||e)return e;this._y=e}updateY(e){const{element:t,widget:n}=this;!t||null!==n&&void 0!==n&&n.isConfiguring||(this.trigger("scrollStart",{y:e}),this.translate?s.default.setTranslateY(t,-e):t.scrollTop=e),this.positionDirty=!0}get maxX(){return this.scrollWidth-this.clientWidth}get maxY(){return this.scrollHeight-this.clientHeight}updateOverflowX(e){const{element:t,translate:n}=this;t&&("hidden-scroll"!==e||n||(t.classList.add("b-hide-scroll"),this.enableWheel()),n||(t.style.overflowX=h[e]||e)),this.positionDirty=!this.isConfiguring}updateOverflowY(e){const{element:t,translate:n}=this;t&&("hidden-scroll"!==e||n||(t.classList.add("b-hide-scroll"),this.enableWheel()),n||(t.style.overflowY=h[e]||e)),this.positionDirty=!this.isConfiguring}enableWheel(){d.default.isChrome||d.default.isSafari||this.wheelListenerRemover||(this.wheelListenerRemover=u.default.on({element:this.element,wheel:"onWheel",thisObj:this}))}onWheel(e){Math.abs(e.deltaX)>Math.abs(e.deltaY)&&!1!==this.overflowX?(this.x+=e.deltaX,e.stopPropagation()):!1!==this.overflowY&&(this.y+=e.deltaY,e.stopPropagation())}get scrollWidth(){return this.element?this.element.scrollWidth:0}set scrollWidth(e){const t=this;let n=t.widthStretcher;n&&null==e?(n.remove(),t.widthStretcher=null):e&&(n||(n=t.widthStretcher=s.default.createElement({className:"b-scroller-stretcher b-horizontal-stretcher"})),n.style.transform=`translateX(${e-1}px)`,t.element&&t.element.lastChild!==n&&t.element.appendChild(n)),!1!==t.propagate&&t.eachPartner(({scroller:t})=>{t.propagate=!1,t.scrollWidth=e,delete t.propagate}),t.positionDirty=!0,t.syncOverflowState()}get scrollHeight(){return this.element?this.element.scrollHeight:0}set scrollHeight(e){const t=this,n=t.stretcher||(t.stretcher=s.default.createElement({className:"b-scroller-stretcher"}));n.style.transform=`translateY(${e-1}px)`,t.element&&t.element.lastChild!==n&&t.element.appendChild(n),t.positionDirty=!0}get clientWidth(){return this.element?this.element.clientWidth:0}get clientHeight(){return this.element?this.element.clientHeight:0}get id(){return this._id||(this.widget?this._id=this.widget.id+"-scroller":this._id=c.default.generateId("scroller-")),this._id}}p._$name="Scroller"},"./lib/Core/localization/En.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/localization/LocaleManager.js");const i={localeName:"En",localeDesc:"English",Object:{Yes:"Yes",No:"No",Cancel:"Cancel"},Combo:{noResults:"No results"},FilePicker:{file:"File"},Field:{badInput:"Invalid field value",patternMismatch:"Value should match a specific pattern",rangeOverflow:e=>"Value must be less than or equal to "+e.max,rangeUnderflow:e=>"Value must be greater than or equal to "+e.min,stepMismatch:"Value should fit the step",tooLong:"Value should be shorter",tooShort:"Value should be longer",typeMismatch:"Value is required to be in a special format",valueMissing:"This field is required",invalidValue:"Invalid field value",minimumValueViolation:"Minimum value violation",maximumValueViolation:"Maximum value violation",fieldRequired:"This field is required",validateFilter:"Value must be selected from the list"},DateField:{invalidDate:"Invalid date input"},NumberFormat:{locale:"en-US",currency:"USD"},DurationField:{invalidUnit:"Invalid unit"},TimeField:{invalidTime:"Invalid time input"},List:{loading:"Loading..."},GridBase:{loadMask:"Loading...",syncMask:"Saving changes, please wait..."},PagingToolbar:{firstPage:"Go to first page",prevPage:"Go to previous page",page:"Page",nextPage:"Go to next page",lastPage:"Go to last page",reload:"Reload current page",noRecords:"No records to display",pageCountTemplate:e=>"of "+e.lastPage,summaryTemplate:e=>`Displaying records ${e.start} - ${e.end} of ${e.allCount}`},DateHelper:{locale:"en-US",weekStartDay:0,nonWorkingDays:{0:!0,6:!0},weekends:{0:!0,6:!0},unitNames:[{single:"millisecond",plural:"ms",abbrev:"ms"},{single:"second",plural:"seconds",abbrev:"s"},{single:"minute",plural:"minutes",abbrev:"min"},{single:"hour",plural:"hours",abbrev:"h"},{single:"day",plural:"days",abbrev:"d"},{single:"week",plural:"weeks",abbrev:"w"},{single:"month",plural:"months",abbrev:"mon"},{single:"quarter",plural:"quarters",abbrev:"q"},{single:"year",plural:"years",abbrev:"yr"},{single:"decade",plural:"decades",abbrev:"dec"}],unitAbbreviations:[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"],["dec"]],parsers:{L:"MM/DD/YYYY",LT:"HH:mm A"},ordinalSuffix:e=>{let t="th";return["11","12","13"].find(t=>e.endsWith(t))||(t={1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th"),e+t}}};t.default=i,r.default.registerLocale("En",{desc:"English",locale:i})},"./lib/Core/localization/LocaleHelper.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return a}));class a{static mergeLocales(...e){const t={};return e.forEach(e=>{Object.keys(e).forEach(n=>{"object"===typeof e[n]?t[n]=i(i({},t[n]),e[n]):t[n]=e[n]})}),t}static trimLocale(e,t){const n=(t,n)=>{if(!e[t])throw new Error(`Key "${t}" doesn't exist in locale`);if(n){if(!e[t][n])throw new Error(`SubKey "${t}.${n}" doesn't exist in locale`);delete e[t][n]}else delete e[t]};Object.keys(t).forEach(e=>{Object.keys(t[e]).length>0?Object.keys(t[e]).forEach(t=>n(e,t)):n(e)})}static publishLocale(e,t){const n=window.bryntum=window.bryntum||{},r=n.locales=n.locales||{};r[e]=r[e]?this.mergeLocales(r[e],t):t}}a._$name="LocaleHelper"},"./lib/Core/localization/LocaleManager.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/AjaxHelper.js"),o=n("./lib/Core/mixin/Events.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Core/localization/LocaleHelper.js"),l=n("./lib/Core/helper/VersionHelper.js");class c extends(Object(o.default)(r.default)){static get defaultConfig(){return{locales:{},throwOnMissingLocale:l.default.isTestEnv}}construct(...e){const t=this;if(super.construct(...e),a.default.isBrowserEnv){const e=document.querySelector("script[data-default-locale]");e&&(t.defaultLocaleName=e.dataset.defaultLocale)}a.default.isBrowserEnv&&window.bryntum&&window.bryntum.locales&&(Object.keys(window.bryntum.locales).forEach(e=>{if(!e.startsWith("moment")){const n=window.bryntum.locales[e];n.extends?t.extendLocale(n.extends,n):n.localeName&&t.registerLocale(n.localeName,{desc:n.localeDesc,locale:n})}}),t.locale||"En"!==t.defaultLocaleName&&t.applyLocale(t.defaultLocaleName||Object.keys(t.locales)[0]))}set locales(e){this._locales=e}get locales(){return this._locales}set locale(e){"string"===typeof e?this.applyLocale(e):(e.locale||(e={locale:e,localeName:e.localeName||"custom"}),this.registerLocale(e.localeName,e),this.applyLocale(e.localeName))}get locale(){return this._locale}registerLocale(e,t){var n;const r=this,i=r.defaultLocaleName===e,o=(null===(n=r.locale)||void 0===n?void 0:n.localeName)===e,a=0===Object.keys(r.locales).length;let l=r.locales[e];l?(t.exclude&&(l.exclude=s.default.mergeLocales(l.exclude||{},t.exclude)),l.locale=s.default.mergeLocales(l.locale,t.locale)):(r.locales[e]=t,l=r.locales[e]),l.exclude&&s.default.trimLocale(l.locale,l.exclude),(i||!r.defaultLocaleName&&(a||o))&&r.internalApplyLocale(l)}extendLocale(e,t){var n;const r=this.locales[e];return!!r&&(r.locale=s.default.mergeLocales(r.locale,t),delete r.locale.extends,(null===(n=this.locale)||void 0===n?void 0:n.localeName)===e&&this.applyLocale(e),!0)}internalApplyLocale(e){this._locale=e.locale,this.trigger("locale",e)}applyLocale(e,t=!1,n=!1){const r=this,i=r.locales[e];if(null!==i&&void 0!==i&&i.locale&&r._locale===i.locale&&!t)return!0;if(!i){if(n)return!0;throw new Error(`Locale ${e} not registered`)}function o(){r.internalApplyLocale(i)}return i.locale?(o(),!0):new Promise((t,n)=>{r.loadLocale(i.path).then(n=>{n.text().then(n=>{new Function(n)(),a.default.isBrowserEnv&&(i.locale=window.bryntum.locales[e]),o(),t(i)})}).catch(e=>n(e))})}loadLocale(e){return i.default.get(e)}set throwOnMissingLocale(e){this._throwOnMissingLocale=e}get throwOnMissingLocale(){return this._throwOnMissingLocale}}const d=new c;t.default=d},"./lib/Core/localization/Localizable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/localization/LocaleManager.js"),o=n("./lib/Core/helper/util/Objects.js");const a=Object.getPrototypeOf(Object),s=/L{.*?}/g,l=e=>e.replace(/\[\[(\d+)]]/gm,"{$1}");t.default=e=>class t extends(e||r.default){static get $name(){return"Localizable"}static get configurable(){return{localeClass:null,localizableProperties:{value:[],$config:{merge:"distinct"}}}}static clsName(e){var t,n;return"string"===typeof e?e:e===a?"Object":e.$$name||e.name||(null===(t=e.prototype)||void 0===t?void 0:t.$$name)||(null===(n=e.prototype)||void 0===n?void 0:n.name)}static parseLocaleString(e){var t;const n=[];let r;if(null!==(t=e)&&void 0!==t&&t.includes("L{")){const t=/L{(.*?)}/g;for(e=e.replace(/{(\d+)}/gm,"[[$1]]");null!=(r=t.exec(e));){const e=/((.*?)\.)?(.+)/g.exec(r[1]);n.push({match:l(r[0]),localeKey:l(e[3]),localeClass:e[2]})}}return n.length>0?n:[{match:e,localeKey:e,localeClass:void 0}]}construct(e={},...t){super.construct(e,...t),i.default.on("locale",this.updateLocalization,this),this.updateLocalization()}get localeClass(){return this._localeClass||null}localizeProperty(e){var n;const r=this,i=o.default.getPath(r,e),a=null===(n=r.$meta.configs[e])||void 0===n?void 0:n.localeKey;if(a){const n=t.localize(a,null,r.localeClass||r);n&&!(e in r.initialConfig)&&o.default.setPath(r,e,n)}else if("string"===typeof i){r.originalLocales=r.originalLocales||{};let t=o.default.getPath(r.originalLocales,e);void 0===t&&(o.default.setPath(r.originalLocales,e,i),t=i),t&&o.default.setPath(r,e,r.optionalL(t))}}updateLocalization(){var e;null===(e=this.localizableProperties)||void 0===e||e.forEach(this.localizeProperty,this)}static getTranslation(e,n,r){const{locale:o}=i.default;let a,s,l=null;if(o)for(const{match:i,localeKey:c,localeClass:d}of this.parseLocaleString(e)){const u=t=>{var r;const a=null===(r=o[t])||void 0===r?void 0:r[c];return a&&(l="function"===typeof a?null!=n?a(n):a:"object"===typeof a||e===i?a:(l||e).replace(i,a)),a};let h=!1;for(s=r;s&&(a=t.clsName(s))&&!(h=u(a))&&"string"!==typeof s;s=Object.getPrototypeOf(s));!h&&d&&u(d)}return l}static localize(e,n,...r){var i;0===(null===(i=r)||void 0===i?void 0:i.length)&&(r=[this]);let o=null;return r.some(r=>(o=t.getTranslation(e,n,r),null!=o)),o}static L(e,n,...r){var o;0===(null===(o=r)||void 0===o?void 0:o.length)&&(r=[this]);const a=this.localize(e,n,...r);if(i.default.throwOnMissingLocale&&i.default.locale&&null==a)throw new Error(`Localization is not found for '${e}' in '${r.map(e=>t.clsName(e)).join(", ")}'. ${i.default.locale.localeName?"Locale : "+i.default.locale.localeName:""}`);return null!==a&&void 0!==a?a:e}L(e,n){const{localeClass:r,constructor:i}=this;return r&&t.clsName(r)!==t.clsName(i)?t.L(e,n,r,i):t.L(e,n,i)}static optionalL(e,n,...r){var o;const a=i.default.throwOnMissingLocale;i.default.throwOnMissingLocale=a&&s.test(e),0===(null===(o=r)||void 0===o?void 0:o.length)&&(r=[this]);const l=t.L(e,n,...r);return i.default.throwOnMissingLocale=a,l}optionalL(e,t){const n=i.default.throwOnMissingLocale;i.default.throwOnMissingLocale=n&&s.test(e);const r=this.L(e,t);return i.default.throwOnMissingLocale=n,r}get localeManager(){return i.default}}},"./lib/Core/mixin/Delayable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/VersionHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js");const{defineProperty:a}=Reflect;let s;s=o.default.isBrowserEnv?window.performance:{now:()=>(new Date).getTime()};let l=null;if(i.default.isTestEnv){const e=o.default.global.bryntum||(o.default.global.bryntum={});l=e.globalDelays={timeouts:new Map,intervals:new Map,animationFrames:new Map,isEmpty:(e=!1)=>l.timeouts.size+l.animationFrames.size+(e?l.intervals.size:0)===0}}const c=(e,t,n,r)=>{const i="string"===typeof t,o=r&&r.appendArgs||[],a=()=>{n.timerId=null,n.lastCallTime=s.now();const r=n.args;n.args=null,i?e[t](...r,...o):t.call(e,...r,...o),n.called=!0,++n.calls};return r&&(e=r.thisObj||e),n.lastCallTime=-9e9,n.calls=0,n.invoker=a,a.wrapFn=n,a},d=(e,t,n="clearTimeout")=>(t.cancel=()=>{t.isPending&&(e[n](t.timerId),t.args=t.timerId=null)},t.flush=()=>{t.isPending&&(e[n](t.timerId),t.timerId=null,t.invoker())},t.now=(...e)=>{t.cancel(),t.args=e,t.invoker()},t.resume=e=>{const n=t.suspended;t.suspended=e||n<1?0:n-1},t.suspend=()=>{++t.suspended},t.immediate=!1,t.suspended=0,t.timerId=null,a(t,"isPending",{get:()=>null!==t.timerId}),t);t.default=e=>class extends(e||r.default){static get $name(){return"Delayable"}static get declarable(){return["delayable"]}doDestroy(){const e=this;super.doDestroy(),e.timeoutIds&&(e.timeoutIds.forEach((e,t)=>{"function"===typeof e&&e(),clearTimeout(t),l&&l.timeouts.delete(t)}),e.timeoutIds=null),e.timeoutMap&&(e.timeoutMap.forEach((e,t)=>clearTimeout(t)),e.timeoutMap=null),e.intervalIds&&(e.intervalIds.forEach(e=>{clearInterval(e),l&&l.intervals.delete(e)}),e.intervalIds=null),e.animationFrameIds&&(e.animationFrameIds.forEach(e=>{cancelAnimationFrame(e),l&&l.animationFrames.delete(e)}),e.animationFrameIds=null)}hasTimeout(e){return!(!this.timeoutMap||!this.timeoutMap.has(e))}setTimeout({fn:e,delay:t,name:n,runOnDestroy:r,cancelOutstanding:i,args:o}){(arguments.length>1||"function"===typeof arguments[0])&&([e,t,n,r]=arguments),"string"===typeof e?n=e:n||(n=e.name),i&&this.clearTimeout(n);const a=this,s=a.timeoutIds||(a.timeoutIds=new Map),c=a.timeoutMap||(a.timeoutMap=new Map),d=setTimeout(()=>{"string"===typeof e&&(e=a[n]),s&&s.delete(d),c&&c.delete(n),l&&l.timeouts.delete(d),e.apply(a,o)},t);return s.set(d,!r||e),l&&l.timeouts.set(d,{fn:e,delay:t,name:n}),n&&c.set(n,d),d}clearTimeout(e){let t=e;if("string"===typeof t){if(!this.timeoutMap)return;t=this.timeoutMap.get(e),this.timeoutMap.delete(e)}clearTimeout(t),this.timeoutIds&&this.timeoutIds.delete(t),l&&l.timeouts.delete(t)}clearInterval(e){clearInterval(e),this.intervalIds&&this.intervalIds.delete(e),l&&l.intervals.delete(e)}setInterval(e,t){const n=setInterval(e,t);return(this.intervalIds||(this.intervalIds=new Set)).add(n),l&&l.intervals.set(n,{fn:e,delay:t}),n}requestAnimationFrame(e,t=[],n=this){const r=this.animationFrameIds||(this.animationFrameIds=new Set),i=requestAnimationFrame(()=>(l&&l.animationFrames.delete(i),r.delete(i),e.apply(n,t)));return r.add(i),l&&l.animationFrames.set(i,{fn:e,extraArgs:t,thisObj:n}),i}createOnFrame(e,t=[],n=this,r){let i;const o=(...o)=>{i&&r&&(this.cancelAnimationFrame(i),i=null),i||(i=this.requestAnimationFrame(()=>{"string"===typeof e&&(e=n[e]),i=null,o.push(...t),e.apply(n,o)}))};return o.cancel=()=>this.cancelAnimationFrame(i),o}cancelAnimationFrame(e){cancelAnimationFrame(e),this.animationFrameIds&&this.animationFrameIds.delete(e),l&&l.animationFrames.delete(e)}async nextAnimationFrame(){return new Promise(e=>this.requestAnimationFrame(e))}buffer(e,t){let n=t;t&&"number"!==typeof t?n=t.delay:t=null;const r=(...e)=>{if(r.suspended)return;const{delay:t}=r;r.cancel(),r.called=!1,r.args=e,r.immediate||!t?i():r.timerId=this.setTimeout(i,t)},i=c(this,e,r,t);return r.delay=n,d(this,r)}raf(e,t){let n=t;t&&"boolean"!==typeof t?n=t.cancelOutstanding:t=null;const r=(...e)=>{r.suspended||(r.cancelOutstanding&&r.cancel(),r.called=!1,r.args=e,r.immediate?i():r.isPending||(r.timerId=this.requestAnimationFrame(i)))},i=c(this,e,r,t);return r.cancelOutstanding=n,d(this,r,"cancelAnimationFrame")}throttle(e,t){let n,r=t;t&&"number"!==typeof t?(r=t.delay,n=t.throttled):t=null;const i=this,o=(...e)=>{if(o.suspended)return;const{delay:t}=o,r=s.now()-o.lastCallTime;o.args=e,o.immediate||r>=t?(i.clearTimeout(o.timerId),a()):(o.isPending||(o.timerId=i.setTimeout(a,t-r),o.called=!1),n&&(n.wrapFn.args=e,n()))},a=c(i,e,o,t);return o.delay=r,n&&(n=c(i,n,()=>{},t)),d(i,o)}static setupDelayable(e){e.setupDelayableMethods(e.delayable)}static setupDelayableMethods(e,t=null){const n=e.static,r=t||this.prototype;n&&delete e.static;for(const i in e){let t=e[i];const n=i+"Now",o=typeof t;r[n]=r[i],"number"===o?t={type:"buffer",delay:t}:"string"===o&&(t={type:t}),a(r,i,{get(){const e=this[t.type]((...e)=>{this[n](...e)},t);return a(this,i,{value:e}),e}})}}get widgetClass(){}}},"./lib/Core/mixin/Draggable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/EventHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/util/drag/DragContext.js"),l=n("./lib/Core/util/drag/DragProxy.js");t.default=e=>class extends(e||r.default){static get $name(){return"Draggable"}static get configurable(){return{dragging:null,draggingClsSelector:null,dragDocumentListeners:{element:document,keydown:"onDragKeyDown",keyup:"onDragKeyUp",contextmenu:"onDragContextMenu",mousemove:"onDragPointerMove",mouseup:"onDragPointerUp",pointerup:"onDragPointerUp",touchend:"onDragPointerUp",touchmove:{handler:"onDragPointerMove",passive:!1}},dragItemSelector:null,dragLock:null,dragMinDistance:1,dragProxy:{$config:["lazy","nullify"],value:null},dragRootElement:{$config:"nullify",value:null},dragSameTargetDrop:!1,dragSelector:null,dragSwallowClickTime:50,dragThreshold:5,dragTouchStartDelay:300,dropTargetSelector:null,testConfig:{dragSwallowClickTime:o.default.isEdge?300:50}}}static get properties(){return{draggingCls:"b-draggable-active",draggingBodyCls:"b-draghelper-active",draggingItemCls:"b-dragging-item",draggingStartedCls:"b-draggable-started",draggableCls:"b-draggable"}}dragStart(e){}dragOver(e){}dragEnterTarget(e){}dragLeaveTarget(e,t){}dragDrop(e){}dragEnd(e){}get activeDrag(){const{dragging:e}=this;return null!==e&&void 0!==e&&e.started&&!e.completed?e:null}get dragEventer(){return this.trigger?this:null}get draggingClassElement(){const{draggingClsSelector:e,dragRootElement:t}=this;return e?null===t||void 0===t?void 0:t.closest(e):t}beforeDrag(e){const{dragSelector:t}=this;return!t||e.element.matches(t)}beginDrag(e){const{draggingCls:t,draggingClassElement:n}=this;t&&n&&(n.classList.add(t),e.cleaners.push(()=>n.classList.remove(t)))}async endDrag(e){const t=this,{dragEventer:n,dragProxy:r}=t;e.valid&&await t.dragDrop(e),t.dragEnd(e),null===r||void 0===r||r.dragEnd(e),null===n||void 0===n||n.trigger(e.valid?"drop":"dragCancel",{drag:e,event:e.event}),t.finalizeDrag(e)}async finalizeDrag(e){await e.finalize()}moveDrag(e){if(!1!==this.dragOver(e)){const{dragEventer:t,dragProxy:n}=this;null===n||void 0===n||n.dragMove(e),null===t||void 0===t||t.trigger("drag",{drag:e,event:e.event})}}setupDragContext(e){const{dragItemSelector:t}=this,{target:n}=e;return{event:e,itemElement:t?n.closest(t):n,touchStartDelay:this.dragTouchStartDelay,source:this,threshold:this.dragThreshold}}startDrag(e){const{draggingStartedCls:t,draggingClassElement:n,draggingItemCls:r,dragEventer:i,dragProxy:o}=this,{itemElement:a}=e;if(!1===(null===i||void 0===i?void 0:i.trigger("beforeDragStart",{drag:e,event:e.event})))return!1;t&&n&&(n.classList.add(t),e.cleaners.push(()=>n.classList.remove(t))),r&&a&&(a.classList.add(r),e.cleaners.push(()=>a.classList.remove(r))),null===o||void 0===o||o.dragStart(e),this.dragStart(e),null===i||void 0===i||i.trigger("dragStart",{drag:e,event:e.event})}trackDrag(e){var t;const{dropTargetSelector:n}=this;e.valid=!(n&&(null===(t=e.targetElement)||void 0===t||!t.closest(n))),this.moveDrag(e)}configureListeners(e){const t=a.default.assign({thisObj:this},this.dragDocumentListeners);return"touches"in e.startEvent?(delete t.mousemove,delete t.mouseup):(delete t.contextmenu,delete t.touchmove,delete t.touchend,delete t.pointerup),t}updateDragging(e){const t=this;if(e){const n=t.configureListeners(e);e.cleaners.push(i.default.on(n)),t.beginDrag(e)}}changeDragProxy(e,t){return l.default.reconfigure(t,e,{owner:this,defaults:{owner:this}})}updateDragRootElement(e,t){var n;const r=this,{draggableCls:o}=r;null===t||void 0===t||t.classList.remove(o),null===(n=r._dragRootDetacher)||void 0===n||n.call(r),e&&(e.classList.add(o),r._dragRootDetacher=i.default.on({thisObj:r,element:e,mousedown:"onDragMouseDown",touchstart:"onDragTouchStart"}))}onDragContextMenu(e){e.preventDefault()}onDragKeyDown(e){this.dragging.keyDown(e)}onDragKeyUp(e){this.dragging.keyUp(e)}onDragMouseDown(e){0===e.button&&this.onDragPointerDown(e)}onDragPointerDown(e){let{dragging:t}=this;t?t.isFinalizing||t.abort():(t=new s.default(this.setupDragContext(e)),t.begin())}onDragPointerMove(e){const{dragging:t}=this;t&&!t.completed&&(null===t||void 0===t||t.move(e))}onDragPointerUp(e){const{dragging:t}=this;t&&!t.completed&&(t.end(e),this.endDrag(t))}onDragTouchStart(e){1===e.touches.length&&this.onDragPointerDown(e)}}},"./lib/Core/mixin/Droppable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/DomDataStore.js");t.default=e=>class extends(e||r.default){static get $name(){return"Droppable"}static get configurable(){return{droppableSelector:null,dropping:null,dropRootElement:{$config:"nullify",value:null}}}get droppableCls(){return"b-droppable"}dragEnter(e){}dragMove(e){}dragDrop(e){}dragLeave(e){}changeDropping(e,t){if(e!==t){const n=this;t&&(!t.aborted&&t.completed||n.dragLeave(t)),e&&(n._dropping=e,!1===n.dragEnter(e)&&(e=null),n._dropping=t)}return e}updateDropRootElement(e,t){const n=this,{droppableCls:r}=n;let o,a,s;t&&(o=i.default.get(t,"droppables"),s=!0,Array.isArray(o)&&(a=o.indexOf(n))>-1&&(o.length<2?i.default.remove(t,"droppables"):(o.splice(a,1),o.forEach(e=>{r===e.droppableCls&&(s=!1)}))),s&&t.classList.remove(r)),e&&(o=i.default.get(e,"droppables"),o?o.push(n):i.default.set(e,"droppables",[n]),e.classList.add(r))}}},"./lib/Core/mixin/Events.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ArrayHelper.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Core/helper/VersionHelper.js"),s=n("./lib/Core/helper/BrowserHelper.js"),l=n("./lib/Core/helper/util/Objects.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{isArray:u}=Array,h={thisObj:1,detachable:1,once:1,detacher:1,prio:1,args:1,expires:1,name:1},f=(e,t)=>t.prio-e.prio;t.default=e=>class t extends(e||r.default){static get $name(){return"Events"}static get declarable(){return["deprecatedEvents"]}static setupDeprecatedEvents(e,t){const n=t.getInherited("deprecatedEvents"),r=e.deprecatedEvents;for(const i in r)n[i.toLowerCase()]=n[i]=r[i]}static get configurable(){return{listeners:{value:null,$config:{merge(e,t){if(null!==e){if(!e)return t;t&&(e=e?[e]:[]).push[u(t)?"apply":"call"](e,t)}return e}}}}}destroy(){this.trigger("beforeDestroy"),super.destroy()}construct(e,...t){var n;(this.configuredListeners=null===(n=e)||void 0===n?void 0:n.listeners)&&delete(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)).listeners,super.construct(e,...t),this.processConfiguredListeners()}processConfiguredListeners(){if(this.configuredListeners){const e=this,{isConfiguring:t}=e;e.isConfiguring=!1,e.listeners=e.configuredListeners,e.configuredListeners=null,e.isConfiguring=t}}doDestroy(){this.trigger("destroy"),this.removeAllListeners(),super.doDestroy()}static setupClass(e){super.setupClass(e),["onListen","onUnlisten"].forEach(e=>t.prototype[e].$nullFn=!0)}addListener(e,t,n){if(u(e)){for(let n=0,{length:r}=e;n<r;n++)this.addListener(e[n],t);return}const r=this,o=r.$meta.getInherited("deprecatedEvents");if("string"===typeof e)return r.addListener({[e]:t,detachable:!1!==t.detachable,thisObj:n});{t=e.thisObj=void 0!==e.thisObj?e.thisObj:t;for(const l in e)if(!h[l]){const n=l.toLowerCase(),c=null===o||void 0===o?void 0:o[n],d=r.eventListeners||(r.eventListeners={}),u=e[l],h=u.expires||e.expires,g={fn:"object"===typeof u?u.fn:u,thisObj:void 0!==u.thisObj?u.thisObj:t,args:u.args||e.args,prio:void 0!==u.prio?u.prio:void 0!==e.prio?e.prio:0,once:void 0!==u.once?u.once:void 0!==e.once&&e.once,catchAll:"catchAll"===l};if(c){const{product:e,invalidAsOfVersion:t,message:n}=c;a.default.deprecate(e,t,n)}if(h){const e=r.isDelayable?r:s.default.global,{alt:i}=h,o=i?h.delay:h;e.setTimeout(()=>{r.un(n,g),i&&!g.called&&r.callback(i,t)},o)}let m=d[n]||(d[n]=[]);m.$firing&&(d[n]=m=m.slice()),m.splice(i.default.findInsertionIndex(g,m,f,m.length),0,g),!r.onListen.$nullFn&&m.length<2&&r.onListen(n)}e.relayAll&&r.relayAll(e.relayAll),t&&t!==r&&r.attachAutoDetacher(e,t);const n=!1!==e.detachable,c=e.name,d=e.expires||n||c?()=>{r.isDestroyed||r.removeListener(e,t)}:null;var l;if(d&&(d.eventer=r,d.listenerName=c,c&&null!==(l=t)&&void 0!==l&&l.trackDetacher&&t.trackDetacher(c,d),e.expires&&r.delay(d,e.expires),n))return d}}on(...e){return this.addListener(...e)}un(...e){this.removeListener(...e)}get listeners(){return this.eventListeners}changeListeners(e){if(!this.isConfiguring)return e&&!("thisObj"in e)&&(e=l.default.assign({thisObj:this},e)),e;e&&this.on(e,this)}updateListeners(e,t){t&&this.un(t),e&&this.on(e)}removeListener(e,t=e.thisObj,n){const r=this;if("string"===typeof e)return r.removeListener({[e]:t},n);Object.entries(e).forEach(([e,n])=>{if(!h[e]){e=e.toLowerCase();const i=r.eventListeners,o=r.findListener(e,n,t);if(o>=0){let t=i[e];t.length>1?(t.$firing&&(i[e]=t=t.slice()),t.splice(o,1)):(delete i[e],r.onUnlisten.$nullFn||r.onUnlisten(e))}}}),e.thisObj&&!e.thisObj.isDestroyed&&r.detachAutoDetacher(e)}findListener(e,t,n){var r;const i=null===(r=this.eventListeners)||void 0===r?void 0:r[e],o=t.fn||t,a=t.thisObj||n;if(i)for(let s,l=0,{length:c}=i;l<c;l++)if(s=i[l],s.fn===o&&s.thisObj===a)return l;return-1}hasListener(e){var t;return Boolean(null===(t=this.eventListeners)||void 0===t?void 0:t[null===e||void 0===e?void 0:e.toLowerCase()])}relayAll(e,t,n=!0){this.relayAllTargets||(this.relayAllTargets=[]);const r=this.relayAllTargets;e.on("beforeDestroy",({source:t})=>{t===e&&r.filter(t=>t.through===e).forEach(e=>i.default.remove(r,e))}),r.push({through:e,prefix:t,transformCase:n})}removeAllListeners(){const e=this.eventListeners;let t,n;for(const i in e){const o=e[i];for(t=o.length;t-- >0;){var r;const e=o[t];this.removeListener(i,e),n=e.thisObj,null!==(r=n)&&void 0!==r&&r.untrackDetachers&&n.untrackDetachers(this)}}}relayEvents(e,t,n=""){const r={detachable:!0};return t.forEach(e=>{r[e]=(e,...t)=>this.trigger(n+e.type,e,...t)}),e.on(r)}onListen(){}onUnlisten(){}destructorInterceptor(){const{autoDetachers:e,target:t,oldDestructor:n}=this;for(let r=0;r<e.length;r++){const{dispatcher:n,config:i}=e[r];n.isDestroyed||n.removeListener(i,t)}n.call(t)}attachAutoDetacher(e,t){const n=e.thisObj||t,r="doDestroy"in n?"doDestroy":"destroy";if(r in n){let{$autoDetachers:t}=n;t||(n.$autoDetachers=t=[]),n.$oldDestructor||(n.$oldDestructor=n[r],n[r]=this.destructorInterceptor.bind({autoDetachers:t,oldDestructor:n.$oldDestructor,target:n})),t.push({config:e,dispatcher:this})}else n[r]=()=>{this.removeListener(e)}}detachAutoDetacher(e){const t=e.thisObj;t.$oldDestructor&&!t.isDestroying&&(i.default.remove(t.$autoDetachers,t.$autoDetachers.find(t=>t.config===e&&t.dispatcher===this)),t.$autoDetachers.length||(t["doDestroy"in t?"doDestroy":"destroy"]=t.$oldDestructor,t.$oldDestructor=null))}await(e,t={checkLog:!0,resetLog:!0,args:null}){const n=this;!1===t&&(t={checkLog:!1});const{args:r}=t;return new Promise(i=>{var o;if(t.checkLog&&null!==(o=n._triggered)&&void 0!==o&&o[e]&&(i(),t.resetLog&&n.clearLog(e)),r){const o=n.on({[e]:(...a)=>{Object.keys(r).every(e=>e in a[0]&&a[0][e]===r[e])&&(i(...a),t.resetLog&&n.clearLog(e),o())},prio:-1e4})}else n.on({[e]:(...r)=>{i(...r),t.resetLog&&n.clearLog(e)},prio:-1e4,once:!0})})}clearLog(e){this._triggered&&(e?delete this._triggered[e]:this._triggered={})}trigger(e,t){var n,r,i;const a=this,s=e.toLowerCase(),{eventsSuspended:c,relayAllTargets:d,callOnFunctions:u}=a;let h,g=null===(n=a.eventListeners)||void 0===n?void 0:n[s];if(a._triggered||(a._triggered={}),a._triggered[e]=!0,c)return c.shouldQueue&&c.queue.push(arguments),!0;if(null!==(r=a.eventListeners)&&void 0!==r&&r.catchall&&((g=g?g.slice():[]).push(...a.eventListeners.catchall),g.sort(f)),!g&&!d&&!u)return!0;if(t?"source"in t||(Object.isExtensible(t)?t.source=a:t=Object.setPrototypeOf({source:a},t)):t={source:a},t.type!==s&&(t.constructor!==Object?Reflect.defineProperty(t,"type",{get:()=>s}):t.type=s),u){const n="on"+o.default.capitalize(e);if(n in a){var m;let e=!1===a.callback(a[n],a,[t]);if(!a.isDestroyed&&Object.prototype.hasOwnProperty.call(a,n)&&(null===(m=a.pluginFunctionChain)||void 0===m||!m[n])){const r=Object.getPrototypeOf(a);if(n in r&&(e=!1===r[n].call(a,t)||e,a.isDestroyed))return}if(e)return!1}}if(g){let e,n,r,i=0;for(g.$firing=!0;i<g.length&&!a.isDestroyed&&!1!==r;i++){e=g[i];let o=e.thisObj;if(!o||!o.isDestroyed){if(e.called=!0,e.once&&a.removeListener(s,e),"string"===typeof e.fn){if(o&&(n=o[e.fn]),!n){const t=a.resolveCallback(e.fn);n=t.handler,o=t.thisObj}}else n=e.fn;r=e.args?n.call(o||a,...e.args,t):n.call(o||a,t),l.default.isPromise(r)&&(h||(h=[])).push(r)}}if(g.$firing=!1,!1===r)return r}return d&&d.forEach(n=>{let r=e;if(n.transformCase&&(r=o.default.capitalize(r)),n.prefix&&(r=n.prefix+r),!1===n.through.trigger(r,t))return!1}),t.bubbles&&a.owner&&!a.owner.isDestroyed?a.owner.trigger(e,t):null===(i=h)||void 0===i||!i.length||new Promise(e=>{Promise.all(h).then(t=>{const n=!t.some(e=>!1===e);e(n)})})}suspendEvents(e=!1){(this.eventsSuspended||(this.eventsSuspended={shouldQueue:e,queue:[],count:0})).count++}resumeEvents(){const e=this.eventsSuspended;if(e&&0===--e.count&&(this.eventsSuspended=null,e.shouldQueue))for(const t of e.queue)this.trigger(...t);return!Boolean(this.eventsSuspended)}}},"./lib/Core/mixin/Factoryable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{defineProperty:c}=Reflect,d=Symbol("owner"),u=/[\s,]+/;t.default=e=>class extends(e||r.default){static get $name(){return"Factoryable"}static get declarable(){return["factoryable","alias","type"]}static register(e,t,n=a.default.global.__BRYNTUM_EXAMPLE){const{factoryable:r}=this.initClass(),{caseless:o,registry:s}=r,l=i.default.split(e,u);for(let i,a,c=0;c<l.length;++c){if(a=l[c],i=o?a.toLowerCase():a,!n&&i in s)throw new Error(`Type "${a}" already registered with ${r.class.name} factory`);s[a]=s[i]=t.initClass()}}static isA(e,t){return this.isType(e,t,!0)}static isType(e,t,n){const{factoryable:r}=this,{caseless:i,registry:o}=r,a=o[i?t.toLowerCase():t];return!!a&&(n?e instanceof a:e.constructor===a)}static setupAlias(e){e.register(e.alias,e)}static setupFactoryable(e,t){const n=t.super.class;let{factoryable:r}=e;r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({caseless:!0,defaultType:null,extends:n.factoryable?[n]:null,typeKey:"type"},r),r.class=e,r.registry=Object.create(null),r.extends&&!Array.isArray(r.extends)&&(r.extends=[r.extends]),c(e,"factoryable",{get:()=>r})}static setupType(e){const{type:t}=e;e.register(t,e),c(e.prototype,"type",{value:t})}static create(e,t){return this.reconfigure(null,e,t)}static reconfigure(e,t,n){const r=this,{factoryable:i}=r,{typeKey:a}=i;let s,l,c,u,h,f,g,m,p,v=n;if(n&&!o.default.isClass(n)&&(v=null,g=typeof n,"function"===g?f=n:"string"===g?v=n:o.default.isObject(n)?(s=n.cleanup,l=n.defaults,u=n.owner,f=n.setup,v=n.type,m=n.transform):u=n),m&&(t="string"===typeof m?u[m](t):m(t)),p=t,"string"===typeof p)t={};else if(t){var b;if(!0===t&&(t={}),!o.default.isObject(t))return u&&t!==e&&(null===e||void 0===e?void 0:e[d])===u&&("string"===typeof s?u[s](e):null===(b=s)||void 0===b||b(e),e.destroy()),t;p=t[a]}if(p=p&&r.resolveType(p),e){if(t&&(!p||e.constructor===p))return a in t&&delete(t=o.default.assign({},t))[a],e.setConfig(t),e;var y;u&&e[d]===u&&("string"===typeof s?u[s](e):null===(y=s)||void 0===y||y(e),e.destroy())}if(t){if(l){if(!(c=p)){if(!(c=l[a]||v||i.defaultType))throw new Error(`No default mergeType defined for ${i.class.name} factory`);c=r.resolveType(c)}c&&(t=c.mergeConfigs(l,t))}if(f){if(h="string"===typeof f?u[f](t,p,l):f(t,p,l),null===h)return h;t=h||t}if(!p){if(!(p=t[a]||v||i.defaultType))throw new Error(`No default type defined for ${i.class.name} factory`);p=r.resolveType(p)}l&&!c&&(t=p.mergeConfigs(l,t)),a in t&&delete(t=o.default.assign({},t))[a],t=new p(t),u&&(t[d]=u)}return t||null}static resolveType(e,t){if("string"!==typeof e)return e;const{factoryable:n}=this,r=n.extends;let i,o=n.registry[n.caseless?e.toLowerCase():e];for(i=0;!o&&r&&i<r.length;++i)o=r[i].resolveType(e,!0);if(!o&&!t)throw new Error(`Invalid type name "${e}" passed to ${n.class.name} factory`);return o}}},"./lib/Core/mixin/Featureable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/util/DynamicObject.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=e=>class extends(e||r.default){static get $name(){return"Featureable"}static get configurable(){return{features:null}}static get declarable(){return["featureable"]}static setupFeatureable(e){const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ownerName:"client"},e.featureable);t.factory.initClass(),Reflect.defineProperty(e,"featureable",{get:()=>t})}doDestroy(){const e=this.features;super.doDestroy();for(const n in e){var t;const r=e[n];null===(t=r.destroy)||void 0===t||t.call(r)}}hasFeature(e){var t;return Boolean(null===(t=this.features)||void 0===t?void 0:t[e])}changeFeatures(e,t){if(this.isDestroying)return;const{featureable:n}=this.constructor,r=this.$features||(this.$features=new i.default({configName:"features",factory:n.factory,owner:this,ownerName:n.ownerName}));return r.update(e),t?void 0:r.target}get widgetClass(){}}},"./lib/Core/mixin/Finalizable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"Finalizable"}construct(...e){super.construct(...e),this.finalizer=null,this.finalizing=null,this.isFinalized=!1,this.isFinalizing=!1}doFinalize(){this.destroy()}finalize(){const e=this;let t=e.finalizing;return t||e.isFinalized||(e.isFinalizing=!0,e.finalizing=t=e._awaitFinalizer()),t}async _awaitFinalizer(){const e=this;try{await e.finalizer}finally{e.finalizing=null,e.isFinalized=!0,e.doFinalize()}}}},"./lib/Core/mixin/Hoverable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/mixin/Delayable.js"),i=n("./lib/Core/helper/util/DomClassList.js"),o=n("./lib/Core/helper/EventHelper.js");const a="b-hover-edge",s="b-hover-top",l="b-hover-right",c="b-hover-bottom",d="b-hover-left",u={[a]:1,[s]:1,[l]:1,[c]:1,[d]:1},h={t:[a,s],r:[a,l],b:[a,c],l:[a,d],tr:[a,s,l],bl:[a,c,d],tl:[a,s,d],br:[a,c,l]};t.default=e=>class extends(e.mixin(r.default)){static get $name(){return"Hoverable"}static get configurable(){return{hoverCls:null,hoverAnimationCls:null,hoverRootCls:null,hoverRootActiveCls:null,hoverDelay:null,hoverElement:null,hoverIgnoreElement:null,hoverEdges:null,hoverEdgeSize:10,hoverRootElement:{$config:"nullify",value:null},hoverSelector:null,hoverTarget:{$config:"nullify",value:null},hoverTrack:null,hoverZone:null}}static get delayable(){return{setHoverTarget:0}}hoverEnter(e){}hoverIgnore(e){var t;return null===(t=this.hoverIgnoreElement)||void 0===t?void 0:t.contains(e)}hoverLeave(e){}hoverMove(e){}onHoverMouseMove(e){const t=this,{hoverEdges:n,hoverEdgeSize:r,hoverTarget:i}=t;if(i){if(n){const{top:o,left:a,width:s,height:l,right:c,bottom:d}=i.getBoundingClientRect(),{clientX:u,clientY:h}=e,f=a+s/2,g=o+l/2,m=h<(r?o+r:g),p=u>=(r?c-r:f),v=h>=(r?d-r:g),b=u<(r?a+r:f),y=m||v?m?"t":"b":"",C=p||b?p?"r":"l":"";t.hoverZone=(n.includes(y)?y:"")+(n.includes(C)?C:"")}t.hoverEvent=e,t.hoverTrack&&t.hoverMove(e)}}onHoverMouseOver(e){this.hoverEvent=e,this.hoverElement=e.target}onHoverMouseOut(e){this.hoverEvent=e,this.hoverElement=e.relatedTarget}updateHoverDelay(e){this.setHoverTarget.delay=e}changeHoverEdges(e){return!0===e?"trbl":(e||"").replace("v","tb").replace("h","lr")}updateHoverEdges(){this.syncHoverListeners()}changeHoverElement(e){if(!this.hoverIgnore(e))return e}updateHoverElement(e){const{hoverSelector:t}=this;var n;t&&(e=null===(n=e)||void 0===n?void 0:n.closest(t)),this.setHoverTarget(e)}updateHoverRootElement(e,t){const{hoverRootCls:n}=this;n&&(null===t||void 0===t||t.classList.remove(n),null===e||void 0===e||e.classList.add(n)),this.syncHoverListeners()}changeHoverTarget(e,t){return t&&(this.hoverZone=null),e}updateHoverTarget(e,t){const n=this,{hoverCls:r,hoverAnimationCls:i,hoverRootActiveCls:o,hoverRootElement:a}=n;o&&(null===a||void 0===a||a.classList[e?"add":"remove"](o)),t&&(r&&t.classList.remove(r),i&&t.classList.remove(i),n.hoverLeave(t)),e&&(r&&e.classList.add(r),n.hoverEnter(t),n.hoverTrack&&n.hoverMove(n.hoverEvent),i&&(e.getBoundingClientRect(),e.classList.add(i)))}updateHoverTrack(){this.syncHoverListeners()}updateHoverZone(e){const{hoverAnimationCls:t,hoverTarget:n}=this;if(n){const{className:r}=n,o=i.default.change(r,e?h[e]:null,u);r!==o&&(n.className=o,e&&t&&(n.classList.remove(t),n.getBoundingClientRect(),n.classList.add(t)))}}setHoverTarget(e){this.hoverTarget=e}syncHoverListeners(){var e;const t=this,n=t.hoverRootElement,r={element:n,thisObj:t,mouseover:"onHoverMouseOver",mouseout:"onHoverMouseOut"};(t.hoverTrack||t.hoverEdges)&&(r.mousemove="onHoverMouseMove"),null===(e=t._hoverRootDetacher)||void 0===e||e.call(t),t._hoverRootDetacher=n&&o.default.on(r)}}},"./lib/Core/mixin/Identifiable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=Object.create(null),o={string:1,number:1};t.default=e=>class extends(e||r.default){static get $name(){return"Identifiable"}static get declarable(){return["identifiable"]}static get configurable(){return{id:""}}static setupIdentifiable(e,t){const{identifiable:n}=e;n.idMap=Object.create(null),Reflect.defineProperty(e,"identifiable",{get:()=>n})}doDestroy(){this.constructor.unregisterInstance(this),super.doDestroy()}changeId(e){return(this.hasGeneratedId=!e)?this.generateAutoId():e}updateId(e,t){const n=this,r=n.constructor;t&&r.unregisterInstance(n,t),n.hasGeneratedId&&!1===r.identifiable.registerGeneratedId||r.registerInstance(n,e)}generateAutoId(){return this.constructor.generateId(`b-${this.$$name.toLowerCase()}-`)}static get all(){return Object.values(this.identifiable.idMap)}static generateId(e="generatedId"){return e+(i[e]=(i[e]||0)+1)}static registerInstance(e,t=e.id){const{idMap:n}=this.identifiable;if(t in n&&!this.disableThrow)throw new Error("Id "+t+" already in use");n[t]=e}static unregisterInstance(e,t=e.id){const{idMap:n}=this.identifiable;o[typeof e]?delete n[e]:n[t]===e&&delete n[t]}static getById(e){const t=this.identifiable.idMap;if(t)return t[e]}static get registeredInstances(){const e=this.identifiable.idMap;return e?Object.values(e):[]}}},"./lib/Core/mixin/InstancePlugin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/localization/Localizable.js");class s extends(r.default.mixin(i.default,a.default)){static get configurable(){return{clientListeners:null,disabled:!1}}static initPlugins(e,...t){const n=e.plugins||(e.plugins={});for(const r of t)n[r.$$name]=new r(e)}get client(){return this._client}set client(e){this._client=e}getFocusRevertTarget(){var e;return null===(e=this.client)||void 0===e?void 0:e.getFocusRevertTarget()}construct(...e){const t=this;let n,[r,i]=e;1===e.length?o.default.isObject(r)&&(i=r,r=i.client):(i=o.default.assign({},i),delete i.client),t.client=r,super.construct(i),t.applyPluginConfig(r),n=t.clientListeners,n&&(n=o.default.assign({},n),n.thisObj=t,r.on(n))}applyPluginConfig(e){const t=this,n=t.pluginConfig||t.constructor.pluginConfig;if(n){const{assign:r,chain:i,after:o,before:a,override:s}=n;r&&t.applyAssign(e,r),(i||o)&&t.applyChain(e,i||o),a&&t.applyChain(e,a,!1),s&&t.applyOverride(e,s)}}applyAssign(e,t){t.forEach(t=>this.assign(e,t))}applyChain(e,t,n=!0){if(Array.isArray(t))for(const r of t)this.chain(e,r,r,n);else for(const r in t)this.chain(e,r,t[r],n)}applyOverride(e,t){const n=this;n.overridden||(n.overridden={}),t.forEach(t=>{if(!n[t])throw new Error(`Trying to chain fn ${e.$$name}#${t}, but plugin fn ${n.$$name}#${t} does not exist`);"function"===typeof e[t]&&(n.overridden[t]=e[t].bind(e)),e[t]=n[t].bind(n)})}assign(e,t){const n=this,r=function(e,t){const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t);return n&&(n.get||n.set)?n:null}(n,t);r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:r.get&&r.get.bind(n),set:r.set&&r.set.bind(n)}):e[t]=n[t].bind(n)}chain(e,t,n,r=!0){const i=this,o=e.pluginFunctionChain||(e.pluginFunctionChain={}),a=i[n]&&i[n].bind(i),s=i.functionChainRunner;if(!a)throw new Error(`Trying to chain fn ${e.$$name}#${n}, but plugin fn ${i.$$name}#${n} does not exist`);if(!o[t]){let n=e[t];n&&(n=n.bind(e),n.$this=e),o[t]=n?[n]:[],e[t]=(...e)=>s(o[t],e)}a.$this=i,o[t][r?"push":"unshift"](a)}functionChainRunner(e,t){let n,r,i;for(r=0;r<e.length&&(n=e[r],n.$this.isDestroyed||(i=n(...t),!1!==i));r++);return i}doDisable(e){const t=this,{constructor:n}=t,r="featureClass"in n?n.featureClass:"b-"+n.$$name.toLowerCase();var i,o;r&&(null===(i=t.client)||void 0===i||null===(o=i.element)||void 0===o||o.classList[e?"remove":"add"](r)),t.isConfiguring||(e?t.trigger("disable"):t.trigger("enable"))}updateDisabled(e){this.doDisable(e)}throwOverrideIsMissing(e){throw new Error(`Trying to override fn ${e.plugIntoName}#${e.fnName}, but plugin fn ${e.pluginName}#${e.fnName} does not exist`)}get rootElement(){return this.client.rootElement}}s._$name="InstancePlugin"},"./lib/Core/mixin/LoadMaskable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Mask.js"),i=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends e{static get $name(){return"LoadMaskable"}static get configurable(){return{loadMaskDefaults:{useTransition:!0,showDelay:1e3},loadMaskError:{icon:"b-icon b-icon-warning",autoClose:3e3,showDelay:0},loadMask:{text:"L{GridBase.loadMask}"},syncMask:{text:"L{GridBase.syncMask}"},localizableProperties:["loadMask.text","syncMask.text"]}}applyLoadMask(){const e=this,{loadMask:t}=e;t&&(e.masked=r.default.mergeConfigs(e.loadMaskDefaults,t))}applyMaskError(e){const{loadMaskError:t,masked:n}=this;n&&(i.default.assign(n.errorDefaults,t),n.error=e)}get widgetClass(){}}},"./lib/Core/mixin/Override.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/VersionHelper.js");const i={constructor:1,prototype:1,name:1,length:1,arguments:1,caller:1,callee:1,__proto__:1};class o{static apply(e){if(!e.target)throw new Error("Override must specify what it overrides, using static getter target");if(!e.target.class)throw new Error("Override must specify which class it overrides, using target.class");if(!this.shouldApplyOverride(e))return!1;const t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(e.prototype);return t.splice(t.indexOf("target"),1),this.internalOverrideAll(e.target.class,t,e),this.internalOverrideAll(e.target.class.prototype,n,e.prototype),!0}static internalOverrideAll(e,t,n){Reflect.ownKeys(n).forEach(r=>{if(t.includes(r)&&!i[r]){const t=Object.getOwnPropertyDescriptor(n,r);let i=e,o=null;for(;!o&&i;)o=Object.getOwnPropertyDescriptor(i,r),o||(i=Object.getPrototypeOf(i));o&&this.internalOverride(i,r,t,o)}})}static internalOverride(e,t,n,r){(e._overridden=e._overridden||{})[t]=e[t],r.get?Object.defineProperty(e,t,{enumerable:!1,configurable:!0,get:n.get}):e[t]=n.value}static shouldApplyOverride(e){const t=e.target;if(!t.maxVersion&&!t.minVersion)return!0;if(!t.product)throw new Error("Override must specify product when using versioning");return(!t.maxVersion||!r.default[t.product].isNewerThan(t.maxVersion))&&(!t.minVersion||!r.default[t.product].isOlderThan(t.minVersion))}}o._$name="Override"},"./lib/Core/mixin/Pluggable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/InstancePlugin.js");t.default=e=>class extends(e||r.default){static get $name(){return"Pluggable"}get plugins(){return this._plugins||(this._plugins={}),this._plugins}set plugins(e){e&&(Array.isArray(e)||(e=[e]),i.default.initPlugins(this,...e)),this.initPlugins()}initPlugins(){}addPlugins(...e){i.default.initPlugins(this,...e)}hasPlugin(e){return null!=this.getPlugin(e)}getPlugin(e){return"function"===typeof e&&(e=e.$$name),this.plugins&&this.plugins[e]}get widgetClass(){}}},"./lib/Core/mixin/State.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"State"}get state(){return this._state=this.getState(),this._state}set state(e){this._state=e,this.applyState(e)}get widgetClass(){}}},"./lib/Core/util/Bag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/util/Collection.js");const i=new WeakMap,o=e=>{if(e&&"object"===typeof e){let t=i.get(e);void 0===t&&(t=Symbol("bscik"),i.set(e,t)),e=t}return e};class a{constructor(e){const t=this;t.generation=0,t.items=new Set,t.idMap={},t.idProperty="id",e&&(e.idProperty&&(t.idProperty=e.idProperty),e.values&&(t.values=e.values))}get(e){return this.idMap[o(e)]}get count(){return this.items.size}add(...e){1===e.length&&Array.isArray(e[0])&&(e=e[0]);const t=this,{items:n,idMap:i,idProperty:a}=t,s=e.length;for(let l=0;l<s;l++){const s=e[l],c=r.keyTypes[typeof s]?s:o(s[a]),d=i[c];null==d?(i[c]=s,n.add(s),t.generation++):d!==s&&(i[c]=s,n.delete(d),n.add(s))}}remove(e){Array.isArray(e)||(e=[e]);const{items:t,idMap:n,idProperty:i}=this,a=e.length;for(let s=0;s<a;s++){const a=e[s],l=r.keyTypes[typeof a]?a:o(a[i]),c=n[l];null!=c&&(t.delete(c),delete n[l],this.generation++)}}clear(){this.items.clear(),this.idMap={},this.generation++}countOf(e){let t,n=0;for(t of this.items)e(t)&&++n;return n}changeId(e,t){const n=this,{idMap:i,idProperty:a}=n,s=r.keyTypes[typeof e]?e:o(e[a]),l=n.get(s);if(l){const e=n.get(t);if(e&&l!==e)throw new Error(`Attempt to set item ${s} to already existing member's id ${t}`);l[a]=t,delete i[s],i[t]=l}}includes(e){const t=r.keyTypes[typeof e]?e:o(e[this.idProperty]);return Boolean(this.idMap[t])}map(e,t){const{items:n}=this,r=new Array(n.size);let i=0;return n.forEach(o=>{r[i]=e.call(t,o,i++,n)}),r}forEach(e,t){return this.items.forEach(e,t)}find(e,t=0){let n,r;for(n of(t<0&&(t=this.countOf(e)+t),this.items))if(e(n)&&!t--){r=n;break}return r}[Symbol.iterator](){return this.items[Symbol.iterator]()}indexOf(e,t){let n,r=-1;for(n of this.items)if((!t||t(n))&&(++r,n===e))return r;return-1}get values(){return[...this.items]}set values(e){Array.isArray(e)||(e=[e]),this.clear(),this.add.apply(this,e),this.generation++}sort(e){this.values=this.values.sort(e)}some(e,t){return this.values.some(e,t)}}a._$name="Bag"},"./lib/Core/util/ClickRepeater.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/Core/helper/EventHelper.js");class s extends(r.default.mixin(i.default)){static get configurable(){return{element:null,delegate:null,delay:500,startRate:2,endRate:20,accelerateDuration:4e3,pressedCls:"b-pressed"}}doDestroy(){var e;null===(e=this.mousedownRemover)||void 0===e||e.call(this),super.doDestroy()}cancel(){var e,t,n;const r=this;null===(e=r.activeElement)||void 0===e||e.classList.remove(r.pressedCls),r.activeElement=null,null===(t=r.acceleration)||void 0===t||t.cancel(),r.activeListenerRemover=null===(n=r.activeListenerRemover)||void 0===n?void 0:n.call(r),r.clearTimeout("startAutoRepeat"),r.clearTimeout(r.repeatTimer)}updateElement(e){var t;null===(t=this.mousedownRemover)||void 0===t||t.call(this),this.mousedownRemover=a.default.on({element:e,mousedown:"onMouseDown",thisObj:this})}onMouseDown(e){const t=this,n=t.delegate?e.target.closest(t.delegate):t.element;t.cancel(),n&&(t.activeElement=n,t.triggerEvent=e,n.classList.add(t.pressedCls),t.activeListenerRemover=a.default.on({mouseup:{element:document,handler:"onMouseUp"},mousemove:{element:n,handler:"onTargetMouseMove"},mouseleave:{element:n,handler:"onTargetMouseLeave"},mouseenter:{element:n,handler:"onTargetMouseEnter"},thisObj:t}),t.setTimeout("startAutoRepeat",t.delay))}onMouseUp(){this.cancel()}onTargetMouseLeave(){this.activeElement.classList.remove(this.pressedCls),this.clearTimeout(this.repeatTimer)}onTargetMouseEnter(e){const t=this;e.buttons?(t.activeElement.classList.add(t.pressedCls),t.triggerEvent=e,t.fireClick()):t.cancel()}onTargetMouseMove(e){this.triggerEvent=e}startAutoRepeat(){const e=this;e.interval=e.startInterval=1e3/e.startRate,e.accelerationDelta=e.startInterval-1e3/e.endRate,e.fireClick(),e.acceleration=o.default.animate(e.accelerateDuration,e.nextTick,e,"easeOutQuad")}nextTick(e){this.interval=this.startInterval-this.accelerationDelta*e}fireClick(){const e=this,t=new MouseEvent("click",e.triggerEvent);e.triggerEvent.target.dispatchEvent(t),e.repeatTimer=e.setTimeout(e.fireClick,e.interval)}}s._$name="ClickRepeater"},"./lib/Core/util/Collection.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v})),n.d(t,"keyTypes",(function(){return g}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/util/CollectionFilter.js"),a=n("./lib/Core/util/CollectionSorter.js"),s=n("./lib/Core/helper/FunctionHelper.js");const l=()=>0,c=(e,t)=>t-e,d=Symbol("filteredIndicesProperty"),u=Object.freeze([]),h=Object.freeze({action:"sort",added:u,removed:u,replaced:u}),f=Object.freeze({action:"filter",added:u,removed:u,replaced:u}),g={string:1,number:1};function m(e,t,n){if(!1!==t.unique)t.set(n,e);else{let r=t.get(n);r||(r=new Set,t.set(n,r)),r.add(e)}}function p(e,t,n,r){for(let i=0;i<e.length;i++){const o=e[i];for(let e=0;e<r;e++){const r=n[e],i=o[r];m(o,t[r],i)}}}class v extends(r.default.mixin(i.default)){static get configurable(){return{idProperty:"id",extraKeys:null,autoFilter:!0,sorters:{$config:["lazy"],value:[]}}}get isCollection(){return!0}construct(e){this.generation=0,this._values=[],super.construct(e)}doDestroy(){var e;super.doDestroy();const t=this;t._values.length=0,t.isFiltered&&(t._filteredValues.length=0,t.filters.destroy()),null===(e=t._sorters)||void 0===e||e.destroy()}clear(){const e=this,t=e._values.slice();e.totalCount&&(e._values.length=0,e._filteredValues&&(e._filteredValues.length=0),e._indicesInvalid=!0,e.generation++,e.trigger("change",{action:"clear",removed:t}))}replaceValues({values:e,filteredValues:t,silent:n=!1,isNewDataset:r=!1}){const i=this;let o,a;i.isFiltered&&!r?(Boolean(t)?e&&(o=i._values,i._values=e.slice()):(t=e.slice(),e=null),a=i._filteredValues,i._filteredValues=t.slice()):(o=i._values,i._values=e.slice(),t=null,i.isFiltered&&r&&i.autoFilter?(i._filterFunction=null,i._filteredValues=i._values.filter(i.filterFunction)):i._filteredValues&&(i._filteredValues.length=0)),i._indicesInvalid=!0,i.generation++,n||i.trigger("change",{action:"replaceValues",replacedValues:o,replacedFilteredValues:a,values:e,filteredValues:t})}set values(e){this.invalidateIndices(),this.splice(0,this._values.length,e)}get values(){return this.isFiltered?this._filteredValues:this._values}[Symbol.iterator](){return this.values[Symbol.iterator]()}forEach(e,t=!1){(this.isFiltered&&!t?this._filteredValues:this._values).forEach(e)}map(e,t=!1){return(this.isFiltered&&!t?this._filteredValues:this._values).map(e)}find(e,t=!1){return(this.isFiltered&&!t?this._filteredValues:this._values).find(e)}get first(){return this.values[0]}get last(){return this.values[this.count-1]}get allValues(){return this._values}add(...e){1===e.length?this.splice(this._values.length,null,...e):this.splice(this._values.length,null,e)}remove(...e){1===e.length?this.splice(0,...e):this.splice(0,e)}move(e,t){for(Array.isArray(e)||(e=[e]);e.length&&e[0]===t;)e.shift();if(!e.length)return;const n=this,{_values:r}=n,i=n.indexOf(e[0],!0);if(1===e.length&&r[i+1]===t)return;n.suspendEvents(),n.remove(e),n.resumeEvents();const o=t?n.indexOf(t,!0):r.length;if(-1===o)throw new Error("Collection move beforeItem parameter must be present in Collection");return r.splice(o,0,...e),n._indicesInvalid=1,n.trigger("change",{action:"move",items:e,from:i,to:o}),o}splice(e=0,t,...n){const r=this,i=r.idProperty,o=r._values,a={},s=[],l=[],d=r.totalCount;let u,h;if(n)if(1===n.length&&Array.isArray(n[0])&&(n=n[0]),d&&n.length){const e=r.indices[i];u=[];for(let t=0;t<n.length;t++){const r=n[t],s=r[i],c=e.get(s),d=c?o.indexOf(c):-1;a[s]=!0,-1!==d?o[d]!==r&&(l.push([o[d],r]),o[d]=r):u.push(r)}}else u=n;if(t){if("number"===typeof t){t=Math.min(t,o.length-e);for(let n=e;t;--t)a[o[n][i]]?(e++,n++):(s.push(o[n]),o.splice(n,1),h=!0)}else{let e,n=0===u.length;Array.isArray(t)||(t=[t]);const l=t.reduce((t,i)=>{const o="number"===typeof i,a=o?i:r.indexOf(i,!0);return n&&(null!=e&&a!==e+1||o)&&(n=!1),a>=0&&a<d&&t.push(a),e=a,t},[]).sort(c);if(n)l.length&&(s.push.apply(s,t),o.splice(l[l.length-1],l.length),h=!0);else for(let t=0;t<l.length;t++){const e=l[t];-1!==e&&(a[o[e][i]]||(s.unshift(o[e]),o.splice(e,1),h=!0))}}s.length&&!r._indicesInvalid&&s.forEach(r.removeFromIndices,r)}u.length&&(o.splice(Math.min(e,o.length),0,...u),h=!0,r._indicesInvalid||u.forEach(r.addToIndices,r)),l.length&&!r._indicesInvalid&&l.forEach(e=>{r.removeFromIndices(e[0]),r.addToIndices(e[1])}),h||l.length?(r.isSorted?r.onSortersChanged():r.isFiltered&&(r.autoFilter?r.onFiltersChanged():r._filteredValues.push(...u)),r.generation++,r.trigger("change",{action:"splice",removed:s,added:u,replaced:l,oldCount:d})):r.trigger("noChange",{index:e,toRemove:t,toAdd:n})}changeId(e,t){const n=this,{idProperty:r}=n,i=g[typeof e]?e:e[r],o=n.get(i);if(o){const a=n.get(t);if(a&&o!==a)throw new Error(`Attempt to set item ${i} to already existing member's id ${t}`);n.removeIndexEntry(e,r,i),n.addIndexEntry(e,r,t),o[r]=t}}get(e,t=!1){return this.getBy(this.idProperty,e,t)}getAt(e,t=!1){return this.isFiltered&&!t?this._filteredValues[e]:this._values[e]}getBy(e,t,n=!1){return this.findItem(e,t,this.isFiltered&&n)}get count(){return this.values.length}get totalCount(){return this._values.length}updateIdProperty(e){this.addIndex({property:e,unique:!0})}changeSorters(e){return new v({values:Array.isArray(e)?e:[e],listeners:{change:"onSortersChanged",thisObj:this}})}addSorter(e){const t=e instanceof a.default?e:new a.default(e);return this.sorters.add(t),t}get isSorted(){var e;return Boolean(null===(e=this._sorters)||void 0===e?void 0:e.count)}onSortersChanged(){delete this._sortFunction,this._values.sort(this.sortFunction),this.trigger("change",h)}get sortFunction(){return this._sortFunction||(this.isSorted?this._sortFunction=a.default.generateSortFunction(this.sorters.values):this._sortFunction=l),this._sortFunction}get filters(){return this._filters||(this._filters=new v({listeners:{change:"onFiltersChanged",thisObj:this}})),this._filters}addFilter(e){const t=e instanceof o.default?e:new o.default(e);return this.filters.add(t),t}get isFiltered(){return Boolean(this._filters&&this._filters.count)}onFiltersChanged(){const e=this;e._filterFunction=null,e._filteredValues=e._values.filter(e.filterFunction),e._indicesInvalid=!0,e.trigger("change",f)}get filterFunction(){return this._filterFunction||(this.isFiltered?this._filterFunction=o.default.generateFiltersFunction(this.filters.values):this._filterFunction=s.default.returnTrue),this._filterFunction}changeExtraKeys(e){return(Array.isArray(e)?e:[e]).map(e=>"string"===typeof e?{property:e,unique:!0}:e)}updateExtraKeys(e){for(let t=0;t<e.length;t++)this.addIndex(e[t])}addIndex(e){e&&((this._indices||(this._indices={}))[e.property]=new Map,Object.assign(this._indices[e.property],e),this.invalidateIndices())}findIndex(e,t,n=!1){const r=this.findItem(e,t,n);return r?(this.isFiltered&&!n?this._filteredValues:this._values).indexOf(r):-1}findItem(e,t,n=!1){const r=this,{isFiltered:i}=r,o=i&&!n?r.indices[d][e]:r.indices[e];if(o){var a;const e=null!==(a=o.get(t))&&void 0!==a?a:"string"===typeof t&&t.length&&!isNaN(t)&&o.get(Number(t))||null;if(null!=e)return e}else{const o=i&&!n?r._filteredValues:r._values,a=o.length;for(let n=0;n<a;n++){const r=o[n];if(r[e]==t)return r}}return null}indexOf(e,t=!1){return this.findIndex(this.idProperty,g[typeof e]?e:e[this.idProperty],t)}includes(e,t=!1){return Array.isArray(e)?e.some(e=>this.includes(e)):Boolean(this.findItem(this.idProperty,g[typeof e]?e:e[this.idProperty],t))}get indices(){return this._indicesInvalid&&this.rebuildIndices(),this._indices}invalidateIndices(){this._indicesInvalid=!0}rebuildIndices(){const e=this,t=e.isFiltered,n=e._indices||(e._indices={}),r=Object.keys(n),i=r.length,o=e._values;let a;t&&(a=n[d]={});for(let s=0;s<i;s++){const e=n[r[s]];if(e.clear(),t){let t=a[r[s]];t?t.clear():(t=a[r[s]]=new Map,t.unique=e.unique)}}p(o,n,r,i),t&&p(e._filteredValues,a,r,i),e._indicesInvalid=!1}getIndices(e){const t=[this.indices[e]];return this.isFiltered&&t.push(this.indices[d][e]),t}addToIndices(e){Object.keys(this.indices).forEach(t=>{this.addIndexEntry(e,t,e[t])})}removeFromIndices(e){Object.keys(this.indices).forEach(t=>{this.removeIndexEntry(e,t,e[t])})}removeIndexEntry(e,t,n){this.getIndices(t).forEach(t=>function(e,t,n){!1!==t.unique?t.delete(n):t.has(n)&&(t.get(n).delete(e),t.get(n).size||t.delete(n))}(e,t,n))}addIndexEntry(e,t,n){this.getIndices(t).forEach(t=>m(e,t,n))}onItemMutation(e,t){this.extraKeys&&!this._indicesInvalid&&Object.keys(t).forEach(n=>{if(this.indices[n]){const{value:r,oldValue:i}=t[n];this.removeIndexEntry(e,n,i),this.addIndexEntry(e,n,r)}})}}v._$name="Collection"},"./lib/Core/util/CollectionFilter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/FunctionHelper.js"),s=n("./lib/Core/mixin/Identifiable.js"),l=n("./lib/Core/data/Duration.js");const c=(e,t)=>e[t];class d extends(r.default.mixin(s.default)){static get defaultConfig(){return{value:null,operator:null,filterBy:null,convert:null,caseSensitive:!0,id:null,type:null}}static get configurable(){return{property:null}}construct(e){"function"===typeof e&&(e={filterBy:e}),e.type?"date"===e.type?e.value=new Date(e.value):"duration"===e.type&&(e.value=new l.default(e.value)):i.default.isDate(e.value)?e.type="date":e.value instanceof l.default&&(e.type="duration"),super.construct(e)}get id(){return this._id||(this._id=this.property||d.generateId("b-filter"))}set id(e){this._id=e}onChange(e){const t=this;!t.isConfiguring&&t.owner&&!t.owner.isConfiguring&&t.owner.onFilterChanged&&t.owner.onFilterChanged(t,e)}get filterBy(){return this._filterBy||this.defaultFilterBy}set filterBy(e){this._filterBy=e}defaultFilterBy(e){const t=this;let n;return n=t._propertyItems.length>1?t._propertyItems.reduce(c,e):e[t.property],t[t.operator](t.convert(n))}updateProperty(e){this._propertyItems=e.split("."),this.onChange("property")}set value(e){var t,n;this._value=e,e=null!==(t=null===(n=e)||void 0===n?void 0:n.valueOf())&&void 0!==t?t:e,this._filterValue=this.caseSensitive||"string"!==typeof e?e:e.toLowerCase(),this.onChange("value")}get value(){return this._value}get filterValue(){return this._filterValue}set operator(e){this._operator=e,this.onChange("operator")}get operator(){return this._operator||("string"===typeof this.filterValue?"*":"=")}convert(e){var t,n;return"string"===typeof this.filterValue&&e instanceof Date||(e=null!==(t=null===(n=e)||void 0===n?void 0:n.valueOf())&&void 0!==t?t:e),e=this.caseSensitive||"string"!==typeof e?e:e.toLowerCase()}filter(e){return this.filterBy(e)}startsWith(e){return String(e).startsWith(this.filterValue)}endsWith(e){return String(e).endsWith(this.filterValue)}"="(e){return o.default.isEqual(e,this.filterValue)}"!="(e){return!o.default.isEqual(e,this.filterValue)}">"(e){return o.default.isMoreThan(e,this.filterValue)}">="(e){return o.default.isMoreThan(e,this.filterValue)||o.default.isEqual(e,this.filterValue)}"<"(e){return o.default.isLessThan(e,this.filterValue)}"<="(e){return o.default.isLessThan(e,this.filterValue)||o.default.isEqual(e,this.filterValue)}"*"(e){return o.default.isPartial(e,this.filterValue)}static generateFiltersFunction(e){return e&&(e.length||e.count)?function(t){let n=!0;for(const r of e)if(r.disabled||(n=r.filter(t)),!n)break;return n}:a.default.returnTrue}}d._$name="CollectionFilter"},"./lib/Core/util/CollectionSorter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/IdHelper.js");class o extends r.default{static get defaultConfig(){return{property:null,direction:"ASC",sortFn:null,convert:null,id:null,useLocaleSort:null}}construct(e){"function"===typeof e&&(e={sortFn:e}),super.construct(e)}get id(){return this._id||(this._id=this.property||i.default.generateId("b-sorter"))}set id(e){this._id=e}set sortFn(e){this._sortFn=e}get sortFn(){return this._sortFn?this._sortFn:this.defaultSortFn}defaultSortFn(e,t){const{convert:n,property:r,useLocaleSort:i}=this,o="desc"===this.direction.toLowerCase()?-1:1;if(e=e[r],t=t[r],n&&(e=n(e),t=n(t)),i&&null!=e&&null!=t){if(!0===i)return String(e).localeCompare(t);if("string"===typeof i)return String(e).localeCompare(t,i);if("object"===typeof i)return String(e).localeCompare(t,i.locale,i)}return(e>t?1:e<t?-1:0)*o}static generateSortFunction(e,t){const n=e.isCollection?e.values:e,r=n.length;return(e,i)=>{let o,a;for(a=0;a<r;++a)if(o=n[a].sortFn(e,i),o)return o;return t?t(e,i):0}}}o._$name="CollectionSorter"},"./lib/Core/util/DynamicObject.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/FunctionHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=Symbol("pendingCreate");class c extends r.default{static get prototypeProperties(){return{cleanup:null,configName:null,created:null,factory:null,inferType:"name",owner:null,ownerName:null,proxyable:"undefined"!==typeof Proxy,setup:null,transform:null}}static get properties(){return{defaults:{},instances:{},object:Object.create({})}}get proxy(){const e=this;let t=null;return e.proxyable&&(t=new Proxy(e.instances,{get:(t,n)=>e.get(n),set:(t,n,r)=>(e.set(n,r),!0),deleteProperty:(t,n)=>(e.set(n,null),!0)})),Reflect.defineProperty(e,"proxy",{configurable:!0,value:t}),t}get target(){return this.proxy||this.object}define(e,t){const n=this,{transform:r}=n,i=r?r(t,e):t,a=o.default.isInstantiated(i);n.instances[e]=l,a||n.setDefaults(e,i),n.defineProp(e,!0),a&&n.set(e,i)}defineProp(e,t){const n=this,{object:r}=n;n.proxy||Reflect.defineProperty(t?Object.getPrototypeOf(r):r,e,{configurable:!t,enumerable:!0,get:()=>n.get(e),set:t=>n.set(e,t)})}flush(){const e=this;try{var t;e.updating=!0;for(const t in e.defaults)e.get(t);e.afterConfigureOwner=null===(t=e.afterConfigureOwner)||void 0===t?void 0:t.call(e)}finally{e.updating=!1}}get(e){const{defaults:t,instances:n}=this;return n[e]===l&&this.set(e,l),n[e]||t[e]&&null}set(e,t){const n=this,{cleanup:r,configName:i,defaults:o,factory:c,instances:d,owner:u,setup:h,transform:f,updating:g}=n,m=u&&i&&!g,p=d[e]===l?null:d[e],v=c.reconfigure(p,t===l?{}:t||null,{cleanup:r&&(t=>r(t,e)),defaults:o[e]||n.setDefaults(e,{}),owner:n.owner,setup:h&&((t,n,r)=>h(t,e,n,r)),transform:f&&(t=>f(t,e))});if(v!==p){const t=m&&function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d);var b;d[e]=v,v?(n.defineProp(e),null===(b=n.created)||void 0===b||b.call(n,v,e)):(delete n.object[e],delete d[e]),m&&u.onConfigChange({name:i,config:u.$meta.configs[i],value:n.target,was:t})}}setDefaults(e,t){const{defaults:n,factory:r,inferType:i,instances:a,owner:s,ownerName:l}=this,{typeKey:c}=r.factoryable;return t=!0===t?{}:o.default.assign({},t),("name"===i||!0===i&&!t[c])&&(t[c]=e),l&&(t[l]=s),t.beforeConfigure=t=>{a[e]=t},n[e]=t}update(e){const t=this,{owner:n}=t;let r,o;try{if(t.updating=!0,e)for(r in e)o=e[r],t.defaults[r]?t.set(r,o):o&&t.define(r,o);else for(r in t.instances)t.set(r,null)}finally{t.updating=!1}n&&(n.isConfiguring?t.afterConfigureOwner||(t.afterConfigureOwner=i.default.before(n,"afterConfigure","flush",t)):t.flush())}}c.initClass(),c._$name="DynamicObject"},"./lib/Core/util/Month.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends(Object(i.default)(r.default)){static get configurable(){return{date:{$config:{equal:"date"},value:o.default.clearTime(new Date)},month:null,year:null,weekStartDay:null,hideNonWorkingDays:null,nonWorkingDays:null,sixWeeks:null}}configure(e){super.configure(e),this.updateDayNumbers(),e.date&&(this.date=e.date)}changeDate(e){if(!this.isConfiguring){if(e="string"===typeof e?o.default.parse(e,"YYYY-MM-DD"):new Date(e),isNaN(e))throw new Error("Month date ingestion must be passed a Date, or a valid YYYY-MM-DD date string");return e}}updateDate(e,t){const n=this,{dayColumnIndex:r}=n,i=o.default.getFirstDateOfMonth(e),a=o.default.getLastDateOfMonth(i),s=r[i.getDay()],l=r[a.getDay()],c=!t||e.getFullYear()!==t.getFullYear(),d=n.eventListeners&&(t?e.getDate()!==t.getDate()|(n.getWeekId(e)!==n.getWeekId(t))<<1|(e.getMonth()!==t.getMonth())<<2|c<<3:15);if(n._year=e.getFullYear(),n._month=e.getMonth(),n.startDayOfMonth=1-s,n.endDayOfMonth=a.getDate()+(6-l),n.sixWeeks&&(n.endDayOfMonth+=7*(6-n.weekCount)),n.weekBase&&!c||n.calculateWeekBase(),d){const r={newDate:e,oldDate:t,changes:{d:!0,w:Boolean(2&d),m:Boolean(12&d),y:Boolean(8&d)}};n.trigger("dateChange",r),2&d&&n.trigger("weekChange",r),12&d&&n.trigger("monthChange",r),8&d&&n.trigger("yearChange",r)}}calculateWeekBase(){const e=this,{dayColumnIndex:t}=e,n=new Date(e.year,0,1),r=new Date(e.year,11,31),i=e.month?e.getOtherMonth(n):e;e.dayColumnIndex[n.getDay()]>3?e.weekBase=i.startDate:e.weekBase=new Date(e.year,0,i.startDayOfMonth-7);const a=Math.floor(o.default.diff(e.weekBase,r,"day")/7);e.has53weeks=53===a&&t[r.getDay()]>2}getWeekStart(e){if("number"===typeof e)return o.default.add(this.weekBase,7*Math.max(e,1),"day");const t=this,[n,r]=e;return n===t.year?t.getWeekStart(r):t.getOtherMonth(new Date(n,0,1)).getWeekStart(r)}getOtherMonth(e){const t=this,n=t===l?new s(null):l;return n.configure({weekBase:null,weekStartDay:t.weekStartDay,nonWorkingDays:t.nonWorkingDays,hideNonWorkingDays:t.hideNonWorkingDays,sixWeeks:t.sixWeeks,date:new Date(e.getFullYear(),0,1)}),n.date=e,n.updateDate(n.date,n.date),n}changeYear(e){const t=new Date(this.date);t.setFullYear(e),this.date=t}changeMonth(e){const t=new Date(this.date);t.setMonth(e),this.date=t}get weekStartDay(){return"number"===typeof this._weekStartDay?this._weekStartDay:o.default.weekStartDay}updateWeekStartDay(){const e=this;e.updateDayNumbers(),!e.isConfiguring&&e.date&&(e.weekBase=null,e.updateDate(e.date,e.date))}get nonWorkingDays(){return this._nonWorkingDays||o.default.nonWorkingDays}changeNonWorkingDays(e){return a.default.assign({},e)}updateNonWorkingDays(){this.updateDayNumbers()}updateHideNonWorkingDays(){this.updateDayNumbers()}updateSixWeeks(){this.isConfiguring||this.updateDate(this.date)}get dayCount(){return this.endDayOfMonth+1-this.startDayOfMonth}get weekCount(){return this.dayCount/7}get startDate(){const e=this;if(null!=e.year&&null!=e.month&&null!=e.startDayOfMonth)return new Date(e.year,e.month,e.startDayOfMonth)}get endDate(){const e=this;if(null!=e.year&&null!=e.month&&null!=e.startDayOfMonth)return new Date(e.year,e.month,e.endDayOfMonth)}eachDay(e){for(let t=this.startDayOfMonth;t<=this.endDayOfMonth;t++)e(new Date(this.year,this.month,t))}eachWeek(e){const t=this,{weekCount:n}=t;for(let r=t.startDayOfMonth,i=0;i<n;i++){const n=[],i=t.getWeekNumber(new Date(t.year,t.month,r));for(let e=0;e<7;e++,r++)n.push(new Date(t.year,t.month,r));e(i,n)}}getWeekNumber(e){const t=this;if((e=o.default.clearTime(e)).getFullYear()!==t.year)return t.getOtherMonth(new Date(e.getFullYear(),0,1)).getWeekNumber(e);let n=Math.floor(o.default.diff(t.weekBase,e,"day")/7),r=e.getFullYear();return n?(53!==n||t.has53weeks?n>53&&(n%=52):(n=1,r++),[r,n]):t.getOtherMonth(new Date(t.year-1,0,1)).getWeekNumber(new Date(t.year,0,0))}getWeekId(e){const t=this.getWeekNumber(e);return 100*t[0]+t[1]}getCellData(e,t){const n=this,r=e.getDay(),i=n.visibleDayColumnIndex[r],a=n.nonWorkingDays[r],s=n.hideNonWorkingDays&&a;return(e<n.startDate||e>n.endDate)&&(n.month=e.getMonth()),{day:r,visibleColumnIndex:i,isNonWorking:a,week:n.getOtherMonth(e).getWeekNumber(e),key:o.default.format(e,"YYYY-MM-DD"),columnIndex:n.dayColumnIndex[r],date:new Date(e),isOtherMonth:Math.sign(e.getMonth()+12*e.getFullYear()-(t.month+12*t.year)),visible:!s&&e>=t.startDate&&e<o.default.add(t.endDate,1,"day"),tomorrow:o.default.add(e,1,"day"),isRowStart:0===i,isRowEnd:i===n.visibleColumnCount-1}}updateDayNumbers(){const e=this,{weekStartDay:t,nonWorkingDays:n,hideNonWorkingDays:r}=e,i=e.dayColumnIndex=[],o=e.canonicalDayNumbers=[],s=e.visibleDayColumnIndex=[];let l=0;for(let a=0;a<7;a++){const e=(t+a)%7;o[a]=e,i[e]=a,r&&n[e]||(s[e]=l++)}e.visibleColumnCount=l,e.weekLength=r?7-a.default.keys(n).length:7}}const l=new s(null);s._$name="Month"},"./lib/Core/util/Parser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"memo",(function(){return a})),n.d(t,"memoCps",(function(){return s})),n.d(t,"success",(function(){return d})),n.d(t,"failure",(function(){return u})),n.d(t,"isSuccess",(function(){return h})),n.d(t,"resolveParser",(function(){return f})),n.d(t,"succeed",(function(){return g})),n.d(t,"string",(function(){return m})),n.d(t,"bind",(function(){return p})),n.d(t,"seq",(function(){return v})),n.d(t,"alt",(function(){return b})),n.d(t,"regexp",(function(){return y})),n.d(t,"red",(function(){return C})),n.d(t,"runParser",(function(){return S})),n.d(t,"defineParser",(function(){return w}));var r=n("./lib/Core/helper/ObjectHelper.js");let i=0;const o=new WeakMap,a=e=>{const t=new Map;return(...n)=>{const r=((...e)=>e.map(e=>{let t;return e&&"object"==typeof e||"function"==typeof e?(t=o.get(e),void 0===t&&(t=++i,o.set(e,t))):t=String(e),t}).join("-"))(n);let a=t.get(r);return void 0===a&&(a=e(...n),t.set(r,a)),a}},s=e=>{const t=new Map,n=e=>e[0],i=e=>e[1],o=(e,t)=>n(e).push(t);return(a,s)=>{const l=(e=>{let n=t.get(e);return void 0===n&&(n=[[],[]],t.set(e,n)),n})(a);(e=>!i(e).length&&!n(e).length)(l)?(o(l,s),e(a,e=>{((e,t)=>i(e).some(e=>r.default.isEqual(e,t)))(l,e)||(((e,t)=>{i(e).push(t)})(l,e),n(l).forEach(t=>t(e)))})):(o(l,s),i(l).forEach(e=>s(e)))}},l=Symbol("success"),c=Symbol("failure"),d=(e,t)=>[l,e,t],u=e=>[c,e],h=e=>e.length&&e[0]===l,f=e=>"function"!==typeof e||e.length?e:e(),g=a(e=>s((t,n)=>n(d(e,t)))),m=a(e=>s((t,n)=>{const r=Math.min(e.length,t.length),i=t.substr(0,r),o=t.substr(r);n(i===e?d(i,o):u(o))})),p=(e,t)=>(n,r)=>f(e)(n,e=>{if(h(e)){const[,n,i]=e;t(n)(i,r)}else r(e)}),v=a((...e)=>{const t=a((e,t)=>s(p(e,e=>p(t,t=>g([].concat(e,t))))));return e.reduce(t,g([]))}),b=a((...e)=>s((t,n)=>e.forEach(e=>f(e)(t,n)))),y=a(e=>(t,n)=>{const r=new RegExp("^"+e).exec(t);if(r){const e=r[0],i=t.substr(e.length);n(d(e,i))}else n(u(t))}),C=a((e,t)=>p(e,(...e)=>g(t(...[].concat.apply([],e))))),S=(e,t)=>{const n=[];return e(t,e=>{if(h(e)){const[,,t]=e;""===t&&n.push(e)}}),n},w=e=>(t,n)=>n?f(e)(t,n):S(f(e),t);t.default={memo:a,memoCps:s,success:d,failure:u,isSuccess:h,resolveParser:f,succeed:g,string:m,bind:p,seq:v,alt:b,regexp:y,red:C,runParser:S,defineParser:w}},"./lib/Core/util/drag/DragContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/mixin/Delayable.js"),s=n("./lib/Core/mixin/Finalizable.js"),l=n("./lib/Core/data/DomDataStore.js");const c=Symbol("dragAbort"),d=Symbol("dragInit"),u=Symbol("dragDrag"),h=Symbol("dragDrop"),f={x:"horizontal",y:"vertical"};class g extends(r.default.mixin(s.default,a.default)){static get configurable(){return{itemElement:null,scrollManager:null,source:null,target:null,targetElement:null,threshold:5,touchStartDelay:300}}construct(...e){super.construct(...e);const t=this,{event:n}=t;Object.assign(t,{altKey:null,cleaners:[],ctrlKey:null,data:new Map,element:n.target,endEvent:null,lastMoveEvent:null,metaKey:null,scrollerAction:null,shiftKey:null,state:d,startEvent:n,touchStartTimer:null,_valid:!0}),"touches"in n&&(t.touchStartTimer=t.setTimeout(()=>t.touchStartTimer=null,t.touchStartDelay,"touchStartDelay"))}doDestroy(){const{source:e,target:t}=this;this.cleanup(),(null===t||void 0===t?void 0:t.dropping)===this&&(t.dropping=null),(null===e||void 0===e?void 0:e.dragging)===this&&(e.dragging=null),super.doDestroy()}get aborted(){return this.state===c}get completed(){return this.aborted||null!==this.endEvent}get started(){return this.state!==d&&!this.aborted}get valid(){return this.started&&null!=this.targetElement&&this._valid}set valid(e){this._valid=e}async get(e){if(this.aborted)throw new Error("Data is not available on aborted drag");if(!this.completed)throw new Error("Data is not available until drag completion");if(Array.isArray(e))return Promise.all(e.map(e=>this.get(e)));let t=this.data.get(e);return"function"===typeof t&&(t=await t(),this.data.set(e,t)),t}has(e){return this.data.has(e)}peek(e){if(this.aborted)throw new Error("Data is not available on aborted drag");if(Array.isArray(e))return e.map(e=>this.peek(e));let t=this.data.get(e);return"function"===typeof t&&(t=!0),t}set(e,t){this.data.set(e,t)}changeTarget(e,t){if(e!==t){const n=this;n._target=e,t&&(t.dropping=null),e&&(e.dropping=n,e.dropping!==n&&(e=null,n.valid=!1)),n._target=t}return e}updateTarget(e,t){const n=this;t&&n.source.dragLeaveTarget(n,t),e&&(n.valid=!0,e.dragMove(n),n.source.dragEnterTarget(n))}updateTargetElement(e){let t,n,r,o,a;for(a=e;a;a=a.parentElement)if(n=l.default.get(a,"droppables"),n)for(o=0;o<n.length;++o)if(t=n[o],t.dropRootElement.contains(e)&&(r=t.droppableSelector,(!r||e.closest(`#${i.default.getId(t.dropRootElement)} ${r}`))&&(this.target=t,this.target===t)))return}abort(){const e=this,{element:t,source:n}=e;null===t||void 0===t||t.getBoundingClientRect(),e.state!==h&&(e.state=c,e.cleanup()),null===n||void 0===n||n.endDrag(e)}begin(){const e=this,{source:t}=e;!1!==t.beforeDrag(e)&&(t.dragging=e)}cleanup(){let e;for(;e=this.cleaners.pop();)e()}end(e){const t=this,{lastMoveEvent:n,target:r}=t,{dragSwallowClickTime:i}=t.source;t.event=t.endEvent=e,t.syncFlags(),t.started&&((null===n||void 0===n?void 0:n.clientX)===e.clientX&&(null===n||void 0===n?void 0:n.clientY)===e.clientY&&(null===n||void 0===n?void 0:n.target)===e.target||t.track(),i&&o.default.on({element:document,capture:!0,expires:i,once:!0,click(e){e.stopPropagation()}}),t.state=h,r!==t.source&&(null===r||void 0===r||r.dragDrop(t)))}fakeKey(e,t){const n=this,{lastMoveEvent:r}=n;if(r&&n.element){let i;r.isKey=!0,"Alt"===e.key?n.altKey!==t&&(n.altKey=t,i=!0):"Control"===e.key&&n.ctrlKey!==t&&(n.ctrlKey=t,i=!0),i&&(n.event=r,n.track())}}keyDown(e){this.completed||("Escape"===e.key?this.abort():this.isDragToggleKey(e.key)&&this.fakeKey(e,!0))}keyUp(e){!this.completed&&this.isDragToggleKey(e.key)&&this.fakeKey(e,!1)}getDistance(e){return o.default.getDistanceBetween(this.startEvent,e)}isDragToggleKey(e){return"Control"===e||"Alt"===e}move(e){const t=this,{target:n}=e,r=t.getDistance(e)>=t.threshold;if(t.syncFlags(),t.touchStartTimer)r&&t.abort();else if(n&&n.nodeType===Node.ELEMENT_NODE){if(r&&!t.started&&(t.event=e,!1===t.start()))return void t.abort();t.started&&(t.lastMoveEvent=t.event=e,"touchmove"===e.type&&(e.preventDefault(),e.stopImmediatePropagation()),t.track())}}start(){const e=this,{scrollManager:t,source:n}=e,{draggingBodyCls:r,dragLock:i}=n,o=n.dragRootElement;e.state=u,t&&(t.startMonitoring({thisObj:n,direction:f[i]||i||"both",element:o,callback(t){const{lastMoveEvent:n}=e;n&&e.element&&(n.isScroll=!0,e.event=n,e.scrollerAction=t,e.track(),e.scrollerAction=null)}}),e.cleaners.push(()=>t.stopMonitoring(o)));const a=n.dragRootElement.closest(".b-outer")||document.body;if(a.classList.add(r),e.cleaners.push(()=>a.classList.remove(r)),!1===n.startDrag(e))return e.cleanup(),!1}syncFlags(){const e=this,{event:t}=e;e.altKey=t.altKey,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey}track(){const e=this,{event:t,source:n,target:r}=e;let o,a=t.target;"touchmove"===t.type&&(o=t.changedTouches[0],a=i.default.elementFromPoint(o.clientX,o.clientY)),e.targetElement=a,r===e.target&&(null===r||void 0===r||r.dragMove(e)),n.trackDrag(e)}}g.prototype.STATE=g.STATE=Object.freeze({ABORTED:c,INIT:d,DRAGGING:u,DROPPED:h}),g._$name="DragContext"},"./lib/Core/util/drag/DragProxy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Factoryable.js");class o extends(r.default.mixin(i.default)){static get type(){return"default"}static get configurable(){return{dragging:null}}static get factoryable(){return{defaultType:o}}updateDragging(e,t){t&&this.close(t),e&&this.open(e)}close(e){}open(e){}dragStart(e){this.dragging=e}dragMove(e){}dragEnd(e){this.dragging=null}}o.initClass(),o._$name="DragProxy"},"./lib/Core/util/drag/DragTipProxy.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/util/drag/DragProxy.js"),i=n("./lib/Core/widget/Widget.js"),o=n("./lib/Core/helper/util/Rectangle.js");n("./lib/Core/widget/Tooltip.js");class a extends r.default{static get type(){return"tip"}static get configurable(){return{align:"t10-b50",offset:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip"}}}}open(){this.getConfig("tooltip")}close(){var e;null===(e=this.tooltip)||void 0===e||e.hide()}dragMove(e){const{offset:t,tooltip:n}=this,{event:r}=e;n&&(n.isVisible||n.show(),n.alignTo({align:this.align,target:new o.default(r.clientX-t,r.clientY-t,2*t,2*t)}))}changeTooltip(e,t){return i.default.reconfigure(t,e,this)}}a.initClass(),a._$name="DragTipProxy"},"./lib/Core/widget/BooleanCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/data/Store.js");class o extends r.default{static get $name(){return"BooleanCombo"}static get type(){return"booleancombo"}static get configurable(){return{positiveValue:!0,positiveText:null,negativeValue:!1,negativeText:null,store:{value:[],$config:"lazy"},value:!1}}changeStore(e,t){const n=this;return super.changeStore(new i.default({data:[{id:n.positiveValue,text:n.positiveText||n.L("L{Object.Yes}")},{id:n.negativeValue,text:n.negativeText||n.L("L{Object.No}")}]}),t)}}o.initClass(),o._$name="BooleanCombo"},"./lib/Core/widget/Button.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/widget/mixin/Badge.js"),o=n("./lib/Core/widget/mixin/Rotatable.js"),a=n("./lib/Core/helper/util/DomClassList.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/util/Objects.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=/(?:^|\s)b-icon-/,f=/(?:^|\s)b-fa-/;class g extends(r.default.mixin(i.default,o.default)){static get $name(){return"Button"}static get type(){return"button"}static get configurable(){return{icon:null,pressedIcon:null,iconAlign:"start",text:{value:null,$config:null,default:""},color:null,toggleable:!1,pressed:!1,toggleGroup:null,ripple:{radius:75},defaultBindProperty:"text",localizableProperties:["text"],menu:{$config:["lazy","nullify"],value:null},menuDefaults:{type:"menu",autoShow:!1,autoClose:!0,floating:!0,scrollAction:"realign",align:"t0-b0"},href:null,target:null,onMenuHideTimeout:300,testConfig:{onMenuHideTimeout:0}}}compose(){const{color:e,href:t,icon:n,iconAlign:r,pressed:i,pressedIcon:o,target:s,text:l,toggleable:c,toggleGroup:u}=this,g=i&&o?o:n;return{tag:t?"a":"button",href:t,target:s,class:{["b-icon-align-"+r]:n,[e]:Boolean(e),"b-pressed":i&&c,"b-text":Boolean(l)},dataset:{group:u},listeners:{click:"onInternalClick"},children:{iconElement:(n||o)&&{tag:"i",class:d(d({},a.default.normalize(g,"object")),{},{"b-icon":h.test(g),"b-fa":f.test(g)})},label:{tag:"label",text:l||""}}}}construct(e={},...t){(e.toggleGroup||e.menu)&&(e.toggleable=!0),super.construct(e,...t)}onHide(){var e;null===(e=this._menu)||void 0===e||e.hide()}get childItems(){return this._menu&&[this.menu]}onFocusOut(e){var t;super.onFocusOut(e),null===(t=this.menu)||void 0===t||t.hide()}get focusElement(){return this.element}changeText(e){return null==e?"":e}changeMenu(e,t){const n=this;if(e){const i=()=>!n.isDestroying&&n.setTimeout(()=>n.toggle(!1),n.onMenuHideTimeout);e.isWidget?(e.forElement=n.element,e.owner=n,e.on("hide",i)):("object"!==typeof e||"type"in e||"items"in e||"widgets"in e||"html"in e||(e={lazyItems:e}),e=r.default.reconfigure(t,e?l.default.merge({constrainTo:n.rootElement,forElement:n.element,owner:n,onHide:i},n.menuDefaults,e):null,n))}else t&&t.destroy();return e}updateMenu(e){this.toggleable=Boolean(e)}updatePressed(e){const t=this;!t.isConfiguring&&e&&t.toggleGroup&&s.default.forEachSelector(t.rootElement,`button[data-group=${t.toggleGroup}]`,e=>{e!==t.element&&r.default.getById(e.id).toggle(!1)})}onInternalClick(e){const t=this,n={event:e};if(t.toggleable){if(t.toggleGroup&&t.pressed)return;if(t.toggle(!t.pressed),t.isDestroyed)return}t.trigger("click",n),t.isDestroyed||t.trigger("action",n),this.href||(e.preventDefault(),e.stopPropagation())}toggle(e=null){const t=this,{menu:n}=t;var r,i;t.toggleable&&(null===e&&(e=!t.pressed),t.pressed=e,t.toggling=!0,n&&(n.initialConfig.minWidth||(n.minWidth=t.width),n.align.constrainTo=window,n.align.constrainPadding=10,n.align.minHeight=null!==(r=n._minHeight)&&void 0!==r?r:100,n.align.minWidth=null!==(i=n._minWidth)&&void 0!==i?i:100,n[e?"show":"hide"]()),t.trigger("toggle",{pressed:e}),t.toggling=!1)}}g.initClass(),g._$name="Button"},"./lib/Core/widget/ButtonGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Container.js"),i=n("./lib/Core/widget/mixin/Rotatable.js");n("./lib/Core/widget/Button.js");class o extends(r.default.mixin(i.default)){static get $name(){return"ButtonGroup"}static get type(){return"buttongroup"}static get configurable(){return{defaultType:"button",cls:null,items:null,color:null,toggleGroup:null,valueSeparator:",",columns:null,hideWhenEmpty:!0}}onChildAdd(e){super.onChildAdd(e),e.on({click:"onItemClick",thisObj:this,prio:1e4})}onChildRemove(e){e.un({click:"onItemClick",thisObj:this}),super.onChildRemove(e)}onItemClick(){this._value=null}createWidget(e){const t=this;return t.constructor.resolveType(e.type||"button").isButton&&(t.color&&!e.color&&(e.color=t.color),t.toggleGroup&&!e.toggleGroup&&("boolean"===typeof t.toggleGroup&&(t.toggleGroup=o.generateId("toggleGroup")),e.toggleGroup=t.toggleGroup)),t.columns&&(e.width=100/t.columns+"%"),e=super.createWidget(e),t.relayEvents(e,["click","action"]),e}updateRotate(e){this.eachWidget(t=>{!1!==t.rotate&&(t.rotate=e)})}get value(){if(!this._value){const e=[];this.items.forEach(t=>{t.pressed&&void 0!==t.value&&e.push(t.value)}),this._value=e.join(this.valueSeparator)}return this._value}set value(e){Array.isArray(e)||(e=void 0===e||null===e?[]:"string"==typeof e?e.split(this.valueSeparator):[e]),this._value=e,this.items.forEach(t=>{void 0!==t.value&&(t.pressed=e.indexOf(t.value)>-1)})}get disabled(){return super.disabled}set disabled(e){super.disabled=e,this.items.forEach(t=>t.disabled=e)}get widgetClassList(){const e=super.widgetClassList;return this.columns&&e.push("b-columned"),e}}o.initClass(),o._$name="ButtonGroup"},"./lib/Core/widget/CalendarPanel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/widget/Panel.js"),i=n("./lib/Core/helper/ArrayHelper.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/util/Month.js"),s=n("./lib/Core/widget/Tooltip.js"),l=n("./lib/Core/helper/ObjectHelper.js"),c=n("./lib/Core/helper/DomHelper.js");class d extends r.default{static get $name(){return"CalendarPanel"}static get type(){return"calendarpanel"}static get configurable(){return{textContent:!1,date:{$config:{equal:"date"},value:null},month:{},year:null,weekStartDay:null,sixWeeks:!0,showWeekNumber:null,showWeekColumn:null,disabledDates:null,headerRenderer:null,weekRenderer:null,cellRenderer:null,disableWeekends:null,hideNonWorkingDays:null,hideNonWorkingDaysCls:"b-hide-nonworking-days",nonWorkingDays:null,tip:null,dayCellCls:"b-calendar-cell",dayHeaderCls:"b-calendar-day-header",disabledCls:"b-disabled-date",otherMonthCls:"b-other-month",weekendCls:"b-weekend",todayCls:"b-today",nonWorkingDayCls:"b-nonworking-day",dayNameFormat:"ddd",minRowHeight:{$config:["lazy"],value:null},minColumnWidth:{$config:["lazy"],value:null}}}construct(e){super.construct(e),this.refreshCount||this.refresh()}onPaint({firstPaint:e}){var t;null===(t=super.onPaint)||void 0===t||t.call(this,...arguments),e&&(this.refreshCount||this.refresh(),this.getConfig("minColumnWidth"),this.getConfig("minRowHeight"))}get overflowElement(){return this.weeksElement}doDestroy(){var e;null===(e=this.tip)||void 0===e||e.destroy(),super.doDestroy()}changeMinRowHeight(e){const t=parseInt(c.default.getStyleValue(this.element,"--min-row-height"),10)||75;return null==e?e:Math.max(parseInt(e)||0,t)}updateMinRowHeight(e){this.weekElements.forEach(t=>c.default.setLength(t,"flexBasis",e)),this.scrollable={overflowY:!!e&&"auto"}}changeMinColumnWidth(e){const t=parseInt(c.default.getStyleValue(this.element,"--min-column-width"),10)||75;return null==e?e:Math.max(parseInt(e)||0,t)}updateMinColumnWidth(e){const t=this;t.weekdayCells.forEach(t=>c.default.setLength(t,"minWidth",e)),t.cellElements.forEach(n=>n.matches("."+t.dayCellCls)&&c.default.setLength(n,"minWidth",e)),t.scrollable={overflowX:!!e&&"auto"},t.overflowElement.classList[e?"add":"remove"]("b-min-columnwidth")}getDateFromEvent(e){const t=(e.nodeType===Element.ELEMENT_NODE?e:e.target).closest(`#${this.id} [data-date]`);if(t)return o.default.parseKey(t.dataset.date)}changeTip(e,t){const n=this;return s.default.reconfigure(t,e,{owner:n,defaults:{type:"tooltip",owner:n,id:n.id+"-cell-tip",forElement:n.bodyElement,forSelector:"."+n.dayCellCls}})}updateTip(e){this.detachListeners("tip"),null===e||void 0===e||e.on({pointerOver:"onTipOverCell",name:"tip",thisObj:this})}updateElement(e,t){const n=this;super.updateElement(e,t),n.updateHideNonWorkingDays(n.hideNonWorkingDays),n.weekdayCells=Array.from(e.querySelectorAll(".b-calendar-day-header")),n.weekElements=Array.from(e.querySelectorAll(".b-calendar-week")),n.weekDayElements=Array.from(e.querySelectorAll(".b-calendar-days")),n.cellElements=[];for(let r=0,{length:i}=n.weekDayElements;r<i;r++)n.cellElements.push(n.weekDayElements[r].previousSibling,...n.weekDayElements[r].children)}changeDate(e){if(e="string"===typeof e?o.default.parse(e):new Date(e),isNaN(e))throw new Error("CalendarPanel date ingestion must be passed a Date, or a YYYY-MM-DD date string");return o.default.clearTime(e)}updateDate(e){this.month.date=e}updateDayNameFormat(){const e=new Date("2000-06-04T12:00:00");this.shortDayNames=[];for(let t=4;t<11;t++)e.setDate(t),this.shortDayNames.push(o.default.format(e,this.dayNameFormat))}get weekStartDay(){return"number"===typeof this._weekStartDay?this._weekStartDay:o.default.weekStartDay}updateWeekStartDay(e){const t=this;if(t._month){t.month.weekStartDay=e,t.dayNames=[];for(let e=0;e<7;e++)t.dayNames[e]=t.shortDayNames[t.canonicalDayNumbers[e]];t.refreshCount&&t.refresh()}}updateHideNonWorkingDays(e){var t;this.contentElement.classList[e?"add":"remove"](this.hideNonWorkingDaysCls),null===(t=this.scrollable)||void 0===t||t.syncOverflowState(),this._month&&(this.month.hideNonWorkingDays=e)}get nonWorkingDays(){return this._nonWorkingDays||o.default.nonWorkingDays}changeNonWorkingDays(e){return l.default.assign({},e)}updateNonWorkingDays(e){var t;this._month&&(this.month.nonWorkingDays=e,this.refresh(),null===(t=this.scrollable)||void 0===t||t.syncOverflowState())}get visibleDayColumnIndex(){return this.month.visibleDayColumnIndex}get dayColumnIndex(){return this.month.dayColumnIndex}get canonicalDayNumbers(){return this.month.canonicalDayNumbers}get visibleColumnCount(){return this.month.visibleColumnCount}get weekLength(){return this.month.weekLength}get startDate(){return this.month.startDate}get duration(){return o.default.diff(this.month.startDate,this.month.endDate,"day")+1}get endDate(){const{endDate:e}=this.month;if(e)return o.default.add(e,1,"day")}changeMonth(e,t){const n=this;if(!(e instanceof a.default)){if("number"===typeof e){if(t)return void(t.month=e);const r=n.date||o.default.clearTime(new Date);r.setMonth(e),e={date:r}}e=a.default.new({weekStartDay:n.weekStartDay,nonWorkingDays:n.nonWorkingDays,hideNonWorkingDays:n.hideNonWorkingDays,sixWeeks:n.sixWeeks},e)}return e.on({dateChange:"onMonthDateChange",thisObj:n}),e}onMonthDateChange({source:e,newDate:t,oldDate:n,changes:r}){const i=this;i.year=e.year,i.isConfiguring||((r.m||r.y)&&i.refresh(),i.trigger("dateChange",{value:t,oldValue:n}))}updateYear(e){this.month.year=e}updateShowWeekNumber(e){this.updateShowWeekColumn(e)}updateShowWeekColumn(e){const t=this;t.element.classList[e?"add":"remove"]("b-show-week-column"),t.floating&&(t.isAligning||t.realign())}updateSixWeeks(e){this.month&&(this.month.sixWeeks=e,this.refresh())}refresh(){this.doRefresh()}doRefresh(){this.getConfig("element");const e=this,t=o.default.clearTime(new Date),{cellElements:n,weekElements:r,weekDayElements:i,date:a,month:s,dayCellCls:l,dayHeaderCls:c,disabledCls:d,otherMonthCls:u,weekendCls:h,todayCls:f,nonWorkingDayCls:g,nonWorkingDays:m,canonicalDayNumbers:p}=e;a||(e.date=t),e.getConfig("dayNameFormat");for(let o=0,C=n.length;o<C;o++)n[o].className=l;for(let C=0;C<7;C++){const t=e.weekdayCells[C],n=e.canonicalDayNumbers[C],r=t.classList;t.className=t.innerHTML="",e.headerRenderer?e.headerRenderer(t,C,n):t.innerHTML=e.shortDayNames[n],r.add(c),o.default.weekends[n]&&r.add(h),m[n]&&r.add(g),t.dataset.columnIndex=C,t.dataset.cellDay=n}let v=0,b=0,y=6;for(let o=6;o>=0;o--)if(!m[p[o]]){y=o;break}for(s.eachWeek((n,a)=>{const l=i[v],c=[l.previousSibling,...l.children];r[v].dataset.week=`${n[0]},${n[1]}`,r[v].classList.remove("b-hide-display"),c[0].className="b-week-number-cell",e.weekRenderer?e.weekRenderer(c[0],n):c[0].innerHTML=n[1];for(let i=0;i<7;i++){const l=a[i],p=l.getDay(),C=c[i+1],S=C.classList;e.isDisabledDate(l)&&S.add(d),l.getMonth()!==s.month&&S.add(u),o.default.weekends[p]&&S.add(h),l.getTime()===t.getTime()&&S.add(f),m[p]&&S.add(g),S[i===y?"add":"remove"]("b-last-working-day"),C.dataset.date=o.default.makeKey(l),C.dataset.cellIndex=b,C.dataset.columnIndex=i,C.lastDomConfig&&(delete C.lastDomConfig.class,delete C.lastDomConfig.className),e.cellRenderer?e.cellRenderer({cell:C,date:l,day:p,row:r[v],rowIndex:v,cellIndex:b,columnIndex:i,visibleColumnIndex:e.visibleDayColumnIndex[p],week:n}):C.innerHTML=l.getDate(),b++}v++}),e.visibleWeekCount=v;v<6;v++)r[v].classList[e.sixWeeks?"remove":"add"]("b-hide-display");e.floating&&(e.isAligning||e.realign()),e.refreshCount=(e.refreshCount||0)+1,e.trigger("refresh")}isDisabledDate(e){const t=e.getDay(),{disabledDates:n,nonWorkingDays:r}=this;if(this.disableWeekends&&r[t])return!0;if(n){if("function"===typeof n)return n(e);if(Array.isArray(n))return e=o.default.clearTime(e,!0),n.some(t=>!(o.default.clearTime(t,!0)-e))}}get bodyConfig(){const e=super.bodyConfig,t=[];e.children=[{tag:"div",className:"b-calendar-row b-calendar-weekdays",reference:"weekdaysHeader",children:[{class:"b-week-number-cell"},...i.default.fill(7,{class:this.dayHeaderCls}),c.default.scrollBarPadElement]},{className:"b-weeks-container notranslate",reference:"weeksElement",children:t}];for(let n=0;n<6;n++){const e={className:"b-calendar-row b-calendar-week",children:[{},{className:"b-calendar-days",children:[{},{},{},{},{},{},{}],syncOptions:{ignoreRefs:!0,strict:!1}}]};t.push(e)}return e}get firstVisibleDate(){for(const e=this,t=e.month.startDate;;t.setDate(t.getDate()+1))if(!e.hideNonWorkingDays||!e.nonWorkingDays[t.getDay()])return t}getCell(e){return"string"!==typeof e&&(e=o.default.makeKey(e)),this.weeksElement.querySelector(`[data-date="${e}"]`)}onTipOverCell({source:e,target:t}){e.date=o.default.parseKey(t.dataset.date)}updateLocalization(){this.updateDayNameFormat(),this.updateWeekStartDay(this.weekStartDay),super.updateLocalization()}}d.initClass(),d._$name="CalendarPanel"},"./lib/Core/widget/Checkbox.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/widget/Field.js"),i=n("./lib/Core/widget/Widget.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends r.default{static get $name(){return"Checkbox"}static get type(){return"checkbox"}static get alias(){return"check"}static get configurable(){return{inputType:"checkbox",text:"",color:null,value:"",toggleGroup:null,defaultBindProperty:"value",localizableProperties:["label","text"]}}construct(e){"checked"in e&&((e=a.default.assign({},e)).value=e.checked,delete e.checked),super.construct(e),this.syncHasText()}get innerElements(){return[this.inputElement,{tag:"label",class:"b-checkbox-label",for:this.id+"-input",reference:"textLabel",html:this.text||""}]}get inputElement(){const e=this,t=super.inputElement;return e.readOnly&&(t.disabled=!0),e.toggleGroup&&(t.dataset={group:e.toggleGroup}),t}get checked(){return this.value}set checked(e){this.value=e}syncHasText(){this.element.classList[this.text?"add":"remove"]("b-text")}updateText(e){this.textLabel&&(this.syncHasText(),this.textLabel.innerHTML=e)}changeValue(e){return"false"!==e&&Boolean(e)}updateValue(e){const t=this,n=t.input.checked!==e;t.input.checked=e,n&&!t.inputting&&(t.uncheckToggleGroupMembers(),t.isConfiguring||t.triggerChange(!1))}get inputValueAttr(){return"checked"}updateColor(e,t){const n=this.element.classList;t&&n.remove(t),e&&n.add(e)}getToggleGroupMembers(){const e=this,{checked:t,toggleGroup:n,input:r}=e,a=[];return t&&n&&o.default.forEachSelector(e.rootElement,`input[type=checkbox][data-group=${n}]`,e=>{if(e!==r){const t=i.default.fromElement(e);t&&a.push(t)}}),a}uncheckToggleGroupMembers(){this.checked&&this.toggleGroup&&this.getToggleGroupMembers().forEach(e=>e.checked=!1)}updateReadOnly(e){this.input&&(this.input.disabled=e),super.updateReadOnly(e)}check(){this.checked=!0}uncheck(){this.checked=!1}toggle(){this.checked=!this.checked}internalOnChange(e){const t=this;t.value=t.input.checked,t.inputting||(t.inputting=!0,t.triggerChange(!0),t.inputting=!1)}triggerChange(e){const t=this,{checked:n}=t.input,r={checked:n,value:n,userAction:e,valid:!0};if(!(!n&&e&&t.toggleGroup&&t.getToggleGroupMembers().filter(e=>e.isVisible&&!e.disabled).length||!1===t.trigger("beforeChange",r)))return t.triggerFieldChange(r,!1),e&&t.uncheckToggleGroupMembers(),t.trigger("action",r),t.trigger("change",r),!0;t.input.checked=t._value=!n}}s.initClass(),s._$name="Checkbox"},"./lib/Core/widget/ChipView.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/List.js"),i=n("./lib/Core/helper/TemplateHelper.js");class o extends r.default{static get $name(){return"ChipView"}static get type(){return"chipview"}static get configurable(){return{itemCls:"b-chip",closable:!0,iconTpl:null,closeHandler:null}}itemContentTpl(e,t){return i.default.tpl`${this.iconTpl?this.iconTpl(e):""}
            ${this.itemTpl(e,t)}
            ${this.closable?'<div class="b-icon b-close-icon b-icon-clear" data-noselect></div>':""}`}onInternalKeyDown(e){this.closable&&this.selected.count&&("Delete"===e.key||"Backspace"===e.key)?this.callback(this.closeHandler,this.owner,[this.selected.values,{isKeyEvent:!0}]):super.onInternalKeyDown(e)}updateClosable(e){this.element.classList[e?"add":"remove"]("b-chips-closable"),this.navigator.disabled=!e,this.isConfiguring||this.refresh()}onClick(e){const t=this,n=e.target.closest("."+t.itemCls);if(t.closable&&e.target.classList.contains("b-close-icon")){const e=t.store.getAt(parseInt(n.dataset.index));t.callback(t.closeHandler,t.owner,[[e]])}else super.onClick(e)}}o.initClass(),o._$name="ChipView"},"./lib/Core/widget/Combo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n("./lib/Core/data/Store.js"),i=n("./lib/Core/data/AjaxStore.js"),o=n("./lib/Core/data/Model.js"),a=n("./lib/Core/util/CollectionFilter.js"),s=n("./lib/Core/widget/PickerField.js"),l=n("./lib/Core/widget/ChipView.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Core/helper/util/Objects.js"),u=n("./lib/Core/util/Collection.js"),h=n("./lib/Core/helper/DomHelper.js"),f=n("./lib/Core/helper/DomSync.js"),g=n("./lib/Core/helper/EventHelper.js"),m=n("./lib/Core/helper/util/Navigator.js"),p=n("./lib/Core/widget/List.js"),v=n("./lib/Core/helper/StringHelper.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends s.default{static get $name(){return"Combo"}static get type(){return"combo"}static get alias(){return"combobox,dropdown"}static get configurable(){return{primaryFilter:{},picker:{type:"list",floating:!0,scrollAction:"realign",itemsFocusable:!1,activateOnMouseover:!0,align:{align:"t0-b0",axisLock:!0},maxHeight:324,scrollable:{overflowY:!0},autoShow:!1,focusOnHover:!1},multiSelect:null,items:null,store:null,valueField:void 0,displayField:"text",pickerWidth:null,minChars:null,selected:null,listItemTpl:null,displayValueRenderer:null,listCls:null,triggers:{expand:{cls:"b-icon-picker",handler:"onTriggerClick"}},filterParamName:null,encodeFilterParams:e=>e.map(e=>e.value),filterOnEnter:!1,hideTrigger:null,overlayAnchor:null,keyStrokeFilterDelay:null,defaultAction:"select",triggerAction:"all",filterOperator:"startsWith",caseSensitive:!1,hidePickerOnSelect:null,chipView:{$config:["lazy","nullify"],value:{type:"combochipview"}},chipStore:{$config:["lazy","nullify"],value:{}},filterSelected:null,emptyText:null,value:null,valueCollection:{$config:["nullify","lazy"],value:{}},validateFilter:!0,clearTextOnPickerHide:!0,destroyStore:!1}}static get queryLast(){return"last"}construct(e){super.construct(...arguments),this.store||(this.items=[]),this.filterOnEnter&&(this.hideTrigger=!0)}startConfigure(e){this.usingRecordAsValue=null===e.valueField,super.startConfigure(...arguments)}afterConfigure(){super.afterConfigure(),"_value"in this||(this._value=this.valueField===this.displayField?"":null)}get childItems(){const{_chipView:e,_picker:t}=this,n=[];return e&&n.push(e),t&&n.push(t),n}get innerElements(){var e;const t=null===(e=this._chipView)||void 0===e?void 0:e.element,{input:n,inputElement:r}=this;return t&&f.default.sync({targetElement:n,domConfig:r}),[t||r]}changeChipStore(e){return!e||e instanceof r.default||(e=new r.default(r.default.mergeConfigs({storage:this.valueCollection},e))),e}updateChipStore(e,t){null===t||void 0===t||t.destroy()}changeChipView(e,t){const n=this;if(n.element.classList[e?"add":"remove"]("b-uses-chipview"),e){const{input:r}=n;return n.chipStore||(n.chipStore={}),S.reconfigure(t,e,{defaults:{parent:n,insertBefore:r,store:n.chipStore,closable:!n.readOnly,navigator:{class:w,keyEventTarget:r}}})}null===t||void 0===t||t.destroy()}updateChipView(e){var t;const n=this;n._chipViewEventDetacher=null===(t=n._chipViewEventDetacher)||void 0===t?void 0:t.call(n),n.chipStore=null===e||void 0===e?void 0:e.store,e&&(e.element.appendChild(n.input),n._chipViewEventDetacher=g.default.on({element:e.element,mousedown:"onChipViewMousedown",thisObj:n}))}updateMultiSelect(e,t){const n=this,{input:r,element:i}=n,o=!n.isConfiguring;let{value:a}=n;if(i.classList[e?"add":"remove"]("b-multiselect"),e){const{chipView:e}=n,{parentNode:t}=r,i=null===e||void 0===e?void 0:e.element;i&&i!==t&&(t.insertBefore(i,r),i.appendChild(r),n.chipView.refresh()),r.value="",o&&!Array.isArray(a)&&(a=a?[a]:null)}else{const e=n._chipView,{parentNode:t}=r,s=null===e||void 0===e?void 0:e.element;s===t&&(s.parentNode.insertBefore(r,s),s.remove(),i.classList.remove("b-uses-chipview")),o&&"string"!==typeof a&&(a=a&&a.length?a[0]:null)}o&&(n.value=a)}onChipViewMousedown(e){e.preventDefault(),this.containsFocus||this.focus()}onChipClose(e,t={}){(t.isKeyEvent&&""===this.input.value||!t.isKeyEvent)&&(this._isUserAction=!0,this.valueCollection.remove(e),this._isUserAction=!1)}updateFilterParamName(e){!1!==this.hideTrigger&&(this.hideTrigger=Boolean(e))}updateHideTrigger(e){this.element.classList[e?"add":"remove"]("b-hide-trigger")}updateKeyStrokeFilterDelay(e){const t=this;e&&(t.filterList=t.buffer(t.doFilter,e))}updateReadOnly(e){super.updateReadOnly(...arguments),this._chipView&&(this._chipView.closable=!e)}updateFilterOperator(e){this.primaryFilter&&(this.primaryFilter.operator=e)}get minChars(){const e=this._minChars;return null!=e?e:this.remoteFilter?4:1}get items(){return this.store.allRecords}changeItems(e){const t=this;if(null==e){if(t.store&&!t.store.isItemStore)return;e=[]}if(e instanceof r.default)return void(t.store=e);const n=t.displayField;let i,a,s=t.valueField;if(Array.isArray(e)?a=e.map(e=>{let r=e;return e instanceof o.default?(i=e.constructor,s||(t.valueField=s=i.idField)):"string"===typeof e||"number"===typeof e?(s||(t.valueField=s=t.displayField),r={[s]:e,[n]:e}):(s||(t.valueField=s="value"),Array.isArray(e)&&(r={[s]:e[0],[n]:e[1]})),e.selected&&(t.value=r),r}):(s||(t.valueField=s="value"),a=[],Object.entries(e).forEach(([e,t])=>{a.push({[s]:e,[n]:t})})),t.store)t.store.data=a;else{const e=s===n?{name:"value",dataSource:n}:s;t.store=new r.default({isItemStore:!0,data:a,idField:s,modelClass:i||class extends o.default{static get idField(){return t.valueField}static set idField(e){super.idField=e}static get fields(){return[e,n]}}})}}get value(){const{valueCollection:e,valueField:t}=this;return null==t?this.multiSelect?e.values.slice():e.first:this.multiSelect?e.map(e=>e[t]):e.count?e.first[t]:this._value}set value(e){super.value=e}changeValue(e,t){var n;const r=this;if(e===t)return void r.syncInputFieldValue(!0);if(!r.multiSelect&&Array.isArray(e)&&e.length>1)throw new Error("Multiple values cannot be set to a non-multiSelect Combo");r.triggerConfig("items");const{valueField:i,displayField:a,store:s,valueCollection:l,_picker:u}=r,{storage:h}=s,f=null!==(n=r.hidePickerOnSelect)&&void 0!==n?n:!r.multiSelect,g=r._isUserAction||(null===u||void 0===u?void 0:u._isUserAction)||f&&r.pickerVisible||!1;if(r.remoteFilter){if(null!=e){if(!d.default.isObject(e)&&!e.isModel){const t=r.isConfiguring;return r.primaryFilter.setConfig({value:e,disabled:!1}),void s.performFilter(!0).then(()=>{const{isConfiguring:e}=r;r.isConfiguring=t,l.splice(0,l.count,s.allRecords),r.isConfiguring=e})}this.store.data=[e],this.valueCollection.splice(0,this.valueCollection.count,this.store.first)}}else s.filtered&&(r.primaryFilter.disabled=!0,s.filter());let m;if(null!=e){const n=Array.isArray(e),d=n?e.slice():[e];for(let e=0,t=d.length;e<t;e++){let n=d[e];if(n instanceof o.default)h.includes(n)||s.add(n);else{const r=c.default.isObject(n);r&&(n=n[i]),m=h.getBy(a,n)||h.getBy(i,n)||l.getBy(a,n)||l.getBy(i,n),m instanceof Set&&(m=[...m][0]),m?(r&&m.set(d[e]),d[e]=m):(d.splice(e,1),t--,e--)}}const u=!d.length,f=l.generation;var p;l.splice(0,l.count,d),u&&(r._value=n?null!==(p=e[0])&&void 0!==p?p:null:e),(u||l.generation===f)&&r.syncInputFieldValue(),r.syncEmpty(),u&&!r.isConfiguring&&r.triggerFieldChange({value:e,oldValue:t,userAction:g,valid:r.isValid})}else if(l.count)l.clear();else{const t=r._value;r._value=null,r.syncInputFieldValue(),r.syncEmpty(),r.isConfiguring||r.triggerFieldChange({value:e,oldValue:t,userAction:g,valid:r.isValid})}r._lastValue=r.value}hasChanged(e,t){return this.multiSelect?!c.default.isEqual(e,t):super.hasChanged(...arguments)}onComboStoreChange({action:e}){"filter"!==e&&this.syncInputFieldValue(!0)}syncInputFieldValue(e){this.usesChipView||super.syncInputFieldValue(e)}get usesChipView(){return Boolean(this.multiSelect&&this._chipView)}get isEmpty(){return 0===this.valueCollection.count}get inputValue(){const e=this;let t=e.selected?e.selected[e.displayField]:e.value;return e.displayValueRenderer&&(t=e.callback(e.displayValueRenderer,e,[e.selected,e])),null==t?"":t}changeValueCollection(e,t){if(null===t||void 0===t||t.destroy(),e)return e.isCollection||(e=new u.default({listeners:{noChange:"onValueCollectionNoChange",change:"onValueCollectionChange",prio:-1e3,thisObj:this}})),e}changePrimaryFilter(e){return e instanceof a.default||("function"===typeof e&&(e={filterBy:e}),e=new a.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"primary",disabled:!0,property:this.displayField,operator:this.filterOperator,caseSensitive:this.caseSensitive},e))),e}changeStore(e){if(!Array.isArray(e)){if(e){"string"===typeof e?e=r.default.getStore(e):c.default.isObject(e)&&(e=new(e.readUrl?i.default:r.default)(e),this.destroyStore=!0);const t=this,n=t.remoteFilter||e.restfulFilter,{filterParamName:o,valueCollection:a}=t,s=[];n&&o&&(e.filterParamName=o,t.encodeFilterParams&&(e.encodeFilterParams=t.encodeFilterParams)),t.valueField||t.usingRecordAsValue||(t.valueField=e.modelClass.idField),s.push(t.primaryFilter),n?t.filterSelected&&(e.storage.autoFilter=!0,e.storage.addFilter({id:t.id+"-selected-filter",filterBy:e=>!a.includes(e)})):t.filterSelected&&(t.selectedItemsFilter=e=>!a.includes(e),s.push(t.selectedItemsFilter),e.reapplyFilterOnAdd=!0),a.addIndex({property:t.displayField,unique:!1}),a.addIndex({property:t.valueField,unique:!0}),e.filter(s)}return e}this.items=e}updateStore(e,t){const n=this,{_picker:r}=n;let i;if(this.destroyStore&&t&&t.destroy(),r&&(r.store=e),e.storage.addIndex({property:n.displayField,unique:!1}),e.storage.addIndex({property:n.valueField,unique:!0}),n.remoteFilter&&(i={filter:"onRemoteFilter"}),n.displayValueRenderer&&((i||(i={})).change="onComboStoreChange",n.syncInputFieldValue()),n.detachListeners("store"),t){const e=n.value;n.isConfiguring=!0,n.value=null,n.isConfiguring=!1,n.value=e}i&&(i.name="store",i.thisObj=n,e.on(i))}get remoteFilter(){var e;return Boolean(this.filterParamName||(null===(e=this._store)||void 0===e?void 0:e.restfulFilter))}get record(){return this.selected}get records(){return this.valueCollection.values.slice()}get selected(){return this.valueCollection.first}onEditComplete(){const e=this,t=e.valueCollection.count;super.onEditComplete(),t&&(e.clearError("L{Field.validateFilter}"),e.syncInputFieldValue()),e.required&&!t&&e.setError("L{Field.fieldRequired}")}onTriggerClick(){var e;const t=this;if(!t.remoteFilter||!t.filterOnEnter)if(t.pickerVisible)t.hidePicker();else if(!t.readOnly&&!t.disabled)switch(null===(e=t.triggerAction)||void 0===e?void 0:e.toLowerCase()){case"all":t.doFilter(null);break;case"last":t.doFilter(t.lastQuery);break;default:t.doFilter(t.input.value)}}internalOnInput(e){const t=this,n=t.input.value,r=n.length;t.editable&&(t.syncEmpty(),t.syncInputWidth(),t.inputting=!0,r>=t.minChars&&!t.filterOnEnter?t.filterList(n):(t.validateFilter&&!t.remoteFilter&&t[r?"setError":"clearError"]("L{Field.validateFilter}"),t.hidePicker()),t.inputting=!1,t.trigger("input",{value:n,event:e}))}syncInputWidth(){const e=this;if(e.usesChipView){const t=e.input,n=e._inputPadding||(e._inputPadding=h.default.getEdgeSize(t,"padding","lr")),r=t.value||"",i=h.default.measureText(r+"W",t,!1,e.element)+n.width;t.style.flex=`1 1 ${Math.ceil(i)}px`}}filterList(e){this.doFilter(e)}doFilter(e){const t=this,{store:n,_picker:r}=t,i=null==e||""===e;t.lastQuery=e,t.primaryFilter.setConfig({value:e,disabled:i}),t.remoteFilter&&n.clear(!0),t.getConfig("picker"),n.filter(),null!==r&&void 0!==r&&r.isVisible?0===r.lastAlignSpec.zone&&r.realign():t.showPicker(),n.count?i||(t.picker.navigator.activeItem=0):t.remoteFilter||i||!t.validateFilter||t.setError("L{Field.validateFilter}")}onRemoteFilter(){const e=this,t=e._picker;e.store.count?t&&(t.navigator.activeItem=0):e.validateFilter&&e.setError("L{Field.validateFilter}"),e.filterSelected&&e.valueCollection.count&&(e.store.storage.onFiltersChanged(),t&&t.refresh())}onValueCollectionChange({source:e}){var t;const n=this,{multiSelect:r,_picker:i}=n,o=null!==(t=n.hidePickerOnSelect)&&void 0!==t?t:!r,a=r?e.values.slice():e.first,s=e.values.slice(),l=n._isUserAction||(null===i||void 0===i?void 0:i._isUserAction)||o&&n.pickerVisible||!1,c=n._value;o&&n.hidePicker(),!e.count&&n.required?n.setError("L{Field.fieldRequired}"):(n.clearError("L{Field.fieldRequired}"),n.clearError("L{Field.validateFilter}")),n.validateFilter&&a&&n.clearError("L{Field.validateFilter}"),n.filterSelected&&(n.remoteFilter?(n.store.storage.onFiltersChanged(),n._picker&&n._picker.refresh()):n.store.filter()),n._value=null;const d=n.cacheCurrentValue(n.value);n.syncInputFieldValue(),n.syncEmpty(),n.isConfiguring||(n.triggerFieldChange({value:d,oldValue:c,userAction:l,valid:n.isValid}),n.trigger("select",{record:a,records:s,userAction:l}),"select"===n.defaultAction&&n.trigger("action",{value:d,record:a,records:s,userAction:l}))}cacheCurrentValue(e){return this._value=e}onValueCollectionNoChange({toAdd:e}){!this.multiSelect&&e.length&&this.pickerVisible&&this.picker.hide()}showPicker(){const e=this,{picker:t}=e;e.readOnly||(t.multiSelect=e.multiSelect,super.showPicker(),e.overlayAnchor&&!t.align.offset&&(t.align.offset=-t.anchorSize[1],t.realign()),!e.multiSelect&&e.selected&&t.restoreActiveItem(e.selected,!0),e.input.focus())}changePicker(e,t){var n;const r=this,i=r.pickerWidth||(null===(n=e)||void 0===n?void 0:n.width);return(e=p.default.reconfigure(t,e?p.default.mergeConfigs({owner:r,store:r.store,selected:r.valueCollection,multiSelect:r.multiSelect,cls:r.listCls,itemTpl:r.listItemTpl||(e=>v.default.encodeHtml(e[r.displayField])),forElement:r[r.pickerAlignElement],align:{matchSize:null==i,anchor:r.overlayAnchor,target:r[r.pickerAlignElement],minHeight:40*Math.min(3,r.store.count)},width:i,navigator:{keyEventTarget:r.input}},e):null,r))&&(e.element.dataset.emptyText=r.emptyText||r.L("L{noResults}")),e}onPickerHide(){const e=this;super.onPickerHide(),e.multiSelect&&e.clearTextOnPickerHide&&(e.input.value="")}internalOnKeyEvent(e){const t=this,n=t.input.value,r=n.length;super.internalOnKeyEvent(...arguments),"keydown"===e.type&&"Enter"===e.key&&t.filterOnEnter&&r>=t.minChars&&(e.stopPropagation(),t.filterList(n))}}class S extends l.default{static get $name(){return"ComboChipView"}static get type(){return"combochipview"}static get defaultConfig(){return{closeHandler:"up.onChipClose",itemsFocusable:!1,multiSelect:!0,itemTpl(e){return v.default.encodeHtml(e[this.owner.displayField])},scrollable:{overflowY:"auto"}}}}class w extends m.default{static get defaultConfig(){return{allowShiftKey:!0}}onTargetClick(e){const t=e.target.closest(this.itemSelector);!t||e.shiftKey||t.contains(e.target.closest("[data-noselect]"))||this.ownerCmp.selected.clear(),this.inClickHandler=!0,this.activeItem=t,this.inClickHandler=!1}onKeyDown(e){"Enter"!==e.key&&super.onKeyDown(e)}updateActiveItem(e,t){const n=this.ownerCmp;super.updateActiveItem(e,t),e&&!this.inClickHandler&&n.selected.add(n.getRecord(e))}navigatePrevious(e){const t=this.ownerCmp;t.navigator.activeItem&&!e.shiftKey&&t.selected.clear(),this.previous?super.navigatePrevious(e):this.activeItem=null}navigateNext(e){const t=this.ownerCmp;t.navigator.activeItem&&!e.shiftKey&&t.selected.clear(),this.next?super.navigateNext(e):this.activeItem=null}}C.initClass(),S.initClass(),C._$name="Combo"},"./lib/Core/widget/Container.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/ArrayHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/widget/layout/Layout.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/util/DomClassList.js"),c=(n("./lib/Core/widget/Ripple.js"),n("./lib/Core/util/Bag.js"));const d=Object.freeze({}),{isArray:u}=Array,h=e=>e.weight,f=({weight:e},{weight:t})=>"string"===typeof e||"string"===typeof t?String(e).localeCompare(String(t)):(null!==e&&void 0!==e?e:Number.MAX_SAFE_INTEGER)-(null!==t&&void 0!==t?t:Number.MAX_SAFE_INTEGER),g=e=>e&&!e.hidden,m=["display","flex-direction"];class p extends r.default{static get $name(){return"Container"}static get type(){return"container"}static get configurable(){return{items:null,lazyItems:{$config:["lazy"],value:null},defaults:null,defaultType:"widget",layoutStyle:null,itemCls:null,layout:{type:"default"},namedItems:null,overflowable:{value:null,default:!1,$config:null},textContent:!0,record:null,autoUpdateRecord:null,hideWhenEmpty:null,contentElMutationObserver:{$config:["lazy","nullify"],value:!0}}}static get prototypeProperties(){return{initialItems:!0}}startConfigure(e){const t=e.items||e.lazyItems;(this.hasItems=Boolean(t&&(u(t)?t:Object.keys(t)).length))||(this.initialItems=!1),super.startConfigure(e)}remove(...e){let t=!0;1===e.length&&(u(e[0])?e=e[0]:t=!1);const n=this,{_items:r}=n,i=[];for(let o=0;o<e.length;o++){const t=e[o];r.includes(t)&&(r.remove(t),n.layout.removeChild(t),i.push(t),n.onChildRemove(t))}return t?i:i[0]}removeAll(){return this.remove(this.items)}add(...e){const t=this,n=[];let r,o,a,{_items:s}=t,l=!0;for(1===e.length&&(u(e[0])?e=e[0]:l=!1),s||(t.items=[],s=t._items),o=0;o<e.length;o++){var c;r=e[o],null!=(null===(c=r)||void 0===c?void 0:c.weight)?(a=i.default.findInsertionIndex(r,s.values,f),n.push(t.insert(r,a))):r&&(r.isWidget?r.parent=t:r=t.createWidget(r),s.includes(r)||(s.add(r),t.onChildAdd(r),t.layout.appendChild(r),n.push(r)))}return l?n:n[0]}insert(e,t){this.items||(this.items=[]);const n=this,{_items:i}=n;e instanceof r.default?e.parent=n:e=n.createWidget(e),i.includes(t)&&(t=n.indexOfChild(t)),t=Math.min(t,i.count);const o=i.values;return o.splice(t,0,e),i.values=o,n.onChildAdd(e),n.layout.insertChild(e,t),e}indexOfChild(e){return this.items.indexOf(e)}changeLazyItems(e){this.items=e,this.layout.renderChildren()}changeItems(e,t){const n=this,r=[],i=new c.default;return u(e)?n.processItemsArray(e,r):e&&n.processItemsObject(e,n.namedItems,r),r.some(h)&&r.sort(f),i.add(r),t&&t.forEach(e=>{n.remove(e),i.includes(e)||e._createdBy!==n||e.destroy()}),i}updateItems(e,t){let n=0;e.forEach(e=>{this.onChildAdd(e),t&&!t.temporary&&this.layout.insertChild(e,n),++n}),this.initialItems=!1}updateHideWhenEmpty(){this.syncChildCount(this.rendered)}get items(){const e=this;if(e.getConfig("lazyItems"),!e._items){if(e.initializingItems)return[];e._items=new c.default,e._items.temporary=!0}return e._items.values}processItemsArray(e,t){const n=e.length;let i,o;for(i=0;i<n;i++)o=e[i],o instanceof r.default?(o.parent=this,s.default.removeClasses(o.element,r.default.outerCls)):o=this.createWidget(o),o&&((o.ref||o.id)&&this.addDescendant(o),t.push(o))}processItemsObject(e,t=d,n){let i,a;for(a in e)i=e[a],i&&(a in t&&(i="object"===typeof i?o.default.merge(o.default.clone(t[a]),i):t[a]),i&&(i instanceof r.default?i.parent=this:(i instanceof Object&&(i.ref=a),i=this.createWidget(i)),i&&(i.ref=a,this.addDescendant(i),n.push(i))))}onChildAdd(e){if(e.innerItem&&this.readOnly&&(e.readOnly=!0),this.onChildAddLayout(e),e.ref||e.id)for(let t=this;t;t=t.parent)t.addDescendant(e);this.syncChildCount(!0)}onChildAddLayout(e){e.innerItem&&this.layout.onChildAdd(e)}onChildHide(){this.syncChildCount(!0)}onChildShow(){this.syncChildCount(!0)}syncChildCount(e){if(!this.isConfiguring){const t=this,{childItems:n,hasItems:r}=t,{length:i}=n,o=n.filter(g),{length:a}=o;if(t.hideWhenEmpty&&e){const e=Boolean(!a);Boolean(t._hidden)!==e&&(t.hidden=e)}for(let e=0;e<i;e++)n[e].element.classList.remove("b-last-visible-child"),n[e].element.classList.remove("b-first-visible-child");a&&(o[0].element.classList.add("b-first-visible-child"),o[a-1].element.classList.add("b-last-visible-child")),t.hasItems=Boolean(i),t.contentElement.classList[a?"remove":"add"]("b-no-visible-children"),t.isComposable?r!==t.hasItems&&t.recompose():t.updateTextContent(t._textContent)}}syncFlexDirection(){const{contentElement:e}=this,t=new l.default(e.className),n=s.default.getStyleValue(e,m);t["b-flex-row"]=t["b-flex-column"]=0,"flex"===n.display&&(t["b-flex-"+n["flex-direction"]]=1),s.default.syncClassList(e,t)}addDescendant(e){const t=e.ref||e.id,n=this._widgetMap||(this._widgetMap={});n[t]||(n[t]=e)}onChildRemove(e){const t=e.ref||e.id;if(t)for(let n=this;n;n=n.parent)n.widgetMap[t]===e&&delete n.widgetMap[t];this.layout.onChildRemove(e),this.syncChildCount(!0)}get widgetMap(){return this._widgetMap||(this._widgetMap={}),this.initializingItems||this.getConfig("items"),this._widgetMap}changeRecord(e){return this._record=null==e?d:null,e}updateRecord(e){this.trigger("beforeSetRecord",{record:e}),this.setValues(e,!0,!this.$highlight)}setRecord(e,t){this.$highlight=t,this.record=e,this.$highlight=!1}onFieldChange({source:e,userAction:t}){if(this.autoUpdateRecord){const{record:n}=this,{name:r,isValid:i,value:o}=e;n&&t&&r&&i&&(n[r]=o)}}getValues(e){const t=this.queryAll(e=>e.name),n=t.length,r={};for(let i=0;i<n;i++){const n=t[i],o=n.name;e&&!e(n)||(r[o]=n.value)}return r}get hasNoChildren(){const{items:e,lazyItems:t}=this.initialConfig,n=e&&(u(e)?e:o.default.values(e)),r=t&&(u(t)?t:o.default.values(t)),i=this.isConfiguring?r||n:this.items;return!(null!==i&&void 0!==i&&i.filter(g).length)}afterRecompose(){this.realign()}updateTextContent(e){const t=this;t.isComposable||(t.contentElement.classList[e&&t.hasNoChildren?"add":"remove"]("b-text-content"),t.rendered&&t.realign())}updateLayoutStyle(e){s.default.applyStyle(this.contentElement,e)}onPaint(){var e;null===(e=super.onPaint)||void 0===e||e.call(this,...arguments),this.getConfig("contentElMutationObserver")}changeContentElMutationObserver(e,t){const n=this,{element:r,contentElement:i}=n;return t&&(t.takeRecords(),t.disconnect()),e&&((e=new MutationObserver(e=>n.onContentElMutation(e))).observe(i,{attributes:!0}),i!==r&&e.observe(r,{attributes:!0}),n.syncFlexDirection()),e}onContentElMutation(e){this.isVisible&&this.syncFlexDirection()}changeLayout(e,t){return a.default.reconfigure(t,e,{owner:this,defaults:{owner:this}})}get childItems(){return this.items}getWidgetById(e){return this.widgetMap[e]}processWidgetConfig(e){}setupWidgetConfig(e,t){"string"===typeof e?e={html:e}:e.nodeType===Element.ELEMENT_NODE&&(e={element:e,id:e.id}),("string"===typeof t||!t&&(t=e.type))&&(t=r.default.resolveType(t,!0));for(let n=(e=(t||r.default).mergeConfigs(this.defaults,e,{parent:this})).parent;n;n=n.parent)if(!1===n.processWidgetConfig(e))return null;return!1===this.trigger("beforeWidgetCreate",{widgetConfig:e})?null:e}createWidget(e){const t=r.default.create(this.setupWidgetConfig(e),this.defaultType);return t&&(t._createdBy=this),t}updateDefaults(e,t){if(!this.isConfiguring){const n=Object.entries(e);this.eachWidget(e=>{n.forEach(([n,r])=>{e[n]===t[n]&&(e[n]=r)})},!1)}}render(){this.getConfig("lazyItems"),this.layout.renderChildren(),this.syncChildCount(),super.render(...arguments)}get focusElement(){const e=this.query(this.defaultFocus||(e=>e.isFocusable&&"close"!==e.ref));return e?e.focusElement:super.focusElement}doDestroy(){var e;null===(e=this._items)||void 0===e||e.forEach(e=>{var t;return null===(t=e.destroy)||void 0===t?void 0:t.call(e)}),this.layout.destroy(),super.doDestroy()}get isValid(){let e=!0;return this.eachWidget(t=>{"isValid"in t&&!t.isValid&&(e=!1)},!0),e}get values(){const e={};return this.eachWidget(t=>{"value"in t&&(e[t.name||t.ref||t.id]=t.value)},!0),e}set values(e){this.setValues(e)}get isSettingValues(){var e;return Boolean(this._isSettingValues||(null===(e=this.parent)||void 0===e?void 0:e.isSettingValues))}setValues(e,t=!1,n=!0){this._isSettingValues={preventHighlight:n},this.eachWidget(r=>{const i=r.highlightExternalChange,o=t?r.name:r.name||r.ref||r.id;"value"in r&&o&&(n&&(r.highlightExternalChange=!1),r.value=e&&o in e?e[o]:null,r.highlightExternalChange=i)},!0),this._isSettingValues=!1}}p.initClass(),p._$name="Container"},"./lib/Core/widget/DateField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/PickerField.js"),i=n("./lib/Core/widget/DatePicker.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends r.default{static get $name(){return"DateField"}static get type(){return"datefield"}static get alias(){return"date"}static get configurable(){return{format:"L",fallbackFormat:"YYYY-MM-DD",timeFormat:"HH:mm:ss:SSS",keepTime:!1,pickerFormat:null,triggers:{expand:{cls:"b-icon-calendar",handler:"onTriggerClick",weight:200},back:{cls:"b-icon b-icon-angle-left b-step-trigger",handler:"onBackClick",align:"start",weight:100},forward:{cls:"b-icon b-icon-angle-right b-step-trigger",handler:"onForwardClick",align:"end",weight:100}},calendarContainerCls:"",min:null,max:null,step:!1,stepTriggers:null,weekStartDay:null,picker:{type:"datepicker",floating:!0,scrollAction:"realign",align:{align:"t0-b0",axisLock:!0}},value:null}}changePicker(e,t){const n=this,r={owner:n,forElement:n[n.pickerAlignElement],minDate:n.min,maxDate:n.max,weekStartDay:n._weekStartDay,align:{anchor:n.overlayAnchor,target:n[n.pickerAlignElement]},onSelectionChange:({selection:e,source:t})=>{t.isVisible&&(n._isUserAction=!0,n._isPickerInput=!0,n.value=e[0],n._isPickerInput=!1,n._isUserAction=!1,t.hide())}};return n.calendarContainerCls&&(r.cls=n.calendarContainerCls),n.value?r.value=n.value:r.date=new Date,i.default.reconfigure(t,e,{owner:n,defaults:r})}get backShiftDate(){return o.default.add(this.value,-1*this._step.magnitude,this._step.unit)}onBackClick(){const e=this,{min:t}=e;if(!e.readOnly&&e.value){const n=e.backShiftDate;(!t||t.getTime()<=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}get forwardShiftDate(){return o.default.add(this.value,this._step.magnitude,this._step.unit)}onForwardClick(){const e=this,{max:t}=e;if(!e.readOnly&&e.value){const n=e.forwardShiftDate;(!t||t.getTime()>=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}showPicker(e){if(this.readOnly)return;const{_picker:t}=this;t&&(t.value=this.value),super.showPicker(e)}focusPicker(){this.picker.focus()}get isValid(){const e=this;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);let t=e.value;if(t){const{min:n,max:r}=e;if(t=t.getTime(),n&&n.getTime()>t)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(r&&r.getTime()<t)return e.setError("L{Field.maximumValueViolation}",!0),!1}return super.isValid}transformDateValue(e){return null!=e&&(o.default.isDate(e)||(e="string"===typeof e?o.default.parse(e,this.format)||o.default.parse(e,this.fallbackFormat):new Date(e)),o.default.isValidDate(e))?this.transformTimeValue(e):null}transformTimeValue(e){const t=this,{keepTime:n}=t;if(e=o.default.clone(e),n)if("entered"!==n){const r=o.default.parse(n,t.timeFormat);o.default.isValidDate(r)?o.default.copyTimeValues(e,r):o.default.isValidDate(t.value)&&o.default.copyTimeValues(e,t.value)}else t._isPickerInput&&o.default.isValidDate(t.value)&&o.default.copyTimeValues(e,t.value);else o.default.clearTime(e,!1);return e}changeMin(e){return this.transformDateValue(e)}updateMin(e){const{input:t,_picker:n}=this;t&&(null==e?t.removeAttribute("min"):t.min=e),n&&(n.minDate=e),this.syncInvalid()}changeMax(e){return this.transformDateValue(e)}updateMax(e){const{input:t,_picker:n}=this;t&&(null==e?t.removeAttribute("max"):t.max=e),n&&(n.maxDate=e),this.syncInvalid()}get weekStartDay(){return"number"===typeof this._weekStartDay?this._weekStartDay:o.default.weekStartDay}updateWeekStartDay(e){this._picker&&(this._picker.weekStartDay=e)}changeValue(e,t){const n=this,r=n.transformDateValue(e);if(!e||r){if(n.clearError("L{invalidDate}"),n.hasChanged(t,r))return super.changeValue(r,t);n.inputting||n.syncInputFieldValue()}else n.setError("L{invalidDate}")}updateValue(e,t){const n=this._picker;n&&!this.inputting&&(n.value=e),super.updateValue(e,t)}changeStep(e,t){const n=typeof e;return e?("number"===n?e={magnitude:Math.abs(e),unit:t?t.unit:"day"}:"string"===n&&(e=o.default.parseDuration(e)),e&&e.unit&&e.magnitude?(e.magnitude<0&&(e={magnitude:-e.magnitude,unit:e.unit}),e):void 0):null}updateStep(e){this.element.classList[e?"remove":"add"]("b-no-steppers"),this.syncInvalid()}hasChanged(e,t){return null!==e&&void 0!==e&&e.getTime&&null!==t&&void 0!==t&&t.getTime&&"entered"!==this.keepTime?!o.default.isEqual(o.default.clearTime(e),o.default.clearTime(t)):super.hasChanged(e,t)}get inputValue(){const e=this.value;return e?o.default.format(e,this.format):""}updateFormat(){this.syncInputFieldValue(!0)}updateLocalization(){super.updateLocalization(),this.syncInputFieldValue(!0)}internalOnKeyEvent(e){super.internalOnKeyEvent(e),"Enter"===e.key&&this.isValid&&this.picker.hide()}}a.initClass(),a._$name="DateField"},"./lib/Core/widget/DatePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/widget/CalendarPanel.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/widget/Combo.js"),s=n("./lib/Core/helper/VersionHelper.js");const l=()=>i.default.getMonthNames().map((e,t)=>[t,e]),c=[],d=(new Date).getFullYear();for(let f=d-20;f<d+21;f++)c.push(f);class u extends a.default{static get $name(){return"ReadOnlyCombo"}static get type(){return"readonlycombo"}static get configurable(){return{editable:!1,inputAttributes:{tag:"div",tabIndex:-1},highlightExternalChange:!1,triggers:{expand:!1},picker:{align:{align:"t-b",axisLock:!0,matchSize:!1},cls:"b-readonly-combo-list",scrollable:{overflowX:!1}}}}onSelect({record:e}){this.value=e.value}set value(e){super.value=e,this.input.innerHTML=this.input.value}get value(){return super.value}}u.initClass();class h extends r.default{static get $name(){return"DatePicker"}static get type(){return"datepicker"}static get delayable(){return{refresh:"raf"}}static get configurable(){return{activeDate:{value:null,$config:{equal:"date"}},focusable:!0,textContent:!1,tbar:{overflow:null,items:[{ref:"prevMonth",cls:"b-icon b-icon-prev",onAction:"up.gotoPrevMonth"},{type:"container",flex:1,defaultType:"readonlycombo",cls:"b-datepicker-title",items:[{ref:"monthField",cls:"b-datepicker-monthfield",items:l(),listeners:{select:"up.onMonthPicked"}},{ref:"yearField",cls:"b-datepicker-yearfield",items:c,listeners:{select:"up.onYearPicked"}}]},{ref:"nextMonth",cls:"b-icon b-icon-next",onAction:"up.gotoNextMonth"}]},date:new Date,minDate:{value:null,$config:{equal:"date"}},maxDate:{value:null,$config:{equal:"date"}},focusDisabledDates:null,multiSelect:!1,editOnHover:!0,editMonth:!0,dayNameFormat:"dd"}}static get prototypeProperties(){return{outOfRangeCls:"b-out-of-range",activeCls:"b-active-date",selectedCls:"b-selected-date"}}construct(e){const t=this;e.editOnHover&&s.default.deprecate("Grid","5.0.0","`editOnHover` config deprecated, it now has no effect and will be removed in 5.0"),t.selection=e.date?[e.date]:[],super.construct(e),t.externalCellRenderer=t.cellRenderer,t.cellRenderer=t.internalCellRenderer,t.element.setAttribute("aria-activedescendant",t.id+"-active-day"),o.default.on({element:t.weeksElement,click:"onCellClick",delegate:`.${t.dayCellCls}:not(.${t.disabledCls}):not(.${t.outOfRangeCls})`,thisObj:t}),t.widgetMap.monthField.readOnly=t.widgetMap.yearField.readOnly=!t.editMonth}doDestroy(){var e,t;null===(e=this.yearField)||void 0===e||e.destroy(),null===(t=this.monthField)||void 0===t||t.destroy(),super.doDestroy()}get focusElement(){return this.element}internalCellRenderer({cell:e,date:t}){var n;const r=this,{activeCls:o,selectedCls:a}=r,s=e.classList;e.innerHTML=t.getDate(),e.setAttribute("aria-label",i.default.format(t,"MMMM D, YYYY")),r.isActiveDate(t)?(s.add(o),e.id=r.id+"-active-day"):e.removeAttribute("id"),r.isSelectedDate(t)&&s.add(a),(r.minDate&&t<r.minDate||r.maxDate&&t>r.maxDate)&&s.add(r.outOfRangeCls),null===(n=r.externalCellRenderer)||void 0===n||n.call(r,...arguments)}onCellClick(e){const t=e.target.closest("[data-date]");this.onUIDateSelect(i.default.parseKey(t.dataset.date),e)}onUIDateSelect(e,t){const n=this,{lastClickedDate:r,selection:i}=n;n.activeDate=e,n.lastClickedDate=e,n.isDisabledDate(e)||(n.activatingEvent=t,n.multiSelect?n.multiRange||r&&e.getTime()===r.getTime()||(r&&t.shiftKey?(i[1]=e,i.sort()):(i.length=0,i[0]=e),n.trigger("selectionChange",{selection:i,userAction:Boolean(t)})):n.value&&n.value.getTime()===e.getTime()?n.floating&&n.hide():n.value=e,n.activatingEvent=null),n.refresh()}onInternalKeyDown(e){const t=this,n=e.key.trim()||e.code,r=t.activeDate;let i=new Date(r);if("Escape"===n&&t.floating)return t.hide();if(r&&e.target===t.focusElement){do{switch(n){case"ArrowLeft":e.preventDefault(),e.ctrlKey?i=t.gotoPrevMonth():i.setDate(i.getDate()-1);break;case"ArrowUp":e.preventDefault(),i.setDate(i.getDate()-7);break;case"ArrowRight":e.preventDefault(),e.ctrlKey?i=t.gotoNextMonth():i.setDate(i.getDate()+1);break;case"ArrowDown":e.preventDefault(),i.setDate(i.getDate()+7);break;case"Enter":return t.onUIDateSelect(r,e)}}while(t.isDisabledDate(i)&&!t.focusDisabledDates);if(t.minDate&&i<t.minDate)return;if(t.maxDate&&i>t.maxDate)return;t.activeDate=i}}changeMinDate(e){return e?this.changeDate(e):null}updateMinDate(){this.refresh()}changeMaxDate(e){return e?this.changeDate(e):null}updateMaxDate(){this.refresh()}updateDate(e){super.updateDate(e),this.activeDate=e}changeActiveDate(e){if(e=e?this.changeDate(e):this.date||(this.date=i.default.clearTime(new Date)),isNaN(e))throw new Error("DatePicker date ingestion must be passed a Date, or a YYYY-MM-DD date string");return e}updateActiveDate(e){this.month.date=e,this.widgetMap.monthField.value=e.getMonth(),this.widgetMap.yearField.value=e.getFullYear(),this.refresh()}set value(e){const t=this,{selection:n}=t;let r;if(e){if(void 0===(e=t.changeDate(e,t.value)))return;t.value&&e.getTime()===t.value.getTime()||(n.length=0,n[0]=e,r=!0),t.date=e}else r=n.length,n.length=0,t.date=new Date;r&&t.trigger("selectionChange",{selection:n,userAction:Boolean(t.activatingEvent)})}get value(){return this.selection[this.selection.length-1]}gotoPrevMonth(){const e=this,{activeDate:t}=e,n=t&&e.getCell(t)?t:e.date,r=i.default.add(n,-1,"month");if(!e.minDate||r>=e.minDate)return e.date=r}gotoNextMonth(){const e=this,{activeDate:t}=e,n=t&&e.getCell(t)?t:e.date,r=i.default.add(n,1,"month");if(!e.maxDate||r<=e.maxDate)return e.date=r}isActiveDate(e){return this.activeDate&&this.changeDate(e).getTime()===this.activeDate.getTime()}isSelectedDate(e){return this.selection.some(t=>i.default.isEqual(t,e,"day"))}onMonthPicked({record:e}){this.activeDate=i.default.add(this.activeDate,e.value-this.activeDate.getMonth(),"month"),this.focusElement.focus()}onYearPicked({record:e}){const t=new Date(this.activeDate);t.setFullYear(e.value),this.activeDate=t,this.focusElement.focus()}get yearItems(){const e=[],t=(new Date).getFullYear();for(let n=t-20;n<t+21;n++)e.push(n);return e}updateLocalization(){const e=this.widgetMap.monthField,t=l();t[e.value].selected=!0,e.items=t,super.updateLocalization()}}h.initClass(),h._$name="DatePicker"},"./lib/Core/widget/DateTimeField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/widget/Field.js"),i=n("./lib/Core/widget/TimeField.js"),o=(n("./lib/Core/widget/DateField.js"),n("./lib/Core/helper/DateHelper.js")),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=n("./lib/Core/widget/Widget.js");class c extends r.default{static get configurable(){return{timeField:{},dateField:{keepTime:!0,step:"1 d"},weekStartDay:null,inputTemplate:()=>""}}static get $name(){return"DateTimeField"}static get type(){return"datetimefield"}static get alias(){return"datetime"}get focusElement(){return this.dateField.input}get innerElements(){return[this.dateField.element,this.timeField.element]}internalOnKeyEvent(){}updateRevertOnEscape(e){this.timeField.revertOnEscape=e,this.dateField.revertOnEscape=e}changeTimeField(e){const t=this,n=i.default.new({revertOnEscape:t.revertOnEscape,syncInvalid(...e){const n=t.updatingInvalid;i.default.prototype.syncInvalid.apply(this,e),t.timeField&&!n&&t.syncInvalid()}},e);return a.default.on({element:n.element,keydown:"onTimeFieldKeyDown",thisObj:t}),t.readOnly&&(n.readOnly=!0),n}updateTimeField(e){const t=this;e.on({change({userAction:e,value:n}){if(e&&!t.$settingValue){const e=t.dateField.value;t._isUserAction=!0,t.value=e?o.default.copyTimeValues(e,n):null,t._isUserAction=!1}},thisObj:t})}changeDateField(e){const t=this,n=(null===e||void 0===e?void 0:e.type)||"datefield",r=l.default.resolveType(e.type||"datefield"),i=l.default.create(s.default.assign({type:n,revertOnEscape:t.revertOnEscape,syncInvalid(...e){const n=t.updatingInvalid;r.prototype.syncInvalid.apply(this,e),t.dateField&&!n&&t.syncInvalid()}},e));return a.default.on({element:i.element,keydown:"onDateFieldKeyDown",thisObj:t}),t.readOnly&&(i.readOnly=!0),i.on({keydown:({event:e})=>{var t;"Tab"===e.key&&!e.shiftKey&&null!==(t=this.timeField)&&void 0!==t&&t.isVisible&&(e.stopPropagation(),e.cancelBubble=!0)}}),i}get childItems(){return[this.dateField,this.timeField]}updateDateField(e){const t=this;e.on({change({userAction:e,value:n}){e&&!t.$isInternalChange&&(t._isUserAction=!0,t.value=n,t._isUserAction=!1)},thisObj:t})}updateWeekStartDay(e){this.dateField&&(this.dateField.weekStartDay=e)}changeWeekStartDay(e){var t,n;return"number"===typeof e?e:null!==(t=null===(n=this.dateField)||void 0===n?void 0:n.weekStartDay)&&void 0!==t?t:o.default.weekStartDay}syncInputFieldValue(e=this.isConfiguring){super.syncInputFieldValue(!0),e||this.highlightExternalChange||(e=!0);const t=this,n=t.dateField.highlightExternalChange,r=t.timeField.highlightExternalChange;t.$isInternalChange=!0,t.dateField.highlightExternalChange=!1,t.dateField.value=null,t.dateField.highlightExternalChange=n,e&&(t.timeField.highlightExternalChange=t.dateField.highlightExternalChange=!1),t.timeField.value=t.dateField.value=t.inputValue,t.dateField.highlightExternalChange=n,t.timeField.highlightExternalChange=r,t.$isInternalChange=!1,t.syncInvalid()}onTimeFieldKeyDown(e){const t=this;if("Enter"===e.key||"Tab"===e.key){const e=t.dateField.value;t._isUserAction=!0,t.value=e?o.default.copyTimeValues(e,t.timeField.value):null,t._isUserAction=!1}}onDateFieldKeyDown(e){const t=this;"Tab"===e.key&&(e.stopPropagation(),e.preventDefault(),t.timeField.focus()),"Enter"===e.key&&(t.value=t.dateField.value)}updateRequired(e,t){this.timeField.required=this.dateField.required=e}updateReadOnly(e,t){super.updateReadOnly(e,t),this.isConfiguring||(this.timeField.readOnly=this.dateField.readOnly=e)}onDisabled(e){this.timeField.disabled=this.dateField.disabled=e}focus(){this.dateField.focus()}hasChanged(e,t){return!o.default.isEqual(e,t)}get isValid(){return this.timeField.isValid&&this.dateField.isValid}setError(e,t){[this.dateField,this.timeField].forEach(n=>n.setError(e,t))}getErrors(){const e=[...this.dateField.getErrors()||[],...this.timeField.getErrors()||[]];return e.length?e:null}clearError(e,t){[this.dateField,this.timeField].forEach(n=>n.clearError(e,t))}updateInvalid(){this.updatingInvalid=!0,[this.dateField,this.timeField].forEach(e=>e.updateInvalid()),this.updatingInvalid=!1}}c.initClass(),c._$name="DateTimeField"},"./lib/Core/widget/DisplayField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/TextField.js"),i=n("./lib/Core/helper/StringHelper.js");class o extends r.default{static get $name(){return"DisplayField"}static get type(){return"displayfield"}static get alias(){return"display"}static get configurable(){return{readOnly:!0,editable:!1,cls:"b-display-field",template:null}}get focusElement(){}changeReadOnly(){return!0}changeEditable(){return!1}get inputElement(){return{tag:"span",html:this.template?this.template(this.value):i.default.encodeHtml(this.value)}}}o.initClass(),o._$name="DisplayField"},"./lib/Core/widget/DurationField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/widget/TextField.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/data/Duration.js");class s extends r.default{static get $name(){return"DurationField"}static get type(){return"durationfield"}static get alias(){return"duration"}static get defaultConfig(){return{value:null,step:1,unit:null,defaultUnit:"day",magnitude:null,useAbbreviation:!1,allowNegative:!1,decimalPrecision:null,triggers:{spin:{type:"spintrigger"}},nullValue:null}}static get configurable(){return{min:null,max:null,allowedUnits:null}}changeMin(e){return"string"===typeof e?new a.default(e):e}changeMax(e){return"string"===typeof e?new a.default(e):e}changeAllowedUnits(e){return"string"===typeof e&&(e=e.split(",")),e}updateAllowedUnits(e){this.allowedUnitsRe=new RegExp(`(${e.join("|")})`,"i")}get inputValue(){return null==this.value?"":this.value.toString(this.useAbbreviation)}set unit(e){this._unit=e,this.value=this.calcValue()}get unit(){return this._unit}set magnitude(e){this.clearError("L{invalidUnit}"),this._magnitude=this.roundMagnitude(e),super.value=this.calcValue()}get magnitude(){return this._magnitude}roundMagnitude(e){return e&&null!=this.decimalPrecision?o.default.round(e,this.decimalPrecision):e}get allowDecimals(){return 0!==this.decimalPrecision}get isValid(){const e=this,t=null==e.value||e.value&&null==e.value.magnitude;return super.isValid&&(t&&!e.required||!t&&(e.allowNegative||e.value.magnitude>=0))}internalOnChange(e){const t=this,n=t.value,r=t._lastValue;t.hasChanged(r,n)&&(t._lastValue=n,t.triggerFieldChange({value:n,event:e,userAction:!0,valid:t.isValid}))}onFocusOut(e){return this.syncInputFieldValue(!0),super.onFocusOut(e)}set value(e){const t=this;let n,r;if(this.clearError("L{invalidUnit}"),"number"===typeof e)n=t.roundMagnitude(e),r=t._unit;else if("string"===typeof e){const o=i.default.parseDuration(e,t.allowDecimals,t._unit||s.defaultConfig.defaultUnit);o&&(!t.allowedUnitsRe||t.allowedUnitsRe.test(o.unit)?(r=o.unit,n=t.roundMagnitude(o.magnitude)):t.setError("L{invalidUnit}"))}else e&&"unit"in e&&"magnitude"in e?(r=e.unit,n=t.roundMagnitude(e.magnitude)):(r=null,n=null);t._magnitude===n&&t._unit===r||(t._magnitude=n,t._unit=r,super.value=t.calcValue())}okMax(e){return null==this.max||e<=this.max}okMin(e){return null==this.min||e>=this.min}get validity(){const e=this.value,t={};return null!=e&&(t.rangeUnderflow=!this.okMin(e),t.rangeOverflow=!this.okMax(e)),t.valid=!t.rangeUnderflow&&!t.rangeOverflow,t}get value(){return super.value}calcValue(){const e=this;return e._unit&&null!=e._magnitude||!e.clearable?new a.default(e._magnitude,e._unit||s.defaultConfig.defaultUnit):null}hasChanged(e,t){return t&&!e||!t&&e||t&&e&&!e.isEqual(t)}get milliseconds(){return this.value?this.value.milliseconds:0}onInternalKeyDown(e){"ArrowUp"===e.key?this.doSpinUp():"ArrowDown"===e.key&&this.doSpinDown()}doSpinUp(){const e=this;let t=(e.magnitude||0)+e.step;e._isUserAction=!0,e.okMin(t)||(t=e.min),e.okMax(t)&&(e.value=t),e._isUserAction=!1}doSpinDown(){const e=this;let t=(e.magnitude||0)-e.step;e.okMax(t)||(t=e.max),(e.okMin(t)&&e.allowNegative||(e.magnitude||0)>0)&&(e._isUserAction=!0,e.value=t,e._isUserAction=!1)}}s.initClass(),s._$name="DurationField"},"./lib/Core/widget/Editor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/widget/Container.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/localization/LocaleManager.js"),l=n("./lib/Core/widget/Field.js"),c=(n("./lib/Core/widget/layout/Fit.js"),n("./lib/Core/helper/StringHelper.js")),d=n("./lib/Core/helper/DomHelper.js"),u=n("./lib/Core/helper/ResizeMonitor.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.default{static get $name(){return"Editor"}static get type(){return"editor"}static get configurable(){return{positioned:!0,hidden:!0,layout:"fit",align:{align:"t0-t0",offset:[0,0]},inputField:"textfield",blurAction:"complete",completeKey:"Enter",cancelKey:"Escape",invalidAction:"block",completeOnChange:null}}afterConfigure(){const e=this;super.afterConfigure(),e.onTargetSizeChange=e.onTargetSizeChange.bind(e),(e.completeKey||e.cancelKey)&&a.default.on({element:e.element,keydown:"onKeyDown",thisObj:e}),e.on({hide:"afterEditorHide",thisObj:e}),s.default.on({locale:"onLocaleChange",thisObj:e})}onLocaleChange(){const{inputField:e}=this;e&&!e.isDestroyed&&(e.syncInputFieldValue?e.syncInputFieldValue(!0):l.default)}startEdit({target:e,align:t=this.align,hideTarget:n=!1,matchSize:r=!0,matchFont:i=!0,fitTargetContent:o=!1,value:a,record:s,field:l=this.inputField.name,focus:c=!0}){const g=this,{inputField:m}=g,p=d.default.getStyleValue(e,"font-size"),v=d.default.getStyleValue(e,"font-family");if(!1!==g.trigger("beforeStart",{value:a})){var b;if(s&&l&&void 0===a&&(g.record=s,g.dataField=l,a=s[l]),r&&(e instanceof HTMLElement&&g.updateSize(e),e instanceof HTMLElement&&u.default.addResizeListener(e,g.onTargetSizeChange)),m.input&&(i?(m.input.style.fontSize=p,m.input.style.fontFamily=v):m.input.style.fontSize=m.input.style.fontFamily=""),g._isSettingValues=!0,m.clearError&&m.clearError(),m.value=a,g._isSettingValues=!1,g.showBy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({target:e},t)),o){const e=m.input.scrollWidth-m.input.clientWidth;e>0&&(g.width+=e+d.default.scrollBarWidth)}return c&&g.inputField.focus&&g.inputField.focus(),e.nodeType===Element.ELEMENT_NODE&&(e.classList.add("b-editing"),n&&e.classList.add("b-hide-visibility")),g.editing=!0,g.trigger("start",{value:m.value}),Array.isArray(m.value)&&m.editingRecords&&null!==(b=m.value[0])&&void 0!==b&&b.isModel?g.oldValue=m.value.map(e=>e.copy(e.id)):(g.oldValue=m.value,Array.isArray(g.oldValue)&&(g.oldValue=g.oldValue.slice())),m.initialValue=g.oldValue,!0}return!1}refreshEdit(){if(this.isVisible){const{record:e,dataField:t,inputField:n}=this;if(e&&t){const r=e[t];o.default.isEqual(n.value,r)||(n.value=r)}}}finishEdit(){const{target:e}=this.lastAlignSpec;e.nodeType===Element.ELEMENT_NODE&&(e.classList.remove("b-editing"),e.classList.remove("b-hide-visibility")),this.editing=!1}onKeyDown(e){const t=this;switch(e.key){case t.completeKey:t.completeEdit(null,e),e.stopImmediatePropagation();break;case t.cancelKey:t.cancelEdit(e),e.stopImmediatePropagation()}t.trigger("keydown",{event:e})}onFocusOut(e){if(super.onFocusOut(e),!this.isFinishing&&this.editing){const e=this[this.blurAction+"Edit"];e&&e.call(this)}}async completeEdit(e,t){const n=this,{inputField:r,oldValue:i,record:a}=n,s=r.invalidAction||(!1===r.allowInvalid?"block":n.invalidAction),{value:l}=r;if(n.isVisible){if(r.isValid){if(o.default.isEqual(l,i))return n.cancelEdit(t),!0;{const t={inputField:r,record:a,value:l,oldValue:i};if(!1!==n.trigger("beforeComplete",t)){if(e||(e=t.finalize||t.editorContext&&t.editorContext.finalize),e){let o=await e(t);if(!0===o)n.onEditComplete();else{if(r.setError){const e=o||r.invalidValueError,t=()=>{n(),r.clearError(e)},n=r.on({change:t,input:t});r.setError(e)}"block"===s?r.focus&&r.focus():"revert"===s&&(r.value=i,o=!0),o=!1}return o}return n.onEditComplete(),!0}r.focus&&r.focus()}}else{if("block"===s)return r.focus&&r.focus(),!1;if("revert"===s)return n.cancelEdit(t),!0}return!1}}cancelEdit(e){const t=this,{inputField:n,oldValue:r}=t,{value:i}=n;t.editing&&!t.isFinishing&&!1!==t.trigger("beforeCancel",{value:i,oldValue:r,event:e})&&(t.isFinishing=!0,t.hide(),t.trigger("cancel",{value:i,oldValue:r,event:e}),t.finishEdit(),t.isFinishing=!1)}onEditComplete(){const e=this,{record:t,dataField:n,inputField:r,oldValue:i}=e,{value:o}=r;if(!e.isFinishing){if(e.isFinishing=!0,e.hide(),t){const e="set"+c.default.capitalize(n);t[e]?t[e](o):t[n]=o}e.trigger("complete",{value:o,oldValue:i}),e.finishEdit(),e.isFinishing=!1}}doDestroy(){this.createdInputField&&this.inputField.destroy(),super.doDestroy()}set owner(e){this._owner=e}get owner(){return this._owner||r.default.fromElement(this.element.parentNode)}changeInputField(e,t){const n=this;return t&&t.destroy(),"string"===typeof e&&(e={type:e}),e instanceof r.default||(e=r.default.create(e),n.createdInputField=!0),n.completeOnChange&&e.on({change:"onInputFieldChange",thisObj:n}),e.parent=n,e}updateInputField(e){this.removeAll(),this.add(e)}get inputField(){return this.items[0]}onInputFieldChange(){this.containsFocus&&this.completeEdit()}onTargetSizeChange(e,t,n){t&&n&&this.updateSize(e)}updateSize(e){const t=e.getBoundingClientRect();this.width=t.width-this.align.offset[0],this.height=t.height}afterEditorHide(){u.default.removeResizeListener(this.lastAlignSpec.target,this.onTargetSizeChange)}}g.initClass(),g._$name="Editor"},"./lib/Core/widget/Field.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/widget/Tooltip.js"),o=n("./lib/Core/widget/mixin/Badge.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/helper/FunctionHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Core/helper/DomHelper.js"),u=n("./lib/Core/util/ClickRepeater.js"),h=n("./lib/Core/util/DynamicObject.js");const f=(e,t)=>(e.weight||0)-(t.weight||0),g=(e,t)=>(t.weight||0)-(e.weight||0),m={align:!0,weight:!0};class p extends(r.default.mixin(o.default)){static get $name(){return"Field"}static get type(){return"field"}static get configurable(){return{placeholder:null,value:"",name:null,label:null,labelPosition:"before",labelCls:null,labels:null,labelWidth:{value:null,$config:{localeKey:"L{labelWidth}"}},required:null,clearable:null,revertOnEscape:null,hint:null,hintHtml:null,inputWidth:null,keyStrokeChangeDelay:0,readOnly:null,editable:!0,defaultAction:"change",triggers:null,highlightExternalChange:!0,localizableProperties:["label","title","placeholder","labelWidth"],autoSelect:!1,autoComplete:"off",inputAttributes:null,inputType:"text",inputAlign:null,attributes:{value:["placeholder","autoComplete","minLength","maxLength","pattern","tabIndex","min","max"],$config:{merge:"distinct"}},nullValue:{$config:null,value:null,default:null},updatedClsDuration:500,inputReadOnly:!1,testConfig:{updatedClsDuration:10}}}static get delayable(){return{highlightChanged:"raf"}}doDestroy(){var e,t;const n=this,{triggers:r}=n,i=n.isPainted&&p.getSharedErrorTooltip(n.rootElement,!0);if(null===(e=n.inputListenerRemover)||void 0===e||e.call(n),null===(t=n.keyListenerRemover)||void 0===t||t.call(n),super.doDestroy(),r)for(const o of Object.values(r))o.destroy();(null===i||void 0===i?void 0:i.field)===n&&i.hide()}get invalidValueError(){return"L{invalidValue}"}get errorTip(){return this.constructor.getSharedErrorTooltip(this.rootElement)}static getSharedErrorTooltip(e,t){var n;let o=null===(n=e.bryntum)||void 0===n?void 0:n.errorTooltip;return o||t||(e.bryntum=e.bryntum||{},o=new i.default({cls:"b-field-error-tip",forSelector:".b-field.b-invalid .b-field-inner",align:"l-r",scrollAction:"realign",rootElement:e,onBeforeShow(){const e=this,t=r.default.fromElement(e.activeTarget);if(t){const n=t.getErrors();if(n)return e.html=n.join("<br>"),e.field=t,!0}return!1}}),e.bryntum.errorTooltip=o),o}static get errorTip(){return this.getSharedErrorTooltip(document.body)}construct(e){super.construct(e);const t=this;t.keyStrokeChangeDelay&&(t.changeOnKeyStroke=t.buffer(t.internalOnChange,t.keyStrokeChangeDelay))}onFocusIn(e){const t=this;t.valueOnFocus=c.default.clone(t.value),t.validOnFocus=!(t.errors&&Object.keys(t.errors).length),super.onFocusIn(e)}onFocusOut(e){super.onFocusOut(e),this.syncRequired(),this.onEditComplete()}onEditComplete(){}compose(){this.getConfig("clearable");const{id:e,innerElements:t,label:n,labels:r=[],labelCls:i,readOnly:o,triggers:a}=this,s=c.default.values(a,(e,t)=>!t),l=s.filter(e=>"start"===e.align).sort(f),d=s.filter(e=>"start"!==e.align).sort(g),u=t=>c.default.assign({tag:"label",for:e+"-input",class:"b-align-"+(t.align||"start")},t);return{class:{"b-has-label":Boolean(n)||r.length,"b-has-start-trigger":l.length,"b-readonly":o},children:[...r.filter(e=>e&&"end"!==e.align).map(u),n?u({reference:"labelElement",class:"b-align-start "+(i||""),html:n}):null,{class:"b-field-inner",reference:"inputWrap",children:[...l.map(e=>e.element),...t,...d.map(e=>e.element)]},...r.filter(e=>"end"===(null===e||void 0===e?void 0:e.align)).map(u)]}}updateElement(e,t){var n;const r=this,i=r.initialConfig.value,{input:o}=r;super.updateElement(e,t),null!=i&&(r.value=i),r.syncEmpty(),r.updateInputReadOnly(r.inputReadOnly),r.syncInvalid();const a=o||r.focusElement;null===(n=r.keyListenerRemover)||void 0===n||n.call(r),r.keyListenerRemover=a&&s.default.on({element:a,thisObj:r,keydown:"internalOnKeyEvent",keypress:"internalOnKeyEvent",keyup:"internalOnKeyEvent"})}get innerElements(){return[this.inputElement]}get inputElement(){const{attributes:e,inputAttributes:t,id:n,inputCls:r,inputType:i,name:o}=this,a=c.default.assign({reference:"input",tag:"input",type:i,name:o||n,id:n+"-input",retainElement:!0},t);r&&(a.class=r);for(let s,l,c=e.length;c-- >0;)s=e[c],l=this[s],null!=l&&(a[s]=l);return a}get caretPos(){return this.textSelection[0]}set caretPos(e){this.textSelection=e}get focusElement(){return this.input}get textSelection(){const e=this.input;let t;try{t=[e.selectionStart,e.selectionEnd,e.selectionDirection]}catch(n){t=e.value,t=t?t.length:0,t=[t,t]}return t}set textSelection(e){"number"===typeof e?this.select(e,e):this.select(...e)}get hasTextSelection(){const[e,t]=this.textSelection;return e&&t-e>0}getAfterValue(e){const[t,n]=this.textSelection,r=this.input.value;return`${r.substr(0,t)}${e}${r.substr(n||t)}`}select(e,t){const n=this.focusElement;if(n.value.length){if(0===arguments.length)return void this.selectAll();if(!this.supportsTextSelection)return;a.default.isIE11?(n.focus(),n.setSelectionRange(e,t)):n.setSelectionRange(e,t)}}moveCaretToEnd(){const e=this.input;if(e.createTextRange){const t=e.createTextRange();t.collapse(!1),t.select()}else this.supportsTextSelection&&this.select(e.value.length,e.value.length)}selectAll(){this.focusElement.select()}syncEmpty(){const{isEmptyInput:e,isEmpty:t,element:n,clearIcon:r}=this,i=e&&t;n&&(r&&r.classList[i?"add":"remove"]("b-icon-hidden"),n.classList[i?"add":"remove"]("b-empty"))}updateHint(){this.syncHint()}updateHintHtml(){this.syncHint()}syncHint(){const e=this,{input:t,hint:n,hintHtml:r}=e,i=null===t||void 0===t?void 0:t.parentElement;if(t){let o=r||n;const a=e.hintElement||o&&(e.hintElement=d.default.createElement({parent:i,className:"b-field-hint",nextSibling:t.nextSibling,children:[{className:"b-field-hint-content"}]}));a&&("function"===typeof o&&(o=o({source:e,value:e.value})),a.firstChild[r?"innerHTML":"textContent"]=o||""),e.element.classList[o?"remove":"add"]("b-field-no-hint")}}syncInvalid(){this.updatingInvalid=!0;const{isPainted:e}=this;if(e){const{isValid:e,element:t,inputWrap:n}=this,r=this.errorTip;t.classList[e?"remove":"add"]("b-invalid"),e?null!==r&&void 0!==r&&r.isVisible&&r.field===this&&r.hide():r&&n.contains(i.default.currentOverElement)&&(r.activeTarget===n&&r.isVisible?r.onBeforeShow():(r.activeTarget=n,r.showBy(n)))}this.updatingInvalid=!1}updateEditable(){this.syncInputReadOnly()}syncInputReadOnly(){this.getConfig("readOnly"),this.inputReadOnly=this._readOnly||!1===this.editable}updateInputReadOnly(e){const t=this,{input:n,inputListenerRemover:r}=t;n&&(n.readOnly=e?"readOnly":null,e?t.inputListenerRemover=null===r||void 0===r?void 0:r():r||(t.inputListenerRemover=s.default.on({element:n,thisObj:t,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput"})))}changeReadOnly(e){return Boolean(e)}updateReadOnly(e){this.syncInputReadOnly()}updateClearable(e){const t=this;t.getConfig("triggers"),t.triggers={clear:e&&c.default.assign({cls:"b-icon-remove",weight:1e3,handler(){t._isUserAction=!0,t.clear(),t._isUserAction=!1}},e)||null}}changeTriggers(e,t){const n=this,r=n.$triggers||(n.$triggers=new h.default({configName:"triggers",factory:p.Trigger,inferType:!1,owner:n,created(e){l.default.after(e,"onConfigChange",(e,{name:t})=>{m[t]&&n.onConfigChange({name:"triggers",value:r.target})})},setup(e,t){e.reference=e.ref=t,e.parent=n}}));if(!1===n.stepTriggers&&(e.back||e.forward)&&(delete(e=c.default.assign({},e)).back,delete e.forward),r.update(e),!t)return r.target}updateLabelWidth(e){this.labelElement&&(this.labelElement.style.flex="0 0 "+d.default.setLength(e),this.inputWrap.style.flexBasis=null==e?"":0)}updateInputWidth(e){this.input.style.width=d.default.setLength(e),a.default.isIE11&&(this.input.parentElement.style.flexBasis=this.input.style.width),this.element.classList.add("b-has-width")}updateInputAlign(e){this.input.style.textAlign=e}changeLabel(e){return null==e?"":e}updateLabel(e){this.labelElement&&(this.labelElement.innerHTML=e)}updateLabelPosition(e,t){const{classList:n}=this.element;n.remove("b-label-"+t),n.add("b-label-"+e)}get isValid(){const e=this;if(!e.disabled){if(e.syncRequired(),e.errors&&Object.keys(e.errors).length)return!1;const t=e.validity;if(t)return t.valid}return!0}get isEmpty(){return null==this.value||""===this.value}get isEmptyInput(){return!this.input||null==this.input.value||""===this.input.value}get validity(){const e=this.input;return e&&e.validity}changeValue(e,t){return null==e&&(e=this.nullValue),this.hasChanged(t,e)?e:(""===e&&this.syncRequired(),t)}updateValue(e,t){const n=this;n.isConfiguring||(n.syncRequired(),n.inputting||n.triggerChange()),n.inputting||(n._lastValue=e),n.syncInputFieldValue()}hasChanged(e,t){return t!==e}syncInputFieldValue(e=!1){const t=this,{input:n,parent:r}=t;n&&!t.inputting&&(t.input[t.inputValueAttr]=t.inputValue,t.isConfiguring||t.containsFocus||!t.highlightExternalChange||(n.classList.remove("b-field-updated"),t.clearTimeout("removeUpdatedCls"),e||r&&r.isSettingValues&&r._isSettingValues.preventHighlight||t.highlightChanged())),t.syncEmpty(),t.syncInvalid()}highlightChanged(){this.input.classList.add("b-field-updated"),this.setTimeout("removeUpdatedCls",this.updatedClsDuration)}removeUpdatedCls(){this.input.classList.remove("b-field-updated")}get inputValue(){return null==this.value?"":this.value}get inputValueAttr(){return"value"}get supportsTextSelection(){const e=this.focusElement;return e&&("textarea"===e.tagName.toLowerCase()||e.type&&(/text|search|password|tel|url/.test(e.type)||a.default.isEdge))}internalOnInputFocus(){const e=this.input.value.length;a.default.isIE11&&e&&!this.autoSelect&&this.select(e,e)}internalOnChange(e){const t=this;t.isValid&&t.hasChanged(t._lastValue,t.value)&&(t.triggerChange(e,!0),t._lastValue=t.value)}triggerChange(e,t=Boolean(this._isUserAction)){const n=this,{value:r,_lastValue:i,isValid:o}=n;n.syncHint(),n.triggerFieldChange({value:r,oldValue:i,event:e,userAction:t,valid:o}),"change"===n.defaultAction&&n.trigger("action",{value:r,oldValue:i,event:e,userAction:t,valid:o})}internalOnInput(e){var t;const n=this;n.inputting=!0,n.value=n.input.value,n.inputting=!1,n.trigger("input",{value:n.value,event:e}),null===(t=n.changeOnKeyStroke)||void 0===t||t.call(n,e)}internalOnKeyEvent(e){const t=this,{value:n}=t;let r=!1;if("keydown"===e.type)if("Escape"!==e.key||t.readOnly||t.disabled)"Enter"===e.key&&a.default.isIE11&&t.internalOnChange(e);else{const e=t.isValid,i="initialValue"in t?t.initialValue:t.valueOnFocus,o=t.hasChanged(i,n),a=t.input.value!==String(t.inputValue);t.revertOnEscape&&(!e||o||a)?(o&&(t.value=i),a&&t.syncInputFieldValue(!0),t.clearError(),r=o&&t.isValid||e!==t.validOnFocus):t.clearable&&(n||t.input.value)&&t.clear()}t.isDestroyed||(r&&e.stopImmediatePropagation(),t.trigger(e.type,{event:e}))}clear(){this.value=this.nullValue,this.trigger("clear")}onDisabled(){this.syncInvalid()}syncRequired(){var e;const t=this;t.isConfiguring||!t.required||!t.isEmpty||null!==(e=t.parent)&&void 0!==e&&e.isSettingValues?t.clearError("L{fieldRequired}",t.updatingInvalid):t.setError("L{fieldRequired}",t.updatingInvalid)}setError(e,t){(this.errors||(this.errors={}))[this.optionalL(e)]=1,t||this.syncInvalid()}clearError(e,t){const n=this;n.errors&&(e?delete this.errors[this.optionalL(e)]:n.errors={},t||n.syncInvalid())}getErrors(){const e=this;if(!e.isValid){const t=e.validity,n=c.default.keys(t).find(e=>"valid"!==e&&"customError"!==e&&t[e]),r=e.errors&&Object.keys(e.errors);let i;if(i=null!==r&&void 0!==r&&r.length?r:t.customError?[e.input.validationMessage]:n?[e.L(n,{min:e.min,max:e.max})]:[e.L(e.invalidValueError)],i&&i.length>0)return i}}}p.Trigger=class extends r.default{static get $name(){return"FieldTrigger"}static get factoryable(){return{defaultType:p.Trigger,extends:null}}static get type(){return"trigger"}static get configurable(){return{align:null,weight:null}}get field(){return this.parent}compose(){return{class:{["b-align-"+(this.align||"end")]:1,"b-icon":1},listeners:{click:"onClick",mousedown:"onMousedown"}}}changeAlign(e){return e}onClick(e){const t=this,n=t.field,r="function"===typeof t.handler?t.handler:n[t.handler];n.disabled||n.readOnly||!1!==n.trigger("trigger",{trigger:t})&&(null===r||void 0===r||r.call(n,e))}onMousedown(e){const t=this.field;!("key"in e)&&d.default.isTouchEvent&&t.editable&&(t.editable=!1,t.setTimeout(()=>t.editable=!0,500)),e.preventDefault(),d.default.getActiveElement(t.input)!==t.input&&t.focus()}},p.SpinTrigger=class extends p.Trigger{static get $name(){return"SpinTrigger"}static get type(){return"spintrigger"}static get configurable(){return{repeat:{$config:["nullify"],value:!0}}}compose(){return{children:{upButton:{class:{"b-icon":1,"b-spin-up":1}},downButton:{class:{"b-icon":1,"b-spin-down":1}}}}}updateRepeat(e){var t;null===(t=this.clickRepeater)||void 0===t||t.destroy(),this.clickRepeater=e?u.default.new({element:this.element},e):null}onClick(e){const t=this,{field:n}=t;n.disabled||n.readOnly||(e.target===t.upButton?n.doSpinUp(e.shiftKey):e.target===t.downButton&&n.doSpinDown(e.shiftKey))}},p.Trigger.initClass(),p.SpinTrigger.initClass(),r.default.register(p.Trigger,"trigger"),r.default.register(p.SpinTrigger,"spintrigger"),p._$name="Field"},"./lib/Core/widget/FileField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Field.js");class i extends r.default{static get $name(){return"FileField"}static get type(){return"filefield"}internalOnChange(e){super.internalOnInput(e),super.internalOnChange(e)}internalOnInput(){}static get configurable(){return{multiple:null,accept:null,inputType:"file",attributes:["multiple","accept"]}}get files(){return this.input.files}pickFile(){this.input.click()}get multiple(){return this._multiple?"":null}clear(){this.input.value=null}triggerChange(e){this.triggerFieldChange({event:e,value:this.input.value,oldValue:this._lastValue,userAction:!0,valid:!0})}}i.initClass(),i._$name="FileField"},"./lib/Core/widget/FilePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Container.js"),i=n("./lib/Core/widget/Tooltip.js");n("./lib/Core/widget/Button.js"),n("./lib/Core/widget/FileField.js");class o extends r.default{static get $name(){return"FilePicker"}static get type(){return"filepicker"}static get defaultConfig(){return{defaultBindProperty:"value",buttonConfig:null,fileFieldConfig:null}}construct(e={}){const t=this;e.items=[Object.assign({type:"button",ref:"fileButton",text:"L{FilePicker.file}",localeClass:this},e.buttonConfig),Object.assign({type:"filefield",ref:"fileField",style:"display: none"},e.fileFieldConfig)].concat(e.items||[]),super.construct(e),t.button.on({click:t.onButtonClick,thisObj:t}),t.fileField.on({change:t.onFileFieldChange,thisObj:t}),t._thisIsAUsedExpression(t.fileTip)}get button(){return this.widgetMap.fileButton}get fileField(){return this.widgetMap.fileField}get files(){return this.fileField.files}get fileTip(){const e=this;return e._fileTip||(e._fileTip=new i.default({cls:"b-file-tip",forElement:e.button.element,showOnHover:!0,align:"b-t",scrollAction:"realign",listeners:{beforeshow(){const t=this,n=e.files;return!(!n||!n.length)&&(t.html=""+Array.from(n).map(e=>e.name).join("<br>"),!0)}}}))}clear(){this.fileField.clear(),this.button.badge="",this.trigger("clear")}onButtonClick({event:e}){this.fileField.pickFile(),e.preventDefault()}onFileFieldChange({valid:e}){this.button.badge=this.files.length||"",this.triggerFieldChange({files:this.files,valid:e})}}o.initClass(),o._$name="FilePicker"},"./lib/Core/widget/FilterField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/TextField.js");class i extends r.default{static get $name(){return"FilterField"}static get type(){return"filterfield"}static get configurable(){return{field:null,store:null,filterFunction:null,clearable:!0,keyStrokeChangeDelay:100,onChange({value:e}){const{store:t,field:n,filterFunction:r}=this;if(t){const i=(n||this.id)+"-Filter";if(0===e.length)t.removeFilter(i);else{let o;r?o=t=>r(t,e):(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=t=>t.get(n).match(new RegExp(e,"i"))),t.filter({id:i,filterBy:o})}}}}}}i.initClass(),i._$name="FilterField"},"./lib/Core/widget/List.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Core/helper/TemplateHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/util/Collection.js"),c=n("./lib/Core/helper/util/Navigator.js"),d=n("./lib/Core/helper/StringHelper.js");const u=document.createRange();class h extends r.default{static get $name(){return"List"}static get type(){return"list"}static get configurable(){return{itemCls:"b-list-item",selectedCls:"b-selected",selectIconCls:"b-icon-check",items:null,store:null,navigator:!0,scrollable:{x:!1,y:!0},itemsFocusable:!0,multiSelect:!1,toggleAllIfCtrlPressed:!1,itemTpl:e=>d.default.encodeHtml(e.text),selected:{},activateOnMouseover:null}}construct(e,...t){const n=this;Array.isArray(e)&&(e={items:e}),super.construct(e,...t);const{element:r}=n,{classList:i}=r;n.multiSelect&&i.add("b-multiselect"),n.store&&n.store.count?n.refresh():i.add("b-empty"),s.default.on({element:r,delegate:n.itemSelector,mouseover:"onMouseOver",click:"onClick",thisObj:n})}doDestroy(){var e;this.detachListeners("store"),null===(e=this.navigator)||void 0===e||e.destroy(),super.doDestroy()}onFocusIn(e){const t=e._target.classList.contains(this.itemCls)?e._target.dataset.id:0;this.restoreActiveItem(this.navigator.previousActiveItem||this.getItem(t)),super.onFocusIn(e)}contentTpl(){return o.default.tpl`${this.store.records.map((e,t)=>this.itemWrapperTpl(e,t))}`}itemWrapperTpl(e,t){return o.default.tpl`<div class="${this.getItemClasses(e,t)}" data-index="${t}" data-id="${d.default.encodeHtml(e.id)}" ${this.itemsFocusable?'tabindex="-1"':""}>
            ${this.itemContentTpl(e,t)}
            </div>`}itemContentTpl(e,t){return`${this.itemIconTpl(e,t)}${this.itemTpl(e,t)}`}itemIconTpl(e,t){return this.multiSelect?`<div class="b-selected-icon b-icon ${this.selectIconCls}"></div>`:""}getItemClasses(e){var t;const n=this,r=null===(t=n._navigator)||void 0===t?void 0:t.activeItem,i=(null===r||void 0===r?void 0:r.dataset.id)==e.id,o=n.selected.includes(e);return`${n.itemCls} ${e.cls||""} ${o?n.selectedCls:""} ${i?n.navigator.focusCls:""}`}onBeforeStoreLoad(){this.mask(this.L("L{loading}"))}onAfterStoreRequest(){this.unmask()}onStoreChange({source:e,action:t,records:n,record:r}){switch(t){case"remove":this.selected.remove(n);break;case"clear":this.selected.clear();break;case"update":return void this.refreshItem(r)}this.refresh()}onStoreRefresh(){this.refresh()}refresh(){const e=this;if(e.isVisible){const{activeItem:t}=e.navigator;e.paintListener=null;const n=a.default.createElementFromTemplate(e.contentTpl(),{fragment:!0});e.clearItems().insertNode(n),t&&e.restoreActiveItem(t),e.refreshCount=(e.refreshCount||0)+1,e.element.classList[e.store.count>0?"remove":"add"]("b-empty")}else e.paintListener||(e.paintListener=e.on({paint:"refresh",thisObj:e,once:!0}))}clearItems(){const e=this,t=e.contentElement.querySelector(e.itemSelector),n=e.contentElement.lastChild;if(t){const n=e.contentElement.querySelectorAll(e.itemSelector+":not(.b-mask)");u.setStartBefore(t),u.setEndAfter(n[n.length-1]),u.deleteContents()}else n?(u.setStartAfter(n),u.setEndAfter(n)):(u.setStart(e.contentElement,0),u.setEnd(e.contentElement,0));return u}refreshItem(...e){for(const t of e){const e=this.getItem(t);if(e){const n=this.store.indexOf(t),r=a.default.createElementFromTemplate(this.itemWrapperTpl(t,n));a.default.sync(r,e)}}}getItem(e){if(null!=e)return"number"===typeof e?this.contentElement.querySelector(`[data-index="${e}"]`):(e.nodeType===Element.ELEMENT_NODE&&(e=e.dataset.id),null!=e.id&&(e=e.id),this.contentElement.querySelector(`[data-id="${d.default.encodeHtml(e)}"]`))}getRecord(e){return e.target&&(e=e.target),e=e.closest(this.itemSelector),this.store.getAt(parseInt(e.dataset.index))}updateItems(e){const t=this;t.store&&t.store.autoCreated&&t.store.destroy(),t.store=i.default.getStore(e)}updateSelected(e){e&&e instanceof l.default||(e=new l.default(e)),this._selected=e,e.on({change:"onSelectionChange",thisObj:this})}get itemSelector(){return"."+this.itemCls}get selected(){return this._selected}get store(){return this._thisIsAUsedExpression(this.items),this._store}changeStore(e){const t=this;if(e instanceof i.default||(e=new i.default(e)),t.detachListeners("store"),e){const n={name:"store",change:"onStoreChange",refresh:"onStoreRefresh",thisObj:t};e.readUrl&&(n.beforeLoad="onBeforeStoreLoad",n.afterRequest="onAfterStoreRequest"),e.on(n)}return e}updateStore(){this.refresh()}changeNavigator(e){const t=this,{element:n}=t;return n&&(e=(e.class||c.default).new({ownerCmp:t,target:n,keyEventTarget:n},e)).keyEventTarget===n&&(n.tabIndex=0),e}get minAlignHeight(){const e=this.element.lastElementChild,t=this.minHeight;if(null!=t)return this.store.count?Math.min(e.offsetTop+e.offsetHeight,t):0}alignTo(...e){super.minHeight=this.minAlignHeight,super.alignTo(...e)}hide(...e){return this.navigator.activeItem=null,super.hide(...e)}show(){const{refreshCount:e}=this,{previousActiveItem:t}=this.navigator;super.minHeight=this._minHeight;const n=super.show();return this.refreshCount===e&&this.restoreActiveItem(t,!0),n}restoreActiveItem(e=this.navigator.previousActiveItem,t="nearest"){const n=this,{navigator:r,lastAlignSpec:i}=n;if(null!=e){if("string"!==typeof t){const e=i?i.zone:1;t=1&e?"nearest":e?"start":"end"}(e=n.getItem(e))&&(n.scrollable.scrollIntoView(e,{block:t}),r.activeItem=e)}}onMouseOver(e){const t=this,n=e.currentTarget;!a.default.isTouchEvent&&n&&t.navigator&&t.activateOnMouseover&&t.setTimeout({fn:"handleMouseOver",delay:30,args:[n],cancelOutstanding:!0})}handleMouseOver(e){this.navigator.activeItem=e}onClick(e){const t=e.target.closest(this.itemSelector);t&&this.onItemClick(t,e)}onInternalKeyDown(e){const t=this.navigator.activeItem;switch(e.key){case" ":if("INPUT"===e.target.nodeName.toUpperCase()&&!e.target.readOnly)break;case"Enter":t&&(this.onItemClick(t,e),e.stopImmediatePropagation(),e.preventDefault())}}onItemClick(e,t){const n=this,r=parseInt(e.dataset.index);let i=n.store.getAt(r);if(n._isUserAction=!0,n.trigger("item",{item:e,record:i,index:r,event:t,userAction:!0}),!e.contains(t.target.closest("[data-noselect]"))){const e=n.selected,r=e.includes(i);n.multiSelect?(n.toggleAllIfCtrlPressed&&t.ctrlKey&&(i=n.store.getRange()),e[r?"remove":"add"](i)):e.splice(0,e.count,i)}n.lastClicked=i,n._isUserAction=!1}onSelectionChange({action:e,removed:t,added:n,replaced:r}){const i=this,{selectedCls:o,unselectedCls:a}=i;let s,l;if("clear"===e)for(l of i.element.querySelectorAll("."+o))l.classList.remove(o),a&&l.classList.remove(a);else{for(s of t)l=i.getItem(s),l&&l.classList.remove(o);for(s of n)l=i.getItem(s),l&&l.classList.add(o)}}}h.initClass(),h.prototype.navigatorClass=c.default,h._$name="List"},"./lib/Core/widget/Mask.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/util/Promissory.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/VersionHelper.js"),s=n("./lib/Core/widget/Renderable.js");class l extends s.default{static get $name(){return"Mask"}static get type(){return"mask"}static get configurable(){return{autoClose:null,cover:null,icon:"b-icon b-icon-spinner",errorDefaults:{icon:"b-icon b-icon-warning",autoClose:3e3,showDelay:0},maxProgress:null,mode:"dark",progress:null,owner:null,target:null,text:null,type:null,showDelay:null,useTransition:!1}}static get delayable(){return{deferredClose:0,delayedShow:0}}construct(e){if(e){let t,n=e.element;n&&(a.default.deprecate("Core","4.0.0",'Mask "element" config has been renamed to "target"'),e=t=Object.assign({},e),delete t.element,t.target=n),n=e.target,"string"===typeof n&&(e=t=t||Object.assign({},e),t.target=e.owner[n])}super.construct(e),this.target||(this.target=document.body),this.show()}doDestroy(){const e=this,{element:t}=e;if("trial"===e.type)return!1;t&&(e.element=null,e.mode.endsWith("blur")&&r.default.forEachChild(t,t=>{t.classList.remove("b-masked-"+e.mode)}),e.target.classList.remove("b-masked"),e.target[e.maskName]=null),super.doDestroy()}get maskElement(){return this.element}get maskName(){const e=this.type;return"mask"+("string"===typeof e?e.trim():"")}set error(e){this.setConfig(this.errorDefaults),this.text=e}renderDom(){const e=this,{maxProgress:t}=e;return{class:{"b-mask":1,"b-delayed-show":e.showDelay,"b-widget":1,["b-mask-"+e.mode]:1,"b-progress":t,"b-prevent-transitions":!e.useTransition},children:[{reference:"maskContent",class:"b-mask-content b-drawable",children:[t?{reference:"progressElement",class:"b-mask-progress-bar",style:{width:Math.max(0,Math.min(100,Math.round(e.progress/t*100)))+"%"}}:null,{reference:"maskText",class:"b-mask-text",html:(e.icon?`<i class="b-mask-icon ${e.icon}"></i>`:"")+e.text}]}]}}static mergeConfigs(...e){const t={};for(const n of e)"string"===typeof n?t.text=n:o.default.assign(t,n);return t}static mask(e,t=document.body){return new l("string"!==typeof e?Object.assign({target:t},e):{target:t,text:e})}static unmask(e=document.body){return e.mask&&e.mask.close()}updateAutoClose(e){const t=this;t.deferredClose.cancel(),e&&(t.deferredClose.delay=e,t.deferredClose())}updateCover(){const e=this.owner;e&&e.syncMaskCover&&e.syncMaskCover(this)}updateShowDelay(e){const t=this.delayedShow;t.delay=e,e||t.flush()}deferredClose(){const e=this.owner;this.close().then(()=>{e&&e.onMaskAutoClose&&e.onMaskAutoClose(this)}),e&&e.onMaskAutoClosing&&e.onMaskAutoClosing(this)}delayedShow(){this.classes.remove("b-delayed-show")}show(){const e=this,{element:t,target:n,hiding:i,maskName:o}=e;i&&(i.resolve(),e.hiding=null,e.clearTimeout("hide")),e.showDelay&&(t.classList.add("b-delayed-show"),e.delayedShow()),t.classList.add("b-visible"),t.classList.remove("b-hidden"),n.classList.add("b-masked"),n[o]||(n[o]=e,n.appendChild(t)),e.shown=!0,e.mode.endsWith("blur")&&r.default.forEachChild(n,n=>{n!==t&&n.classList.add("b-masked-"+e.mode)})}hide(){const e=this,{target:t,element:n}=e;let o=e.hiding;if(!o){if(!e.shown)return Promise.resolve();e.hiding=o=new i.default,e.shown=!1,n.classList.remove("b-visible"),n.classList.add("b-hidden"),t.classList.remove("b-masked"),e.mode.endsWith("blur")&&r.default.forEachChild(t,t=>{t!==n&&t.classList.remove("b-masked-"+e.mode)}),o.promise=o.promise.then(()=>{e.hiding===o&&(e.hiding=null)}),e.setTimeout(()=>o.resolve(),500,"hide")}return o.promise}close(){return this.hide().then(()=>{this.destroy()})}}l._$name="Mask"},"./lib/Core/widget/Menu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/widget/Popup.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/widget/MenuItem.js"),s=n("./lib/Core/widget/Widget.js");const l={ArrowUp:1,ArrowDown:1,ArrowRight:1,ArrowLeft:1,Enter:1,Escape:1};class c extends r.default{static get $name(){return"Menu"}static get type(){return"menu"}static get configurable(){return{focusable:!0,align:"t-b",scrollAction:"hide",focusOnHover:null,scrollable:!1,defaultType:"menuitem",tools:{close:!1}}}construct(e){Array.isArray(e)&&(e={lazyItems:e}),super.construct(e),o.default.on({element:this.element,click:"onMouseClick",mouseover:"onMouseOver",mouseleave:"onMouseLeave",thisObj:this})}afterShow(e){const t=this;t.items.some(e=>Boolean(e._menu))&&t.element.classList.add("b-menu-with-submenu"),t.items.some(e=>e.icon)&&t.element.classList.add("b-menu-with-icon"),super.afterShow(e)}createWidget(e){return"string"===typeof e&&(e={text:e}),super.createWidget(e)}get focusElement(){var e;const t=null===(e=this.parentMenu)||void 0===e?void 0:e.element.contains(i.default.getActiveElement(this.parentMenu)),n=this.items[0];return!t&&n instanceof a.default?this.element:super.focusElement}onDocumentMouseDown(e){this.parentMenu&&this.parentMenu.owns(e.event.target)||super.onDocumentMouseDown(e)}hide(e){const t=this;super.hide(e),t.currentSubMenu&&!t.currentSubMenu.isDestroyed&&t.currentSubMenu.hide(e),t.parentMenu&&(t.parentMenu.currentSubMenu=null)}onMouseClick(e){const t=e.target.closest(".b-menuitem");t&&(this.triggerElement(t,e),e.stopImmediatePropagation())}onMouseOver(e){if(!1!==this.focusOnHover){const t=i.default.up(e.relatedTarget,".b-widget"),n=i.default.up(e.target,".b-widget"),r=s.default.fromElement(n);!i.default.isTouchEvent&&n&&n!==t&&r.parent===this&&this.setTimeout({fn:"handleMouseOver",delay:30,args:[r],cancelOutstanding:!0})}}handleMouseOver(e){e.focus()}onMouseLeave(e){const t=this,{relatedTarget:n}=e,r=n&&t.owns(n);let o=n&&n instanceof HTMLElement&&s.default.fromElement(n),a=!r;if(o){for(;o.ownerCmp;)o=o.ownerCmp;a&=!i.default.getAncestor(o.element,[e.target])}!r&&a&&(t.currentSubMenu&&t.currentSubMenu.hide(),t.currentSubMenu=t.selectedElement=null,t.element.contains(i.default.getActiveElement(t))&&i.default.getActiveElement(t).matches(".b-menuitem")&&t.focusElement.focus())}onInternalKeyDown(e){const t=s.default.fromElement(e),n=t&&t!==this&&!(t instanceof a.default);if("Escape"===e.key)return void(n?this:this.rootMenu).close();if(super.onInternalKeyDown(e),n)return;l[e.key]&&e.preventDefault();const r=this.element,o=i.default.getActiveElement(r);this.navigateFrom(o!==r&&r.contains(o)?o:null,e.key,e)}navigateFrom(e,t,n){const r=this,i=r.treeWalker,o=e&&r.getItem(e);let a;switch(t){case"ArrowUp":i.currentNode=e||(e=r.bottomFocusTrap),i.previousNode(),a=i.currentNode;break;case"ArrowDown":i.currentNode=e||(e=r.topFocusTrap),i.nextNode(),a=i.currentNode;break;case" ":e&&!e.classList.contains("b-disabled")&&(o&&o.menu?r.openSubMenu(e,o):r.triggerElement(e,n));break;case"ArrowRight":if(e&&o&&o.menu&&!e.classList.contains("b-disabled")){const t=r.openSubMenu(e,o);t&&t.focus()}else i.currentNode=e||(e=r.topFocusTrap),i.nextNode(),a=i.currentNode;break;case"ArrowLeft":r.isSubMenu?r.hide():e||(i.currentNode=e||(e=r.topFocusTrap),i.nextNode(),a=i.currentNode);break;case"Enter":e&&!e.classList.contains("b-disabled")&&r.triggerElement(e,n)}a&&(a===r.element?r.navigateFrom(r.bottomFocusTrap,"ArrowUp",n):a===e?r.navigateFrom(r.topFocusTrap,"ArrowDown",n):a.focus())}getItem(e){if(null!=e)return"number"===typeof e?this.items[e]:e.nodeType===Element.ELEMENT_NODE?s.default.fromElement(e,"menuitem",this.contentElement):this.items.find(t=>t.id==e)}triggerElement(e,t){const n=this.getItem(e);n&&!n.disabled&&n.doAction(t)}get isSubMenu(){var e;return this===(null===(e=this.owner)||void 0===e?void 0:e.menu)}openSubMenu(e,t){const n=this,r=t.menu;if(r){if(!r.isVisible){const i={item:t,element:e};if(!1===n.trigger("beforeSubMenu",i))return;if(t.onBeforeSubMenu&&!1===t.onBeforeSubMenu(i))return;r.show()}return n.currentSubMenu=r}}set selectedElement(e){const t=this,n=t._selectedElement;if(n){const e=t.getItem(n),r=e&&e.menu;r&&r.hide(),n.classList.remove("b-active")}if(t._selectedElement=e,e){const n=i.default.isFocusable(e);e.classList.add("b-active"),t.scrollable.scrollIntoView(e,{animate:!n,focus:n})}}get selectedElement(){return this._selectedElement}selectFirst(){const e=this.treeWalker;e.currentNode=this.topFocusTrap,e.nextNode(),this.requestAnimationFrame(()=>e.currentNode.focus())}get parentMenu(){let e=this.owner;if(e instanceof a.default&&(e=e.owner),e instanceof c)return e}get rootMenu(){let e=this;for(;e.parentMenu&&e.parentMenu instanceof this.constructor;)e=e.parentMenu;return e}}c.initClass(),c._$name="Menu"},"./lib/Core/widget/MenuItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/helper/util/DomClassList.js"),i=n("./lib/Core/widget/Menu.js"),o=n("./lib/Core/widget/Widget.js"),a=n("./lib/Core/helper/DomHelper.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=/^b-icon-/,u=/^b-fa-/;class h extends o.default{static get $name(){return"MenuItem"}static get type(){return"menuitem"}static get configurable(){return{checked:null,toggleGroup:null,menu:{value:null,$config:["lazy","nullify"]},icon:null,name:null,closeParent:null,href:null,target:null,localizableProperties:["text"]}}compose(){const{checked:e,href:t,hasMenu:n,name:i,target:o,text:a}=this,s=this.icon||("boolean"===typeof e?"b-fw-icon":"");return{tag:t?"a":"div",tabIndex:-1,href:t,target:o,class:{"b-has-submenu":n},dataset:{name:i,group:this.toggleGroup},children:{iconElement:s&&{tag:"i",class:l({"b-fa":u.test(s),"b-icon":d.test(s),"b-icon-checked":!0===e,"b-icon-unchecked":!1===e,"b-menuitem-icon":1},r.default.normalize(s,"object"))},textElement:{tag:"span",html:a,class:{"b-menu-text":1}},subMenuIcon:n&&{tag:"i",class:{"b-fw-icon":1,"b-icon-sub-menu":1}}}}}doAction(e){const t=this,n=this.parent,r={menu:n,item:t,element:t.element,bubbles:!0};if("boolean"===typeof t.checked){const e=!t.checked;this.toggleGroup&&!e||(t.checked=!t.checked)}t.trigger("beforeItem",r),t.trigger("item",r),t.closeParent&&n&&(n.rootMenu.close(),e&&!t.href&&e.preventDefault())}get focusElement(){return this.element}get contentElement(){return this.textElement}get isFocusable(){const e=this.focusElement;return e&&this.isVisible&&(e===document.body||e.offsetParent)}get hasMenu(){return this.hasConfig("menu")}get childItems(){const{menu:e}=this;return e?[e]:[]}get text(){return this.html}set text(e){this.html=e}onFocusIn(e){super.onFocusIn(e),!this.disabled&&this.menu&&this.openMenu()}onFocusOut(e){super.onFocusOut(e),this.closeMenu()}openMenu(e){const t=this.menu;!this.disabled&&t&&(t.focusOnToFront=e,t.show(),this.owner.currentSubMenu=t)}closeMenu(){this._menu instanceof o.default&&this.menu.close()}changeToggleGroup(e){return e&&"boolean"!==typeof this.checked&&(this.checked=!1),e}changeChecked(e,t){if(this.isConfiguring||"boolean"===typeof t)return Boolean(e)}updateChecked(e){const t=this;t.isConfiguring||(t.toggleGroup&&t.uncheckToggleGroupMembers(),t.trigger("toggle",{menu:t.owner,item:t,element:t.element,bubbles:!0,checked:e}))}getToggleGroupMembers(){const e=this,{checked:t,toggleGroup:n,element:r}=e,i=[];return t&&n&&a.default.forEachSelector(e.rootElement,`[data-group=${n}]`,e=>{if(e!==r){const t=o.default.fromElement(e);t&&i.push(t)}}),i}uncheckToggleGroupMembers(){this.checked&&this.toggleGroup&&this.getToggleGroupMembers().forEach(e=>e.checked=!1)}get closeParent(){return("boolean"===typeof this.checked?this._closeParent:!1!==this._closeParent)&&!this.hasMenu}changeMenu(e,t){const{constrainTo:n,scrollAction:r}=this.owner;return!e||"object"!==typeof e||"items"in e||"widgets"in e||"html"in e||(e={lazyItems:e}),i.default.reconfigure(t,e,{owner:this,defaults:{type:"menu",align:"l0-r0",anchor:!0,autoClose:!0,autoShow:!1,cls:"b-sub-menu",forElement:this.element,owner:this,constrainTo:n,scrollAction:r}})}}h.initClass(),h._$name="MenuItem"},"./lib/Core/widget/MessageDialog.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Popup.js");n("./lib/Core/widget/Button.js"),n("./lib/Core/widget/TextField.js");class i extends r.default{static get $name(){return"MessageDialog"}static get type(){return"messagedialog"}static get configurable(){return{id:"bryntum-msgdialog",centered:!0,modal:!0,hidden:!0,autoShow:!1,closeAction:"hide",title:"\xa0",lazyItems:{$config:["lazy"],value:[{type:"widget",id:"bryntum-msgdialog-message",cls:"b-msgdialog-message",ref:"message"},{type:"textfield",id:"bryntum-msgdialog-input",cls:"b-msgdialog-input",ref:"input"}]},bbar:{id:"bryntum-msgdialog-bbar",items:[{ref:"yesButton",id:"bryntum-msgdialog-yesbutton",cls:"b-msgdialog-yesbutton b-green",text:"L{Object.Yes}",onClick:"up.onYesClick"},{ref:"noButton",id:"bryntum-msgdialog-nobutton",cls:"b-msgdialog-nobutton b-gray",text:"L{Object.No}",onClick:"up.onNoClick"},{ref:"cancelButton",id:"bryntum-msgdialog-cancelbutton",cls:"b-msgdialog-cancelbutton b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelClick"}]}}}construct(){this.noButton=0,this.yesButton=1,this.cancelButton=3,super.construct(...arguments)}async confirm({message:e,title:t="\xa0",rootElement:n=document.body}){const r=this;return r.rootElement=n,r.getConfig("lazyItems"),r.title=r.optionalL(t),r.element.classList.remove(r.showClass),e?(r.showClass="b-show-message-yes-no",r.widgetMap.message.html=r.optionalL(e)):r.showClass="b-show-yes-no",r.element.classList.add(r.showClass),r.show(),r.promise=new Promise(e=>{r.resolve=e})}doResolve(e){const t=this,{resolve:n}=t;n&&(t.resolve=t.reject=t.promise=null,n(e),t.hide())}onInternalKeyDown(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.widgetMap.cancelButton.isVisible?this.onCancelClick():this.onNoClick()),super.onInternalKeyDown(e)}onYesClick(){this.doResolve(o.yesButton)}onNoClick(){this.doResolve(o.noButton)}onCancelClick(){this.doResolve(o.cancelButton)}}i.initClass();const o=new i;t.default=o},"./lib/Core/widget/NumberField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Field.js"),i=n("./lib/Core/helper/util/NumberFormat.js");class o extends r.default{static get $name(){return"NumberField"}static get type(){return"numberfield"}static get alias(){return"number"}static get configurable(){return{min:null,max:null,step:1,largeStep:0,value:null,format:"",decimalPrecision:null,leadingZeroes:null,triggers:{spin:{type:"spintrigger"}},changeOnSpin:!0,inputType:null}}construct(e){super.construct(e);const t=this;t.input.addEventListener("dblclick",()=>{t.select()}),"number"===typeof t.changeOnSpin&&(t.bufferedSpinChange=t.buffer(t.triggerChange,t.changeOnSpin))}acceptValue(e,t){let n=!isNaN(e);if(n&&!this.hasTextSelection){n=!1;const e=this.input.value,r=parseFloat(e);e!==t&&(n=!this.acceptValue(r,e))}return n}okMax(e){return isNaN(this.max)||e<=this.max}okMin(e){return isNaN(this.min)||e>=this.min}internalOnKeyEvent(e){if("keydown"===e.type){const t=this,n=e.key;let r;if("ArrowUp"===n)t.doSpinUp(e.shiftKey),r=!0;else if("ArrowDown"===n)t.doSpinDown(e.shiftKey),r=!0;else if(!e.altKey&&!e.ctrlKey&&n&&1===n.length){const e=t.getAfterValue(n),i=t.formatter.parseStrict(e);r=!(i===t.value||"-"===e&&(isNaN(t.min)||t.min<0))&&!t.acceptValue(i,e)}"Enter"===n&&t._changedBySilentSpin&&(t.triggerChange(e,!0),t._changedBySilentSpin=!1),r&&e.preventDefault()}super.internalOnKeyEvent(e)}doSpinUp(e=!1){const t=this;let n=(t.value||0)+(e?t.largeStep:t.step);t.okMin(n)||(n=t.min),t.okMax(n)&&t.applySpinChange(n)}doSpinDown(e=!1){const t=this;let n=(t.value||0)-(e?t.largeStep:t.step);t.okMax(n)||(n=t.max),t.okMin(n)&&t.applySpinChange(n)}applySpinChange(e){const t=this;t._isUserAction=!0,!0!==t.changeOnSpin&&(t._changedBySilentSpin=!0,t.silenceChange=!0,t.bufferedSpinChange&&t.bufferedSpinChange(null,!0)),t.value=e,t._isUserAction=!1,t.silenceChange=!1}triggerChange(){this.silenceChange||super.triggerChange(...arguments)}onFocusOut(e){super.onFocusOut(...arguments);const t=this,{input:n}=t,r=n.value,i=t.formatter.truncate(r),o=isNaN(i)?r:t.formatValue(i);r!==o&&(n.value=o),t._changedBySilentSpin&&(t.triggerChange(e,!0),t._changedBySilentSpin=!1)}internalOnInput(e){const t=this,{formatter:n,input:r}=t,{parser:i}=n,o=r.value,a=i.decimalPlaces(o);if(n.truncator&&a){let e=o;const s=n.truncate(o);if(!isNaN(s)&&(e=t.formatValue(s),i.decimalPlaces(e)<a)){const n=o.length-t.caretPos;r.value=e,t.caretPos=e.length-n}}super.internalOnInput(e)}formatValue(e){return this.formatter.format(e)}changeFormat(e){const t=this;if(""===e){const{leadingZeroes:n,decimalPrecision:r}=t;e=n?n+">9":null,null!=r?e=`${e||""}9.${"#".repeat(r)}`:e&&(e+=".*")}return e}get formatter(){const e=this,t=e.format;let n=e._formatter;return n&&e._lastFormat===t||(n=i.default.get(e._lastFormat=t),e._formatter=n),n}updateStep(e){this.element.classList[e?"remove":"add"]("b-hide-spinner"),this._step=e}changeLargeStep(e){return e||10*this.step}get validity(){const e=this.value,t={};return null!=e&&(t.rangeUnderflow=!this.okMin(e),t.rangeOverflow=!this.okMax(e)),t.valid=!t.rangeUnderflow&&!t.rangeOverflow,t}changeValue(e,t){const n=this;if(e||0===e){let t;"number"!==typeof e&&(e="string"===typeof e?n.formatter.parse(e):Number(e),t=isNaN(e),t&&(e="")),!t&&n.format&&(e=n.formatter.round(e))}else e=void 0;return super.changeValue(e,t)}get inputValue(){let e=this.value;return null!=e&&this.format&&(e=this.formatValue(e)),e}}o.initClass(),o._$name="NumberField"},"./lib/Core/widget/PagingToolbar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Toolbar.js");class i extends r.default{static get $name(){return"PagingToolbar"}static get type(){return"pagingtoolbar"}static get defaultConfig(){return{store:null,defaults:{localeClass:this},items:{firstPageButton:{onClick:"up.onFirstPageClick",icon:"b-icon-first"},previousPageButton:{onClick:"up.onPreviousPageClick",icon:"b-icon-previous"},pageNumber:{type:"numberfield",label:"L{page}",min:1,max:1,triggers:null,onChange:"up.onPageNumberChange",highlightExternalChange:!1},pageCount:{type:"widget",cls:"b-pagecount b-toolbar-text"},nextPageButton:{onClick:"up.onNextPageClick",icon:"b-icon-next"},lastPageButton:{onClick:"up.onLastPageClick",icon:"b-icon-last"},separator:{type:"widget",cls:"b-toolbar-separator"},reloadButton:{onClick:"up.onReloadClick",icon:"b-icon-reload"},spacer:{type:"widget",cls:"b-toolbar-fill"},dataSummary:{type:"widget",cls:"b-toolbar-text"}}}}set parent(e){super.parent=e,this.store||(this.store=e.store)}get parent(){return super.parent}set store(e){const t=this,n={beforerequest:"onStoreBeforeRequest",afterrequest:"onStoreChange",change:"onStoreChange",thisObj:t};t.store&&t.store.un(n),t._store=e,e&&(e.on(n),e.isLoading&&t.onStoreBeforeRequest())}get store(){return this._store}onStoreBeforeRequest(){this.eachWidget(e=>e.disable())}updateLocalization(){const e=this,{reloadButton:t,firstPageButton:n,previousPageButton:r,nextPageButton:i,lastPageButton:o}=e.widgetMap;n.tooltip=e.L("L{firstPage}"),r.tooltip=e.L("L{prevPage}"),i.tooltip=e.L("L{nextPage}"),o.tooltip=e.L("L{lastPage}"),t.tooltip=e.L("L{reload}"),e.updateSummary(),super.updateLocalization()}updateSummary(){const e=this,{pageCount:t,dataSummary:n}=e.widgetMap;let r,i,o,a,s;if(r=i=o=a=s=0,e.store){const{store:t}=e,{pageSize:n,currentPage:l}=t;r=t.count,i=t.lastPage,s=t.allCount,o=Math.max(0,(l-1)*n+1),a=Math.min(s,o+n-1)}t.html=e.L("L{pageCountTemplate}")({lastPage:i}),n.html=r?e.L("L{summaryTemplate}")({start:o,end:a,allCount:s}):e.L("L{noRecords}")}onStoreChange(){const{widgetMap:e,store:t}=this,{count:n,lastPage:r,currentPage:i}=t,{pageNumber:o,pageCount:a,firstPageButton:s,previousPageButton:l,nextPageButton:c,lastPageButton:d,dataSummary:u}=e;this.eachWidget(e=>e.enable()),o.value=i,o.max=r,u.disabled=o.disabled=a.disabled=!n,s.disabled=l.disabled=i<=1||!n,c.disabled=d.disabled=i>=r||!n,this.updateSummary()}onPageNumberChange({value:e}){this.store.currentPage!==e&&this.store.loadPage(e)}onFirstPageClick(){this.store.loadPage(1)}onPreviousPageClick(){this.store.previousPage()}onNextPageClick(){this.store.nextPage()}onLastPageClick(){this.store.loadPage(this.store.lastPage)}onReloadClick(){this.store.loadPage(this.store.currentPage)}}i.initClass(),i._$name="PagingToolbar"},"./lib/Core/widget/Panel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n("./lib/Core/widget/Container.js"),i=n("./lib/Core/widget/Widget.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/helper/util/DomClassList.js"),c=n("./lib/Core/helper/util/Rectangle.js"),d=n("./lib/Core/helper/DomHelper.js"),u=n("./lib/Core/helper/FunctionHelper.js"),h=n("./lib/Core/util/DynamicObject.js"),f=n("./lib/Core/widget/mixin/Toolable.js");n("./lib/Core/widget/Toolbar.js");const g=e=>!e.classList.contains("b-focus-trap")&&d.default.isFocusable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,m=e=>e.element,p=[],v=[p,p],b=(e,t)=>({children:e.children,class:{[`b-${e.vertical?"v":"h"}box`]:1,"b-box-center":1,"b-panel-bar-wrap":!t}}),y=(e,t=!1)=>({vertical:t,children:e?[e]:[]}),C={dock:1,hidden:1,weight:1},S={top:[!0,!0],bottom:[!0,!1],left:[!1,!0],right:[!1,!1]},w={header:1,"pre-header":1};g.acceptNode=g;class E extends(r.default.mixin(f.default)){static get $name(){return"Panel"}static get type(){return"panel"}static get configurable(){return{localizableProperties:["title"],bodyCls:{$config:{merge:"classList"},value:null},trapFocus:null,title:null,header:null,stripDefaults:{"*":{type:"toolbar",dock:"top"},bbar:{dock:"bottom",weight:-1e3},tbar:{weight:-1e3}},strips:{value:null,$config:{nullify:!0}},footer:null,tbar:null,bbar:null}}compose(){const{focusable:e,hasItems:t}=this,n=this.composeBody(),r=this.composeHeader();return{tabIndex:t&&!1!==e||e?0:null,class:{[`b-${(null===r||void 0===r?void 0:r.class["b-dock-left"])||(null===r||void 0===r?void 0:r.class["b-dock-right"])?"h":"v"}box`]:1},children:{topFocusTrap:{tabIndex:0,class:{"b-focus-trap":1}},headerElement:r,bodyWrapElement:n,bottomFocusTrap:{tabIndex:0,class:{"b-focus-trap":1}}}}}composeBody(){const{bodyCls:e,bodyConfig:t,footer:n}=this,r=a.default.values(this.strips,(e,t)=>!S[null===t||void 0===t?void 0:t.dock]).sort(this.byWeightSortFn);let i,o,s,c,d,u,h;for(n&&(s=n.dock||"bottom",r.unshift({dock:s,element:{tag:"footer",reference:"footerElement",html:"string"===typeof n?n:n.html,class:{["b-dock-"+s]:1,[""+(n.cls||"")]:1}}})),e&&(t[d="className"]||(d="class"),t[d]=new l.default(t[d]).assign(e)),c=r.length;c-- >0;)i=r[c],[u,o]=S[i.dock],h?h.vertical!==u&&(h=y(b(h),u)):h=y(t,u),h.children[o?"unshift":"push"](i.element);const f=b(h||y(t),!0);return f.class["b-panel-body-wrap"]=1,f.class[`b-${this.$$name.toLowerCase()}-body-wrap`]=1,f}get hasHeader(){const{header:e,title:t,tools:n,parent:r}=this,i=Object.values(n||{}).some(e=>!e.hidden);return e||!(null!==r&&void 0!==r&&r.suppressChildHeaders)&&(t||i)}composeHeader(e){const t=this;if(!e&&!t.hasHeader)return;const n=t.splitHeaderItems(),r=t.header||{},[i,o]=n||v,a=t.$meta.hierarchy,s=t.composeTitle(r),c=r.dock||"top",d=new l.default({["b-dock-"+c]:1},r.cls);let u,h;for(u=a.indexOf(E);u<a.length;++u)h=a[u].$$name,"Grid"!==h&&(d[`b-${h.toLowerCase()}-header`]=1);for(u=0;u<i.length;++u){var f,g;null===(f=(g=i[u]).syncRotationToDock)||void 0===f||f.call(g,c)}for(u=0;u<o.length;++u){var p,b;null===(p=(b=o[u]).syncRotationToDock)||void 0===p||p.call(b,c)}return{tag:"header",class:d,children:[...i.map(m),s,...o.map(m)]}}composeTitle(e){const t="string"===typeof e?e:this.title||e.title,n={reference:"titleElement",html:t,class:{["b-align-"+(e.titleAlign||"start")]:1,"b-header-title":1}};return a.default.isObject(t)&&(delete n.html,a.default.merge(n,t)),n}splitHeaderItems(){const e=this,{endTools:t,startTools:n}=e,r=a.default.values(e.strips,(e,t)=>!w[null===t||void 0===t?void 0:t.dock]);if(r.length+t.length+n.length)return[[...n,...r.filter(e=>"pre-header"===e.dock).sort(e.byWeightSortFn)],[...r.filter(e=>"header"===e.dock).sort(e.byWeightReverseSortFn),...t]]}set bodyConfig(e){this._bodyConfig=e}get bodyConfig(){const e=this,{hasNoChildren:t,textContent:n}=e,r=a.default.merge({reference:"bodyElement",className:e.classHierarchy(E).reduce((e,t)=>{const{$$name:n}=t;return e[`b-${n.toLowerCase()}-content`]=n,e},{})},e._bodyConfig);return!e.initializingElement&&e._element||(r.html=e.content||e._html),r.className["b-box-center"]=1,r.className["b-text-content"]=n&&t,r}changeBodyCls(e){return l.default.from(e)}changeTbar(e){return this.getConfig("strips"),this.strips={tbar:e},this.strips.tbar}changeBbar(e){return this.getConfig("strips"),this.strips={bbar:e},this.strips.bbar}get childItems(){const e=a.default.values(this.strips,(e,t)=>!S[null===t||void 0===t?void 0:t.dock]).sort(this.byWeightSortFn),[t,n]=this.splitHeaderItems()||v;return[...t,...n,...e.filter(e=>S[e.dock][1]),...this._items||p,...e.filter(e=>!S[e.dock][1]).reverse()]}changeStrips(e,t){const n=this,r=n.$strips||(n.$strips=new h.default({configName:"strips",factory:i.default,inferType:!1,owner:n,created(e){var t;const{dock:i}=e;if(!w[i]&&!S[i])throw new Error(`Invalid dock value "${i}"; must be: top, left, right, bottom, header, or pre-header`);u.default.after(e,"onConfigChange",(e,{name:t})=>{C[t]&&n.onConfigChange({name:"strips",value:r.target})}),e.innerItem=!1,n.onChildAdd(e),e.parent=n,null===(t=e.layout)||void 0===t||t.renderChildren(),e.hasItems&&(n.hasItems=!0)},setup:(e,t)=>((e=a.default.merge(a.default.clone(n.stripDefaults["*"]),n.stripDefaults[t],e)).parent=n,e.ref=t,e),transform:e=>(Array.isArray(e)&&(e={items:e}),e||null)}));if(r.update(e),!t)return r.target}updateTrapFocus(e){var t;const n=this;n.element.classList[e?"add":"remove"]("b-focus-trapped"),n.focusTrapListener=null===(t=n.focusTrapListener)||void 0===t?void 0:t.call(n),e&&(n.focusTrapListener=s.default.on({element:n.element,focusin:"onFocusTrapped",delegate:".b-focus-trap",thisObj:n}),n.treeWalker||(n.treeWalker=this.setupTreeWalker(n.element,NodeFilter.SHOW_ELEMENT,g,!1)))}updateMaxHeight(e){super.updateMaxHeight(e),o.default.isIE11&&(this.bodyWrapElement.style.flex=`1 1 ${e}px`)}fixIEMaxHeightBug(){const{element:e,contentElement:t,bodyWrapElement:n}=this;if("column"===d.default.getStyleValue(e,"flex-direction")){t.style.maxHeight="";let r=c.default.client(e).height;const i=e.childNodes,o=i.length;for(let e=0;e<o;e++){const o=i[e];o===t||o===n||o.classList.contains("b-resize-monitors")||(r-=o.offsetHeight)}this.contentElement.style.maxHeight=r+"px"}}setupTreeWalker(e,t,n,r){return document.createTreeWalker(e,t,n,r)}onFocusTrapped(e){const t=this,n=t.treeWalker;e.target===t.bottomFocusTrap?(n.currentNode=t.topFocusTrap,n.nextNode()):(n.currentNode=t.bottomFocusTrap,n.previousNode()),t.requestAnimationFrame(()=>n.currentNode.focus())}get focusElement(){return this.hasItems&&(super.focusElement||this.element)}get contentElement(){return this.element&&this.bodyElement}get widgetClassList(){const e=this,t=super.widgetClassList;var n;return e.hasHeader&&t.push("b-panel-has-header","b-header-dock-"+((null===(n=e.header)||void 0===n?void 0:n.dock)||"top")),e.tbar&&t.push("b-panel-has-top-toolbar"),e.bbar&&t.push("b-panel-has-bottom-toolbar"),t}}E.initClass(),E._$name="Panel"},"./lib/Core/widget/PickerField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/widget/TextField.js"),i=n("./lib/Core/GlobalEvents.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/helper/DomHelper.js");class s extends r.default{static get $name(){return"PickerField"}static get type(){return"pickerfield"}static get configurable(){return{editable:!0,pickerAlignElement:"inputWrap",value:null,triggers:{expand:{cls:"bars"}},autoClose:!0,autoExpand:null,picker:{value:{floating:!0},$config:["lazy","nullify"]},inputType:"text",monitorResize:!0,nullValue:null}}doDestroy(){var e;null===(e=this.globalTapListener)||void 0===e||e.call(this),super.doDestroy()}updateEditable(e){const t=this,n=t.element;var r;super.updateEditable(...arguments),!1===e?(null===(r=t.globalTapListener)||void 0===r||r.call(t),n.classList.add("b-not-editable"),o.default.on({element:t.input,click:"onTriggerClick",thisObj:t})):t.globalTapListener=i.default.on({globaltap:"showKeyboard",thisObj:t})}changePicker(e,t){throw new Error("changePicker(oldPicker, newPicker) must be implemented in PickerField subclass implementations")}get childItems(){if(this._picker)return[this.picker]}onEditComplete(){super.onEditComplete(),this.autoClosePicker()}onElementResize(e){const t=this;t.pickerVisible&&t.picker.requestAnimationFrame(t.picker.realign,null,t.picker),super.onElementResize(e)}internalOnKeyEvent(e){const t=this;let n=!0;if("keydown"===e.type&&!t.disabled)if(t.pickerVisible){const{picker:r}=t;"Escape"===e.key?(e.stopImmediatePropagation(),t.hidePicker(),n=!1):r.onInternalKeyDown?r.onInternalKeyDown(e):"ArrowDown"===e.key&&r.focusable&&r.focus()}else"ArrowDown"===e.key&&(e.stopImmediatePropagation(),e.preventDefault(),t.onTriggerClick(e));n&&super.internalOnKeyEvent(e)}onFocusIn(e){super.onFocusIn(e),this.autoExpand&&(this.minChars=0,this.onTriggerClick(e))}onFocusOut(e){this.autoClosePicker(),super.onFocusOut(e)}onTriggerClick(e){this.disabled||this.togglePicker("key"in e)}showKeyboard({event:e}){const t=this.input;a.default.isTouchEvent&&a.default.getActiveElement(t)===t&&e.target===t&&(i.default.suspendFocusEvents(),t.blur(),t.focus(),i.default.resumeFocusEvents())}togglePicker(e){this.pickerVisible?this.hidePicker():this.showPicker(e)}showPicker(e){const t=this,n=t.picker;t.pickerHideShowListenersAdded||(n.on({show:"onPickerShow",hide:"onPickerHide",thisObj:t}),t.pickerHideShowListenersAdded=!0),n.autoClose=t.autoClose,n.show(),n.isVisible&&e&&t.focusPicker()}onPickerShow(){const e=this;e.pickerVisible=!0,e.element.classList.add("b-open"),e.trigger("togglePicker",{show:!0}),e.pickerTapOutRemover=i.default.on({globaltap:"onPickerTapOut",thisObj:e}),e.pickerKeyDownRemover=o.default.on({element:e.picker.element,keydown:"onPickerKeyDown",thisObj:e})}onPickerHide(){const e=this;e.pickerVisible=!1,e.element.classList.remove("b-open"),e.trigger("togglePicker",{show:!1}),e.pickerTapOutRemover&&e.pickerTapOutRemover(),e.pickerKeyDownRemover&&e.pickerKeyDownRemover()}onPickerTapOut({event:e}){this.owns(e.target)||this.autoClosePicker()}onPickerKeyDown(e){if("Tab"===e.key){const t=a.default.getActiveElement(this.input),n=new KeyboardEvent("keydown",e);this.input.dispatchEvent(n),n.defaultPrevented&&e.preventDefault(),a.default.getActiveElement(this.input)===t?this.input.focus():e.preventDefault(),this.isDestroyed||this.hidePicker()}}autoClosePicker(){this.autoClose&&this.hidePicker()}hidePicker(){this.pickerVisible&&this.picker.hide()}focusPicker(){}focus(){const e=this.input;a.default.isTouchEvent&&this.editable&&(e.readOnly=!0,this.setTimeout(()=>e.readOnly=!1,500)),super.focus()}}s._$name="PickerField"},"./lib/Core/widget/Popup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/widget/Panel.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/GlobalEvents.js"),s=n("./lib/Core/helper/DomHelper.js");class l extends r.default{static get $name(){return"Popup"}static get type(){return"popup"}static get configurable(){return{autoShow:!0,autoClose:!0,showOnClick:!1,forElement:null,monitorResize:!0,floating:!0,hidden:!0,axisLock:!0,hideAnimation:i.default.isIE11?null:{opacity:{from:1,to:0,duration:".3s",delay:"0s"}},showAnimation:i.default.isIE11?null:{opacity:{from:0,to:1,duration:".4s",delay:"0s"}},stripDefaults:{bbar:{layout:{justify:"flex-end"}}},testConfig:{hideAnimation:null,showAnimation:null},closeAction:"hide",trapFocus:!0,focusOnToFront:!0,closable:null,maximizable:null,modal:null,maximized:null,tools:{close:{cls:"b-popup-close",handler:"close",weight:-1e3,hidden:!0},maximize:{cls:"b-popup-expand",handler:"toggleMaximized",weight:-999,hidden:!0}},highlightReturnedFocus:!0}}finalizeInit(){const e=this;e.anchoredTo=e.forElement,e.initialAnchor=e.anchor,e.forElement&&e.showOnClick&&(e.initialConfig.autoShow||(e.autoShow=!1),o.default.on({element:e.forElement,click:"onElementUserAction",thisObj:e})),super.finalizeInit(),e.autoShow&&(!0===e.autoShow?e.show():e.setTimeout(()=>e.show(),e.autoShow))}onPaint({firstPaint:e}){var t;null===(t=super.onPaint)||void 0===t||t.call(this,...arguments);const n=this;n.maximizable&&n.headerElement&&o.default.on({element:n.headerElement,dblclick:n.onHeaderDblClick,thisObj:n})}doDestroy(){this.syncModalMask(),super.doDestroy()}compose(){const{hasNoChildren:e,textContent:t}=this;return{class:{"b-text-popup":Boolean(t&&e)}}}close(){const e=this;if(!e._hidden&&!1!==e.trigger("beforeClose")||e._hidden&&"destroy"===e.closeAction)return e.containsFocus&&e.highlightReturnedFocus&&e.setTimeout(()=>e.element.classList.add("b-using-keyboard"),0),e[e.closeAction]()}toggleMaximized(){this.maximized=!this.maximized}updateMaximized(e){s.default.toggleClasses(this.element,["b-maximized"],e)}onInternalKeyDown(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.close(!0))}onDocumentMouseDown({event:e}){const t=this;t.modal&&e.target===l.modalMask?(e.preventDefault(),t.modal.closeOnMaskTap?t.close():t.containsFocus||t.focus()):t.owns(e.target)||!t.autoClose||t.containsFocus||t.close()}get isTopModal(){return s.default.isVisible(l.modalMask)&&this.element.previousElementSibling===l.modalMask}onFocusIn(e){const t=s.default.getActiveElement(this);super.onFocusIn(e),s.default.getActiveElement(this)===t&&e.target===this.element&&this.focus()}onFocusOut(e){window.visualViewport&&window.visualViewport.height<document.documentElement.clientHeight||this.modal||!this.autoClose||this.close(),super.onFocusOut(e)}onShow(){const e=this;e.autoClose&&e.addDocumentMouseDownListener(),e.focusOnToFront&&e.focus(),super.onShow&&super.onShow(),e.syncModalMask()}addDocumentMouseDownListener(){this.mouseDownRemover||(this.mouseDownRemover=a.default.on({globaltap:"onDocumentMouseDown",thisObj:this}))}syncModalMask(){const e=this,{modal:t}=e;if(t&&e.isVisible)e._x||e._y||(e.centered=!0),e.modalMask.classList.remove("b-hide-display"),e.element.classList.add("b-modal");else if(e.isPainted){e.element.classList.remove("b-modal");const t=e.floatRoot.querySelectorAll(".b-modal"),n=t.length?l.fromElement(t[t.length-1],"popup"):null;n?n.syncModalMask():l.modalMask.classList.add("b-hide-display")}}onHide(){const e=this;e.mouseDownRemover&&(e.mouseDownRemover(),e.mouseDownRemover=null),super.onHide&&super.onHide(),e.syncModalMask()}onElementUserAction(){this.show()}onHeaderDblClick(){this.maximizable&&this.toggleMaximized()}updateClosable(e){this.tools.close.hidden=!e}updateMaximizable(e){this.tools.maximize.hidden=!e}get modalMask(){const{modalMask:e}=l;return e.nextElementSibling!==this.element&&this.floatRoot.insertBefore(e,this.element),e}static get modalMask(){return this._modalMask||(this._modalMask=s.default.createElement({className:"b-modal-mask b-hide-display"}))}}l.initClass(),l._$name="Popup"},"./lib/Core/widget/Renderable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/mixin/Delayable.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/DomSync.js"),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/mixin/Events.js"),l=n("./lib/Core/localization/Localizable.js"),c=n("./lib/Core/mixin/Identifiable.js"),d=n("./lib/Core/Base.js");const{defineProperty:u}=Reflect;class h extends(d.default.mixin(l.default,s.default,r.default,c.default)){static get configurable(){return{element:null}}static get delayable(){return{refreshDom:"raf"}}static get identifiable(){return{}}static get renderConfigs(){const e=this,t=e.$meta;let n,r,i=t.renderConfigs;if(void 0===i){for(r in i=null,n=t.configs,n)n[r].render&&(i||(i=new Set)).add(r);t.renderConfigs=e.prototype.$renderConfigs=i}return i}construct(...e){this.$iid=++h.$idSeed,this.byRef={},super.construct(...e),this.onDraw!==h.prototype.onDraw&&this.initDrawable()}startConfigure(e){this.element=this.renderContext.renderDom(),super.startConfigure(e)}get element(){return this.refreshDom.flush(),this._element}changeElement(e,t){const n=this;return t&&t.remove(),e&&(e.id=n.id,e=i.default.createElement(e,{refOwner:n})),e}updateId(e,t){const n=this;if(t){const r=n.element;r.id=e,n.fixRefOwnerId(r,e,t)}}get classes(){return this.element.classList}fixRefOwnerId(e,t,n){if(e.$refOwnerId===n){e.$refOwnerId=t;const r=e.$reference;r&&(e.id=`${t}-${r}`);for(const i of e.childNodes)this.fixRefOwnerId(i,t,n)}}onConfigChange({name:e}){!this.isConfiguring&&this.$renderConfigs.has(e)&&this.refreshDom()}attachRef(e,t,n){const r=this,i="_"+e,{listeners:o}=n;i in r||u(r,e,{get:()=>(r.refreshDom.flush(),r[i]),set(e){r[i]=e}}),t.id=`${r.id}-${e}`,r.byRef[e]=t,r[e]=t,o&&(n.listeners={on:o,un:a.default.on(Object.assign({element:t,thisObj:r},o))})}detachRef(e,t,n){n.listeners&&(n.listeners.un(),n.listeners=null),this[e]=null,delete this.byRef[e]}renderDom(){return{}}get renderContext(){const e=this,t=e.$meta,n=e.constructor;let r=t.renderConfigs||n.renderConfigs,i=e;if(!r){i=Object.create(e),r=new Set;for(const n in t.configs)u(i,n,{get:()=>(r.add(n),e[n])});i.renderDom=()=>e.renderDom.call(i),e.$renderConfigs=r}return u(e,"renderContext",{value:i}),i}refreshDom(){o.default.sync({targetElement:this.element,domConfig:this.renderContext.renderDom(),refOwner:this,strict:!0})}onListen(e){"draw"===e&&this.initDrawable()}initDrawable(){const e=this;if(!e.intersector){let t=Object.values(e.byRef).find(e=>e.classList.contains("b-drawable"));t||(t=e.element,t.classList.add("b-drawable")),e.intersector=!0,a.default.on({element:i.default.createElement({parent:t,class:"b-drawable-el"}),animationend({animationName:t}){"b-drawable-anim"===t&&e.onDraw({count:++e.drawCounter})}})}}onDraw(e){this.trigger("draw",e)}}h.$idSeed=0,Object.assign(h.prototype,{drawCounter:0,hasGeneratedId:!1,intersector:null}),h._$name="Renderable"},"./lib/Core/widget/Ripple.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/GlobalEvents.js"),l=n("./lib/Core/helper/ObjectHelper.js");let c=0;const d=e=>e.ripple;class u extends r.default{static get defaultConfig(){return{old_element:{children:[{className:"b-ripple-inner",reference:"rippleElement"}]},element:{children:[{tag:"svg",class:"b-ripple-inner",reference:"rippleElement",ns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",children:[{reference:"circleElement",tag:"circle",cx:"0",cy:"0",r:10}]}]},floating:!0,hideAnimation:!1,showAnimation:!1,scrollAction:"realign",color:"rgba(0,0,0,.3)",startRadius:10,radius:100}}static get $name(){return"Ripple"}afterConstruct(){super.afterConstruct(),o.default.on({element:this.rootElement,mousedown:"onRippleControllingEvent",thisObj:this,capture:!0,once:!0})}onRippleControllingEvent(e){var t;const n=this;n.show();const r=a.default.getStyleValue(n.circleElement,"animationName");n.hide(),null===(t=n.listenerDetacher)||void 0===t||t.call(n),r&&"none"!==r&&(n.listenerDetacher=o.default.on({mousedown:{element:n.rootElement,capture:!0,handler:"onMousedown"},touchstart:{element:n.rootElement,capture:!0,handler:"onTouchStart"},animationend:{element:n.circleElement,handler:"onAnimationEnd"},thisObj:n}),"mousedown"===e.type&&(n.onMousedown(e),s.default.on({theme:"onRippleControllingEvent",thisObj:this})))}onTouchStart(e){c=performance.now(),this.handleTriggerEvent(e)}onMousedown(e){performance.now()-c>200&&this.handleTriggerEvent(e)}handleTriggerEvent(e){const t=r.default.fromElement(e.target,d);if(t){const n=t.ripple,r=n.delegate?e.target.closest(n.delegate):t.focusElement||t.element;if(r){const i=l.default.assign({event:e,target:r,radius:this.radius},n);if("string"===typeof i.clip&&(i.clip=t[i.clip]||e.target.closest(i.clip),!i.clip))return;this.ripple(i)}}}ripple({event:e,point:t=o.default.getClientPoint(e),target:n=e.target,clip:r=n,radius:s=this.radius,color:l=this.color}){this.clip=r,r=i.default.from(r,null,!0);const c=this,d=r.getDelta(t),u=c.rippleElement.style,h=c.circleElement,f=a.default.getStyleValue(n,"border-radius");c.hide(),c.alignTo(r),u.transform=`translateX(${d[0]}px) translateY(${d[1]}px)`,u.height=u.width=s+"px",c.element.style.borderRadius=f,h.setAttribute("r",s),h.setAttribute("fill",l),c.show(),c.requestAnimationFrame(()=>{document.addEventListener("scroll",c.callRealign,!0),c.documentScrollListener=!0})}alignTo(e){e.nodeType===Element.ELEMENT_NODE&&(e=i.default.from(e,null,!0));const{x:t,y:n,width:r,height:o}=e;this.x=t,this.y=n,this.height=o,this.width=r}onAnimationEnd(e){"b-ripple-expand"===e.animationName&&this.hide()}realign(){this.isVisible&&this.alignTo(this.clip)}}r.default.Ripple=u,u._$name="Ripple"},"./lib/Core/widget/SlideToggle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Checkbox.js");class i extends r.default{static get $name(){return"SlideToggle"}static get type(){return"slidetoggle"}static get properties(){return{toggledCls:"b-slidetoggle-checked"}}construct(e){null!==e&&void 0!==e&&e.checked&&(e.cls=(e.cls||"")+" "+this.constructor.properties.toggledCls),super.construct(e)}get innerElements(){return[this.inputElement,this.toggleElement,{tag:"label",class:"b-slidetoggle-label",for:this.id+"-input",reference:"textLabel",html:this.text||""}]}get toggleElement(){return{class:"b-slidetoggle-toggle",reference:"slideToggle",children:[{class:"b-slidetoggle-thumb",reference:"slideThumb"}]}}internalOnChange(){super.internalOnChange(),this.element.classList[this.value?"add":"remove"](this.toggledCls)}}i.initClass(),i._$name="SlideToggle"},"./lib/Core/widget/Slider.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/widget/Tooltip.js"),o=n("./lib/Core/helper/util/Rectangle.js");class a extends r.default{static get $name(){return"Slider"}static get type(){return"slider"}static get configurable(){return{text:null,showValue:!0,showTooltip:!1,min:0,max:100,step:1,value:50,thumbSize:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip",align:"b-t",anchor:!1,axisLock:!0}},localizableProperties:["text"]}}compose(){const{id:e,min:t,max:n,showValue:r,step:i,text:o,value:a}=this,s=e+"-input",l=Boolean(o||r);return{class:{"b-has-label":l,"b-text":l},children:{input:{tag:"input",type:"range",id:s,reference:"input",min:t,max:n,step:i,value:a,listeners:{input:"onInternalInput",change:"onInternalChange",mouseover:"onInternalMouseOver",mouseout:"onInternalMouseOut"}},label:{tag:"label",for:s,html:r?o?`${o} (${a})`:a:o}}}}get focusElement(){return this.input}get percentProgress(){return(this.value-this.min)/(this.max-this.min)*100}onInternalChange(){this.updateUI(),this.triggerChange(!0),this.trigger("action",{value:this.value})}onInternalInput(){this.value=parseInt(this.input.value,10),this.trigger("input",{value:this.value})}onInternalMouseOver(){var e;null===(e=this.tooltip)||void 0===e||e.showBy({target:this.calcThumbPosition(),offset:5})}onInternalMouseOut(){var e;null===(e=this.tooltip)||void 0===e||e.hide()}triggerChange(e){this.triggerFieldChange({value:this.value,valid:!0,userAction:e})}updateMax(e){const t=this;t.input&&t._value>e&&(t.value=e,t.trigger("input",{value:t.value}))}updateMin(e){const t=this;t.input&&t._value<e&&(t.value=e,t.trigger("input",{value:t.value}))}changeTooltip(e,t){return e&&(e.owner=this),i.default.reconfigure(t,e,{owner:this,defaults:{forElement:this.input,html:String(this.value)}})}updateValue(e){const t=this,{input:n,_tooltip:r}=t;r&&(r.html=t.value),n&&n.value!==String(e)&&(n.value=e,t.triggerChange(!1)),t.updateUI()}calcThumbPosition(){const e=this,t=o.default.from(e.input),n=(t.width-e.thumbSize)*e.percentProgress/100;return new o.default(t.x+n,t.y+t.height/2-e.thumbSize/2,e.thumbSize,e.thumbSize)}updateUI(){var e;null===(e=this._tooltip)||void 0===e||e.alignTo({target:this.calcThumbPosition(),offset:5})}}a.initClass(),a._$name="Slider"},"./lib/Core/widget/Splitter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=e=>parseInt(i.default.getStyleValue(e,"flex-basis"),10)||parseInt(i.default.getStyleValue(e,"flex-grow"),10);class u extends r.default{static get $name(){return"Splitter"}static get type(){return"splitter"}static get defaultConfig(){return{orientation:"auto"}}doDestroy(){this.mouseDetacher&&this.mouseDetacher(),super.doDestroy()}compose(){return{class:{"b-splitter":1},listeners:l({pointerdown:"onMouseDown"},!a.default.supportsPointerEvents&&{mousedown:"onMouseDown",touchstart:"onMouseDown"})}}get currentOrientation(){return this._currentOrientation}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._currentOrientation="auto"===e?null:e,this.updateOrientation()}updateOrientation(){const e=this,{element:t}=this;if(e._prevOrientation&&t.classList.remove(e._prevOrientation),!e._currentOrientation&&e.rendered&&t.offsetParent){const n=i.default.getStyleValue(t.parentElement,"flex-direction");if(n)e._currentOrientation=n.startsWith("column")?"horizontal":"vertical";else{const n=t.previousElementSibling,r=t.nextElementSibling;if(!n||!r)return;const i=n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=i.top<o.top?i:o,s=a===o?i:o;e._currentOrientation=a.top!==s.top?"horizontal":"vertical"}}e._currentOrientation&&t.classList.add("b-"+e._currentOrientation),e._prevOrientation=e._currentOrientation}onMouseDown(e){e.preventDefault(),e.touches&&(e=e.touches[0]);const t=this,{element:n}=t,r=n.previousElementSibling,i=n.nextElementSibling,s=d(r),l=d(i),c=[];t.mouseDetacher&&t.mouseDetacher();for(const o of n.parentElement.children)d(o)&&o!==n&&c.push({element:o,width:o.offsetWidth,height:o.offsetHeight});t.context={startX:e.pageX,startY:e.pageY,prevWidth:r.offsetWidth,prevHeight:r.offsetHeight,nextWidth:i.offsetWidth,nextHeight:i.offsetHeight,prevHasFlex:s,nextHasFlex:l,flexed:c,prev:r,next:i};const u={element:document,pointermove:"onMouseMove",pointerup:"onMouseUp",thisObj:t};a.default.supportsPointerEvents||(u.mousemove="onMouseMove",u.touchmove="onMouseMove",u.mouseup=u.touchend="onMouseUp"),t.mouseDetacher=o.default.on(u)}onMouseMove(e){const t=this,{context:n}=t,r=e.pageX-n.startX,i=e.pageY-n.startY;if(e.preventDefault(),Object.assign(n,{deltaX:r,deltaY:i}),n.started||(n.started=!0,t.trigger("start",{context:n,event:e}),n.flexed.forEach(e=>{"vertical"===t.currentOrientation?e.element.style.flexGrow=e.width:e.element.style.flexGrow=e.height,e.element.style.flexBasis="0"})),"vertical"===t.currentOrientation){const e=n.prevWidth+r,t=n.nextWidth-r;n.prevHasFlex?n.prev.style.flexGrow=e:n.prev.style.width=e+"px",n.nextHasFlex?n.next.style.flexGrow=t:n.next.style.width=t+"px"}else{const e=n.prevHeight+i,t=n.nextHeight-i;n.prevHasFlex?n.prev.style.flexGrow=e:n.prev.style.height=e+"px",n.nextHasFlex?n.next.style.flexGrow=t:n.next.style.height=t+"px"}t.trigger("move",{context:n,event:e})}onMouseUp(e){const t=this;t.mouseDetacher&&t.mouseDetacher(),t.mouseDetacher=null,t.context.started&&t.trigger("end",{context:t.context,event:e}),t.context=null}render(){super.render(...arguments);const e=this;e._currentOrientation||(e.updateOrientation(),e._currentOrientation||e.requestAnimationFrame(()=>e.updateOrientation()))}}u.initClass(),u._$name="Splitter"},"./lib/Core/widget/Tab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/util/DomClassList.js"),i=n("./lib/Core/helper/FunctionHelper.js"),o=n("./lib/Core/widget/Button.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.default{static get $name(){return"Tab"}static get type(){return"tab"}static get configurable(){return{active:null,index:null,isFirst:null,isLast:null,item:{value:null,$config:"nullify"},itemCls:null,tabPanel:null,titleProperty:"text",titleSource:"title"}}compose(){const{active:e,cls:t,index:n,isFirst:r,isLast:i}=this;return{tabindex:-1,class:s({"b-tabpanel-tab":1,"b-active":e,"b-tab-first":r,"b-tab-last":i},t),dataset:{index:n}}}updateIndex(e){this.isFirst=!e}updateItem(e,t){var n,r;const o=this;(null===t||void 0===t?void 0:t.tab)===o&&(t.tab=null),e&&(e.tab=o,o[o.titleProperty]=e[o.titleSource],o.itemCls=e.cls),null===(n=o.itemChangeDetacher)||void 0===n||n.call(o),o.itemChangeDetacher=e&&i.default.after(e,"onConfigChange","onItemConfigChange",o,{return:!1}),null===(r=o.itemHideDetacher)||void 0===r||r.call(o),o.itemHideDetacher=null===e||void 0===e?void 0:e.on({beforeChangeHidden:"onItemBeforeChangeHidden",beforeHide:"onItemBeforeHide",beforeUpdateDisabled:"onItemBeforeUpdateDisabled",thisObj:o,prio:1e3}),o.syncMinMax()}updateItemCls(e,t){const{element:n}=this,i=n&&r.default.from(null===n||void 0===n?void 0:n.classList,!0);n&&(i.remove(t).add(e),n.className=i.value)}updateRotate(e,t){!e!==!t&&this.syncMinMax()}syncMinMax(){const e=this,{rotate:t,tabPanel:n}=e;let{_minWidth:r,_minHeight:i,_maxWidth:o,_maxHeight:a}=e;if(n){const{tabMinWidth:s,tabMaxWidth:l}=n;null!=s&&(t?(r===s&&(r=null),i=s):(i===s&&(i=null),r=s)),null!=l&&(t?(o===l&&(o=null),a=l):(a===l&&(a=null),o=l)),e.minWidth=r,e.minHeight=i,e.maxWidth=o,e.maxHeight=a}}onItemBeforeChangeHidden({source:e,hidden:t}){if(!e.$isDeactivating&&!e.$isActivating){const{tabPanel:n}=this;this.hidden=t,t&&e===n.activeItem&&n.activateAvailableTab(e)}}onItemBeforeHide(){this.item.$isDeactivating||this.hide()}onItemBeforeUpdateDisabled({source:e,disabled:t}){const{tabPanel:n}=this;this.disabled=t,e===n.activeItem&&n.activateAvailableTab(e)}onItemConfigChange({name:e,value:t}){e===this.titleSource&&(this[this.titleProperty]=t)}}c.initClass(),c._$name="Tab"},"./lib/Core/widget/TabBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Toolbar.js"),i=n("./lib/Core/helper/ArrayHelper.js");n("./lib/Core/widget/Tab.js");const o=e=>e.isTab;class a extends r.default{static get $name(){return"TabBar"}static get type(){return"tabbar"}static get configurable(){return{defaultType:"tab",overflow:"scroll"}}get firstTab(){return this.tabAt(0)}get lastTab(){return this.tabAt(-1)}get tabCount(){return this._items.countOf(o)}get tabs(){return i.default.from(this._items,o)}compose(){return{children:{toolbarContent:{class:{"b-tabpanel-tabs":1}}}}}indexOfTab(e){return this._items.indexOf(e,o)}onChildAdd(e){super.onChildAdd(e),null==e.index&&this.syncTabs()}onChildRemove(e){super.onChildRemove(e),this.syncTabs()}syncTabs(){const{tabs:e}=this;for(let t=0,n=e.length;t<n;++t)e[t].index=t,e[t].isFirst=!t,e[t].isLast=t===n-1}tabAt(e){return this._items.find(o,e)||null}}a.initClass(),a._$name="TabBar"},"./lib/Core/widget/TabPanel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/ArrayHelper.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/widget/Panel.js"),a=n("./lib/Core/widget/Tab.js"),s=(n("./lib/Core/widget/TabBar.js"),n("./lib/Core/widget/layout/Card.js"),n("./lib/Core/GlobalEvents.js"));class l extends o.default{static get $name(){return"TabPanel"}static get type(){return"tabpanel"}static get alias(){return"tabs"}static get configurable(){return{activeTab:0,animateTabChange:!0,autoHeight:!1,defaultType:"container",itemCls:"b-tabpanel-item",layout:{type:"card"},suppressChildHeaders:!0,tabBar:{type:"tabbar",weight:-2e3},tabMinWidth:null,tabMaxWidth:null}}get activeIndex(){return this.layout.activeIndex}get activeItem(){return this.layout.activeItem}get activeTabItemIndex(){var e;const{activeTab:t,items:n,tabBar:r}=this;return n.indexOf(null===(e=r.tabs[t])||void 0===e?void 0:e.item)}get bodyConfig(){return i.default.merge({className:{"b-tabpanel-body":1}},super.bodyConfig)}get focusElement(){var e;const t=this.items[this.activeTab||0];return(null===t||void 0===t?void 0:t.focusElement)||(null===t||void 0===t||null===(e=t.tab)||void 0===e?void 0:e.focusElement)}get tabPanelBody(){return this.bodyElement}finalizeInit(){super.finalizeInit();const e=this,{activeTab:t,layout:n}=e,r=e.tabBar.tabs;if(!(t>=0&&t<r.length))throw new Error(`Invalid activeTab ${t} (${r.length} tabs)`);n.activeIndex=e.items.indexOf(r[t].item),n.animateCardChange=e.animateTabChange}onChildAdd(e){if(super.onChildAdd(e),!this.initialItems){const t=this,{tabBar:n}=t,i=t.makeTabConfig(e),o=i&&n.firstTab,a=o&&n._items,s=o&&r.default.from(t._items,t=>t.tab||t===e),l=o?s.indexOf(e)+a.indexOf(o):0;i&&(o&&null==e.weight&&l<a.count-1?n.insert(i,l):n.add(i))}}onChildRemove(e){var t,n;null===(t=e.tab)||void 0===t||null===(n=t.destroy)||void 0===n||n.call(t),super.onChildRemove(e)}isDisabledOrHiddenTab(e){const{tabs:t}=this.tabBar,n=null===t||void 0===t?void 0:t[e];return n&&(n.disabled||n.hidden)}findAvailableTab(e,t=1){const{tabs:n}=this.tabBar,r=n.length,i=Math.max(0,n.indexOf(e.tab));let o;i&&(t=-t);for(let a=1;a<=r&&(o=(i+(t<0?r:0)+a*t)%r,this.isDisabledOrHiddenTab(o));++a);return o}activateAvailableTab(e,t=1){this.activeTab=this.findAvailableTab(e,t)}changeActiveTab(e){const t=this,{tabBar:n}=t,{tabCount:r}=n;if(e.isWidget||i.default.isObject(e)?(-1===t.items.indexOf(e)&&(e=t.add(e)),e=n.indexOfTab(e.tab)):e=parseInt(e,10),!t.initialItems&&(e<-1||e>=r))throw new Error(`Invalid activeTab ${e} (${r} tabs)`);return t.isDisabledOrHiddenTab(e)&&(e=t.findAvailableTab(e)),e}updateActiveTab(){if(!this.initialItems){const{activeTabItemIndex:e}=this;e>-1&&(this.layout.activeIndex=e)}}changeTabBar(e){return this.getConfig("strips"),this.strips={tabBar:e},this.strips.tabBar}makeTabConfig(e){const{tab:t}=e,n={item:e,type:"tab",tabPanel:this,disabled:Boolean(e.disabled),hidden:e.initialConfig.hidden,weight:e.weight||0,listeners:{click:"onTabClick",thisObj:this},localizableProperties:{text:!1}};return!1===t?null:i.default.isObject(t)?a.default.mergeConfigs(n,t):n}updateItems(e,t){const n=this,{activeTab:r,initialItems:i}=n;let o,a=0;super.updateItems(e,t),i&&(o=Array.from(e,e=>n.makeTabConfig(e)).filter(e=>{if(e)return e.index=a++,!0}),a&&(o[0].isFirst=!0,o[a-1].isLast=!0,o[r].active=!0,n.tabBar.add(o),n.activeTab=r))}updateTabMinWidth(e){var t;null===(t=this.tabBar)||void 0===t||t.items.forEach(t=>{t.isTab&&(t.minWidth=e)})}updateTabMaxWidth(e){var t;null===(t=this.tabBar)||void 0===t||t.items.forEach(t=>{t.isTab&&(t.maxWidth=e)})}updateAutoHeight(e){this.detachListeners("themeAutoHeight"),e&&s.default.on({name:"themeAutoHeight",theme:"internalOnThemeChange",thisObj:this}),this.$measureHeight=e}applyAutoHeight(){const e=this,{layout:t,activeTab:n,element:r}=e,{animateCardChange:i}=t;t.animateCardChange=!1,e.height=null,e.height=Math.max(...e.items.map(t=>(e.activeTab=t,r.clientHeight)))+1,e.activeTab=n,t.animateCardChange=i,e.$measureHeight=!1}internalOnThemeChange(){this.isVisible?this.applyAutoHeight():this.$measureHeight=!0}onBeginActiveItemChange(e){const t=this.tabBar.tabs,{activeItem:n,prevActiveItem:r}=e;this.activeTab=t.indexOf(null===n||void 0===n?void 0:n.tab),null!==r&&void 0!==r&&r.tab&&(r.tab.active=!1),null!==n&&void 0!==n&&n.tab&&(n.tab.active=!0,n.tab.show())}onActiveItemChange(e){this.trigger("tabChange",e)}onTabClick(e){this.activeTab=e.source.item}onPaint(){super.onPaint(...arguments),this.$measureHeight&&this.applyAutoHeight()}}l.initClass(),l._$name="TabPanel"},"./lib/Core/widget/TextAreaField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/PickerField.js"),i=n("./lib/Core/helper/util/Objects.js"),o=n("./lib/Core/helper/EventHelper.js");class a extends r.default{static get $name(){return"TextAreaField"}static get type(){return"textareafield"}static get alias(){return"textarea"}static get configurable(){return{picker:{type:"widget",cls:"b-textareafield-picker",floating:!0,scrollAction:"realign",align:{align:"t-b",axisLock:!0},autoShow:!1},triggers:null,inline:!0,resize:"none",inputType:null}}startConfigure(e){this.getConfig("inline"),super.startConfigure(e)}get inputElement(){const e=super.inputElement,{inline:t,resize:n}=this;return t?(e.tag="textarea",e.style=(e.style||"")+";resize:"+n):(e.readOnly="readonly",e.reference="displayElement"),e}get focusElement(){return this.inline||this._picker&&this._picker.isVisible?this.input:this.displayElement}showPicker(){const e=this,{picker:t}=e;e.inline||(t.width=e.pickerWidth||e[e.pickerAlignElement].offsetWidth,super.showPicker(!0))}focusPicker(){this.input.focus()}onPickerKeyDown(e){const t=this,n=t.input;switch(e.key.trim()||e.code){case"Escape":return void t.picker.hide();case"Enter":e.ctrlKey&&(t.syncInputFieldValue(),t.picker.hide())}t.input=t.displayElement;const r=super.onPickerKeyDown(e);return t.input=n,r}syncInputFieldValue(e){this.displayElement&&(this.displayElement.value=this.inputValue),super.syncInputFieldValue(e)}changeValue(e){return null==e?"":e}updateInline(e){e||this.triggers||(this.triggers={})}changeTriggers(e,t){return this.inline||((e||(e={})).expand={cls:"b-icon-picker",handler:"onTriggerClick"}),super.changeTriggers(e,t)}changePicker(e,t){var n;const r=this,s=r.pickerWidth||(null===(n=e)||void 0===n?void 0:n.width);if(e=a.reconfigure(t,e?i.default.merge({owner:r,forElement:r[r.pickerAlignElement],align:{matchSize:null==s,anchor:r.overlayAnchor,target:r[r.pickerAlignElement]},html:`<textarea id="${r.id+"-input"}" style="resize:${r.resize}">${r.value}</textarea>`},e):null,r)){const t=r.input=e.element.querySelector(`#${r.id}-input`);r.inputListenerRemover=o.default.on({element:t,thisObj:r,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput",keydown:"internalOnKeyEvent",keypress:"internalOnKeyEvent",keyup:"internalOnKeyEvent"})}return e}}a.initClass(),a._$name="TextAreaField"},"./lib/Core/widget/TextField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Field.js");class i extends r.default{static get type(){return"textfield"}static get alias(){return"text"}static get configurable(){return{nullValue:""}}static get $name(){return"TextField"}construct(e){"hidden"===e.inputType&&(e.hidden=!0),super.construct(...arguments)}}i.initClass(),i._$name="TextField"},"./lib/Core/widget/TimeField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/widget/PickerField.js"),o=n("./lib/Core/widget/TimePicker.js");class a extends i.default{static get $name(){return"TimeField"}static get type(){return"timefield"}static get alias(){return"time"}static get configurable(){return{picker:{type:"timepicker",floating:!0,align:{align:"t0-b0",axisLock:!0}},format:"LT",triggers:{expand:{align:"end",handler:"onTriggerClick",compose:()=>({children:[{class:{"b-icon-clock-live":1}}]})},back:{align:"start",cls:"b-icon b-icon-angle-left b-step-trigger",handler:"onBackClick"},forward:{align:"end",cls:"b-icon b-icon-angle-right b-step-trigger",handler:"onForwardClick"}},min:null,max:null,step:"5m",stepTriggers:null,value:null}}changePicker(e,t){const n=this;return o.default.reconfigure(t,e,{owner:n,defaults:{forElement:n[n.pickerAlignElement],owner:n,align:{anchor:n.overlayAnchor,target:n[n.pickerAlignElement]},onTimeChange({time:e}){n._isUserAction=!0,n.value=e,n._isUserAction=!1}}})}onBackClick(){const e=this,{min:t}=e;if(!e.readOnly&&e.value){const n=r.default.add(e.value,-1*e.step.magnitude,e.step.unit);(!t||t.getTime()<=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}onForwardClick(){const e=this,{max:t}=e;if(!e.readOnly&&e.value){const n=r.default.add(e.value,e.step.magnitude,e.step.unit);(!t||t.getTime()>=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}get isValid(){const e=this;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);let t=e.value;if(t){if(t=t.getTime(),e._min&&e._min.getTime()>t)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(e._max&&e._max.getTime()<t)return e.setError("L{Field.maximumValueViolation}",!0),!1}return super.isValid}hasChanged(e,t){return e&&e.getTime&&t&&t.getTime?e.getHours()!==t.getHours()||e.getMinutes()!==t.getMinutes()||e.getSeconds()!==t.getSeconds()||e.getMilliseconds()!==t.getMilliseconds():super.hasChanged(e,t)}showPicker(e){const t=this,{picker:n}=t;t.readOnly||(n.initialValue=t.value,n.format=t.format,n.maxTime=t.max,n.minTime=t.min,t.value=n.value,super.showPicker(e))}onPickerShow(){var e;super.onPickerShow(),this.pickerKeyDownRemover=null===(e=this.pickerKeyDownRemover)||void 0===e?void 0:e.call(this)}focusPicker(){this.picker.focus()}transformTimeValue(e){return null!=e&&(r.default.isDate(e)||(e="string"===typeof e?r.default.parse(e,this.format):new Date(e)),r.default.isValidDate(e))?r.default.getTime(e):null}changeMin(e){return this.transformTimeValue(e)}updateMin(e){const{input:t}=this;t&&(null==e?t.removeAttribute("min"):t.min=e),this.syncInvalid()}changeMax(e){return this.transformTimeValue(e)}updateMax(e){const{input:t}=this;t&&(null==e?t.removeAttribute("max"):t.max=e),this.syncInvalid()}changeValue(e,t){const n=this,r=n.transformTimeValue(e);if(e&&!r||n.isRequired&&""===e)n.setError("L{invalidTime}");else{if(n.clearError("L{invalidTime}"),n.hasChanged(t,r))return super.changeValue(r,t);n.inputting||n.syncInputFieldValue(!0)}}updateValue(e,t){const{expand:n}=this.triggers;n&&e&&(n.element.firstElementChild.style.animationDelay=-(60*e.getHours()+e.getMinutes())/10+"s"),super.updateValue(e,t)}changeStep(e,t){const n=typeof e;return e?("number"===n?e={magnitude:Math.abs(e),unit:t?t.unit:"hour"}:"string"===n&&(e=r.default.parseDuration(e)),e&&e.unit&&e.magnitude?(e.magnitude<0&&(e={magnitude:-e.magnitude,unit:e.unit}),e):void 0):null}updateStep(e){this.element.classList[e?"remove":"add"]("b-no-steppers"),this.syncInvalid()}updateFormat(){this.syncInputFieldValue(!0)}get inputValue(){return r.default.format(this.value,this.format)}updateLocalization(){super.updateLocalization(),this.syncInputFieldValue(!0)}}a.initClass(),a._$name="TimeField"},"./lib/Core/widget/TimePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Popup.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/EventHelper.js");class a extends r.default{static get $name(){return"TimePicker"}static get type(){return"timepicker"}static get defaultConfig(){return{items:[{type:"number",ref:"fieldHours",min:0,max:23,highlightExternalChange:!1,format:"2>9"},{html:"<label>:</label>"},{type:"number",ref:"fieldMinutes",min:0,max:59,highlightExternalChange:!1,format:"2>9"},{type:"button",text:"AM",toggleGroup:"am-pm",ref:"buttonAM",cls:"b-blue"},{type:"button",text:"PM",toggleGroup:"am-pm",ref:"buttonPM",cls:"b-blue"}],float:"1",autoShow:!1,trapFocus:!0,value:i.default.getTime(0),format:null}}construct(e){const t=this;super.construct(e),t._pm=!1,t.fieldHours.on("change",t.onFieldChange,t),t.fieldMinutes.on("change",t.onFieldChange,t),t.buttonAM.on("click",t.onButtonAMClick,t),t.buttonPM.on("click",t.onButtonPMClick,t),o.default.on({element:t.element,keydown:"onPickerKeyDown",thisObj:t}),o.default.on({element:t.fieldHours.element,keydown:"onPickerKeyDown",thisObj:t}),o.default.on({element:t.fieldMinutes.element,keydown:"onPickerKeyDown",thisObj:t}),t.refresh()}onFieldChange(){const e=this;e._time&&(e.value=e.pickerToTime())}onButtonAMClick(){const e=this;e._pm=!1,e._time&&(e.value=e.pickerToTime())}onButtonPMClick(){const e=this;e._pm=!0,e._time&&(e.value=e.pickerToTime())}onPickerKeyDown(e){const t=this;switch(e.key&&e.key.trim()||e.code){case"Escape":t.triggerTimeChange(t._initialValue),t.hide(),e.preventDefault();break;case"Enter":t.value=t.pickerToTime(),t.hide(),e.preventDefault()}}pickerToTime(){const e=this,t=e._pm;e.fieldHours.format=e._is24Hour?"2>9":null;let n=e.fieldHours.value,r=new Date(e._time);return e._is24Hour||(t&&n<12&&(n+=12),t||12!==n||(n=0)),r.setHours(n),r.setMinutes(e.fieldMinutes.value),e._min&&(r=i.default.max(e._min,r)),e._max&&(r=i.default.min(e._max,r)),r}triggerTimeChange(e){this.trigger("timeChange",{time:e})}set value(e){const t=this;let n=!1;e&&t._time?e.getTime()!==t._time.getTime()&&(t._time=e,n=!0):(t._time=a.defaultConfig.value,n=!0),n&&(t.isVisible&&t.triggerTimeChange(t.value),t.refresh())}get value(){return this._time}set format(e){this._format=e,this._is24Hour=i.default.is24HourFormat(this._format),this.refresh()}get format(){return this._format}set min(e){this._min=e}get min(){return this._min}set max(e){this._max=e}get max(){return this._max}set initialValue(e){this.value=e,this._initialValue=e}get initialValue(){return this._initialValue}get buttonAM(){return this.widgetMap.buttonAM}get buttonPM(){return this.widgetMap.buttonPM}get fieldHours(){return this.widgetMap.fieldHours}get fieldMinutes(){return this.widgetMap.fieldMinutes}refresh(){const e=this;if(!e.isConfiguring){const t=e._time,n=e._is24Hour,r=t.getHours(),i=e._pm=r>=12,o=e.fieldHours;e.element.classList[n?"add":"remove"]("b-24h"),o.min=n?0:1,o.max=n?23:12,o.value=n?r:r%12||12,e.fieldMinutes.value=t.getMinutes(),e.buttonAM.pressed=!i,e.buttonPM.pressed=i,e.buttonAM.hidden=e.buttonPM.hidden=n}}}a.initClass(),a._$name="TimePicker"},"./lib/Core/widget/Toast.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/util/DomClassList.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.default{static get $name(){return"Toast"}static get type(){return"toast"}static get configurable(){return{testConfig:{destroyTimeout:1,timeout:100},floating:!0,timeout:2500,autoDestroy:null,destroyTimeout:200,showProgress:!0,color:null,bottomMargin:20}}compose(){const{appendTo:e,color:t,html:n,showProgress:r,style:o,timeout:s}=this;return{parent:e||this.floatRoot,class:a(a({},i.default.normalize(t,"object")),{},{"b-toast-hide":1}),html:n,style:o,children:{progressElement:r&&{style:`animation-duration:${s/1e3}s;`,class:{"b-toast-progress":1}}},listeners:{click:"hide"}}}doDestroy(){this.untoast(),super.doDestroy()}get nextBottom(){const{bottomMargin:e,element:t}=this;return parseInt(t.style.bottom,10)+t.offsetHeight+e}show(){super.show();const e=this,{element:t}=e,{toasts:n}=l;var r,i;n.includes(e)||(t.style.bottom=(null!==(r=null===(i=n[0])||void 0===i?void 0:i.nextBottom)&&void 0!==r?r:e.bottomMargin)+"px",n.unshift(e),t.getBoundingClientRect(),t.classList.remove("b-toast-hide"),e.timeout>0&&(e.hideTimeout=e.setTimeout("hide",e.timeout)))}hide(){const e=this;e.untoast(),e.element.classList.add("b-toast-hide"),e.autoDestroy&&!e.destroyTimer&&(e.destroyTimer=e.setTimeout("destroy",e.destroyTimeout))}untoast(){const{toasts:e}=l;e.includes(this)&&e.splice(e.indexOf(this),1)}static hideAll(){l.toasts.slice().reverse().forEach(e=>e.hide())}static show(e){const t=l.new({autoDestroy:!0,rootElement:document.body},"string"===typeof e?{html:e}:e);return t.show(),t}}l.toasts=[],l.initClass(),l._$name="Toast"},"./lib/Core/widget/Tool.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/util/ClickRepeater.js"),o=n("./lib/Core/widget/mixin/Rotatable.js");class a extends(r.default.mixin(o.default)){static get $name(){return"Tool"}static get type(){return"tool"}static get configurable(){return{align:{value:null,$config:{merge:"replace"}},repeat:null}}compose(){const{align:e}=this;return{tag:"button",class:{["b-align-"+(e||"end")]:1,"b-icon":1},listeners:{click:"onClick"}}}get focusElement(){return this.element}get panel(){return this.parent}changeAlign(e){return e}onClick(e){const{handler:t,panel:n}=this;!1!==(null===n||void 0===n?void 0:n.trigger("toolclick",{domEvent:e,tool:this}))&&t&&this.callback(t,n,[e])}onInternalKeyDown(e){"Enter"===(e.key.trim()||e.code)&&(e.cancelBubble=!0,e.stopPropagation())}updateDisabled(e,t){var n;super.updateDisabled(e,t),e&&(null===(n=this.repeat)||void 0===n||n.cancel())}changeRepeat(e,t){return null===t||void 0===t||t.destroy(),e&&i.default.new({element:this.element},e)}}a.initClass(),a._$name="Tool"},"./lib/Core/widget/Toolbar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/widget/Container.js"),i=n("./lib/Core/widget/mixin/Toolable.js"),o=n("./lib/Core/helper/util/Objects.js"),a=n("./lib/Core/helper/FunctionHelper.js"),s=n("./lib/Core/helper/ArrayHelper.js"),l=n("./lib/Core/widget/mixin/Rotatable.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./lib/Core/widget/layout/VBox.js"),n("./lib/Core/widget/Button.js");const h=e=>e.isToolbar,f=[{box:"hbox",clientSizeProp:"clientWidth",edgeProp:"right",flexDir:"row",horizontal:!0,max:"maxX",overflow:"overflowX",pos:"x",scrollSize:"scrollWidth",sizeProp:"width"},{box:"vbox",clientSizeProp:"clientHeight",edgeProp:"bottom",flexDir:"column",horizontal:!1,max:"maxY",overflow:"overflowY",pos:"y",scrollSize:"scrollHeight",sizeProp:"height"}],g={delay:0,startRate:40,endRate:200,accelerateDuration:500};class m extends(r.default.mixin(i.default)){static get $name(){return"Toolbar"}static get type(){return"toolbar"}static get delayable(){return{syncOverflowVisibility:{type:"raf",cancelOutstanding:!0}}}static get configurable(){return{defaultType:"button",dock:"top",layout:{type:"box"},overflow:{$config:["lazy","nullify"],value:"menu"},toolDefaults:{overflowMenuButton:{type:"button",icon:"b-icon-menu",hidden:!0},overflowScrollEnd:{handler:"up.onEndScrollClick",hidden:!0},overflowScrollStart:{align:"start",handler:"up.onStartScrollClick",hidden:!0}},widgetCls:null}}compose(){const{axisProps:e,dock:t,endToolElementRefs:n,startToolElementRefs:r}=this;return{class:{["b-dock-"+t]:1,[`b-${t}-toolbar`]:1,["b-"+e.box]:1},children:d(d({},r),{},{toolbarContent:{class:{"b-box-center":1,"b-toolbar-content":1}}},n)}}get axisProps(){return f[this.layout.horizontal?0:1]}get contentElement(){return this.toolbarContent}get overflowMenuButton(){var e;return null===(e=this.tools)||void 0===e?void 0:e.overflowMenuButton}get overflowType(){const{overflow:e}=this;return"string"===typeof e?e:null===e||void 0===e?void 0:e.type}onChildAdd(e){var t;super.onChildAdd(e),this.processAddedLeafItem(e),null===(t=e.syncRotationToDock)||void 0===t||t.call(e,this.dock)}processAddedLeafItem(e){a.default.after(e,"onConfigChange",this.onLeafItemConfigChange,e),e.isContainer&&e.eachWidget(e=>this.processAddedLeafItem(e))}onPaint({firstPaint:e}){var t;null===(t=super.onPaint)||void 0===t||t.call(this,...arguments),e&&this.getConfig("overflow")}updateDock(e){const t=this,{layout:n}=t,{vertical:r}=n;if(n.vertical=Object(l.canonicalDock)(e)[1],!t.initialItems){r!==n.vertical&&t.updateOverflow(t.overflow);for(const n of t.childItems){var i;null===(i=n.syncRotationToDock)||void 0===i||i.call(n,e)}}}updateOverflow(e,t){var n;const r=this,{axisProps:i,contentElement:o,overflowType:a}=r,{flexDir:s}=i,l=null===(n=r.overflowMenuButton)||void 0===n?void 0:n._menu,c={};var d;if(l&&(e?null===l||void 0===l||l.removeAll():l.eachWidget(e=>{e._toolbarOverflowOriginal._toolbarOverflowClone=null})),"menu"===t?c.overflowMenuButton=null:"scroll"===t&&(c.overflowScrollStart=c.overflowScrollEnd=null),"menu"===a)null===(d=r.scrollable)||void 0===d||d.destroy(),o.style.overflow=o.style.overflowX=o.style.overflowY="",c.overflowMenuButton={cls:{[`b-${s}-menu`]:1,"b-overflow-button":1}};else if("scroll"===a){const t="object"===typeof e&&(null===e||void 0===e?void 0:e.repeat)||g;r.scrollable={[i.overflow]:"hidden-scroll",element:o,listeners:{scroll:"onContentScroll",thisObj:r}},c.overflowScrollStart={repeat:t,invertRotate:!0,cls:{[`b-${s}-start-scroller`]:1,"b-icon-angle-left":1,"b-overflow-button":1,"b-icon":1}},c.overflowScrollEnd={repeat:t,invertRotate:!0,cls:{[`b-${s}-end-scroller`]:1,"b-icon-angle-right":1,"b-overflow-button":1,"b-icon":1}}}r.tools=c,a?(o.classList.add("b-overflow"),r.monitorResize=!0,r.syncOverflowVisibility()):(o.classList.remove("b-overflow"),r.monitorResize=!1)}onContentScroll(){this.syncScrollerState()}onStartScrollClick(){this.scrollable[this.axisProps.pos]-=2}onEndScrollClick(){this.scrollable[this.axisProps.pos]+=2}onInternalResize(){super.onInternalResize(...arguments),this.isPainted&&this.syncOverflowVisibility()}syncOverflowVisibility(){const e=this,{overflowType:t,contentElement:n,isVisible:r}=e,{clientSizeProp:i,edgeProp:o,sizeProp:a}=e.axisProps,{overflowMenuButton:s,overflowScrollStart:l,overflowScrollEnd:c}=e.tools,d="menu"===t;if(!r||!t)return;e.inSyncOverflowVisibility=!0,null===s||void 0===s||s.hide();let u,h,f,g,m=0;if(e.eachWidget((e,t)=>{e.floating?t.down=!1:(t.down=!(f=e.overflowable),f&&e.innerItem&&(e._toolbarOverflow&&(e.hidden=e._toolbarOverflow=!1),e.isVisible&&((g||(g=[])).push(e),++m)))}),g&&(h=g[--m].rectangle(n),u=Math.ceil(n[i]+(!l||l.hidden?0:l.rectangle("outer")[a])+(!c||c.hidden?0:c.rectangle("outer")[a]))),g&&Math.floor(h[o])>u)if(d){for(s.show(),u=n[i];m-- >0&&(h=g[m].rectangle(n),!(Math.floor(h[o])<=u)););e.syncOverflowMenuButton(g.slice(m+1))}else c.show(),l.show(),e.syncScrollerState();else d||(null===c||void 0===c||c.hide(),null===l||void 0===l||l.hide());e.inSyncOverflowVisibility=!1}syncOverflowMenuButton(e){var t;const n=this,{axisProps:r,overflowMenuButton:i}=n,o={cls:"b-toolbar-overflow-menu",minWidth:280,items:[],align:{align:r.horizontal?"t100-b100":"r100-l100",axisLock:"flexible"}};for(let a,s=0,{length:l}=e;s<l;s++)a=e[s],a._toolbarOverflowWidth=a.width,a._toolbarOverflow=!0,a.hidden=!0;if(n.addToMenu(o,e.filter(()=>n.overflowItemFilter)),null!==(t=i._menu)&&void 0!==t&&t.isMenu){const e=i.menu,{toAdd:t,toRemove:n}=s.default.delta(o.items,e.items,1);if(e.remove(n),e.items.length)for(let r=t.length-1;r>=0;r--)e.insert(t[r],0);else e.add(t)}else i.menu=o}syncScrollerState(){const{axisProps:e,scrollable:t}=this,{overflowScrollStart:n,overflowScrollEnd:r}=this.tools,i=t[e.pos],o=t[e.max];n.disabled=!i,r.disabled=Math.ceil(i)>=o}overflowItemFilter(e){const t=Boolean(e.childElementCount),{filter:n}=this.overflow;return t&&(n?n(e):1)}addToMenu(e,t){const{horizontal:n}=this;for(let r=0,{length:i}=t;r<i;r++){const i=t[r];let a=i._toolbarOverflowClone,s=i.constructor;if(!a){const e=o.default.clone(i.initialConfig);delete e.id,e.width="",n&&(e.flex=""),e.minWidth=i._toolbarOverflowWidth,e.type=i.type,e._toolbarOverflowOriginal=i,e.disabled=i.disabled,"value"in i&&(e.value=i.value),"button"===e.type&&(e.text||(e.text=i.tooltipText)),i._toolbarOverflowClone=a=s.create(e),a.element.style.margin="",i.isField&&a.on({change:this.onFieldCloneChange})}e.items.push(a)}}onFieldCloneChange({source:e,value:t}){e._toolbarOverflowOriginal.value=t}onLeafItemConfigChange(e,{name:t,value:n}){const r=this.up(h),{_toolbarOverflowClone:i}=this;null!==r&&void 0!==r&&r.inSyncOverflowVisibility||"hidden"===t&&n===this._toolbarOverflow||(i&&(i[t]=n),null!==r&&void 0!==r&&r.isPainted&&"overflowMenuButton"!==this.ref&&r.syncOverflowVisibility())}createWidget(e){"->"===e?e={type:"widget",cls:"b-toolbar-fill"}:"|"===e?e={type:"widget",cls:"b-toolbar-separator"}:"string"===typeof e&&(e={type:"widget",cls:"b-toolbar-text",html:e});const t=super.createWidget(e);return this.widgetCls&&t.element.classList.add(this.widgetCls),t}}m.initClass(),m._$name="Toolbar"},"./lib/Core/widget/Tooltip.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/widget/Popup.js"),o=n("./lib/Core/helper/util/Rectangle.js"),a=n("./lib/Core/helper/util/Point.js"),s=n("./lib/Core/helper/BrowserHelper.js"),l=n("./lib/Core/helper/EventHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Core/helper/StringHelper.js"),u=n("./lib/Core/helper/DomHelper.js"),h=n("./lib/Core/helper/VersionHelper.js");const f={left:!0,right:!0,top:!0,bottom:!0,transform:!0},g={true:1,false:1};class m extends i.default{static get $name(){return"Tooltip"}static get type(){return"tooltip"}static get configurable(){return{mouseOffsetX:15,mouseOffsetY:15,floating:!0,getHtml:null,forElement:null,trackMouse:null,updateContentOnMouseMove:!1,forSelector:null,hideOnDelegateChange:null,anchorToTarget:!0,showOnHover:!1,hoverDelay:500,autoShow:!1,dismissDelay:0,hideDelay:500,loadingMsg:"Loading...",allowOver:!1,anchor:!0,align:"b-t",axisLock:!0,testConfig:{hideDelay:100,hoverDelay:100,showAnimation:null,hideAnimation:null}}}afterConstruct(){const e=this,{forSelector:t}=e;t&&(e.showOnHover=!0,e.forElement||(e.trackMouse=!0,e.forElement=e.rootElement.host||e.rootElement)),super.afterConstruct(),e.forElement&&e.showOnHover&&(e.pointerOverOutDetacher=l.default.on({element:e.forElement,mouseover:"internalOnPointerOver",mouseout:"internalOnPointerOut",thisObj:e})),e.autoShow&&e.show(),e.allowOver&&l.default.on({element:e.element,mouseenter:"onOwnElementMouseEnter",mouseleave:"internalOnPointerOut",thisObj:e})}doDestroy(){this.pointerOverOutDetacher&&this.pointerOverOutDetacher(),super.doDestroy()}set focusOnToFront(e){super.focusOnToFront=e}get focusOnToFront(){return super.focusOnToFront&&u.default.usingKeyboard}get focusElement(){const e=super.focusElement;if(e!==this.element)return e}get trackMouse(){return this._trackMouse&&!this.anchorToTarget}updateAnchorToTarget(e){e||(this.anchor=!1)}onDocumentMouseDown({event:e}){const t=this,{triggeredByEvent:n}=t;n&&u.default.isTouchEvent&&e.pageX===n.pageX&&e.pageY===n.pageY&&t.activeTarget.contains(e.target)&&performance.now()-n.timeStamp<500||(t.abortDelayedShow(),super.onDocumentMouseDown({event:e}))}internalOnPointerOver(e){const t=this,n=t.forElement,r=t.forSelector,i=t.activeTarget;let o;if(!t.disabled&&(!t.allowOver||!t.element.contains(e.target))){if(r){if(i&&i.contains(e.target)&&i.contains(e.relatedTarget))return;if(o=e.target.closest(r),o&&e.relatedTarget&&e.relatedTarget.closest(r)===o)return}else{if(n.contains(e.relatedTarget))return;o=n}o?t.handleForElementOver(e,o):i&&t.handleForElementOut()}}onTransitionEnd(e){const t=this,n=m.currentOverElement;if(f[e.propertyName]){if(t.allowOver&&t.element.contains(n))return;t.activeTarget&&t.activeTarget.contains(n)&&!t.trackMouse&&t.realign()}}async handleForElementOver(e,t){const n=this;if(!1===n.trigger("pointerOver",{event:e,target:t}))n.internalOnPointerOut(e);else if(n.triggeredByEvent=e,n.abortDelayedHide(),!n.hideOnDelegateChange&&n.element.classList.contains("b-hiding")&&(n.element.classList.remove("b-hiding"),n.show(!1)),n.isVisible&&!n.hideOnDelegateChange){if(n.updateActiveTarget(t),!1===n.trigger("beforeShow"))return n.hide();const e=n.updateContent();c.default.isPromise(e)&&!n.loadingMsg&&await e,n.hidden||(n.alignTo({target:n.anchorToTarget?t:new a.default(n.triggeredByEvent.pageX-window.pageXOffset+n.mouseOffsetX,n.triggeredByEvent.pageY-window.pageYOffset+n.mouseOffsetY),overlap:!(n.anchorToTarget&&n.anchor)}),n.trigger("show"),n.afterShowByTarget())}else n.hideOnDelegateChange&&n.hide(!1),n.updateActiveTarget(t),n.delayShow(t)}async delayShow(e){const t=this;if(t.currentAnimation&&(t.cancelHideShowAnimation(),t._hidden=!0),t.isVisible||t.hasTimeout("show"))t.isVisible&&t.showByTarget(e);else if(!t.hoverDelay||t.forSelector&&Date.now()-t.lastHidden<t.quickShowInterval){const n=t.updateContent();c.default.isPromise(n)&&!t.loadingMsg&&await n,t.showByTarget(e)}else t.addDocumentMouseDownListener(),t.listeningForMouseMove||t.anchorToTarget||(t.mouseMoveRemover=l.default.on({element:t.rootElement,mousemove:"onMouseMove",thisObj:t})),t.setTimeout(async()=>{if(!u.default.isOrphaned(e)){const n=t.updateContent();c.default.isPromise(n)&&!t.loadingMsg&&await n,t.showByTarget(e)}},t.triggeredByEvent&&"mouseover"!==t.triggeredByEvent.type?0:t.hoverDelay,"show")}updateContent(){const e=this;if(e.getHtml){const t=e.getHtml({tip:e,element:e.element,activeTarget:e.activeTarget,event:e.triggeredByEvent});return e.html=t,t}}get hasContent(){return Boolean(""!==this._html&&"string"===typeof this.html&&this.html.length||this.items.length)}internalBeforeShow(){return this.updateContentOnMouseMove||this.hasContent}showAsyncMessage(e=this.optionalL(this.loadingMsg)){e&&(this.html=`\n                <div class="b-tooltip-loading">\n                    <i class="b-icon b-icon-spinner"></i>\n                    ${e}\n                </div>\n            `)}showByTarget(e){const t=this;t.mouseMoveRemover&&(t.mouseMoveRemover(),t.mouseMoveRemover=null),t.showBy({target:t.anchorToTarget?e:new a.default(t.triggeredByEvent.pageX-window.pageXOffset+t.mouseOffsetX,t.triggeredByEvent.pageY-window.pageYOffset+t.mouseOffsetY),overlap:!(t.anchorToTarget&&t.anchor)})}afterShowByTarget(){const e=this,t=e.dismissDelay;e.abortDelayedShow(),t&&e.setTimeout("hide",t),e.toFront()}updateActiveTarget(e){const t=this,n=t.activeTarget;t.activeTarget=e,t.isConfiguring||t.trigger("overtarget",{newTarget:e,lastTarget:n})}internalOnPointerOut(e){const t=this,n=e.relatedTarget;t.allowOver&&t.element.contains(n)||t.element.contains(e.target)&&t.activeTarget&&t.activeTarget.contains(n)||t.activeTarget&&!t.activeTarget.contains(e.relatedTarget)&&t.handleForElementOut()}handleForElementOut(){const e=this,{hideDelay:t}=e;!1!==e.trigger("pointerOut")?(e.abortDelayedShow(),e.isVisible&&!1!==t&&(e.abortDelayedHide(),t>0?e.setTimeout("hide",t):e.hide())):e.activeTarget=null}show(){const e=this;e.forElement&&e.anchorToTarget&&!e.forSelector&&!e.inShowBy?e.showByTarget(e.forElement):(e.inShowBy&&(e.y=-1e4),super.show()),e.afterShowByTarget(),e.mouseMoveRemover||e._hidden||!e.trackMouse&&!e.updateContentOnMouseMove||(e.mouseMoveRemover=l.default.on({element:e.rootElement,[s.default.supportsPointerEvents?"pointermove":"touchmove"]:"onMouseMove",thisObj:e})),!e.forElement||e.transitionEndDetacher||e._hidden||(e.transitionEndDetacher=l.default.on({element:e.forElement,transitionend:"onTransitionEnd",thisObj:e}))}hide(...e){const t=this;t.abortDelayedShow(),t.isVisible&&(t.abortDelayedHide(),super.hide(...e),t.lastHidden=Date.now(),t.activeTarget=null,t.mouseMoveRemover&&(t.mouseMoveRemover(),t.mouseMoveRemover=null),t.transitionEndDetacher&&(t.transitionEndDetacher(),t.transitionEndDetacher=null),t.listeningForMouseMove=!1)}abortDelayedShow(){const e=this;e.hasTimeout("show")&&(e.mouseDownRemover&&(e.mouseDownRemover(),e.mouseDownRemover=null),e.clearTimeout("show"),e.mouseMoveRemover&&(e.mouseMoveRemover(),e.mouseMoveRemover=null),e.transitionEndDetacher&&(e.transitionEndDetacher(),e.transitionEndDetacher=null))}abortDelayedHide(){this.clearTimeout("hide")}realign(e){const t=this,n=t.lastAlignSpec,r=t.clippedBy;!t.isConfiguring&&r&&!t.isVisible&&n&&n.targetHidden&&o.default.from(n.target,t.positioned?t.element.offsetParent:null,!t.positioned).intersect(r)&&(t.show(),n.targetHidden=!1),super.realign(e)}alignTo(e){this.isVisible&&(!e||this.triggeredByEvent&&this.element.contains(this.triggeredByEvent.target)||e.nodeType===Node.ELEMENT_NODE&&(e={target:e}),super.alignTo(e))}changeHtml(e){const t=this;return!1===e?(h.default.deprecate("Grid","5.0.0","Setting false to indicate loading is deprecated, in favor of `showAsyncMessage`. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/3.0.1.md for more information"),void this.showAsyncMessage()):c.default.isPromise(e)?(t.showAsyncMessage(),e.target=t.activeTarget,void e.then(n=>{e.target===t.activeTarget&&(t.html=n)})):("object"!==typeof e&&(e=null!=e?t.optionalL(String(e)):""),e)}updateHtml(e,t){const n=this;let r=""===e;r||(super.updateHtml(e,t),n.hasContent?(n.isVisible&&n.realign(),c.default.isPromise(e)||n.trigger("innerHtmlUpdate")):r=!0),r&&n.hide()}onMouseMove(e){const t=this,{forElement:n}=t,r=e.pageX-window.pageXOffset+t.mouseOffsetX,i=e.pageY-window.pageYOffset+t.mouseOffsetY,o=t.hasTimeout("hide"),s=e.target;if(t.triggeredByEvent=e,!t._hidden){let l;const c=t.forSelector&&t.activeTarget&&!o&&s.nodeType===Node.ELEMENT_NODE&&!s.matches(t.forSelector)&&!(t.allowOver&&t.element.contains(s)),d=null!==n&&void 0!==n&&n.document?n.document.documentElement:n,u=d&&(d.contains?d.contains(s):16&d.compareDocumentPosition(s));c&&(l=t.handleForElementOut()),(l||!o||u)&&(t.dismissDelay&&!o&&t.setTimeout("hide",t.dismissDelay),t.updateContentOnMouseMove&&t.getHtml&&(t.html=t.getHtml({tip:t,element:t.element,forElement:t.activeTarget,event:e})),t.trackMouse&&t.alignTo({position:new a.default(r,i),ignorePageScroll:!0}))}}onOwnElementMouseEnter(e){this.abortDelayedHide()}static getSharedTooltip(e){var t;let n=null===(t=e.bryntum)||void 0===t?void 0:t.tooltip;if(!n){const t=e.bryntum=e.bryntum||{};t.tooltip=!0,n=new m({forElement:e,rootElement:e,forSelector:"[data-btip]",resetCfg:{},isShared:!0,cls:"b-tooltip-shared",listeners:{pointerOver({source:e,target:t}){for(const r in e.resetCfg)"listeners"===r?e.un(e.resetCfg[r].set):"html"!==r&&(e[r]=e.resetCfg[r].was);e.resetCfg={};const n=r.default.getById(t.id),i=(null===n||void 0===n?void 0:n.tipConfig)||e.gatherDataConfigs(t.dataset);for(const r in i)e.resetCfg[r]={set:i[r],was:e[r]},"listeners"===r?e.on(i[r]):e[r]=i[r]}},gatherDataConfigs(e){const t=this,n={};for(const r in e)if(r.startsWith("btip"))if(r.length>4){const i=d.default.uncapitalize(r.substr(4));if(i in t.getDefaultConfiguration()){const t=e[r];n[i]=g[t]?"true"===t:isNaN(t)?t:parseInt(t,10)}}else n.html=e[r];return n}}),l.default.on({element:e,mouseenter:e=>m.currentOverElement=e.target,capture:!0}),t.tooltip=n}return n}}m.initClass(),Object.defineProperty(r.default,"tooltip",{get:()=>m.getSharedTooltip(document.body)}),r.default.Tooltip=m,m._$name="Tooltip"},"./lib/Core/widget/Widget.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/Config.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/util/DomClassList.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/DomSync.js"),c=n("./lib/Core/helper/FunctionHelper.js"),d=n("./lib/Core/helper/util/Fullscreen.js"),u=n("./lib/Core/helper/ObjectHelper.js"),h=n("./lib/Core/helper/ResizeMonitor.js"),f=n("./lib/Core/helper/EventHelper.js"),g=n("./lib/Core/helper/util/Rectangle.js"),m=n("./lib/Core/helper/util/Point.js"),p=n("./lib/Core/helper/util/Scroller.js"),v=(n("./lib/Core/localization/En.js"),n("./lib/Core/localization/Localizable.js")),b=n("./lib/Core/mixin/Events.js"),y=n("./lib/Core/mixin/Delayable.js"),C=n("./lib/Core/mixin/Factoryable.js"),S=n("./lib/Core/mixin/Identifiable.js"),w=n("./lib/Core/GlobalEvents.js"),E=n("./lib/Core/widget/Mask.js");const D=[],x=/transparent|rgba\(0,\s*0,\s*0,\s*0\)/,j={INPUT:1,TEXTAREA:1},T=(e,t,n)=>{var r;let i=null===n||void 0===n?void 0:n.listeners;i=(null===(r=i)||void 0===r?void 0:r.on)||i,i&&(n.listeners={on:i,un:f.default.on(u.default.assign({element:t,thisObj:e},i))})},R=(e,t)=>e&&t&&t[u.default.keys(e)[0]]?i.default.merge(e,t):e,M=e=>{e.isVisible&&e.triggerPaint()},k=/^:not\((.+)\)$/,P=e=>null!=e.scale,{hasOwnProperty:O}=Object.prototype,{defineProperty:F}=Reflect,A=e=>parseFloat(e)*(e.endsWith("ms")?1:1e3),I=Promise.resolve(),L=["b-aligned-above","b-aligned-right","b-aligned-below","b-aligned-left"];class H extends(r.default.mixin(v.default,b.default,y.default,S.default,C.default)){static get $name(){return"Widget"}static get type(){return"widget"}static get configurable(){return{element:!0,callOnFunctions:!0,id:"",html:null,content:null,cls:{$config:{merge:"classList"},value:null},contentElementCls:{$config:{merge:"classList"},value:null},dock:null,parent:null,tab:null,htmlCls:{$config:{merge:"classList"},value:{"b-html":1}},style:null,disabled:null,readOnly:{value:null,default:!1,$config:null},adopt:null,appendTo:null,insertBefore:null,insertFirst:null,dataset:null,tooltip:{$config:["lazy","nullify"],value:null},preventTooltipOnTouch:null,monitorResize:{$config:["lazy","nullify"],value:null},masked:null,maskDefaults:{target:"element"},cache:{},floating:null,positioned:null,draggable:null,align:"t-b",centered:null,constrainTo:void 0,anchor:null,owner:null,scrollAction:null,hideAnimation:{$config:{merge:R},value:null},showAnimation:{$config:{merge:R},value:null},x:null,y:null,scrollable:{$config:["nullify"],value:null},scrollerClass:p.default,defaultBindProperty:"html",defaultAction:null,overflowable:{value:null,default:!0,$config:null},width:null,height:null,maxHeight:null,maxWidth:null,minWidth:null,minHeight:null,scaleToFitWidth:null,allowGrowWidth:!0,margin:null,flex:null,weight:null,alignSelf:null,ripple:null,title:null,localizableProperties:["title"],requireSize:!1,ref:null,hidden:null,textAlign:null,ignoreScrollDuration:500,tag:"div",recomposeAsync:null,rootElement:null}}static get prototypeProperties(){return{hasGeneratedId:!1,innerItem:!0}}static get declarable(){return["renderConfigs"]}static get delayable(){return{recompose:"raf"}}static get factoryable(){return{defaultType:"widget"}}static get identifiable(){return{}}static get all(){return super.all}static get recomposeAsync(){return H._recomposeAsync}static set recomposeAsync(e){if(H._recomposeAsync=e,null!=e){const{all:t}=H;for(let n=0;n<t.length;++n)t[n].isComposable&&(t[n].recomposeAsync=e)}}isType(e,t){return H.isType(this,e,t)}static setupRenderConfigs(e,t){let n,{renderConfigs:r}=e;if(r){const e=t.getInherited("renderConfigs",!1)||Object.create(null);if(Array.isArray(r)){for(n=0;n<r.length;++n)e[r[n]]=!0;r=e}else r=Object.assign(e,r)}t.renderConfigs=r}construct(e={},...t){const n=this;n._isAnimatingCounter=0,n.alignConstrained=0,n.byRef=Object.create(null),n.callRealign=n.realign.bind(n),n.doHideOrRealign=n.doHideOrRealign.bind(n),n.onFullscreenChange=n.onFullscreenChange.bind(this),n._isUserAction=!1,super.construct(e,...t);const{recomposeAsync:r}=H;null!=r&&null==n.recomposeAsync&&(n.recomposeAsync=r),n.finalizeInit()}startConfigure(e){const t=this,{adopt:n,element:r}=t;n&&(t.adoptElement(r,n,e.id),t.updateElement(t._element,r)),super.startConfigure(e)}finalizeInit(){(this.insertBefore||this.appendTo||this.insertFirst||this.adopt)&&this.render()}doDestroy(){const e=this,{preExistingElements:t,element:n}=e;if(n){var r,i;if(e.onExitFullscreen(),e.clearTimeout(e.scrollListenerTimeout),e.clearTimeout(e.resizeListenerTimeout),e.removeTransientListeners(),e.floating||e.positioned?e.hide():e.revertFocus(),h.default.removeResizeListener(n.parentElement,e.onParentElementResize),h.default.removeResizeListener(n,e.onElementResize),e.adopt){for(let r=Array.from(n.childNodes),i=0,{length:o}=r;i<o;i++){const n=r[i];t.includes(n)||n===e.floatRoot||n.remove()}n.className=e.adoptedElementClassName,n.style.cssText=e.adoptedElementCssText}else n.remove();null===(r=e.dragEventDetacher)||void 0===r||r.call(e),null===(i=e.dragOverEventDetacher)||void 0===i||i.call(e),e.dragGhost.remove()}super.doDestroy()}get isComposable(){return!this.compose.$nullFn}adoptElement(e,t,n){const r=this,i="string"===typeof t?document.getElementById(t):t,o=H.fromElement(i);o&&o.adopt&&o!==r&&("string"===typeof o.adopt?document.getElementById(o.adopt):o.adopt)===i&&o.destroy(),r.preExistingElements=Array.from(i.childNodes),r.adoptedElementClassName=i.className,r.adoptedElementCssText=i.style.cssText,i.id&&!n&&(r.id=e.id=i.id),s.default.syncAttributes(e,i);for(let s=0,{length:d}=e.childNodes;s<d;s++)i.appendChild(e.childNodes[0]);delete r._contentRange,r._element=i;const a=e.lastDomConfig,l=null===a||void 0===a?void 0:a.listeners;var c;l&&r.isComposable&&(null===(c=l.un)||void 0===c||c.call(l),T(r,i,a)),i.lastDomConfig=a||i.lastDomConfig,i.$refOwnerId=r.id,r.scaleToFitWidth||r.getConfig("monitorResize")}addRefAccessor(e,t){const{prototype:n}=this.constructor;F(n,t,{writable:!0,value:null}),F(n,e,{get(){return this.recompose.flush(),this[t]},set(e){this[t]=e}})}attachRef(e,t,n){const r=this,i="_"+e;t.dataset&&(t.dataset.ownerCmp=r.id),r.isComposable&&(i in r||r.addRefAccessor(e,i),T(r,t,n)),r.byRef[e]=t,r[e]=t}detachRef(e,t,n){n.listeners&&(n.listeners.un(),n.listeners=null),this[e]=null,delete this.byRef[e]}afterRecompose(){}compose(){return{class:a.default.normalize(this.widgetClassList,"object")}}doCompose(){const e=this,{$meta:t}=e,n=t.hierarchy;let r,i,o,a,l,c,{composers:d}=t,u=null;if(!d){for(o=!0,t.composers=d=[],a=n.indexOf(H);a<n.length;++a)l=n[a].prototype,O.call(l,"compose")&&d.push(l);(c=t.getInherited("renderConfigs",!1))||(c=Object.create(null),e.configObserver={get(e){c[e]=!0}}),t.$renderConfigs=c}for(a=0;a<d.length;++a)r=d[a].compose.call(e,u),u=u?s.default.merge(u,r):r;return O.call(e,"compose")&&(r=e.compose)&&(r=r.call(e,u),s.default.merge(u,r)),o&&delete e.configObserver,s.default.normalizeChildren(u,t=>{i="_"+t,i in e||e.addRefAccessor(t,i)})}get element(){return this.isComposable&&this.recompose.flush(),this._element}changeElement(e){const t=this,n=t.isComposable;return n&&(e=t.doCompose()),"string"===typeof e?e=s.default.createElementFromTemplate(e):u.default.isObject(e)?(e=s.default.createElement(e,{refOwner:t}),n&&T(t,e,e.lastDomConfig)):1!==e.nodeType&&(e=s.default.createElementFromTemplate(t.template(t))),e.id=t.id,e}updateElement(e){const t=this,{className:n}=e,{contentElement:r,contentElementCls:i}=t,o=!t.isComposable&&e.querySelectorAll("[data-reference]"),a=t.isComposable?[]:t.widgetClassList;if(n&&a.unshift(n),t._hidden&&a.push("b-hidden"),t._readOnly&&a.push("b-readonly"),c.default.noThrow(e,"remove"),i&&(r===e?a.push(i):r.className+=" "+i),t.parent||a.push(...H.outerCls),e.className=a.join(" "),o)for(let s,l=0;l<o.length;++l)s=o[l],t.attachRef(s.getAttribute("data-reference"),s),s.removeAttribute("data-reference");t.adopt||t.scaleToFitWidth||t.getConfig("monitorResize")}recompose(){const e=this,t={targetElement:e.element,domConfig:e.doCompose(),refOwner:e,strict:!0};l.default.sync(t),t.changed&&e.afterRecompose()}render(e,t=!0){const n=this,{element:r}=n;n.emptyCache(),n.syncElement&&n.currentElement?s.default.sync(r,n.currentElement):(e?(n.appendTo="string"===typeof e?document.getElementById(e):e,n.appendTo.appendChild(r)):n.insertBefore?(n.insertBefore="string"===typeof n.insertBefore?document.getElementById(n.insertBefore):n.insertBefore,n.insertBefore.parentElement.insertBefore(r,n.insertBefore)):n.insertFirst?(n.insertFirst="string"===typeof n.insertFirst?document.getElementById(n.insertFirst):n.insertFirst,n.insertFirst.firstChild?n.insertFirst.insertBefore(r,n.insertFirst.firstChild):n.insertFirst.appendChild(r)):n.appendTo&&(n.appendTo="string"===typeof n.appendTo?document.getElementById(n.appendTo):n.appendTo,n.appendTo.appendChild(r)),n.currentElement=r),H.fromElement(r.parentElement)&&s.default.removeClasses(r,H.outerCls),n.rendered=!0,t&&(n.getConfig("contentRange"),n.triggerPaint()),n.setupFocusListeners()}template(e){return`<${e.tag} class="${e.html?e.htmlCls:""}" ${e.name?`data-name="${e.name}"`:""}>${e.html||""}</${e.tag}>`}updateRecomposeAsync(e){this.recompose.immediate=!e}onConfigChange({name:e}){var t;this._element&&!this.isDestroying&&null!==(t=this.$meta.$renderConfigs)&&void 0!==t&&t[e]&&this.recompose()}get dataset(){return this.element.dataset}changeDataset(e){Object.assign(this.dataset,e)}get dragGhost(){return this.constructor._dragGhost||(this.constructor._dragGhost=s.default.createElement({html:"\xa0",style:"position:absolute;top:-10000em;left:-10000em"}))}updateParent(e){const{_element:t}=this;t&&s.default[e?"removeClasses":"addClasses"](t,H.outerCls)}get constrainTo(){const e=this._constrainTo;return void 0===e?window:e}updateCentered(e){const{element:t,_anchorElement:n}=this;if(e&&!this.floating&&!this.positioned)throw new Error("`centered` is only relevant when a Widget is `floating` or `positioned`");e?(t.classList.add("b-centered"),t.style.transform=t.style.left=t.style.top="",null===n||void 0===n||n.classList.add("b-hide-display"),t.classList.remove("b-anchored")):t.classList.remove("b-centered")}get contentElement(){return this.element}get contentRange(){const e=this,{contentElement:t}=e,n=e._contentRange||(e._contentRange=o.default.isIE11?document.createRange():new Range);return n.collapsed&&(n.setStart(t,e.contentRangeStartOffset||0),n.setEnd(t,e.contentRangeEndOffset||t.childNodes.length)),n}fixRefOwnerId(e,t,n){if(e.$refOwnerId===n){e.$refOwnerId=t;for(let{childNodes:r}=e,i=r.length;i-- >0;)this.fixRefOwnerId(r[i],t,n)}}updateId(e,t){if(super.updateId(e,t),t){const{byRef:n,element:r}=this;for(const t in n)n[t].dataset&&(n[t].dataset.ownerCmp=e);r.id=e,this.fixRefOwnerId(r,e,t)}}get style(){const{element:e}=this;return e?e.ownerDocument.defaultView.getComputedStyle(e):this._style}updateStyle(e){this.element&&s.default.applyStyle(this.element,e)}updateTitle(e){this.titleElement&&(this.titleElement.innerHTML=e)}alignTo(e){var t;const n=this,{lastAlignSpec:r,element:i}=n;if(r&&i.classList.remove(L[r.zone]),!e)return n.removeTransientListeners(),void(n.anchor=n.lastAlignSpec=null);(e.nodeType===Element.ELEMENT_NODE||e instanceof H||"Point"===e.$$name)&&(e={target:e}),n.releaseSizeConstraints();const{scrollable:a,constrainTo:l}=n,c=n.scale||1,d=e.target,f=d&&(d instanceof g.default?d:d.element||d),m=g.default.from(i,n.positioned?i.offsetParent:null,!0),{width:p,height:v}=m,b=f&&f.nodeType===Element.ELEMENT_NODE,y=(e=u.default.assign({constrainTo:l,align:"b-t",axisLock:n.axisLock,anchor:n.anchor},n.align,e)).minWidth||n.minWidth,C=e.minHeight||n.minHeight;if(m.isAlignRectangle=!0,y&&(m.minWidth=y*c),C&&(m.minHeight=C*c),n.lastAlignSpec=e,b&&f.offsetParent){(e=Object.setPrototypeOf({},e)).target=g.default.from(f,n.positioned?i.offsetParent:null,!n.positioned),e.target.height=Math.max(e.target.height,1),e.target.width=Math.max(e.target.width,1);const t=n.clippedBy;if(t){const r=e.target.intersect(t);if(!r){const e=n.hide();return n.lastAlignSpec.targetHidden=!0,e}e.target=r}n.anchoredTo=f}else n.anchoredTo=null;if(e.anchor&&(e.anchorSize=n.anchorSize,i.contains(n.anchorPathElement)||i.appendChild(n.anchorElement)),l&&!l.isRectangle&&n.positioned){const t=l===document||l===window;e.constrainTo=g.default.from(t?document.body:e.constrainTo,i.offsetParent)}n.isAligning=!0,n.trigger("beforeAlign",e),n.isAligning=!1;const S=m.alignTo(e);let{align:w,anchor:E,x:D,y:j,width:T,height:R}=S;if(n.lastAlignSpec.zone=S.zone,R!=v&&("configuredHeight"in n||(n.configuredHeight=i.style.height),n.height=R/c,n.alignConstrained=1|n.alignConstrained,a&&(a.overflowY=!0)),T!=p&&("configuredWidth"in n||(n.configuredWidth=i.style.width),n.width=T/c,n.alignConstrained=2|n.alignConstrained,a&&(a.overflowX=a.clientWidth>a.scrollWidth)),w&&n.alignConstrained){e.align=w;const t=g.default.from(i,n.positioned?i.offsetParent:null,!0).alignTo(e);E=t.anchor,D=t.x,j=t.y,T=t.width,R=t.height}if(n.setXY(D,j),isFinite(S.zone)&&i.classList.add(L[S.zone]),null!==(t=E)&&void 0!==t&&t.edge){const{edge:e}=E,{anchorElement:t}=n,r=g.default.from(i),o=[];"top"===e||"bottom"===e?(o[0]=E.x,o[1]="top"===e?1:r.height-1):(o[0]="left"===e?1:r.width-1,o[1]=E.y);let a=s.default.childFromPoint(i,...o);if(a){let e=s.default.getStyleValue(a,"background-color");for(;e.match(x)&&"absolute"!==s.default.getStyleValue(a,"position");)a=a.parentNode,e=s.default.getStyleValue(a,"background-color");e.match(x)?n.anchorPathElement.setAttribute("fill",n.defaultAnchorBackgroundColor):n.anchorPathElement.setAttribute("fill",e)}t.classList.remove("b-hide-display"),t.style.transform="",t.className="b-anchor b-anchor-"+e,E.x&&(E.x/=c),E.y&&(E.y/=c),s.default.setTranslateXY(t,E.x,E.y),i.classList.add("b-anchored")}else n._anchorElement&&(n.anchorElement.classList.add("b-hide-display"),i.classList.remove("b-anchored"));"hide"!==n.scrollAction||b||(i.style.pointerEvents="none",n.anchoredTo=s.default.elementFromPoint(D,j),i.style.pointerEvents=""),("realign"===n.scrollAction&&b||"hide"===n.scrollAction)&&!n.documentScrollListener&&(n.clearTimeout(n.scrollListenerTimeout),n.scrollListenerTimeout=n.setTimeout(()=>{n.documentScrollListener=!0,document.addEventListener("scroll",n.doHideOrRealign,!0)},"hide"===n.scrollAction?n.ignoreScrollDuration:0)),b&&e.monitorResize&&!n.targetResizeListener&&(h.default.addResizeListener(f,n.callRealign),n.targetResizeListener=!0),o.default.isAndroid||n.constrainListeners||l instanceof g.default||(n.clearTimeout(n.resizeListenerTimeout),n.resizeListenerTimeout=n.setTimeout(()=>{n.constrainListeners=!0,h.default.addResizeListener(l||window,n.callRealign)},n.ignoreScrollDuration))}realign(e){const t=this;if(t.isVisible&&(t.floating||t.positioned)&&t.lastAlignSpec){const n=t.lastAlignSpec.target;if(n&&n.nodeType===Element.ELEMENT_NODE){if(o.default.isIE11&&!Object(s.isInDocument)(n))return t.hide();const r=H.fromElement(n),i=g.default.from(n),a=(!r||r.isVisible)&&s.default.isVisible(n);if(i.minHeight=i.minWidth=1,n!==document.body&&!a||e&&e.nodeType===Element.ELEMENT_NODE&&e.contains(n)&&!g.default.from(e).intersect(i))return t.hide()}s.default.addTemporaryClass(t.element,"b-realigning",300),t.alignTo(t.lastAlignSpec)}}rectangle(e,t,n){return"string"!==typeof e?(n=t,t=e,e=""):"border"===e&&(e=""),"boolean"===typeof t&&(n=t,t=null),g.default[e||"from"](this.element,t,n)}releaseSizeConstraints(){const e=this,t=e.scrollable;1&e.alignConstrained&&(e.height=e.configuredHeight,t&&(t.overflowY=t.config.overflowY)),2&e.alignConstrained&&(e.width=e.configuredWidth,t&&(t.overflowX=t.config.overflowX)),e.alignConstrained=0}toFront(){const{element:e}=this,t=this.floating?this.floatRoot:this.positioned?null===e||void 0===e?void 0:e.parentNode:null;if(e&&e.nextSibling){const n=this._toFrontRange||(this._toFrontRange=document.createRange());n.setStartBefore(e.nextSibling),n.setEndAfter(t.lastElementChild),t.insertBefore(n.extractContents(),e)}}updateRef(e){this.element.dataset.ref=e}set clippedBy(e){this._clippedBy=Array.isArray(e)?e:e?[e]:null}get clippedBy(){const e=this._clippedBy;if((null===e||void 0===e?void 0:e.length)>0){let t,n=g.default.from(null===e||void 0===e?void 0:e[0],null,!0);for(t=1;t<e.length;t++)n=n.intersect(g.default.from(null===e||void 0===e?void 0:e[t],null,!0));return n}}get overflowElement(){return this.contentElement}get maxHeightElement(){return this.element}changeAlign(e){return"string"===typeof e?{align:e}:e}changeScrollable(e,t){return"boolean"===typeof e&&(e={overflowX:e,overflowY:e}),e?(e.element=this.overflowElement,e.widget=this,e.isScroller||(e=t?t.setConfig(e):new this.scrollerClass(e)),e.syncOverflowState()):null===t||void 0===t||t.destroy(),e}get html(){return this.initializingElement||!this.element?this.content||this._html:this.contentElement.innerHTML}updateHtml(e){const t=this,n=null==e,{element:r,contentElement:i,htmlCls:o}=t;if(r){const a=i===r&&t._anchorElement;o&&o.values.forEach(e=>r.classList[n?"remove":"add"](e)),a&&t.element.removeChild(a),e&&"object"===typeof e?l.default.sync({domConfig:e,targetElement:t.contentElement,onlyChildren:!0}):t.contentElement.innerHTML=n?"":e,a&&r.appendChild(a),t.isComposable?t.recompose():(t.floating||t.positioned)&&(t.isAligning||t.realign())}}updateContent(e){const t=this,n=null==e,{element:r,htmlCls:i}=t;if(r){const{contentRange:o}=t;i&&i.values.forEach(e=>r.classList[n?"remove":"add"](e)),Object(s.isInDocument)(r)?(o.deleteContents(),n||o.insertNode(s.default.createElementFromTemplate(e,{fragment:!0}))):t.contentElement.innerHTML=e,t.contentRangeStartOffset=o.startOffset,t.contentRangeEndOffset=o.endOffset,!t.floating&&!t.positioned||t.isAligning||t.realign()}}onThemeChange(){var e;null!==(e=this.anchorElement)&&void 0!==e&&e.offsetParent&&(this._anchorSize=null,this.realign())}get anchorSize(){const e=this;let t=this._anchorSize;if(!t){const n=parseFloat(s.default.getStyleValue(e.element,"border-top-width")),r=s.default.getStyleValue(e.element,"border-top-color"),i=e.anchorElement,{className:o}=i,a=i.firstElementChild,l=e.anchorPathElement=a.lastElementChild,c=e._hidden;i.className="b-anchor b-anchor-top";let d=s.default.getStyleValue(e.contentElement,"background-color");d.match(x)&&(d=s.default.getStyleValue(e.element,"background-color")),e.defaultAnchorBackgroundColor=d,t=i.getBoundingClientRect();const[u,h]=t=e._anchorSize=[t.width,t.height];i.className=o,a.setAttribute("height",h+n),a.setAttribute("width",u),l.setAttribute("d",`M0,${h}L${u/2},0.5L${u},${h}`),n&&(l.setAttribute("stroke-width",n),l.setAttribute("stroke",r)),t[1]-=n,c&&e.element.classList.add("b-hidden"),e.themeChangeListener||(e.themeChangeListener=w.default.on({theme:"onThemeChange",thisObj:e})),e.anchorPathElement.setAttribute("fill",e.defaultAnchorBackgroundColor)}return t}get anchorElement(){const e=this;if(!e._anchorElement){const t=e.floating&&!(o.default.isIE11||o.default.isEdge),n=e.id+"-shadow-filter";e._anchorElement=s.default.createElement({parent:e.element,className:"b-anchor b-anchor-top",children:[{tag:"svg",ns:"http://www.w3.org/2000/svg",version:"1.1",class:"b-pointer-el",children:[t?{tag:"defs",children:[{tag:"filter",id:n,children:[{tag:"feDropShadow",dx:0,dy:-1,stdDeviation:1,"flood-opacity":.2}]}]}:null,{tag:"path",[t?"filter":""]:`url(#${n})`}]}]})}return e._anchorElement}updateAnchor(e){this._anchorElement&&this._anchorElement.classList[e?"remove":"add"]("b-hide-display")}updateDraggable(e){const t=this,{element:n}=t;var r,i,a;o.default.isFirefox||n.setAttribute("draggable",Boolean(e)),e?(t.dragEventDetacher=f.default.addListener({element:n,dragstart:"onWidgetDragStart",dragend:"onWidgetDragEnd",thisObj:t}),o.default.isFirefox&&(t.ffDragDetacher=f.default.on({element:n,mousedown(e){s.default.up(e.target,".b-field-inner")||n.setAttribute("draggable","true")},thisObj:t}))):(null===(r=t.dragEventDetacher)||void 0===r||r.call(t),null===(i=t.dragOverEventDetacher)||void 0===i||i.call(t),null===(a=t.ffDragDetacher)||void 0===a||a.call(t))}onWidgetDragStart(e){const t=this,{element:n}=t;if(!t.validateDragStartEvent(e))return;t.removeTransientListeners();const r=e.clientX,i=e.clientY,a=document.scrollingElement||document.body,l=t.getXY()[0],c=t.getXY()[1],d={element:t.rootElement,dragover:e=>{n.classList.remove("b-centered"),s.default.setTranslateXY(n,l+e.clientX-r-a.scrollLeft,c+e.clientY-i-a.scrollTop)}};o.default.isTouchDevice&&(d.touchmove=e=>e.preventDefault()),t.floatRoot.appendChild(t.dragGhost),t.setDragImage(e),e.dataTransfer.effectAllowed="none",t.dragOverEventDetacher=f.default.addListener(d),t.alignTo()}validateDragStartEvent(e){const{element:t}=this,n=s.default.elementFromPoint(e.clientX,e.clientY),{handleSelector:r}=this.draggable;if(r){const i=k.exec(r)[1];if(i){if(n.closest(`#${t.id} ${i}`))return e.preventDefault(),!1}else if(!n.closest(`#${t.id} ${r}`))return e.preventDefault(),!1}return!0}setDragImage(e){e.dataTransfer.setDragImage&&(e.dataTransfer.setData("application/node type",""),e.dataTransfer.setDragImage(this.dragGhost,-9999,-9999))}onWidgetDragEnd(){this.dragGhost.remove(),this.dragOverEventDetacher(),o.default.isFirefox&&this.element.removeAttribute("draggable")}changeFloating(e){return Boolean(e)}changePositioned(e){return Boolean(e)}updatePositioned(e){this.element.classList[e?"add":"remove"]("b-positioned")}getXY(){return[s.default.getPageX(this.element),s.default.getPageY(this.element)]}setXY(e,t){const n=this;(n.floating||n.positioned)&&(null!=e&&(n._x=e,n.centered=!1),null!=t&&(n._y=t,n.centered=!1),s.default.setTranslateXY(n.element,n._x||0,n._y||0))}get x(){return this.getXY()[0]}changeX(e){this.setXY(e)}get y(){return this.getXY()[1]}changeY(e){this.setXY(null,e)}get width(){const e=this,t=e.element;return e.monitorResize?(null==e._width&&(e._width=t.offsetWidth),e._width):t.offsetWidth}changeWidth(e){s.default.setLength(this.element,"width",e),this._width=null,this._flex=null,this.element.style.flex=""}get maxWidth(){return s.default.measureSize(this.element.style.maxWidth,this.element)}updateMaxWidth(e){s.default.setLength(this.element,"maxWidth",e)}get minWidth(){return s.default.measureSize(this.element.style.minWidth,this.element)}updateMinWidth(e){s.default.setLength(this.element,"minWidth",e)}updateFlex(e){this.getConfig("width"),"number"!==typeof e&&isNaN(e)||(e=`${e} ${e}`),this.element.style.flex=e,this.element.style.width=""}updateAlignSelf(e){this.element.style.alignSelf=e}updateMargin(e){this.element.style.margin=this.parseTRBL(e).join(" ")}updateTextAlign(e,t){t&&this.element.classList.remove("b-text-align-"+t),this.element.classList.add("b-text-align-"+e)}updatePlaceholder(e){this.input&&(null==e?this.input.removeAttribute("placeholder"):this.input.placeholder=e)}get height(){const e=this,t=e.element;return e.monitorResize?(null==e._height&&(e._height=t.offsetHeight),e._height):t.offsetHeight}changeHeight(e){s.default.setLength(this.element,"height",e),this._height=null}get maxHeight(){return s.default.measureSize(this.maxHeightElement.style.maxHeight,this.element)}updateMaxHeight(e){const t=this,{element:n}=t;s.default.setLength(t.maxHeightElement,"maxHeight",e),o.default.isIE11&&t.contentElement!==n&&(null==e?h.default.removeResizeListener(n,t.boundMaxHeightBugHandler):(h.default.addResizeListener(n,t.boundMaxHeightBugHandler||(t.boundMaxHeightBugHandler=t.fixIEMaxHeightBug.bind(t))),document.body.contains(n)&&t.fixIEMaxHeightBug()))}fixIEMaxHeightBug(){const{element:e,contentElement:t}=this;if("column"===s.default.getStyleValue(e,"flex-direction")){t.style.maxHeight="";let n=g.default.client(e).height;const r=e.childNodes,i=r.length;for(let e=0;e<i;e++){const i=r[e];i===t||i.classList.contains("b-resize-monitors")||(n-=i.offsetHeight)}this.contentElement.style.maxHeight=n+"px"}}get minHeight(){return s.default.measureSize(this.element.style.minHeight,this.element)}updateMinHeight(e){s.default.setLength(this.element,"minHeight",e)}updateDisabled(e){const t=this,n=t.element,r=t.focusElement;t.trigger("beforeUpdateDisabled",{disabled:e}),e&&t.revertFocus(),n&&(n.classList[e?"add":"remove"]("b-disabled"),r&&(r.disabled=e)),t.onDisabled(e)}onDisabled(e){}disable(){this.disabled=!0}enable(){this.disabled=!1}requestFullscreen(){const e=this,t=d.default.request(e.floating?e.floatRoot:e.element);return d.default.onFullscreenChange(e.onFullscreenChange),e.floating||(e.floatRoot._oldParent=e.floatRoot.parentElement,e.element.appendChild(e.floatRoot)),t}exitFullscreen(){return d.default.exit()}onFullscreenChange(){d.default.isFullscreen||this.onExitFullscreen()}onExitFullscreen(){var e,t;const n=this;d.default.unFullscreenChange(n.onFullscreenChange),!n.floating&&null!==(e=n._rootElement)&&void 0!==e&&null!==(t=e.floatRoot)&&void 0!==t&&t._oldParent&&(n.floatRoot._oldParent.appendChild(n.floatRoot),n.floatRoot._oldParent=null)}get tooltip(){if(this._tooltip)return this._tooltip;{var e;const t=null===(e=H.Tooltip)||void 0===e?void 0:e.getSharedTooltip(this.rootElement);if(t&&t.activeTarget===this._element&&t.isVisible)return t}}changeTooltip(e,t){const n=this;if(e){if(!n.preventTooltipOnTouch||!o.default.isTouchDevice){if(e.isTooltip||"Object"===e.constructor.name||(e={html:"string"===typeof e?e:n.placeholder,textContent:!0}),!(null!==t&&void 0!==t&&t.isTooltip||e.newInstance))return n.element.dataset.btip=!0,void(n.tipConfig=e);e.type="tooltip",e.forElement||(e.forElement=n.element),"showOnHover"in e||e.forSelector||(e.showOnHover=!0),"autoClose"in e||(e.autoClose=!0),e=H.reconfigure(t,e,n)}}else if(t){if(null!=e||!t.isTooltip)return void(t.html=null);t.destroy()}else delete n.element.dataset.btip;return e}get tooltipText(){const e=this._tooltip;return e?e.isTooltip?e.contentElement.innerText:"string"===typeof e?e:e.html:this.tipConfig?this.tipConfig.html:void 0}get isVisible(){const e=this,{element:t}=e;return Boolean(t&&!e._hidden&&!e.isDestroying&&Object(s.isInDocument)(t)&&(!e.requireSize||Object(s.hasLayout)(t))&&(!e.owner||e.owner.isVisible))}focus(){this.isFocusable&&s.default.focusWithoutScrolling(this.focusElement)}get focusElement(){}get isFocusable(){const e=this.focusElement;return e&&this.isVisible&&!this.disabled&&(e===document.body||e.offsetParent)}async show(){return new Promise(e=>{const t=this,{showAnimation:n,element:r}=t,{style:i}=r;let o,a;if(t.isVisible||!1===t.trigger("beforeShow")||t.internalBeforeShow&&!1===t.internalBeforeShow())e();else{if(t.cancelHideShowAnimation(),t.updateCentered(t._centered),t.floating){const e=t.floatRoot;e.contains(r)||(t.rendered?e.appendChild(t.element):t.render(e,!1)),i.transform.includes("scale")&&(t.scale=null,i.transform=i.transformOrigin="");const n=t.closest(P);if(n){const{scale:e}=n;t.scale=e,i.transform=`scale(${e})`,i.transformOrigin="0 0"}}if(t._hidden=!1,r.classList.remove("b-hidden"),t.onConfigChange({name:"hidden",value:!1,was:!0,config:t.$meta.configs.hidden}),n){o=Object.keys(n)[0],a=n[o];const l=t.currentAnimation={styleProp:o,resolve:e};t.isAnimating=!0,t.currentAnimation.detacher=f.default.onTransitionEnd({element:r,property:o,duration:A(a.duration)+20,handler:()=>t.afterHideShowAnimate(l),thisObj:t}),i[o]=a.from,s.default.getStyleValue(r,o),i.transition=`${o} ${a.duration} ease ${a.delay}`,i[o]=a.to}t.afterShow(!n&&e),t.inShowBy||!t.floating||!t.forElement||t.centered||t.hidden||t.alignTo(t.forElement)}})}async showBy(e){const t=this;let n;return t.isVisible?s.default.addTemporaryClass(t.element,"b-realigning",300):(t.inShowBy=!0,n=t.show(),t.inShowBy=!1),t.isVisible&&t.alignTo(e),n||I}async showByPoint(e,t,n){const r=1===arguments.length?e:[e,t];return this.showBy(Object.assign({position:new m.default(r[0]+1,r[1]+1),matchSize:!1,align:"t-b"},n))}afterShow(e){var t,n;const r=this;r.boundMaxHeightBugHandler&&r.boundMaxHeightBugHandler(),r.trigger("show"),r._configuredAnchorState=r.anchor,null===(t=r.parent)||void 0===t||null===(n=t.onChildShow)||void 0===n||n.call(t),r.triggerPaint(),e&&e()}triggerPaint(){const e=this,{element:t}=e,n=!e.isPainted;e.isVisible&&(n&&e.scaleToFitWidth&&!e.monitorResize&&(e.onParentElementResize=e.onParentElementResize.bind(e),h.default.addResizeListener(t.parentElement,e.onParentElementResize),e.updateScale()),e.eachWidget(M,!1),n&&e.isVisible&&(e.rootElement=s.default.getRootElement(t),e.getConfig("tooltip"),!window.bryntum.Ripple&&H.Ripple&&(window.bryntum.Ripple=new H.Ripple({rootElement:e.rootElement}))),e.trigger("paint",{firstPaint:n}),n&&e.monitorResize&&!e.scaleToFitWidth&&h.default.onElementResize([{target:t}]),e.isPainted=!0)}cancelHideShowAnimation(){const e=this,{currentAnimation:t,element:n}=e;t&&(e.isAnimating=!1,n.classList.remove("b-hiding"),t.detacher(),t.resolve(),n.style.transition=n.style[t.styleProp]="",e.currentAnimation=null)}afterHideShowAnimate(e){const t=this;e===t.currentAnimation&&(t.cancelHideShowAnimation(),t._hidden&&t.afterHideAnimation())}hide(e=!0){return new Promise(t=>{const n=this,{element:r}=n,{style:i}=r,o=e&&n.hideAnimation;if(n.clearTimeout(n.scrollListenerTimeout),n.clearTimeout(n.resizeListenerTimeout),!n._hidden&&!1!==n.trigger("beforeHide")){if(n._hidden=!0,n.onConfigChange({name:"hidden",value:!0,was:!1,config:n.$meta.configs.hidden}),!r)return void t();if(r.contains(s.default.getActiveElement(r))&&n.revertFocus(!0),n.isDestroyed)return void t();if(n.cancelHideShowAnimation(),o){const e=Object.keys(o)[0],a=o[e];if(Number(getComputedStyle(n.element)[e])!==a.to){const o=n.currentAnimation={styleProp:e,resolve:t};r.classList.add("b-hiding"),n.isAnimating=!0,n.currentAnimation.detacher=f.default.onTransitionEnd({element:r,property:e,duration:A(a.duration)+20,handler:()=>n.afterHideShowAnimate(o),thisObj:n}),i[e]=a.from,s.default.getStyleValue(r,e),i.transition=`${e} ${a.duration} ease ${a.delay}`,i[e]=a.to}else r.classList.add("b-hidden")}else r.classList.add("b-hidden");n.afterHide(!o&&t,o)}})}doHideOrRealign(e){var t;const n=this,{anchoredTo:r,lastAlignSpec:i}=n,o=null===i||void 0===i?void 0:i.target,a=null===i||void 0===i?void 0:i.position,l=s.default.getActiveElement(n),[c,d]=n.getXY();if(!n.element.contains(e.target)&&e.isTrusted&&!((null===(t=e.target)||void 0===t?void 0:t.nodeType)===Element.DOCUMENT_NODE&&n.element.contains(l)&&j[l]&&window.innerHeight<document.body.offsetHeight)&&(n.realign(e.target),!n.isDestroyed&&"hide"===n.scrollAction)){const[t,i]=n.getXY();(t!==c||i!==d||"Point"===(null===o||void 0===o?void 0:o.$$name)||a)&&(!r||e.target&&s.default.isDescendant(e.target,r))&&n.hide()}}afterHide(e=null,t=this.hideAnimation){var n,r;const i=this,{lastAlignSpec:o}=i;o&&(o.targetHidden=null),i._anchor=i._configuredAnchorState,i.removeTransientListeners(),t||i.afterHideAnimation(),i.trigger("hide"),null===(n=i.parent)||void 0===n||null===(r=n.onChildHide)||void 0===r||r.call(n),e&&e()}removeTransientListeners(){const e=this;e.clearTimeout(e.resizeListenerTimeout),e.clearTimeout(e.scrollListenerTimeout),e.documentScrollListener&&(document.removeEventListener("scroll",e.doHideOrRealign,!0),e.documentScrollListener=!1),e.targetResizeListener&&(h.default.removeResizeListener(e.lastAlignSpec.target,e.callRealign),e.targetResizeListener=!1),e.constrainListeners&&(h.default.removeResizeListener(e.lastAlignSpec.constrainTo||window,e.callRealign),e.constrainMutationMonitor&&e.constrainMutationMonitor.disconnect(),e.constrainListeners=!1)}afterHideAnimation(){const e=this,{element:t}=e;e.floating&&e.floatRoot.contains(t)?t.remove():t.classList.add("b-hidden"),e.defaultAnchorBackgroundColor&&e.anchorPathElement.setAttribute("fill",e.defaultAnchorBackgroundColor)}changeHidden(e){const t=this;let n;return t.isConfiguring?(n=Boolean(e),t.element.classList[e?"add":"remove"]("b-hidden")):(t.trigger("beforeChangeHidden",{hidden:e}),e?t.hide():t.show()),n}get assignedId(){return this.hasGeneratedId?null:this.id}get owner(){let e=this.parent||this._owner;if(!e){var t,n;const r=(null===(t=this.forElement)||void 0===t?void 0:t.nodeType)===Element.ELEMENT_NODE?this.forElement:null===(n=this.element)||void 0===n?void 0:n.parentNode;e=(null===r||void 0===r?void 0:r.closest(".b-widget"))&&H.fromElement(r)}return e}get previousSibling(){return this.getSibling(-1)}get nextSibling(){return this.getSibling(1)}getSibling(e){const{parent:t}=this,n=t?t.childItems:Array.from(this.element.parentElement.querySelectorAll(".b-widget"));return t?n[n.indexOf(this)+e]:H.fromElement(n[n.indexOf(this.element)+e])}up(){const{owner:e}=this;if(e)return e.closest(...arguments)}closest(e,t,n){const r=typeof n,i="number"===r,o="string"===r;for(let a=this,s=1;a;a=a.owner,s++){if(H.widgetMatches(a,e,t))return a;if(i&&s>=n)return;if(o&&H.widgetMatches(a,n,t))return;if(a===n)return}}owns(e){if(e){if(e.eventPhase&&(e=e.target),e.nodeType===Element.ELEMENT_NODE){if(this.element.contains(e))return!0;e=H.fromElement(e)}for(;e;){if(e===this)return!0;e=e.owner}}return!1}eachAncestor(e){let t=this.owner;for(;t;){if(!1===e(t))return!1;t=t.owner}return!0}changeMonitorResize(e,t){const n=!this.scaleToFitWidth&&Boolean(e);if(n!==Boolean(t))return n}updateMonitorResize(e){const t=this;O.call(t,"onElementResize")||(t.onElementResize=t.onElementResize.bind(t)),h.default[e?"addResizeListener":"removeResizeListener"](t.element,t.onElementResize)}changeReadOnly(e){if(e=Boolean(e),Boolean(this._readOnly)!==e)return e}updateReadOnly(e){var t;null===(t=this.element)||void 0===t||t.classList[e?"add":"remove"]("b-readonly"),this.isConfiguring||(this.eachWidget(t=>{"_originalReadOnly"in t||(t._originalReadOnly=t.config.readOnly||!1),t.readOnly=e||t._originalReadOnly},!1),this.trigger("readOnly",{readOnly:e}))}eachWidget(e,t=!0){const n=this.childItems,r=n?n.length:0,i={};for(let o=0;o<r;o++){const r=n[o];if(i.down=t,!1===e(r,i))return!1;if(i.down&&r.eachWidget&&!1===r.eachWidget(e,t))return!1}return!0}queryAll(e){const t=[];return this.eachWidget(n=>{e(n)&&t.push(n)}),t}query(e){let t=null;return this.eachWidget(n=>{if(e(n))return t=n,!1}),t}getWidgetByRef(e){var t,n;return e instanceof H?e:(null===this||void 0===this||null===(t=this.widgetMap)||void 0===t?void 0:t[e])||(null===this||void 0===this||null===(n=this.owner)||void 0===n?void 0:n.getWidgetByRef(e))}onFocusIn(e){const t=this,{element:n}=t;t.containsFocus=!0,t.focusInEvent=e,n.classList.add("b-contains-focus"),n.contains(e._target)&&t.onInternalKeyDown&&!t.keyDownListenerRemover&&(t.keyDownListenerRemover=f.default.on({element:n,keydown:"onInternalKeyDown",thisObj:t})),t.trigger("focusin",e)}onFocusOut(e){const t=this;t.keyDownListenerRemover&&(t.keyDownListenerRemover(),t.keyDownListenerRemover=null),t.isDestroyed||(e.relatedTarget||t.revertFocus(!t.isVisible),t.containsFocus=!1,t.element.classList.remove("b-contains-focus"),t.trigger("focusout",e))}captureFocus(){const e=this,t=s.default.getActiveElement(e),n=e.contains(t)&&e.captureFocusItem(t);return()=>{if(n&&!e.isDestroying){const r=s.default.getActiveElement(e);r!==t&&n(r,t)}}}captureFocusItem(e){return()=>{this.contains(e)&&e.focus()}}contains(e,t){const{element:n}=this;if(e&&n)return e.isWidget&&(e=e.element),n.contains(e)&&(!t||n!==e)}revertFocus(e){var t,n;const r=this,i=s.default.getActiveElement(r);let o=null===(t=r.focusInEvent)||void 0===t?void 0:t.relatedTarget;(e||r.containsFocus&&(null===(n=o)||void 0===n?void 0:n.nodeType)===Element.ELEMENT_NODE&&r.element.contains(i))&&(o&&s.default.isFocusable(o)||(o=r.getFocusRevertTarget()),o&&s.default.isFocusable(o)?s.default.focusWithoutScrolling(o):null===i||void 0===i||i.blur())}getFocusRevertTarget(){const e=this,{owner:t,focusInEvent:n}=e,r=n&&n.backwards?1:-1;let i=n&&n.relatedTarget;const o=i&&H.fromElement(i);if(t&&!t.isDestroyed&&(!i||!s.default.isFocusable(i)||o&&!o.isFocusable)){if(i=null,t.eachWidget){const n=[];if(t.eachWidget(t=>{(t===e||t.isFocusable)&&n.push(t)},!1),n.length>1){const t=n.indexOf(e);i=n[t+r]||n[t-r]}}!i&&t.isFocusable&&(i=t),i=i?i.focusElement:t.getFocusRevertTarget()}return i}get widgetClassList(){const e=this,t=e.cls,n=e.$meta.hierarchy,r=(null===t||void 0===t?void 0:t.values)||[];for(let o,s,l,c,d=n.indexOf(H);d<n.length;++d){var i;o=n[d],c=Reflect.getOwnPropertyDescriptor(o.prototype,"widgetClass"),null!==(i=c)&&void 0!==i&&i.get?l=c.get.call(e):(s=O.call(o,"$$name")||O.call(o,"$name")||O.call(o,"_$name")?o.$$name:o.name,(s.length<3||s.includes("$"))&&console.warn(`Class "${s}" which extends "${o.$name}" should have "$name" static getter with no less than 3 chars.`),l="b-"+s.toLowerCase()),l&&r.push(...a.default.normalize(l,"array"))}return e.floating&&r.push("b-floating"),o.default.isTouchDevice&&r.push("b-touch"),r}changeCls(e){return a.default.from(e)}changeContentElementCls(e){return a.default.from(e)}changeHtmlCls(e){return a.default.from(e)}fromCache(e,t=!1,n=this.element){if(!n)return null;const r=this;return r.cache[e]||(r.cache[e]=t?s.default.children(n,e):s.default.down(n,e)),r.cache[e]}emptyCache(){this.cache={}}changeMasked(e,t){if(!0!==e&&""!==e||(e="\xa0"),t)"string"===typeof e?(t.text=e,e=t):e?(t.setConfig(e),e=t):t.destroy();else if(e){const t=H.resolveType("mask");(e=t.mergeConfigs(this.maskDefaults,e)).owner=this,e=t.mask(e)}return e||null}onMaskAutoClose(e){e.isDestroyed&&e===this.masked&&(this.masked=null)}mask(e){return this.masked=e,this.masked}unmask(){this.masked=null}onInternalResize(e,t,n,r,i){this._width=e.offsetWidth,this._height=e.offsetHeight}onElementResize(e){const t=this,{element:n,scrollable:r}=t,i=t._width,o=t._height,a=n.offsetWidth,s=n.offsetHeight;var l;t.floating&&t.onFloatingWidgetResize(...arguments),r&&(null===(l=r.syncOverflowState)||void 0===l||l.call(r)),t.suspendResizeMonitor||i===a&&o===s||(t.onInternalResize(n,a,s,i,o),t.trigger("resize",{width:a,height:s,oldWidth:i,oldHeight:o}))}onFloatingWidgetResize(e,t,n){const r=this,{lastAlignSpec:i,constrainTo:o}=r;if(r.isVisible&&i&&i.target){const e=!t||n.height!==t.height,a=!t||n.width!==t.width,s=o&&!g.default.from(o).contains(g.default.from(r.element,null,!0));(e&&2!==i.zone||a&&1!==i.zone||s)&&r.requestAnimationFrame(()=>r.realign())}}updateScale(){const e=this,t=e.element,n=t.parentElement;e.configuredWidth||(e.configuredWidth=e.width),t.style.display="none";const r=g.default.client(n).width/e.configuredWidth,i=e.scale=e.allowGrowWidth?Math.min(r,1):r;t.style.transform=`scale(${i})`,t.style.transformOrigin="top left",t.style.display="",e.allowGrowWidth&&r>1&&(e.width=e.configuredWidth*r)}onParentElementResize(e){this.updateScale()}parseTRBL(e,t="px"){if("number"===typeof(e=e||0))return[`${e}${t}`,`${e}${t}`,`${e}${t}`,`${e}${t}`];const n=e.split(" "),r=n.length;return 1===r?n[1]=n[2]=n[3]=n[0]:2===r?(n[2]=n[0],n[3]=n[1]):3===r&&(n[3]=n[1]),[isFinite(n[0])?`${n[0]}${t}`:n[0],isFinite(n[1])?`${n[1]}${t}`:n[2],isFinite(n[2])?`${n[2]}${t}`:n[3],isFinite(n[3])?`${n[3]}${t}`:n[4]]}get rootElement(){const e=this;if(!e._rootElement){var t;let n=(null===(t=e.owner)||void 0===t?void 0:t.rootElement)||e.forElement instanceof HTMLElement&&s.default.getRootElement(e.forElement);if(!n){const t=e.element instanceof HTMLElement&&s.default.getRootElement(e.element);t!==document.body&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||(n=t)}n||(n=document.body),e._rootElement=n}return e._rootElement}get floatRoot(){var e;const t=this.rootElement||(null===(e=this.owner)||void 0===e?void 0:e.rootElement);let{floatRoot:n}=t;if(n)t.contains(n)||t.appendChild(n);else{var r;const{outerCls:e}=H,i=null===(r=s.default.themeInfo)||void 0===r?void 0:r.name;if(!s.default.isValidFloatRootParent(t))throw new Error("Attaching float root to wrong root");i&&e.push("b-theme-"+i.toLowerCase()),n=t.floatRoot=s.default.createElement({className:"b-float-root "+e.join(" "),parent:t}),D.push(n),o.default.isAndroid&&(n.style.height=screen.height+"px",f.default.on({element:window,orientationchange:()=>n.style.height=screen.height+"px"})),w.default.on({theme:({theme:e,prev:t})=>{n.classList.add("b-theme-"+e.toLowerCase()),n.classList.remove("b-theme-"+t.toLowerCase())}})}return n}static resetFloatRootScroll(){D.forEach(e=>e.scrollTop=e.scrollLeft=0)}static get floatRoots(){return D}static removeFloatRoot(e){D.splice(D.indexOf(e),1)}static get outerCls(){const e=["b-outer"];return o.default.isTouchDevice&&e.push("b-touch-events"),s.default.scrollBarWidth?e.push("b-visible-scrollbar"):e.push("b-overlay-scrollbar"),o.default.isChrome?e.push("b-chrome"):o.default.isSafari?e.push("b-safari"):o.default.isFirefox?e.push("b-firefox"):o.default.isIE11?e.push("b-ie"):o.default.isEdge&&e.push("b-edge"),window.ResizeObserver||e.push("b-no-resizeobserver"),e}get isAnimating(){return this._isAnimatingCounter>0}set isAnimating(e){const t=this;0===t._isAnimatingCounter&&e?t.element.classList.add("b-animating"):1!==t._isAnimatingCounter||e||t.element.classList.remove("b-animating"),t._isAnimatingCounter+=e?1:-1,t._isAnimatingCounter=Math.max(0,t._isAnimatingCounter)}static query(e,t=!1){const{idMap:n}=H.identifiable;for(const r in n)if(H.widgetMatches(n[r],e,t))return n[r];return null}static queryAll(e,t=!1){const{idMap:n}=H.identifiable,r=[];for(const i in n)H.widgetMatches(n[i],e,t)&&r.push(n[i]);return r}static fromElement(e,t,n){const r=typeof t;e&&!e.nodeType&&(e=e.target),("number"===r||t&&t.nodeType===Element.ELEMENT_NODE)&&(n=t,t=null);let i,o,a,s=e,l=0;for("number"!==typeof n&&(i=n,n=Number.MAX_VALUE),"string"===r&&(t=t.toLowerCase());s&&s.nodeType===Element.ELEMENT_NODE&&l<n&&s!==i;){if(o=s.dataset&&s.dataset.ownerCmp||s.id,o){if(a=H.getById(o),a){if(!t)return a;if("function"===r){if(t(a))return a}else if(H.widgetMatches(a,t,!0))return a}l++}s=s.parentNode}return null}triggerFieldChange(e,t=!0){t&&this.trigger("change",e),this.eachAncestor(t=>{t.onFieldChange&&t.onFieldChange(e)})}setupFocusListeners(){const e=this._rootElement;e&&!e._focusListenersInstalled&&(e._focusListenersInstalled=!0,w.default.setupFocusListeners(e,f.default))}static widgetMatches(e,t,n){return"*"===t||("function"===typeof t?t(e):H.isType(e,t,n))}static attachTooltip(e,t){return"string"===typeof t&&(t={html:t}),H.create(Object.assign({forElement:e},t),"tooltip"),e}}H.prototype.compose.$nullFn=!0,H.initClass(),H.register("mask",E.default),s.default.Widget=H,w.default.Widget=H,E.default.identifiable.idMap=H.identifiable.idMap,(window.bryntum||(window.bryntum={})).get=H.getById.bind(H),window.bryntum.Widget=H,window.bryntum.query=H.query,window.bryntum.queryAll=H.queryAll,window.bryntum.fromElement=H.fromElement,H._$name="Widget"},"./lib/Core/widget/graph/Histogram.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/DomSync.js"),s=n("./lib/Core/widget/Tooltip.js");const l="http://www.w3.org/2000/svg",c={bar:1,outline:2,text:3},d=(e,t)=>parseInt(e.dataset.order,10)-parseInt(t.dataset.order,10),u=e=>e.field,h=()=>!1;class f extends r.default{static get type(){return"histogram"}static get $name(){return"Histogram"}static get defaultConfig(){return{data:null,values:null,series:null,topValue:null,element:{children:[{ns:l,tag:"svg",reference:"svgElement",width:"100%",height:"100%",preserveAspectRatio:"none",children:[{ns:l,tag:"g",reference:"scaledSvgGroup"},{ns:l,tag:"g",reference:"unscaledSvgGroup"}]}]},omitZeroHeightBars:null,monitorResize:!0,getRectClass:null,getBarTip:null,getBarText:null}}construct(e){super.construct(e),this.scheduleRefresh=this.createOnFrame(this.refresh,[],this,!0),this.refresh()}set tip(e){var t;const n=this;null===(t=n.tip)||void 0===t||t.destroy(),n._tip=e?s.default.new({owner:n,forElement:n.svgElement,forSelector:"rect",listeners:{beforeShow:"up.onBeforeTipShow"}},e):null}onElementResize(){super.onElementResize(...arguments);const e=this.svgElement.getBoundingClientRect();this.scaledSvgGroup.setAttribute("transform",`scale(${e.width} ${e.height})`)}onBeforeTipShow({source:e}){const t=parseInt(e.activeTarget.dataset.index);e.html=e.contentTemplate({histogram:this,index:t})}set series(e){const t=this._series={};for(const n in e)if(!1!==e[n]){const r=t[n]=Object.assign({},e[n]);!r.type&&e[n].type&&(r.type=e[n].type),!r.field&&e[n].field&&(r.field=e[n].field),"order"in t||(r.order=c[r.type]),r.id=n}this.scheduleRefresh()}get series(){return this._series}set data(e){const t=this;if(t._data=e,!t.topValue){const n=Object.values(t.series).map(u);for(let r=0,{length:i}=e;r<i;r++)for(let o=0,{length:a}=n;o<a;o++)t.topValue=Math.max(t.topValue||0,e[r][n[o]])}t.scheduleRefresh()}get data(){return this._data}set topValue(e){this._topValue=e,this.scheduleRefresh()}get topValue(){return this._topValue}scheduleRefresh(){}refresh(){const e=this,{series:t,_tip:n}=e,r=[];for(const o in t){const n=t[o],a=e["draw"+i.default.capitalize(n.type)](n);Array.isArray(a)?r.push.apply(r,a):r.push(a)}r.sort(d),a.default.syncChildren({domConfig:{children:r},configEquality:h},e.scaledSvgGroup),a.default.syncChildren({domConfig:{children:e.drawText()}},e.unscaledSvgGroup),n&&n.isVisible&&e.onBeforeTipShow({source:n})}drawBar(e){const t=this,{topValue:n,data:r,omitZeroHeightBars:i,barStyle:a}=t,{field:s,order:c}=e,d=1/r.length,u=[];let h;for(let f=0,g=0,{length:m}=r;f<m;f++,g+=h){const m=r[f],p=m[s],v=(p>n?n:p)/n,b=1-v,y=m.rectConfig={ns:l,tag:"rect",dataset:{}};if(h=m.width||d,o.default.isEdge||o.default.isIE11){const e=t.svgElement.getBoundingClientRect();y.dataset.scaleX=e.width,y.dataset.scaleY=e.height}a?y.style=a:delete y.style,Object.assign(y.dataset,{index:f,order:c}),Object.assign(y,{x:g,y:b,width:h,height:v,class:t.callback("getRectClass",t,[e,y,m,f])});const C=t.callback("getBarTip",t,[e,y,m,f]);C?y.dataset.btip=C:delete y.dataset.btip,!v&&i||u.push(y)}return u}drawOutline(e){const t=this,{topValue:n,data:r}=t,{field:i,order:a}=e,s=1/r.length,c=["M 0,1"],d=e.outlineElement||(e.outlineElement={ns:l,tag:"path",dataset:{order:a}});if(o.default.isEdge||o.default.isIE11){const e=t.svgElement.getBoundingClientRect();d.style=`stroke-width: ${1/Math.min(e.width,e.height)}px`}let u,h="M",f="L";for(let o=0,l=0,{length:g}=r;o<g;o++){const e=1-r[o][i]/n;u=r[o].width||s,c.push(`${h} ${l},${e} ${f} ${l+=u},${e}`),h=f=""}return d.d=c.join(" "),d}drawText(){const e=this,{data:t}=e,n=1/t.length,r=[];for(let i,o=0,a=0,{length:s}=t;o<s;o++,a+=i)i=t[o].width||n,e.callback("getBarText",e,[t[o],o])&&r.push({ns:l,tag:"text",className:"b-bar-legend",html:e.callback("getBarText",e,[t[o],o]),x:100*(a+i/2)+"%",y:"100%",dataset:{index:o}});return r}getBarText(e,t){return""}getBarTip(e,t,n,r){}getRectClass(e,t,n,r){return""}}f.initClass(),f._$name="Histogram"},"./lib/Core/widget/graph/Scale.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/DomSync.js");const o="http://www.w3.org/2000/svg";class a extends r.default{static get type(){return"scale"}static get $name(){return"Scale"}static get configurable(){return{scalePoints:null,scaleMaxPadding:.1,horizontal:!1,align:{value:!1,$config:{merge:"replace"}},element:{children:[{ns:o,tag:"svg",reference:"svgElement",width:"100%",height:"100%",preserveAspectRatio:"none",children:[{ns:o,tag:"g",reference:"scaledSvgGroup",children:[{ns:o,tag:"path",reference:"pathElement"}]},{ns:o,tag:"g",reference:"unscaledSvgGroup"}]}]},monitorResize:!0}}construct(e){super.construct(e),this.scheduleRefresh=this.createOnFrame(this.refresh,[],this,!0),this.refresh()}changeAlign(e){return e||(e=this.horizontal?"bottom":"right"),e}updateAlign(e,t){this.element.classList.remove("b-align-"+t),this.element.classList.add("b-align-"+e)}updateHorizontal(e,t){this.element.classList.remove("b-scale-"+(t?"horizontal":"vertical")),this.element.classList.add("b-scale-"+(e?"horizontal":"vertical"))}onElementResize(){super.onElementResize(...arguments),this.scheduleRefresh()}scheduleRefresh(){}refresh(){const{horizontal:e,width:t,height:n,align:r,scalePoints:a,scaleMaxPadding:s}=this,l=a[a.length-1].value,c=[],d=[],u=1/(l+s*l);this.scaledSvgGroup.setAttribute("transform",`scale(${e?t:1} ${e?1:n})`);for(const i of a){const a=Boolean(i.text),s=u*i.value;if(a){const a={ns:o,tag:"text",className:"b-scale-tick-label",html:i.text,dataset:{tick:i.value}};e?(a.x=100*s+"%",a.y="top"===r?"1.6em":n-12):(a.x="left"===r?"12":""+(t-12),a.y=100*(1-s)+"%"),d.push(a)}e?"top"===r?c.push(`M${s},0 L${s},${a?10:5}`):c.push(`M${s},${n} L${s},${n-(a?10:5)}`):"left"===r?c.push(`M0,${1-s} L${a?10:5},${1-s}`):c.push(`M${t},${1-s} L${t-(a?10:5)},${1-s}`)}this.pathElement.setAttribute("d",c.join("")),i.default.syncChildren({domConfig:{children:d}},this.unscaledSvgGroup)}}a._$name="Scale"},"./lib/Core/widget/layout/Box.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/layout/Layout.js");const i=["b-hbox","b-vbox"],o={false:"nowrap",true:"wrap",reverse:"wrap-reverse"};class a extends r.default{static get $name(){return"Box"}static get type(){return"box"}static get alias(){return"hbox"}static get configurable(){return{itemCls:"b-box-item",align:null,contentAlign:null,direction:null,horizontal:!0,justify:null,reverse:null,wrap:null}}get vertical(){return!1===this.horizontal}set vertical(e){return this.horizontal=!e}updateAlign(){this.syncConfigStyle("align","alignItems")}updateContentAlign(){this.syncConfigStyle("contentAlign","alignContent")}updateDirection(){this.syncConfigStyle("direction","flexDirection")}updateHorizontal(){var e;const t=this,n=null===(e=t.contentElement)||void 0===e?void 0:e.classList,r=Number(t.vertical);n?(n.remove(i[1-r]),n.add(i[r])):t.syncConfigLater("horizontal"),t.syncDirection()}updateJustify(){this.syncConfigStyle("justify","justifyContent")}updateReverse(){this.syncDirection()}updateWrap(){this.syncConfigStyle("wrap","flexWrap",o)}syncDirection(){const{reverse:e}=this;this.direction=e?`${this.vertical?"column":"row"}${e?"-reverse":""}`:null}}a.initClass(),a._$name="Box"},"./lib/Core/widget/layout/Card.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/widget/layout/Layout.js"),i=n("./lib/Core/widget/Widget.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Core/helper/DomHelper.js");const l=["b-slide-out-left","b-slide-out-right","b-slide-in-left","b-slide-in-right"];class c extends r.default{static get $name(){return"Card"}static get type(){return"card"}static get configurable(){return{containerCls:"b-card-container",itemCls:"b-card-item",hideChildHeaderCls:"b-hide-child-headers",animateCardChange:!0,activeItem:null,activeIndex:null}}onChildAdd(e){super.onChildAdd(e);const t=this,{activeItem:n,owner:r}=t,i=null!=r.activeIndex?r.activeIndex:t.activeIndex||0,o=r.items.indexOf(e),a=null!=n?e===n:o===i;e.on({beforeHide:"onBeforeChildHide",beforeShow:"onBeforeChildShow",thisObj:t}),a?(e.show(),t._activeIndex=o,t._activeItem=e):(e.$isDeactivating=!0,e.hide(),e.$isDeactivating=!1)}onChildRemove(e){super.onChildRemove(e),this._activeItem===e&&this.activateSiblingOf(e),e.un({beforeHide:"onBeforeChildHide",beforeShow:"onBeforeChildShow",thisObj:this})}onBeforeChildShow({source:e}){if(!this.owner.isConfiguring&&!e.$isActivating)return this.activeItem=e,!1}onBeforeChildHide({source:e}){if(!this.owner.isConfiguring&&!e.$isDeactivating)return this.activateSiblingOf(e),!1}activateSiblingOf(e){const{owner:t}=this,n=t.items.slice(),r=n.indexOf(e);n.splice(r,1),this.activeIndex=Math.min(r,n.length-1)}setActiveItem(e,t=this.activeIndex){const n=this,{owner:r}=n,{items:a}=r,c=e instanceof i.default,d=a[t],u=r.items[e=c?e=a.indexOf(e):parseInt(e)],h={prevActiveIndex:t,prevActiveItem:d};if(u&&!u.$isActivating&&u!==d){var f;const i=d&&d.element,a=u&&u.element;if(h.activeIndex=e,h.activeItem=u,!1===r.trigger("beforeActiveItemChange",h))return null;if(null===(f=r.onBeginActiveItemChange)||void 0===f||f.call(r,h),n.animateDetacher){const e=n.animateDetacher.event;n.animateDetacher(),s.default.removeClasses(e.prevActiveItem.element,l),s.default.removeClasses(e.activeItem.element,l),n.animateDetacher=null}h.promise=new Promise((c,f)=>{if(i&&r.isVisible&&n.animateCardChange){const g=d.monitorResize;d.monitorResize=!1,d._hidden=!0,u.$isActivating=!0,u.show(),u.$isActivating=!1,i.classList.add(e>t?"b-slide-out-left":"b-slide-out-right"),a.classList.add(e<t?"b-slide-in-left":"b-slide-in-right"),r.isAnimating=!0,n.animateDetacher=o.default.onTransitionEnd({mode:"animation",element:a,once:!0,thisObj:d,handler(){n.animateDetacher=null,r.isAnimating=!1,s.default.removeClasses(a,l),i&&(s.default.removeClasses(i,l),d.$isDeactivating=!0,d._hidden=!1,d.hide(),d.monitorResize=g,d.$isDeactivating=!1),n.onActiveItemChange(h,c)}}),n.animateDetacher.reject=f,n.animateDetacher.event=h}else u.$isActivating=!0,u.show(),u.focus(),u.$isActivating=!1,d&&(d.$isDeactivating=!0,d.hide(),d.$isDeactivating=!1),n.onActiveItemChange(h,c)})}return h}onActiveItemChange(e,t){this._activeItem=e.activeItem,this._activeIndex=e.activeIndex,this.owner.trigger("activeItemChange",e),e.activeItem.focus(),t(e)}renderChildren(){const{owner:e}=this;a.default.isIE11&&(this.animateCardChange=!1),e.contentElement.classList[e.suppressChildHeaders?"add":"remove"](this.hideChildHeaderCls),super.renderChildren()}changeActiveIndex(e){const{owner:t}=this;return t.isConfiguring&&!t._items?e:Math.min(e,t.items.length-1)}updateActiveIndex(e,t){this.owner.isConfiguring||this.setActiveItem(e,t)}updateActiveItem(e){this.owner.isConfiguring||this.setActiveItem(e,this.activeIndex)}}c.initClass(),c._$name="Card"},"./lib/Core/widget/layout/Fit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/layout/Layout.js");class i extends r.default{static get $name(){return"Fit"}static get type(){return"fit"}static get configurable(){return{containerCls:"b-fit-container",itemCls:"b-fit-item"}}}i.initClass(),i._$name="Fit"},"./lib/Core/widget/layout/Layout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Core/mixin/Factoryable.js"),a=n("./lib/Core/helper/DomHelper.js");class s extends(r.default.mixin(i.default,o.default)){static get type(){return"default"}static get configurable(){return{owner:null,containerCls:"b-auto-container",itemCls:null}}static get factoryable(){return{defaultType:"default"}}get contentElement(){var e;return null===(e=this.owner)||void 0===e?void 0:e.contentElement}onChildAdd(e){}onChildRemove(e){}renderChildren(){const{owner:e,containerCls:t,itemCls:n}=this,{contentElement:r,items:i}=e,o=e.itemCls,a=null===i||void 0===i?void 0:i.length;if(r.classList.add("b-content-element"),t&&r.classList.add(t),a){e.textContent=!1;for(let t=0;t<a;t++){const a=i[t],{element:s}=a;s.dataset.itemIndex=t,n&&s.classList.add(n),o&&s.classList.add(o),s.classList.remove("b-outer"),a.render(r,Boolean(e.isPainted))}}this.syncPendingConfigs(),this.syncChildCount()}removeChild(e){const{element:t}=e,{owner:n,itemCls:r}=this,{contentElement:i}=n,o=n.itemCls;i.contains(t)&&i.removeChild(t),delete t.dataset.itemIndex,r&&t.classList.remove(r),o&&t.classList.remove(o),this.fixChildIndices(),this.syncChildCount()}appendChild(e){const{element:t}=e,{owner:n,itemCls:r}=this,{contentElement:i}=n,o=n.itemCls;t.dataset.itemIndex=n.indexOfChild(e),n.textContent=!1,r&&t.classList.add(r),o&&t.classList.add(o),e.render(i,Boolean(n.isPainted)),this.syncChildCount()}insertChild(e,t){const{element:n}=e,{owner:r,itemCls:i}=this,{contentElement:o}=r,s=a.default.getChild(o,`[data-item-index="${t}"]`),l=r.itemCls;r.textContent=!1,i&&n.classList.add(i),l&&n.classList.add(l),o.insertBefore(n,s),e.render(null,Boolean(r.isPainted)),this.fixChildIndices(),this.syncChildCount()}fixChildIndices(){this.owner.items.forEach((e,t)=>{e.element.dataset.itemIndex=t})}syncChildCount(){const{owner:e}=this,{length:t}=e.items;e.contentElement.classList[1===t?"add":"remove"]("b-single-child")}syncConfigLater(e){const t=this.pendingConfigs||(this.pendingConfigs=[]);t.includes(e)||t.push(e)}syncConfigStyle(e,t,n){const r=this,{contentElement:i}=r,o=r[e];i?i.style[t]=(null===n||void 0===n?void 0:n[o])||o:r.syncConfigLater(e)}syncPendingConfigs(){const e=this,{pendingConfigs:t}=e;let n;if(t)for(e.pendingConfigs=null;n=t.pop();)e[e.$meta.configs[n].updater](e[n])}}s.initClass(),s._$name="Layout"},"./lib/Core/widget/layout/VBox.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/layout/Box.js");class i extends r.default{static get $name(){return"VBox"}static get type(){return"vbox"}static get configurable(){return{horizontal:!1}}}i.initClass(),i._$name="VBox"},"./lib/Core/widget/mixin/Badge.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"Badge"}static get configurable(){return{badge:null}}compose(){const{badge:e}=this;return{dataset:{badge:e},class:{"b-badge":null!=e&&""!==e}}}}},"./lib/Core/widget/mixin/LocalizableComboItems.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Combo.js");t.default=e=>class extends(e||r.default){static get $name(){return"LocalizableComboItems"}static get defaultConfig(){return{items:!0}}set items(e){!0===e&&(e=this.buildLocalizedItems()),super.items=e}get items(){return super.items}construct(...e){this.inConstruct=!0,super.construct(...e),this.inConstruct=!1}buildLocalizedItems(){return[]}updateLocalizedItems(){const e=this;if(e.store&&!e.inConstruct){const{value:t}=e;e.store.data=e.buildLocalizedItems(),e.value=null,e.value=t,e.syncInputFieldValue(!0)}}updateLocalization(){this.updateLocalizedItems(),super.updateLocalization()}}},"./lib/Core/widget/mixin/Rotatable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"canonicalDock",(function(){return a}));var r=n("./lib/Core/Base.js");const i=/^(?:undefined|null|LEFT|RIGHT)$/,o={TOP:"BOTTOM",RIGHT:"LEFT",BOTTOM:"TOP",LEFT:"RIGHT"},a=e=>{const t=null===e||void 0===e?void 0:e.toUpperCase();return[t,"LEFT"===t||"RIGHT"===t]};t.default=e=>class extends(e||r.default){static get $name(){return"Rotatable"}static get configurable(){return{rotate:null,invertRotate:null}}compose(){const{rotate:e}=this;return{class:{["b-rotate-"+(e||"").toLowerCase()]:e,"b-rotate-vertical":e}}}syncRotationToDock(e){if(i.test(String(this.rotate))){const[t,n]=a(e);this.rotate=n?this.invertRotate?o[t]:t:null}}get widgetClass(){return null}}},"./lib/Core/widget/mixin/Toolable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/Core/util/DynamicObject.js");n("./lib/Core/widget/Tool.js");const s=[],l=(e,t)=>{const n={};if(e)for(let r,i=0;i<e.length;++i)r=e[i],n[r.ref]=t?r.element:r;return n},c={align:1,weight:1};t.default=e=>class extends(e||r.default){static get $name(){return"Toolable"}static get configurable(){return{tools:{value:null,$config:{nullify:!0}},toolDefaults:{"*":{type:"tool",align:"end"},close:{weight:-1e3},collapse:{weight:-990}}}}byWeightSortFn(e,t){return(e.weight||0)-(t.weight||0)}byWeightReverseSortFn(e,t){return(t.weight||0)-(e.weight||0)}get childItems(){return[...this.startTools,...this._items||s,...this.endTools]}get endTools(){return i.default.values(this.tools,(e,t)=>{var n,r;return"end"!==(null!==(n=null===t||void 0===t||null===(r=t.align)||void 0===r?void 0:r.align)&&void 0!==n?n:null===t||void 0===t?void 0:t.align)}).sort(this.byWeightReverseSortFn)}get endToolRefs(){return l(this.endTools)}get endToolElementRefs(){return l(this.endTools,!0)}get startTools(){return i.default.values(this.tools,(e,t)=>{var n,r;return"start"!==(null!==(n=null===t||void 0===t||null===(r=t.align)||void 0===r?void 0:r.align)&&void 0!==n?n:null===t||void 0===t?void 0:t.align)}).sort(this.byWeightSortFn)}get startToolRefs(){return l(this.startTools)}get startToolElementRefs(){return l(this.startTools,!0)}changeTools(e,t){const n=this,s=n.$tools||(n.$tools=new a.default({configName:"tools",factory:r.default,inferType:!1,owner:n,created(e){var t,r;e.innerItem=!1,null===(t=e.syncRotationToDock)||void 0===t||t.call(e,null===(r=n.header)||void 0===r?void 0:r.dock),o.default.after(e,"onConfigChange",(e,{name:t})=>{c[t]&&n.onConfigChange({name:"tools",value:s.target})}),n.onChildAdd(e)},setup:(e,t)=>((e=i.default.merge({},n.toolDefaults["*"],n.toolDefaults[t],e)).parent=n,e.ref=t,e)}));if(s.update(e),!t)return s.target}}},"./lib/Core/widget/util/AvatarRendering.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/EventHelper.js"),a=n("./lib/Core/helper/StringHelper.js");class s extends r.default{static get $name(){return"AvatarRendering"}static get configurable(){return{element:null,colorPrefix:"b-sch-"}}updateElement(e){o.default.on({element:e,delegate:".b-resource-image",error:"onImageErrorEvent",thisObj:this,capture:!0})}get failedUrls(){return this._failedUrls||(this._failedUrls=new Set),this._failedUrls}getResourceAvatar({initials:e,color:t,iconCls:n,imageUrl:r,defaultImageUrl:i}){return this.getImageConfig(e,t,r,i)||this.getIconConfig(n)||this.getResourceInitialsConfig(e,t)}getImageConfig(e,t,n,r){if(n=this.failedUrls.has(n)?r:n||r)return{tag:"img",draggable:"false",class:"b-resource-avatar b-resource-image",elementData:{defaultImageUrl:r,imageUrl:n,initials:e,color:t},src:n}}getIconConfig(e){if(e)return e&&{tag:"i",className:"b-resource-avatar b-resource-icon "+e}}getResourceInitialsConfig(e,t){const n=i.default.isNamedColor(t)&&t,r=!n&&t;return{tag:"div",className:{"b-resource-avatar":1,"b-resource-initials":1,[`${this.colorPrefix}${n}`]:n},style:{backgroundColor:r||null},html:a.default.encodeHtml(e)}}onImageErrorEvent({target:e}){if(!e.matches(".b-resource-avatar"))return;const{defaultImageUrl:t,initials:n,color:r,imageUrl:o}=e.elementData;if(t&&!e.src.endsWith(t.replace(/^[./]*/gm,"")))e.src=t;else{const t=i.default.createElement(this.getResourceInitialsConfig(n,r));e.parentElement.replaceChild(t,e)}this.failedUrls.add(o)}}s._$name="AvatarRendering"},"./lib/Engine/calendar/CalendarCache.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarIteratorResult",(function(){return r})),n.d(t,"CalendarCache",(function(){return l}));var r,i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Engine/scheduling/Types.js"),a=n("./lib/Engine/util/Constants.js"),s=n("./lib/Engine/util/Types.js");!function(e){e[e.FullRangeIterated=0]="FullRangeIterated",e[e.StoppedByIterator=1]="StoppedByIterator",e[e.MaxCacheExtendCyclesReached=2]="MaxCacheExtendCyclesReached",e[e.MaxRangeReached=3]="MaxRangeReached"}(r||(r={}));class l{constructor(e){this.cacheFilledStartDate=a.MAX_DATE,this.cacheFilledEndDate=a.MIN_DATE,this.intervalsCachingChunkDuration=30,this.intervalsCachingChunkUnit=o.TimeUnit.Day,this.maxCacheExtendCycles=100,this.maxRange=15552e7,e&&Object.assign(this,e)}includeWrappingRangeFrom(e,t,n){e.ensureCacheFilledForInterval(t,n),this.intervalCache.includeWrappingRange(e.intervalCache,t,n)}ensureCacheFilledForInterval(e,t){const n=this.cacheFilledStartDate.getTime(),r=this.cacheFilledEndDate.getTime();if(n!==a.MAX_DATE.getTime()){const i=e.getTime(),o=t.getTime();if(n<=i&&o<=r)return;if(o<=n)t=new Date(n-1);else if(i>=r)e=new Date(r+1);else if(n<=i&&i<=r)e=new Date(r+1);else{if(!(n<=o&&o<=r))return this.ensureCacheFilledForInterval(e,new Date(n-1)),void this.ensureCacheFilledForInterval(new Date(r+1),t);t=new Date(n-1)}}(n===a.MAX_DATE.getTime()||e.getTime()<r)&&(this.cacheFilledStartDate=e),(r===a.MIN_DATE.getTime()||r<t.getTime())&&(this.cacheFilledEndDate=t),this.fillCache(e,t)}fillCache(e,t){throw new Error("Abstract method")}clear(){this.cacheFilledStartDate=a.MAX_DATE,this.cacheFilledEndDate=a.MIN_DATE,this.intervalCache.clear()}forEachAvailabilityInterval(e,t,n){var o;n=n||this;const l=e.startDate,c=e.endDate,d=l&&l.getTime(),u=c&&c.getTime(),h=null!==(o=e.maxRange)&&void 0!==o?o:this.maxRange,f=!1!==e.isForward;if(f?!l:!c)throw new Error("At least `startDate` or `endDate` is required, depending from the `isForward` option");const g=this.intervalCache;let m=f?l:c,p=f?l:c;const v=p.getTime();for(let b=1;b<this.maxCacheExtendCycles;b++){f?this.ensureCacheFilledForInterval(m,c||i.default.add(m,this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit)):this.ensureCacheFilledForInterval(l||i.default.add(m,-this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit),m);let e=g.getIntervalOf(p,f?s.EdgeInclusion.Left:s.EdgeInclusion.Right);for(;e;){const i=e.startDate,o=e.endDate;if(f&&u&&i.getTime()>=u||!f&&d&&o.getTime()<=d)return r.FullRangeIterated;if(f&&i.getTime()-v>=h||!f&&v-o.getTime()>=h)return r.MaxRangeReached;if(f&&i.getTime()>this.cacheFilledEndDate.getTime()||!f&&o.getTime()<this.cacheFilledStartDate.getTime())break;p=f?o:i;const a=d&&i.getTime()<d?l:i,s=u&&o.getTime()>u?c:o;if(!1===t.call(n,a,s,e.cacheInterval))return r.StoppedByIterator;e=f?g.getNextInterval(e):g.getPrevInterval(e)}if(f&&p.getTime()===a.MAX_DATE.getTime()||!f&&p.getTime()===a.MIN_DATE.getTime())return r.FullRangeIterated;m=f?this.cacheFilledEndDate:this.cacheFilledStartDate}return r.MaxCacheExtendCyclesReached}}},"./lib/Engine/calendar/CalendarCacheInterval.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarCacheInterval",(function(){return i}));var r=n("./lib/Engine/util/StripDuplicates.js");class i{constructor(e){if(this.intervals=[],e&&Object.assign(this,e),!this.calendar)throw new Error("Required attribute `calendar` is missing")}includeInterval(e){if(-1==this.intervals.indexOf(e)){const t=this.intervals.slice();return t.push(e),new i({intervals:t,calendar:this.calendar})}return this}combineWith(e){return new i({intervals:this.intervals.concat(e.intervals),calendar:this.calendar})}getIsWorking(){if(null!=this.isWorking)return this.isWorking;const e=this.intervals=this.normalizeIntervals(this.intervals);return this.isWorking=e[0].isWorking}normalizeIntervals(e){const t=Object(r.stripDuplicates)(e);return t.sort((e,t)=>t.getPriorityField()-e.getPriorityField()),t}}},"./lib/Engine/calendar/CalendarCacheIntervalMultiple.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarCacheIntervalMultiple",(function(){return i}));var r=n("./lib/Engine/util/StripDuplicates.js");class i{constructor(e){this.intervalGroups=[],e&&Object.assign(this,e)}combineWith(e){const t=this.intervalGroups.slice();return t.push([e.calendar,e]),new i({intervalGroups:t})}getIsWorkingForEvery(){if(null!=this.isWorkingForEvery)return this.isWorkingForEvery;for(let[e,t]of this.getGroups())if(!t[0].isWorking)return this.isWorkingForEvery=!1;return this.isWorkingForEvery=!0}getIsWorkingForSome(){if(null!=this.isWorkingForSome)return this.isWorkingForSome;for(let[e,t]of this.getGroups())if(t[0].isWorking)return this.isWorkingForSome=!0;return this.isWorkingForSome=!1}getCalendars(){return this.getGroups(),this.calendars}isCalendarWorking(e){return this.getCalendarsWorkStatus().get(e)}getCalendarsWorkStatus(){if(this.calendarsWorkStatus)return this.calendarsWorkStatus;const e=new Map;for(let[t,n]of this.getGroups())e.set(t,n[0].isWorking);return this.calendarsWorkStatus=e}getCalendarsWorking(){if(this.calendarsWorking)return this.calendarsWorking;const e=[];for(let[t,n]of this.getGroups())n[0].isWorking&&e.push(t);return this.calendarsWorking=e}getCalendarsNonWorking(){if(this.calendarsNonWorking)return this.calendarsNonWorking;const e=[];for(let[t,n]of this.getGroups())n[0].isWorking||e.push(t);return this.calendarsNonWorking=e}getGroups(){if(this.intervalsByCalendar)return this.intervalsByCalendar;const e=this.calendars=[],t=new Map;return this.intervalGroups.forEach(([n,r])=>{let i=t.get(n);i||(e.push(n),i=[],t.set(n,i)),i.push.apply(i,r.intervals)}),t.forEach((e,n)=>{const i=Object(r.stripDuplicates)(e);i.sort((e,t)=>t.getPriorityField()-e.getPriorityField()),t.set(n,i)}),this.intervalsByCalendar=t}}},"./lib/Engine/calendar/CalendarCacheMultiple.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarCacheMultiple",(function(){return s})),n.d(t,"combineCalendars",(function(){return c}));var r=n("./lib/Engine/util/StripDuplicates.js"),i=n("./lib/Engine/calendar/CalendarCache.js"),o=n("./lib/Engine/calendar/CalendarCacheIntervalMultiple.js"),a=n("./lib/Engine/calendar/IntervalCache.js");class s extends i.CalendarCache{constructor(e){super(e),this.calendarCaches=Object(r.stripDuplicates)(this.calendarCaches),this.intervalCache=new a.IntervalCache({emptyInterval:new o.CalendarCacheIntervalMultiple,combineIntervalsFn:(e,t)=>e.combineWith(t)})}fillCache(e,t){this.calendarCaches.forEach(n=>{n.fillCache(e,t),this.includeWrappingRangeFrom(n,e,t)})}}const l=new Map,c=e=>{const t=Object(r.stripDuplicates)(e);if(0===t.length)throw new Error("No calendars to combine");t.sort((e,t)=>e.internalId<t.internalId?-1:1);const n=t.map(e=>e.internalId+"/").join(""),i=t.map(e=>e.version+"/").join("");let o,a=l.get(n);return o=a&&a.versionsHash===i?a.cache:new s({calendarCaches:t.map(e=>e.calendarCache)}),o}},"./lib/Engine/calendar/CalendarCacheSingle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarCacheSingle",(function(){return s}));var r=n("./lib/Engine/vendor/later/later.js"),i=n("./lib/Engine/calendar/CalendarCache.js"),o=n("./lib/Engine/calendar/CalendarCacheInterval.js"),a=n("./lib/Engine/calendar/IntervalCache.js");class s extends i.CalendarCache{constructor(e){if(super(e),this.staticIntervalsCached=!1,!this.unspecifiedTimeInterval)throw new Error("Required attribute `unspecifiedTimeInterval` is missing");this.intervalCache=new a.IntervalCache({emptyInterval:new o.CalendarCacheInterval({intervals:[this.unspecifiedTimeInterval],calendar:this.calendar}),combineIntervalsFn:(e,t)=>e.combineWith(t)})}fillCache(e,t){this.staticIntervalsCached||(this.cacheStaticIntervals(),this.staticIntervalsCached=!0),this.parentCache&&this.includeWrappingRangeFrom(this.parentCache,e,t);const n=e.getTime(),i=t.getTime();if(n>i)throw new Error("Invalid cache fill interval");this.forEachRecurrentInterval(o=>{const a=o.getStartDateSchedule(),s=o.getEndDateSchedule();let l=a.prev(1,e),c=s.next(1,t);if(l!==r.default.NEVER&&l.getTime()===n){const t=a.prev(2,e);t!==r.default.NEVER&&2===t.length&&(l=t[1])}if(c!==r.default.NEVER&&c.getTime()===i){const e=s.next(2,t);e!==r.default.NEVER&&2===e.length&&(c=e[1])}const d=a.next(1/0,l!==r.default.NEVER?l:e,c!==r.default.NEVER?new Date(c.getTime()-1):t);if(d===r.default.NEVER)return;const u=s.next(1/0,new Date(d[0].getTime()+1),c!==r.default.NEVER?c:t);u.length>d.length?u.length=d.length:u.length<d.length&&(d.length=u.length),d.forEach((e,t)=>{const n=e,r=u[t];this.intervalCache.addInterval(n,r,e=>e.includeInterval(o))})})}clear(){this.staticIntervalsCached=!1,super.clear()}cacheStaticIntervals(){this.forEachStaticInterval(e=>{this.intervalCache.addInterval(e.startDate,e.endDate,t=>t.includeInterval(e))})}forEachStaticInterval(e){this.intervalStore.forEach(t=>{t.isStatic()&&e(t)})}forEachRecurrentInterval(e){this.intervalStore.forEach(t=>{t.isRecurrent()&&e(t)})}}},"./lib/Engine/calendar/CalendarIntervalMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarIntervalMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/vendor/later/later.js"),o=n("./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js");class a extends(Object(r.Mixin)([o.AbstractPartOfProjectModelMixin],e=>(e.prototype,class extends e{static get fields(){return["name",{name:"startDate",type:"date",format:"YYYY-MM-DDTHH:mm:ssZ"},{name:"endDate",type:"date",format:"YYYY-MM-DDTHH:mm:ssZ"},"recurrentStartDate","recurrentEndDate",{name:"isWorking",type:"boolean",defaultValue:!1},{name:"priority",type:"number"}]}getCalendar(){return this.stores[0].calendar}resetPriority(){this.priorityField=null,this.getCalendar().getDepth()}getPriorityField(){if(null!=this.priorityField)return this.priorityField;let e=1e4+100*this.getCalendar().getDepth(),t=this.priority;return null==t&&(t=this.isRecurrent()?20:30),this.priorityField=e+t}isRecurrent(){return Boolean(this.recurrentStartDate&&this.recurrentEndDate&&this.getStartDateSchedule()&&this.getEndDateSchedule())}isStatic(){return Boolean(this.startDate&&this.endDate)}parseDateSchedule(e){if(e&&e!==Object(e)&&((e=i.default.parse.text(e))!==Object(e)||e.error>0))try{e=JSON.parse(e)}catch(t){return null}return e}getStartDateSchedule(){if(this.startDateSchedule)return this.startDateSchedule;const e=this.parseDateSchedule(this.recurrentStartDate);return this.startDateSchedule=i.default.schedule(e)}getEndDateSchedule(){if(this.endDateSchedule)return this.endDateSchedule;const e=this.parseDateSchedule(this.recurrentEndDate);return this.endDateSchedule=i.default.schedule(e)}}))){}},"./lib/Engine/calendar/CalendarIntervalStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarIntervalStore",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/calendar/CalendarIntervalMixin.js"),o=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class a extends(Object(r.Mixin)([o.AbstractPartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:i.CalendarIntervalMixin}}}))){}},"./lib/Engine/calendar/IntervalCache.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IntervalCache",(function(){return a}));var r=n("./lib/Engine/util/Constants.js"),i=n("./lib/Engine/util/Types.js"),o=n("./lib/Engine/calendar/SortedMap.js");class a{constructor(e){if(this.points=new o.SortedMap((e,t)=>e.getTime()-t.getTime()),this.leftInfinityKey=r.MIN_DATE,this.rightInfinityKey=r.MAX_DATE,Object.assign(this,e),void 0===this.emptyInterval||!this.combineIntervalsFn)throw new Error("All of `emptyPoint`, `combineIntervalsFn` are required");this.points.set(this.leftInfinityKey,this.emptyInterval)}size(){return this.points.size()}indexOf(e){return this.points.indexOfKey(e)}getDateAt(e){return this.points.getKeyAt(e)}getPointAt(e){return this.points.getValueAt(e)}getIntervalOf(e,t=i.EdgeInclusion.Left){let n,{found:r,index:a}=this.indexOf(e);return n=t===i.EdgeInclusion.Left&&r===o.IndexPosition.Exact?a:a-1,this.getIntervalWithStartDateIndex(n)}getPrevInterval(e){return 0===e.startDateIndex?null:this.getIntervalWithStartDateIndex(e.startDateIndex-1)}getNextInterval(e){return e.startDateIndex>=this.size()-1?null:this.getIntervalWithStartDateIndex(e.startDateIndex+1)}getIntervalWithStartDateIndex(e){return{startDateIndex:e,startDate:this.getDateAt(e),endDate:e+1<this.size()?this.getDateAt(e+1):this.rightInfinityKey,cacheInterval:this.getPointAt(e)}}addInterval(e,t,n){const r=this.points,{found:i,index:a}=r.indexOfKey(e);let s,l;if(i==o.IndexPosition.Exact){const e=n(l=r.getValueAt(a));r.setValueAt(a,e),s=a+1}else{const t=n(l=r.getValueAt(a-1));r.insertAt(a,e,t),s=a+1}for(;s<r.size()&&!(r.getKeyAt(s).getTime()>=t.getTime());){const e=n(l=r.getValueAt(s));r.setValueAt(s,e),s++}s===r.size()?r.insertAt(r.size(),t,this.emptyInterval):r.getKeyAt(s).getTime()===t.getTime()||r.insertAt(s,t,l)}includeWrappingRange(e,t,n){let r=e.getIntervalOf(t);for(;r&&(this.addInterval(r.startDate,r.endDate,e=>this.combineIntervalsFn(e,r.cacheInterval)),!(r.endDate.getTime()>n.getTime()));)r=e.getNextInterval(r)}getSummary(){return this.points.map((e,t)=>({label:e,date:t}))}clear(){this.points.clear(),this.points.set(this.leftInfinityKey,this.emptyInterval)}}},"./lib/Engine/calendar/SortedMap.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IndexPosition",(function(){return r})),n.d(t,"SortedMap",(function(){return o}));var r,i=n("./lib/Engine/util/BinarySearch.js");!function(e){e[e.Exact=0]="Exact",e[e.Next=1]="Next"}(r||(r={}));class o{constructor(e){this.keys=[],this.values=[],this.comparator=e||((e,t)=>e-t)}set(e,t){const n=Object(i.binarySearch)(e,this.keys,this.comparator);return n.found?this.values[n.index]=t:(this.keys.splice(n.index,0,e),this.values.splice(n.index,0,t)),n.index}insertAt(e,t,n){this.keys.splice(e,0,t),this.values.splice(e,0,n)}setValueAt(e,t){this.values[e]=t}get(e){const t=Object(i.binarySearch)(e,this.keys,this.comparator);return t.found?this.values[t.index]:void 0}getEntryAt(e){return e<this.keys.length?{key:this.keys[e],value:this.values[e]}:void 0}getKeyAt(e){return this.keys[e]}getValueAt(e){return this.values[e]}delete(e){const t=Object(i.binarySearch)(e,this.keys,this.comparator);t.found&&this.deleteAt(t.index)}size(){return this.keys.length}deleteAt(e){this.keys.splice(e,1),this.values.splice(e,1)}indexOfKey(e){const t=Object(i.binarySearch)(e,this.keys,this.comparator);return{found:t.found?r.Exact:r.Next,index:t.index}}map(e){const t=this.keys,n=this.values,r=[];for(let i=0;i<t.length;i++)r.push(e(n[i],t[i],i));return r}getAllEntries(){return this.map((e,t)=>({value:e,key:t}))}clear(){this.keys.length=0,this.values.length=0}}},"./lib/Engine/calendar/UnspecifiedTimeIntervalModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UnspecifiedTimeIntervalModel",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/calendar/CalendarIntervalMixin.js");class o extends(Object(r.Mixin)([i.CalendarIntervalMixin],e=>(e.prototype,class extends e{getCalendar(){return this.calendar}getPriorityField(){return null!=this.priorityField?this.priorityField:this.priorityField=this.getCalendar().getDepth()}}))){}},"./lib/Engine/chrono/ChronoModelMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoModelMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Core/data/Model.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends(Object(r.Mixin)([i.Entity,o.default],e=>{const t=e.prototype;return class extends e{construct(e,...n){this.constructor.exposeProperties(),this.originalData=e=e||{},t.construct.call(this,e,...n)}copy(e=null,n=null){const r=t.copy.call(this,e,n);return(a.default.isObject(n)&&!n.skipFieldIdentifiers||!a.default.isObject(n))&&this.forEachFieldIdentifier((e,t)=>{r[t]=this[t]}),r}applyValue(e,n,r,i,o){this.$entity.getField(n)&&(e=!0),i&&(e=!1),t.applyValue.call(this,e,n,r,i,o)}afterChange(e,n,r,i,o){const a=this.firstStore;o||a.syncDataOnLoad&&a.isLoadingData||!Object.keys(n).some(e=>this.$entity.getField(e))?t.afterChange.apply(this,arguments):t.afterChange.call(this,e,n,!0,i,o)}get data(){return this._data}set data(e){this._data=e;const{fields:t}=this;for(let n=0;n<t.length;n++){const r=t[n];if(this.$entity.getField(r.name)){const t=r.complexMapping?a.default.getPath(e,r.dataSource):e[r.dataSource];this[r.name]=t}}}get $entityName(){const e=this.constructor.name||this.$entity.name,t=this.id;return`${e}${null!=t?"-"+String(t):""}`}}})){}},"./lib/Engine/chrono/Conflict.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConflictSymbol",(function(){return s})),n.d(t,"ConflictResolutionResult",(function(){return l})),n.d(t,"ConflictEffect",(function(){return c})),n.d(t,"ConflictResolution",(function(){return d}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/util/Helpers.js"),a=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};const s=Symbol("ConflictSymbol");var l;!function(e){e.Cancel="Cancel",e.Resume="Resume"}(l||(l={}));class c extends r.Effect{constructor(){super(...arguments),this.handler=s}}a([Object(o.prototypeValue)(!1)],c.prototype,"sync",void 0);class d extends i.Base{getDescription(){throw new Error("Abstract method")}resolve(){throw new Error("Abstract method")}}},"./lib/Engine/chrono/ModelFieldAtom.js":function(e,t,n){"use strict";n.r(t),n.d(t,"KEEP_TRYING_TO_RESOLVE",(function(){return g})),n.d(t,"isSerializableEqual",(function(){return m})),n.d(t,"ModelField",(function(){return p})),n.d(t,"ModelReferenceField",(function(){return v})),n.d(t,"ModelBucketField",(function(){return b})),n.d(t,"IsChronoModelSymbol",(function(){return y})),n.d(t,"ChronoModelFieldIdentifier",(function(){return C})),n.d(t,"ChronoModelReferenceFieldQuark",(function(){return S})),n.d(t,"MinimalChronoModelReferenceFieldQuark",(function(){return w})),n.d(t,"ChronoModelReferenceFieldIdentifier",(function(){return E})),n.d(t,"ChronoModelReferenceBucketFieldIdentifier",(function(){return D})),n.d(t,"MinimalChronoModelFieldIdentifierSync",(function(){return x})),n.d(t,"MinimalChronoModelFieldIdentifierGen",(function(){return j})),n.d(t,"MinimalChronoModelFieldVariable",(function(){return T})),n.d(t,"model_field",(function(){return R})),n.d(t,"injectStaticFieldsProperty",(function(){return M})),n.d(t,"getDecoratedModelFields",(function(){return k})),n.d(t,"dateConverter",(function(){return P}));var r=n("./lib/ChronoGraph/chrono/Quark.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/ChronoGraph/replica/Identifier.js"),s=n("./lib/ChronoGraph/replica/Reference.js"),l=n("./lib/ChronoGraph/replica/ReferenceBucket.js"),c=n("./lib/ChronoGraph/replica/Replica.js"),d=n("./lib/ChronoGraph/schema/Field.js"),u=n("./lib/ChronoGraph/util/Helpers.js"),h=n("./lib/Core/helper/DateHelper.js"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};const g=Symbol("KEEP_TRYING_TO_RESOLVE"),m=function(e,t){return e===t||((null===t||void 0===t?void 0:t.isBase)?this.serialize(t):t)==((null===e||void 0===e?void 0:e.isBase)?this.serialize(e):e)};class p extends d.Field{constructor(){super(...arguments),this.modelFieldConfig={}}getIdentifierClass(e){return this.identifierCls?this.identifierCls:e?Object(u.isGeneratorFunction)(e)?j:x:T}}class v extends(s.ReferenceField.mix(p)){constructor(){super(...arguments),this.identifierCls=E}}class b extends(l.ReferenceBucketField.mix(d.Field)){constructor(){super(...arguments),this.identifierCls=D}}const y=Symbol("IsChronoModelSymbol");class C extends(Object(i.Mixin)([a.FieldIdentifier],e=>{const t=e.prototype;class n extends e{[y](){}getFromGraph(e){return e?e.readMode===c.ReadMode.CurrentOrProposedOrPrevious?this.sync?e.get(this):e.activeTransaction.readCurrentOrProposedOrPrevious(this):t.getFromGraph.call(this,e):this.DATA}writeToGraph(e,n,...r){e?t.writeToGraph.call(this,e,n,...r):(this.DATA=n,this.self.set(this.field.name,n,!1,!1,!0))}write(e,n,r,i,...o){i=e.convert(i),t.write.call(this,e,n,r,i,...o)}convert(e){const t=this.field,n=this.self.getFieldDefinition(t.name);return(null===n||void 0===n?void 0:n.convert)?e=n.convert(e):t.converter&&(e=t.converter(e,t)),e}equality(e,t){return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t}}return f([Object(u.prototypeValue)(!1)],n.prototype,"sync",void 0),n})){}class S extends(Object(i.Mixin)([l.ReferenceBucketQuark],e=>{const t=e.prototype;return class extends e{setValue(e){t.setValue.call(this,e),e!==r.TombStone&&(this.identifier.DATA=e)}}})){}const w=S.mix(l.MinimalReferenceBucketQuark);class E extends(s.ReferenceIdentifier.mix(C.mix(a.MinimalFieldIdentifierSync))){buildProposedValue(e,t,n){const r=t,a=r.proposedValue;if(null===a)return n.candidate.failedResolutionReferences.delete(r.identifier),null;if(Object(i.isInstanceOf)(a,o.Entity))return e.hasBucket()&&e.getBucket(a).addToBucket(n,e.self),n.candidate.failedResolutionReferences.delete(r.identifier),a;const s=e.resolve(a);return Object(i.isInstanceOf)(s,o.Entity)?(e.hasBucket()&&e.getBucket(s).addToBucket(n,e.self),n.candidate.failedResolutionReferences.delete(r.identifier),s):(n.candidate.failedResolutionReferences.set(r.identifier,a),null)}}f([Object(u.prototypeValue)(!0)],E.prototype,"sync",void 0),f([Object(u.prototypeValue)(w)],E.prototype,"quarkClass",void 0);class D extends(l.ReferenceBucketIdentifier.mix(C.mix(a.MinimalFieldIdentifierSync))){}f([Object(u.prototypeValue)(!0)],D.prototype,"sync",void 0);class x extends(C.mix(a.MinimalFieldIdentifierSync)){}class j extends(C.mix(a.MinimalFieldIdentifierGen)){}class T extends(C.mix(a.MinimalFieldVariable)){}const R=function(e={},t={},n=p){return function(r,i){Object(o.generic_field)(Object.assign({modelFieldConfig:e},t),n)(r,i),M(r.constructor)}},M=e=>{e.hasOwnProperty("fields")||Object.defineProperty(e,"fields",{get:function(){return k(this)}})},k=e=>{const t=e.prototype,n=[];return t.hasOwnProperty("$entity")&&t.$entity.ownFields.forEach(e=>{if(e instanceof p){const t=e.modelFieldConfig||{};!t.convert&&e.converter&&e.converter!==P&&(t.convert=e.converter),n.push(Object.assign(t,{$chrono:e,name:e.name}))}}),n},P=(e,t)=>{var n,r;return null===e?null:(e instanceof Date||(e=h.default.parse(e,(null===(n=t.modelFieldConfig)||void 0===n?void 0:n.format)||(null===(r=t.modelFieldConfig)||void 0===r?void 0:r.dateFormat)||h.default.defaultParseFormat)),e||void 0)}},"./lib/Engine/chrono/Replica.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EngineRevision",(function(){return h})),n.d(t,"EngineTransaction",(function(){return f})),n.d(t,"EngineReplica",(function(){return g}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/chrono/Quark.js"),o=n("./lib/ChronoGraph/chrono/Revision.js"),a=n("./lib/ChronoGraph/chrono/Transaction.js"),s=n("./lib/ChronoGraph/class/BetterMixin.js"),l=n("./lib/ChronoGraph/replica/Replica.js"),c=n("./lib/Engine/chrono/Conflict.js"),d=n("./lib/Engine/chrono/ModelFieldAtom.js"),u=n("./lib/Core/helper/BrowserHelper.js");class h extends o.Revision{constructor(){super(...arguments),this.failedResolutionReferences=new Map}}class f extends a.Transaction{constructor(){super(...arguments),this.candidateClass=h}initialize(...e){super.initialize(...e),this.candidate.failedResolutionReferences=new Map(this.baseRevision.failedResolutionReferences)}addIdentifier(e,t,...n){return this.markFailedResolutionReferences(),super.addIdentifier(e,t,...n)}markFailedResolutionReferences(){this.candidate.failedResolutionReferences.forEach((e,t)=>{this.write(t,e)}),this.candidate.failedResolutionReferences.clear()}}class g extends(Object(s.Mixin)([l.Replica],e=>{const t=e.prototype;class n extends e{constructor(){super(...arguments),this.baseRevision=h.new(),this.transactionClass=f,this.autoCommitMode="async",this.onComputationCycle="reject",this.silenceInitialCommit=!0,this.ignoreInitialCommitComputationCycles=!0}onPropagationProgressNotification(e){this.enableProgressNotifications&&this.project&&this.project.trigger("progress",e)}propagate(e){return this.commitAsync(e)}async commitAsync(e){this.project.trigger("beforeCommit"),this.isInitialCommit&&this.ignoreInitialCommitComputationCycles&&(this._onComputationCycle=this._onComputationCycle||this.onComputationCycle,this.onComputationCycle="ignore");const n=this.project.beforeCommitAsync();return n||t.commitAsync.call(this,e)}get isInitialCommit(){return this.project.isInitialCommit||super.isInitialCommit}set isInitialCommit(e){super.isInitialCommit=e}async finalizeCommitAsync(e){const{project:t}=this;if(!t||t.isDestroyed)return;const{entries:n}=e,r=new Set;u.default.global.DEBUG&&console.timeEnd("Time to visible");const{isInitialCommit:o,silenceInitialCommit:a}=this,s=o&&a;o&&(t.isInitialCommitPerformed=!0,this.ignoreInitialCommitComputationCycles&&(this.onComputationCycle=this._onComputationCycle)),t.isWritingData=!0,t.hasLoadedDataToCommit=!1,t.trigger("refresh",{isInitialCommit:o}),await new Promise(a=>{setTimeout(()=>{var l,c;if(!t.isDestroyed&&!e.transaction.rejectedWith){null===(l=t.suspendChangesTracking)||void 0===l||l.call(t),u.default.global.DEBUG&&console.time("Finalize propagation");const e=new Set;for(const t of n.values()){const n=t.identifier,o=t.getValue(),{field:a}=n;if(t.isShadow()||!n[d.IsChronoModelSymbol]||o===i.TombStone||a instanceof d.ModelBucketField)continue;const s=n.self,l=s.firstStore;e.has(s)||(s.beginBatch(),e.add(s)),(null===l||void 0===l?void 0:l.autoCommit)&&!r.has(l)&&(l.suspendAutoCommit(),r.add(l)),s.set(a.name,o)}for(const t of e)t.ignoreBag=s,t.endBatch(s,!0),t.ignoreBag=!1;u.default.global.DEBUG&&console.timeEnd("Finalize propagation"),t.trigger("dataReady",{records:e,isInitialCommit:o}),null===(c=t.resumeChangesTracking)||void 0===c||c.call(t,s),r.forEach(e=>e.resumeAutoCommit()),s&&[t.eventStore,t.dependencyStore,t.resourceStore,t.assignmentStore,t.calendarManagerStore].forEach(e=>e.acceptChanges())}t.isWritingData=!1,a()},0)})}async[c.ConflictSymbol](e,t){return this.project.onSchedulingConflictCall(e,t)}[r.RejectSymbol](e,t){return super[r.RejectSymbol](e,t)}}return n})){}},"./lib/Engine/quark/AbstractPartOfProjectGenericMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractPartOfProjectGenericMixin",(function(){return i}));var r=n("./lib/ChronoGraph/class/BetterMixin.js");class i extends(Object(r.Mixin)([],e=>(e.prototype,class extends e{async commitAsync(){return this.project.commitAsync()}set project(e){this.$project=e}get project(){return this.$project}calculateProject(){throw new Error("Implement me")}setProject(e){return this.project=e}getProject(){return this.project?this.project:this.setProject(this.calculateProject())}getAssignmentStore(){const e=this.getProject();return null===e||void 0===e?void 0:e.assignmentStore}getDependencyStore(){const e=this.getProject();return null===e||void 0===e?void 0:e.dependencyStore}getEventStore(){const e=this.getProject();return null===e||void 0===e?void 0:e.eventStore}getResourceStore(){const e=this.getProject();return null===e||void 0===e?void 0:e.resourceStore}getCalendarManagerStore(){const e=this.getProject();return null===e||void 0===e?void 0:e.calendarManagerStore}}))){}},"./lib/Engine/quark/ChronoPartOfProjectGenericMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoPartOfProjectGenericMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/AbstractPartOfProjectGenericMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectGenericMixin],e=>(e.prototype,class extends e{getGraph(){const e=this.getProject();return null===e||void 0===e?void 0:e.getGraph()}getEventById(e){var t;return null===(t=this.getEventStore())||void 0===t?void 0:t.getById(e)}getDependencyById(e){var t;return null===(t=this.getDependencyStore())||void 0===t?void 0:t.getById(e)}getResourceById(e){var t;return null===(t=this.getResourceStore())||void 0===t?void 0:t.getById(e)}getAssignmentById(e){var t;return null===(t=this.getAssignmentStore())||void 0===t?void 0:t.getById(e)}getCalendarById(e){var t;return null===(t=this.getCalendarManagerStore())||void 0===t?void 0:t.getById(e)}}))){}},"./lib/Engine/quark/CorePartOfProjectGenericMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CorePartOfProjectGenericMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/AbstractPartOfProjectGenericMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectGenericMixin],e=>(e.prototype,class extends e{get eventStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.eventStore}get resourceStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.resourceStore}get assignmentStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.assignmentStore}get dependencyStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.dependencyStore}get calendarManagerStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.calendarManagerStore}getEventById(e){var t;return null===(t=this.eventStore)||void 0===t?void 0:t.getById(e)}getDependencyById(e){var t;return null===(t=this.dependencyStore)||void 0===t?void 0:t.getById(e)}getResourceById(e){var t;return null===(t=this.resourceStore)||void 0===t?void 0:t.getById(e)}getAssignmentById(e){var t;return null===(t=this.assignmentStore)||void 0===t?void 0:t.getById(e)}getCalendarById(e){var t;return null===(t=this.calendarManagerStore)||void 0===t?void 0:t.getById(e)}}))){}},"./lib/Engine/quark/model/AbstractCalendarMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractCalendarMixin",(function(){return u}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/calendar/CalendarIntervalStore.js"),o=n("./lib/Engine/calendar/CalendarCache.js"),a=n("./lib/Engine/scheduling/Types.js"),s=n("./lib/Engine/calendar/CalendarCacheSingle.js"),l=n("./lib/Engine/calendar/UnspecifiedTimeIntervalModel.js"),c=n("./lib/Core/helper/DateHelper.js"),d=n("./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js");class u extends(Object(r.Mixin)([d.AbstractPartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.version=1}static get fields(){return[{name:"version",type:"number"},"name",{name:"unspecifiedTimeIsWorking",type:"boolean",defaultValue:!0},"intervals"]}get intervalStoreClass(){return i.CalendarIntervalStore}afterConstruct(){t.afterConstruct.call(this);const e=this.getDefaultConfiguration().calendarIntervalModelClass||this.intervalStoreClass.defaultConfig.modelClass;this.intervalStore=new this.intervalStoreClass({calendar:this,modelClass:e}),this.intervals&&this.intervals.length&&this.addIntervals(this.intervals)}isDefault(){const e=this.getProject();return!!e&&this===e.defaultCalendar}getDepth(){return this.childLevel+1}forEachAvailabilityInterval(e,t,n){return this.calendarCache.forEachAvailabilityInterval(e,t,n)}accumulateWorkingTime(e,t,n){if(0===t)return{finalDate:new Date(e),remainingDurationInMs:0};if(isNaN(t))throw new Error("Invalid duration");let r=e;return this.forEachAvailabilityInterval(n?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},(e,i,o)=>{let a=!0;if(o.getIsWorking()){const o=e.getTimezoneOffset()-i.getTimezoneOffset(),s=i.getTime()-e.getTime()+60*o*1e3;t<=s?(r=n?new Date(e.getTime()+t):new Date(i.getTime()-t),t=0,a=!1):(r=n?i:e,t-=s)}return a}),{finalDate:new Date(r),remainingDurationInMs:t}}calculateDurationMs(e,t){let n=0;return this.forEachAvailabilityInterval({startDate:e,endDate:t},(e,t,r)=>{if(r.getIsWorking()){const r=e.getTimezoneOffset()-t.getTimezoneOffset();n+=t.getTime()-e.getTime()+60*r*1e3}}),n}calculateEndDate(e,t){const n=t>=0,r=this.accumulateWorkingTime(e,Math.abs(t),n);return 0===r.remainingDurationInMs?r.finalDate:null}calculateStartDate(e,t){const n=t<=0,r=this.accumulateWorkingTime(e,Math.abs(t),n);return 0===r.remainingDurationInMs?r.finalDate:null}skipNonWorkingTime(e,t=!0){let n;const r=this.forEachAvailabilityInterval(t?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},(e,r,i)=>{if(i.getIsWorking())return n=t?e:r,!1});return r===o.CalendarIteratorResult.MaxRangeReached||r===o.CalendarIteratorResult.FullRangeIterated?"empty_calendar":n?new Date(n):new Date(e)}addInterval(e){return this.addIntervals([e])}addIntervals(e){return this.bumpVersion(),this.intervalStore.add(e)}clearIntervals(e){return e||this.bumpVersion(),this.intervalStore.removeAll(e)}bumpVersion(){this.clearCache(),this.version++}get calendarCache(){if(void 0!==this.$calendarCache)return this.$calendarCache;const e=new l.UnspecifiedTimeIntervalModel({isWorking:this.unspecifiedTimeIsWorking});return e.calendar=this,this.$calendarCache=new s.CalendarCacheSingle({calendar:this,unspecifiedTimeInterval:e,intervalStore:this.intervalStore,parentCache:this.parent&&!this.parent.isRoot?this.parent.calendarCache:null})}clearCache(){this.$calendarCache&&this.$calendarCache.clear(),this.$calendarCache=void 0}resetPriorityOfAllIntervals(){this.traverse(e=>{e.intervalStore.forEach(e=>e.resetPriority())})}insertChild(e,n,r){let i=t.insertChild.call(this,...arguments);return Array.isArray(i)||(i=[i]),i.forEach(e=>{e.bumpVersion(),e.resetPriorityOfAllIntervals()}),i}joinProject(){t.joinProject.call(this),this.intervalStore.setProject(this.getProject())}leaveProject(){t.leaveProject.call(this),this.intervalStore.setProject(null),this.intervalStore.destroy(),this.clearCache()}doDestroy(){this.leaveProject(),super.doDestroy()}isDayHoliday(e){const t=c.default.clearTime(e),n=c.default.getNext(e,a.TimeUnit.Day);let r=!1;return this.forEachAvailabilityInterval({startDate:t,endDate:n,isForward:!0},(e,t,n)=>(r=n.getIsWorking(),!r)),!r}getDailyHolidaysRanges(e,t){const n=[];for(e=c.default.clearTime(e);e<t;)this.isDayHoliday(e)&&n.push({startDate:e,endDate:c.default.getStartOfNextDay(e,!0,!0)}),e=c.default.getNext(e,a.TimeUnit.Day);return n}getNonWorkingTimeRanges(e,t){const n=[];return this.forEachAvailabilityInterval({startDate:e,endDate:t,isForward:!0},(e,t,r)=>{if(!r.getIsWorking()){const i=r.intervals[0];n.push({name:i.name,startDate:e,endDate:t})}}),n}isWorkingTime(e,t){const n=this.skipNonWorkingTime(e);return!(!n||"empty_calendar"===n)&&n<t}}})){}},"./lib/Engine/quark/model/AbstractHasAssignmentsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractHasAssignmentsMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{getAssignmentFor(e){for(const t of this.assigned)if(t.resource===e)return t;return null}isAssignedTo(e){return Boolean(this.getAssignmentFor(e))}async assign(e){if(this.getAssignmentFor(e))throw new Error("Resource can't be assigned twice to the same task");const t=this.project.assignmentStore.modelClass;return this.addAssignment(new t({event:this,resource:e})),this.commitAsync()}async unassign(e){const t=this.getAssignmentFor(e);if(!t)throw new Error(`Can't unassign resource \`${e}\` from task \`${this}\` - resource is not assigned to the task!`);return this.removeAssignment(t),this.commitAsync()}leaveProject(){if(this.assigned){const e=this.getEventStore();this.assigned.forEach(t=>e.assignmentsForRemoval.add(t))}t.leaveProject.call(this,...arguments)}remove(){if(!this.parent)return t.remove.call(this);{const e=this.getEventStore();t.remove.call(this),e&&e.afterEventRemoval()}}addAssignment(e){return this.getProject().assignmentStore.add(e),e}removeAssignment(e){return this.getProject().assignmentStore.remove(e),e}}})){}},"./lib/Engine/quark/model/AbstractProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventsWrapper",(function(){return s})),n.d(t,"DelayableWrapper",(function(){return l})),n.d(t,"AbstractProjectMixin",(function(){return c}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/mixin/Events.js"),a=n("./lib/Core/data/Model.js");class s extends(Object(r.Mixin)([],o.default)){}class l extends(Object(r.Mixin)([],i.default)){}class c extends(Object(r.Mixin)([s,l,a.default],e=>{const t=e.prototype;return class extends e{get isRepopulatingStores(){return!1}get isInitialCommit(){return!this.isInitialCommitPerformed||this.hasLoadedDataToCommit}construct(e={}){this.isInitialCommitPerformed=!1,this.isLoadingInlineData=!1,this.isWritingData=!1,this.hasLoadedDataToCommit=!1,t.construct.call(this,e),this.silenceInitialCommit=!("silenceInitialCommit"in e)||e.silenceInitialCommit}repopulateStore(e){}repopulateReplica(){}async commitAsync(){throw new Error("Abstract method called")}isEngineReady(){throw new Error("Abstract method called")}}})){}},"./lib/Engine/quark/model/gantt/ConstrainedByParentMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConstrainedByParentMixin",(function(){return u}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/scheduling/DateInterval.js"),a=n("./lib/Engine/scheduling/Types.js"),s=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js"),l=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),c=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(r.Mixin)([s.BaseEventMixin,l.HasChildrenMixin,c.ConstrainedEarlyEventMixin],e=>{const t=e.prototype;class n extends e{*maybeSkipNonWorkingTime(e,n=!0){return(yield this.$.childEvents).size>0?e:yield*t.maybeSkipNonWorkingTime.call(this,e,n)}*calculateStartDateConstraintIntervals(){const e=yield*t.calculateStartDateConstraintIntervals.call(this),n=yield this.$.parentEvent;if(n){const t=yield n.$.startDateConstraintIntervals;e.push.apply(e,t)}return e}*calculateEndDateConstraintIntervals(){const e=yield*t.calculateEndDateConstraintIntervals.call(this),n=yield this.$.parentEvent;if(n){const t=yield n.$.endDateConstraintIntervals;e.push.apply(e,t)}return e}*calculateEarlyStartDateConstraintIntervals(){const e=yield*t.calculateEarlyStartDateConstraintIntervals.call(this),n=yield this.$.parentEvent;if(n){const t=yield n.$.earlyStartDateConstraintIntervals;e.push.apply(e,t),(yield n.$.manuallyScheduled)&&(yield this.$.direction)===a.Direction.Forward&&e.push(o.DateInterval.new({startDate:yield n.$.startDate}))}return e}*calculateEarlyEndDateConstraintIntervals(){const e=yield*t.calculateEarlyEndDateConstraintIntervals.call(this),n=yield this.$.parentEvent;if(n){const t=yield n.$.earlyEndDateConstraintIntervals;e.push.apply(e,t)}return e}}return d([Object(i.calculate)("startDateConstraintIntervals")],n.prototype,"calculateStartDateConstraintIntervals",null),d([Object(i.calculate)("endDateConstraintIntervals")],n.prototype,"calculateEndDateConstraintIntervals",null),d([Object(i.calculate)("earlyStartDateConstraintIntervals")],n.prototype,"calculateEarlyStartDateConstraintIntervals",null),d([Object(i.calculate)("earlyEndDateConstraintIntervals")],n.prototype,"calculateEarlyEndDateConstraintIntervals",null),n})){}},"./lib/Engine/quark/model/gantt/ConstrainedLateEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConstrainedLateEventMixin",(function(){return m}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/scheduling/DateInterval.js"),c=n("./lib/Engine/scheduling/Types.js"),d=n("./lib/Engine/util/Constants.js"),u=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),h=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),f=n("./lib/Engine/chrono/Conflict.js"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class m extends(Object(i.Mixin)([h.ConstrainedEarlyEventMixin,u.HasChildrenMixin],e=>{const t=e.prototype;class n extends e{*calculateLateStartDateConstraintIntervals(){const e=[],t=yield this.$.parentEvent;if(t){const n=yield t.$.lateStartDateConstraintIntervals;e.push.apply(e,n)}return e}*calculateLateEndDateConstraintIntervals(){const e=[],t=yield this.$.parentEvent;if(t){const n=yield t.$.lateEndDateConstraintIntervals;e.push.apply(e,n),(yield t.$.manuallyScheduled)&&(yield this.$.direction)===c.Direction.Backward&&e.push(l.DateInterval.new({endDate:yield t.$.endDate}))}return e}*calculateMinChildrenLateStartDate(){let e=d.MAX_DATE;const t=yield*this.subEventsIterable();for(let n of t){let t;(yield n.$.manuallyScheduled)&&(yield*n.hasSubEvents())&&(t=yield n.$.minChildrenLateStartDate),t=t||(yield n.$.lateStartDate),t&&t<e&&(e=t)}return e.getTime()-d.MAX_DATE.getTime()?e:null}*calculateLateStartDateRaw(){if((yield this.$.manuallyScheduled)&&(yield this.$.direction)===c.Direction.Backward)return yield this.$.startDate;if(yield*this.hasSubEvents())return yield this.$.minChildrenLateStartDate;if(!(yield*this.isConstrainedLate()))return yield this.$.startDate;const e=yield this.$.lateStartDateConstraintIntervals,t=yield this.$.lateEndDateConstraintIntervals,n=yield*this.calculateEffectiveConstraintInterval(!0,e.concat(yield this.$.startDateConstraintIntervals),t.concat(yield this.$.endDateConstraintIntervals));if(null===n)return null;if(n.isIntervalEmpty()){const e=f.ConflictEffect.new();if((yield e)!==f.ConflictResolutionResult.Cancel)return null;yield Object(r.Reject)(e)}return Object(d.isDateFinite)(n.endDate)?n.endDate:null}*calculateMaxChildrenLateEndDate(){let e=d.MIN_DATE;const t=yield*this.subEventsIterable();for(let n of t){let t;(yield n.$.manuallyScheduled)&&(yield*n.hasSubEvents())&&(t=yield n.$.maxChildrenLateEndDate),t=t||(yield n.$.lateEndDate),t&&t>e&&(e=t)}return e.getTime()-d.MIN_DATE.getTime()?e:null}*calculateLateStartDate(){const e=yield this.$.lateStartDateRaw;return yield*this.maybeSkipNonWorkingTime(e,!0)}*calculateLateEndDateRaw(){if((yield this.$.manuallyScheduled)&&(yield this.$.direction)===c.Direction.Backward)return yield this.$.endDate;if(yield*this.hasSubEvents())return yield this.$.maxChildrenLateEndDate;if(!(yield*this.isConstrainedLate()))return yield this.$.endDate;const e=yield this.$.lateStartDateConstraintIntervals,t=yield this.$.lateEndDateConstraintIntervals,n=yield*this.calculateEffectiveConstraintInterval(!1,e.concat(yield this.$.startDateConstraintIntervals),t.concat(yield this.$.endDateConstraintIntervals));if(null===n)return null;if(n.isIntervalEmpty()){const e=f.ConflictEffect.new();if((yield e)!==f.ConflictResolutionResult.Cancel)return null;yield Object(r.Reject)(e)}return Object(d.isDateFinite)(n.endDate)?n.endDate:null}*calculateLateEndDate(){const e=yield this.$.lateEndDateRaw;return yield*this.maybeSkipNonWorkingTime(e,!1)}*calculateTotalSlack(){const e=yield this.$.earlyStartDateRaw,t=yield this.$.lateStartDateRaw,n=yield this.$.earlyEndDateRaw,r=yield this.$.lateEndDateRaw,i=yield this.$.slackUnit;let o,a;return(e&&t||n&&r)&&(e&&t?(a=yield*this.calculateProjectedDuration(e,t,i),n&&r&&(o=yield*this.calculateProjectedDuration(n,r,i),o<a&&(a=o))):n&&r&&(a=yield*this.calculateProjectedDuration(n,r,i))),a}*calculateCritical(){return(yield this.$.totalSlack)<=0}*isConstrainedLate(){const e=yield this.$.startDateConstraintIntervals,t=yield this.$.endDateConstraintIntervals,n=yield this.$.lateStartDateConstraintIntervals,r=yield this.$.lateEndDateConstraintIntervals;return Boolean((null===e||void 0===e?void 0:e.length)||(null===t||void 0===t?void 0:t.length)||(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r.length))}*calculateStartDatePure(){return(yield this.$.direction)===c.Direction.Backward?!(yield*this.isConstrainedLate())||(yield this.$.manuallyScheduled)?yield*t.calculateStartDatePure.call(this):yield this.$.lateStartDate:yield*t.calculateStartDatePure.call(this)}*calculateStartDateProposed(){switch(yield this.$.direction){case c.Direction.Backward:return!(yield*this.isConstrainedLate())||(yield this.$.manuallyScheduled)?yield*t.calculateStartDateProposed.call(this):(yield this.$.lateStartDate)||(yield*t.calculateStartDateProposed.call(this));default:return yield*t.calculateStartDateProposed.call(this)}}*calculateEndDatePure(){return(yield this.$.direction)===c.Direction.Backward?!(yield*this.isConstrainedLate())||(yield this.$.manuallyScheduled)?yield*t.calculateEndDatePure.call(this):yield this.$.lateEndDate:yield*t.calculateEndDatePure.call(this)}*calculateEndDateProposed(){switch(yield this.$.direction){case c.Direction.Backward:return!(yield*this.isConstrainedLate())||(yield this.$.manuallyScheduled)?yield*t.calculateEndDateProposed.call(this):(yield this.$.lateEndDate)||(yield*t.calculateEndDateProposed.call(this));default:return yield*t.calculateEndDateProposed.call(this)}}}return g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"minChildrenLateStartDate",void 0),g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"lateStartDateRaw",void 0),g([Object(s.model_field)({type:"date",persist:!1},{lazy:h.EarlyLateLazyness,converter:s.dateConverter,persistent:!1})],n.prototype,"lateStartDate",void 0),g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"maxChildrenLateEndDate",void 0),g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"lateEndDateRaw",void 0),g([Object(s.model_field)({type:"date",persist:!1},{lazy:h.EarlyLateLazyness,converter:s.dateConverter,persistent:!1})],n.prototype,"lateEndDate",void 0),g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"lateStartDateConstraintIntervals",void 0),g([Object(o.field)({lazy:h.EarlyLateLazyness})],n.prototype,"lateEndDateConstraintIntervals",void 0),g([Object(s.model_field)({type:"number",persist:!1},{lazy:h.EarlyLateLazyness,persistent:!1})],n.prototype,"totalSlack",void 0),g([Object(s.model_field)({type:"string",defaultValue:c.TimeUnit.Day,persist:!1},{lazy:h.EarlyLateLazyness,converter:a.default.normalizeUnit,persistent:!1})],n.prototype,"slackUnit",void 0),g([Object(s.model_field)({type:"boolean",defaultValue:!1,persist:!1},{persistent:!1,lazy:h.EarlyLateLazyness})],n.prototype,"critical",void 0),g([Object(o.calculate)("lateStartDateConstraintIntervals")],n.prototype,"calculateLateStartDateConstraintIntervals",null),g([Object(o.calculate)("lateEndDateConstraintIntervals")],n.prototype,"calculateLateEndDateConstraintIntervals",null),g([Object(o.calculate)("minChildrenLateStartDate")],n.prototype,"calculateMinChildrenLateStartDate",null),g([Object(o.calculate)("lateStartDateRaw")],n.prototype,"calculateLateStartDateRaw",null),g([Object(o.calculate)("maxChildrenLateEndDate")],n.prototype,"calculateMaxChildrenLateEndDate",null),g([Object(o.calculate)("lateStartDate")],n.prototype,"calculateLateStartDate",null),g([Object(o.calculate)("lateEndDateRaw")],n.prototype,"calculateLateEndDateRaw",null),g([Object(o.calculate)("lateEndDate")],n.prototype,"calculateLateEndDate",null),g([Object(o.calculate)("totalSlack")],n.prototype,"calculateTotalSlack",null),g([Object(o.calculate)("critical")],n.prototype,"calculateCritical",null),n})){}},"./lib/Engine/quark/model/gantt/GanttAssignmentMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GanttAssignmentMixin",(function(){return l}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProAssignmentMixin.js"),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class l extends(Object(i.Mixin)([a.SchedulerProAssignmentMixin],e=>{e.prototype;class t extends e{*calculateUnits(){const e=yield this.$.event;return e?yield*e.calculateAssignmentUnits(this):yield r.ProposedOrPrevious}}return s([Object(o.calculate)("units")],t.prototype,"calculateUnits",null),t})){}},"./lib/Engine/quark/model/gantt/GanttEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GanttEvent",(function(){return g}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProEvent.js"),o=n("./lib/Engine/quark/model/gantt/ConstrainedByParentMixin.js"),a=n("./lib/Engine/quark/model/gantt/ConstrainedLateEventMixin.js"),s=n("./lib/Engine/quark/model/gantt/GanttHasAssignmentsMixin.js"),l=n("./lib/Engine/quark/model/gantt/HasEffortMixin.js"),c=n("./lib/Engine/quark/model/gantt/HasSchedulingModeMixin.js"),d=n("./lib/Engine/quark/model/gantt/ScheduledByDependenciesLateEventMixin.js"),u=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedDurationMixin.js"),h=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedEffortMixin.js"),f=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedUnitsMixin.js");class g extends(Object(r.MixinAny)([i.SchedulerProEvent,o.ConstrainedByParentMixin,a.ConstrainedLateEventMixin,d.ScheduledByDependenciesLateEventMixin,s.GanttHasAssignmentsMixin,l.HasEffortMixin,c.HasSchedulingModeMixin,u.FixedDurationMixin,h.FixedEffortMixin,f.FixedUnitsMixin],e=>(e.prototype,class extends e{}))){}},"./lib/Engine/quark/model/gantt/GanttHasAssignmentsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GanttHasAssignmentsMixin",(function(){return a}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProHasAssignmentsMixin.js");class a extends(Object(i.Mixin)([o.SchedulerProHasAssignmentsMixin],e=>(e.prototype,class extends e{*hasProposedValueForUnits(){const e=yield this.$.assigned;for(const t of e)if((yield t.$.resource)&&(yield Object(r.HasProposedValue)(t.$.units)))return!0;return!1}}))){}},"./lib/Engine/quark/model/gantt/GanttProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GanttProjectMixin",(function(){return p}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/scheduling/DateInterval.js"),a=n("./lib/Engine/scheduling/Types.js"),s=n("./lib/Engine/util/Constants.js"),l=n("./lib/Engine/quark/store/ChronoEventStoreMixin.js"),c=n("./lib/Engine/quark/model/gantt/GanttAssignmentMixin.js"),d=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProProjectMixin.js"),u=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProResourceMixin.js"),h=n("./lib/Engine/quark/model/gantt/ConstrainedLateEventMixin.js"),f=n("./lib/Engine/quark/model/gantt/GanttEvent.js"),g=n("./lib/Engine/quark/model/gantt/HasCriticalPathsMixin.js"),m=n("./lib/Engine/quark/model/gantt/HasEffortMixin.js");class p extends(Object(i.Mixin)([d.SchedulerProProjectMixin,m.HasEffortMixin,h.ConstrainedLateEventMixin,g.HasCriticalPathsMixin],e=>{const t=e.prototype;return class extends e{*calculateDirection(){return yield r.ProposedOrPrevious}*calculateStartDate(){const e=yield this.$.direction;if(e===a.Direction.Forward){let e=yield r.ProposedOrPrevious;return e||(e=yield*this.unsafeCalculateInitialMinChildrenStartDateDeep()),e}if(e===a.Direction.Backward)return yield*this.calculateMinChildrenStartDate()}*calculateEndDate(){const e=yield this.$.direction;if(e===a.Direction.Forward)return yield*this.calculateMaxChildrenEndDate();if(e===a.Direction.Backward){let e=yield r.ProposedOrPrevious;return e||(e=yield*this.unsafeCalculateInitialMaxChildrenEndDateDeep()),e}}*calculateEarlyStartDateConstraintIntervals(){const e=yield*t.calculateEarlyStartDateConstraintIntervals.call(this),n=yield this.$.direction;if(n===a.Direction.Forward){const t=yield this.$.startDate;t&&e.push(o.DateInterval.new({startDate:t}))}else if(n===a.Direction.Backward){const t=yield this.$.lateStartDate;t&&e.push(o.DateInterval.new({startDate:t}))}return e}*calculateLateEndDateConstraintIntervals(){const e=yield*t.calculateLateEndDateConstraintIntervals.call(this),n=yield this.$.direction;if(n===a.Direction.Forward){const t=yield this.$.earlyEndDate;t&&e.push(o.DateInterval.new({endDate:t}))}else if(n===a.Direction.Backward){const t=yield this.$.endDate;t&&e.push(o.DateInterval.new({endDate:t}))}return e}getDefaultEventModelClass(){return f.GanttEvent}getDefaultAssignmentModelClass(){return c.GanttAssignmentMixin}getDefaultResourceModelClass(){return u.SchedulerProResourceMixin}getDefaultEventStoreClass(){return l.ChronoEventTreeStoreMixin}getType(){return a.ProjectType.Gantt}*unsafeCalculateInitialMinChildrenStartDateDeep(){const e=yield this.$.childEvents;if(!e.size)return yield Object(r.UnsafeProposedOrPreviousValueOf)(this.$.startDate);let t,n=s.MAX_DATE;const i=[...e];for(;t=i.shift();){const e=yield Object(r.UnsafeProposedOrPreviousValueOf)(t.$.startDate);e&&e<n&&(n=e),i.push(...yield t.$.childEvents)}return n.getTime()!==s.MIN_DATE.getTime()&&n.getTime()!==s.MAX_DATE.getTime()?n:null}*unsafeCalculateInitialMaxChildrenEndDateDeep(){const e=yield this.$.childEvents;if(!e.size)return yield Object(r.UnsafeProposedOrPreviousValueOf)(this.$.endDate);let t,n=s.MIN_DATE;const i=[...e];for(;t=i.shift();){const e=yield Object(r.UnsafeProposedOrPreviousValueOf)(t.$.endDate);e&&e>n&&(n=e),i.push(...yield t.$.childEvents)}return n.getTime()!==s.MIN_DATE.getTime()&&n.getTime()!==s.MAX_DATE.getTime()?n:null}getDependencyCycleDetectionIdentifiers(e,t){return[t.$.earlyStartDateConstraintIntervals,t.$.earlyEndDateConstraintIntervals,t.$.lateEndDateConstraintIntervals,t.$.lateStartDateConstraintIntervals]}}})){}},"./lib/Engine/quark/model/gantt/HasCriticalPathsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasCriticalPathsMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),a=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class s extends(Object(r.Mixin)([o.HasChildrenMixin],e=>{e.prototype;class t extends e{*calculateCriticalPaths(){const e=[],t=[],n=[...yield this.$.childEvents],r=yield this.$.endDate;let i,o;for(;i=n.shift();){const e=yield i.$.childEvents,o=yield i.$.critical;i.endDate-r===0&&o&&t.push([{event:i}]),n.push(...e)}for(;o=t.shift();){let n,r=o.length-1;for(;n=o[r];){const e=[];for(const t of yield n.event.$.incomingDeps){const n=yield t.$.fromEvent;n&&(yield n.$.critical)&&e.push({event:n,dependency:t})}if(e.length){const n=o.slice();o.push(e[0]);for(let r=1;r<e.length;r++)t.push(n.concat(e[r]));r++}else r=-1}e.push(o.reverse())}return e}}return a([Object(i.field)({lazy:!0})],t.prototype,"criticalPaths",void 0),a([Object(i.calculate)("criticalPaths")],t.prototype,"calculateCriticalPaths",null),t})){}},"./lib/Engine/quark/model/gantt/HasEffortDispatcher.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EffortVar",(function(){return o})),n.d(t,"UnitsVar",(function(){return a})),n.d(t,"effortFormula",(function(){return s})),n.d(t,"unitsFormula",(function(){return l})),n.d(t,"endDateByEffortFormula",(function(){return c})),n.d(t,"startDateByEffortFormula",(function(){return d})),n.d(t,"SEDWUDispatcher",(function(){return u})),n.d(t,"SEDWUDispatcherIdentifier",(function(){return h}));var r=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js");const o=Symbol("EffortVar"),a=Symbol("UnitsVar"),s=r.Formula.new({output:o,inputs:new Set([i.StartDateVar,i.EndDateVar,a])}),l=r.Formula.new({output:a,inputs:new Set([i.StartDateVar,i.EndDateVar,o])}),c=r.Formula.new({output:i.EndDateVar,inputs:new Set([i.StartDateVar,o,a])}),d=r.Formula.new({output:i.StartDateVar,inputs:new Set([i.EndDateVar,o,a])});class u extends i.SEDDispatcher{}class h extends i.SEDDispatcherIdentifier{equality(e,t){const n=e.resolution,r=t.resolution;return n.get(o)===r.get(o)&&n.get(a)===r.get(a)&&super.equality(e,t)}}},"./lib/Engine/quark/model/gantt/HasEffortMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasEffortMixin",(function(){return h}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/scheduling/Types.js"),c=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),d=n("./lib/Engine/quark/model/gantt/GanttHasAssignmentsMixin.js"),u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class h extends(Object(i.Mixin)([d.GanttHasAssignmentsMixin,c.HasChildrenMixin],e=>{e.prototype;class t extends e{getEffort(e){const t=this.effort;return void 0!==e?this.getProject().convertDuration(t,this.effortUnit,e):t}writeEffort(e,t,n,r,i){r<0&&(r=0),(t.baseRevision.hasIdentifier(e)||null!=r)&&(null!=i&&i!==this.effortUnit&&this.$.effortUnit.write.call(this,this.$.effortUnit,t,null,i),e.constructor.prototype.write(e,t,n,r))}setEffortUnit(e){throw new Error("Use `setEffort` instead")}*calculateTotalChildrenEffort(){const e=yield this.$.childEvents,t=this.getProject();let n=0;for(const r of e){const e=yield r.$.effortUnit;n+=(yield*t.$convertDuration(yield r.$.effort,e,l.TimeUnit.Millisecond))}return yield*t.$convertDuration(n,l.TimeUnit.Millisecond,yield this.$.effortUnit)}*calculateEffort(){if((yield this.$.childEvents).size>0)return yield*this.calculateTotalChildrenEffort();{const e=yield r.ProposedOrPrevious;return void 0!==e?e:yield*this.calculateEffortPure()}}*calculateEffortPure(){return(yield this.$.childEvents).size>0?yield*this.calculateTotalChildrenEffort():yield*this.calculateProjectedEffort(yield this.$.startDate,yield this.$.endDate)}*calculateEffortProposed(){return yield r.ProposedOrPrevious}*calculateAssignmentUnits(e){return yield*this.calculateAssignmentUnitsProposed(e)}*calculateAssignmentUnitsPure(e){return yield*this.calculateUnitsByStartEndAndEffort(e)}*calculateAssignmentUnitsProposed(e){return yield r.ProposedOrPrevious}*getBaseOptionsForEffortCalculations(){return{ignoreResourceCalendars:!1}}*calculateProjectedEffort(e,t){if(null==e||null==t||e>t)return null;const n=yield this.$.assignmentsByCalendar,r=new Map;for(const[a,s]of n){let e=0;for(const t of s)e+=(yield t.$.units);r.set(a,e)}let i=0;const o=Object.assign(yield*this.getBaseOptionsForEffortCalculations(),{startDate:e,endDate:t});return 0===r.size&&(r.set(yield this.$.effectiveCalendar,100),o.ignoreResourceCalendars=!0),yield*this.forEachAvailabilityInterval(o,(e,t,n)=>{const o=n.getCalendarsWorking(),a=e.getTime(),s=t.getTime()-a;let l=0;for(const i of o)l+=r.get(i)||0;i+=l*s*.01}),yield*this.getProject().$convertDuration(i,l.TimeUnit.Millisecond,yield this.$.effortUnit)}*calculateUnitsByStartEndAndEffort(e){const t=yield this.$.effort,n=yield this.$.effortUnit,r=yield*this.getProject().$convertDuration(t,n,l.TimeUnit.Millisecond);let i=0;const o=Object.assign(yield*this.getBaseOptionsForEffortCalculations(),{startDate:yield this.$.startDate,endDate:yield this.$.endDate}),a=yield this.$.assignmentsByCalendar;return yield*this.forEachAvailabilityInterval(o,(e,t,n)=>{const r=n.getCalendarsWorking(),o=e.getTime(),s=t.getTime()-o;for(const l of r)i+=(a.has(l)?a.get(l).length:0)*s}),i?100*r/i:100}*calculateProjectedXDateByEffort(e,t=!0){const n=yield this.$.effort,r=yield this.$.effortUnit,i=yield*this.getProject().$convertDuration(n,r,l.TimeUnit.Millisecond);if(null==e||null==n)return null;let o=e.getTime(),a=i;const s=yield this.$.effectiveCalendar,c=yield this.$.assignmentsByCalendar,d=new Map;for(const[l,u]of c){let e=0;for(const t of u)e+=(yield t.$.units);d.set(l,e)}if(c.size>0){const n=Object.assign(yield*this.getBaseOptionsForDurationCalculations(),t?{startDate:e,isForward:t}:{endDate:e,isForward:t});return yield*this.forEachAvailabilityInterval(n,(e,n,r)=>{const i=r.getCalendarsWorking(),s=e.getTime(),l=n.getTime(),c=l-s;let u=0;for(const t of i)u+=d.get(t)||0;const h=u*c*.01;if(h>=a)return o=t?s+a/(.01*u):l-a/(.01*u),!1;a-=h}),new Date(o)}return s.accumulateWorkingTime(e,i,t).finalDate}}return u([Object(s.model_field)({type:"number"})],t.prototype,"effort",void 0),u([Object(s.model_field)({type:"string",defaultValue:l.TimeUnit.Hour},{converter:a.default.normalizeUnit})],t.prototype,"effortUnit",void 0),u([Object(o.write)("effort")],t.prototype,"writeEffort",null),u([Object(o.calculate)("effort")],t.prototype,"calculateEffort",null),t})){}},"./lib/Engine/quark/model/gantt/HasSchedulingModeMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasSchedulingModeMixin",(function(){return f}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),a=n("./lib/ChronoGraph/replica/Entity.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/scheduling/Types.js"),c=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js"),d=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js"),u=n("./lib/Engine/quark/model/gantt/HasEffortMixin.js"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class f extends(Object(i.Mixin)([u.HasEffortMixin],e=>{const t=e.prototype;class n extends e{*calculateSchedulingMode(){return(yield r.ProposedOrPrevious)||l.SchedulingMode.Normal}*effectiveSchedulingMode(){return(yield this.$.assignmentsByCalendar).size>0?yield this.$.schedulingMode:l.SchedulingMode.Normal}effectiveSchedulingModeSync(e){return e(this.$.assignmentsByCalendar).size>0?e(this.$.schedulingMode):l.SchedulingMode.Normal}*prepareDispatcher(e){if((yield*this.effectiveSchedulingMode())!==l.SchedulingMode.Normal){const n=yield*t.prepareDispatcher.call(this,e);return n.collectInfo(e,this.$.effort,d.EffortVar),(yield*this.hasProposedValueForUnits())&&n.addProposedValueFlag(d.UnitsVar),n.addPreviousValueFlag(d.UnitsVar),n}return yield*t.prepareDispatcher.call(this,e)}dispatcherClass(e){return this.effectiveSchedulingModeSync(e)!==l.SchedulingMode.Normal?d.SEDWUDispatcher:t.dispatcherClass.call(this,e)}buildProposedDispatcher(e,n,r){const i=t.buildProposedDispatcher.call(this,e,n,r);return i.addPreviousValueFlag(d.EffortVar),i.addPreviousValueFlag(d.UnitsVar),i}*calculateAssignmentUnits(e){if((yield*this.effectiveSchedulingMode())!==l.SchedulingMode.Normal){const t=(yield this.$.dispatcher).resolution.get(d.UnitsVar);if(t===o.CalculateProposed)return yield*this.calculateAssignmentUnitsProposed(e);if(t===d.unitsFormula.formulaId)return yield*this.calculateAssignmentUnitsPure(e);throw new Error("Unknown formula for `units`")}return yield*t.calculateAssignmentUnits.call(this,e)}*calculateEffort(){if((yield*this.effectiveSchedulingMode())!==l.SchedulingMode.Normal){const e=(yield this.$.dispatcher).resolution.get(d.EffortVar);if(e===o.CalculateProposed)return yield*this.calculateEffortProposed();if(e===d.effortFormula.formulaId)return yield*this.calculateEffortPure();throw new Error("Unknown formula for `effort`")}return yield*t.calculateEffort.call(this)}*calculateStartDate(){return(yield*this.effectiveSchedulingMode())!==l.SchedulingMode.Normal&&(yield this.$.dispatcher).resolution.get(c.StartDateVar)===d.startDateByEffortFormula.formulaId?yield*this.calculateProjectedXDateByEffort(yield this.$.endDate,!1):yield*t.calculateStartDate.call(this)}*calculateEndDate(){return(yield*this.effectiveSchedulingMode())!==l.SchedulingMode.Normal&&(yield this.$.dispatcher).resolution.get(c.EndDateVar)===d.endDateByEffortFormula.formulaId?yield*this.calculateProjectedXDateByEffort(yield this.$.startDate,!0):yield*t.calculateEndDate.call(this)}*calculateEffectiveDuration(){const e=yield this.$.dispatcher,n=yield*this.effectiveSchedulingMode(),i=e.resolution.get(c.DurationVar);let o;if(e.resolution.get(d.EffortVar),i===c.durationFormula.formulaId&&n!=l.SchedulingMode.Normal){const n=yield Object(r.ProposedOrPreviousValueOf)(this.$.startDate),i=yield Object(r.ProposedOrPreviousValueOf)(this.$.endDate),a=e.resolution.get(c.StartDateVar),s=e.resolution.get(c.EndDateVar);yield this.$.effortDriven,i&&a===d.startDateByEffortFormula.formulaId?o=yield*this.calculateProjectedDuration(yield*this.calculateProjectedXDateByEffort(i,!1),i):n&&s===d.endDateByEffortFormula.formulaId?o=yield*this.calculateProjectedDuration(n,yield*this.calculateProjectedXDateByEffort(n,!0)):(n&&i||!n&&!i)&&(o=yield*t.calculateEffectiveDuration.call(this))}else o=yield*t.calculateEffectiveDuration.call(this);return o}}return h([Object(s.model_field)({type:"boolean",defaultValue:!1})],n.prototype,"effortDriven",void 0),h([Object(s.model_field)({type:"string",defaultValue:l.SchedulingMode.Normal},{sync:!0})],n.prototype,"schedulingMode",void 0),h([Object(a.field)({identifierCls:d.SEDWUDispatcherIdentifier})],n.prototype,"dispatcher",void 0),h([Object(a.calculate)("schedulingMode")],n.prototype,"calculateSchedulingMode",null),h([Object(a.calculate)("effort")],n.prototype,"calculateEffort",null),h([Object(a.calculate)("startDate")],n.prototype,"calculateStartDate",null),h([Object(a.calculate)("endDate")],n.prototype,"calculateEndDate",null),n})){}},"./lib/Engine/quark/model/gantt/ScheduledByDependenciesLateEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduledByDependenciesLateEventMixin",(function(){return u}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/ChronoGraph/util/Helpers.js"),a=n("./lib/Engine/scheduling/DateInterval.js"),s=n("./lib/Engine/scheduling/Types.js"),l=n("./lib/Engine/quark/model/scheduler_pro/ScheduledByDependenciesEarlyEventMixin.js"),c=n("./lib/Engine/quark/model/gantt/ConstrainedLateEventMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(r.Mixin)([l.ScheduledByDependenciesEarlyEventMixin,c.ConstrainedLateEventMixin],e=>{const t=e.prototype;class n extends e{*calculateLateStartDateConstraintIntervals(){const e=yield*t.calculateLateStartDateConstraintIntervals.call(this),n=this.getProject();let r;for(r of yield this.$.outgoingDeps){const t=yield r.$.toEvent;if(null==t||Object(o.isAtomicValue)(t))continue;let i;switch(yield r.$.type){case s.DependencyType.StartToStart:const e=yield t.$.lateStartDateRaw;if(e){const t=yield r.$.lag,o=yield r.$.lagUnit,l=yield r.$.calendar;i=a.DateInterval.new({startDate:null,endDate:l.calculateStartDate(e,yield*n.$convertDuration(t,o,s.TimeUnit.Millisecond))})}break;case s.DependencyType.StartToEnd:const o=yield t.$.lateEndDateRaw;if(o){const e=yield r.$.lag,t=yield r.$.lagUnit,l=yield r.$.calendar;i=a.DateInterval.new({startDate:null,endDate:l.calculateStartDate(o,yield*n.$convertDuration(e,t,s.TimeUnit.Millisecond))})}}i&&e.unshift(i)}return e}*calculateLateEndDateConstraintIntervals(){const e=yield*t.calculateLateEndDateConstraintIntervals.call(this),n=this.getProject();let r;for(r of yield this.$.outgoingDeps){const t=yield r.$.toEvent;if(null==t||Object(o.isAtomicValue)(t))continue;let i;switch(yield r.$.type){case s.DependencyType.EndToEnd:const e=yield t.$.lateEndDateRaw;if(e){const t=yield r.$.lag,o=yield r.$.lagUnit,l=yield r.$.calendar;i=a.DateInterval.new({startDate:null,endDate:l.calculateStartDate(e,yield*n.$convertDuration(t,o,s.TimeUnit.Millisecond))})}break;case s.DependencyType.EndToStart:const o=yield t.$.lateStartDateRaw;if(o){const e=yield r.$.lag,t=yield r.$.lagUnit,l=yield r.$.calendar;i=a.DateInterval.new({startDate:null,endDate:l.calculateStartDate(o,yield*n.$convertDuration(e,t,s.TimeUnit.Millisecond))})}}i&&e.unshift(i)}return e}}return d([Object(i.calculate)("lateStartDateIntervals")],n.prototype,"calculateLateStartDateConstraintIntervals",null),d([Object(i.calculate)("lateEndDateIntervals")],n.prototype,"calculateLateEndDateConstraintIntervals",null),n})){}},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedDurationDispatcher.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fixedDurationSEDWUGraphDescription",(function(){return a})),n.d(t,"fixedDurationSEDWUForwardNonEffortDriven",(function(){return s})),n.d(t,"fixedDurationSEDWUForwardEffortDriven",(function(){return l})),n.d(t,"fixedDurationSEDWUBackwardNonEffortDriven",(function(){return c})),n.d(t,"fixedDurationSEDWUBackwardEffortDriven",(function(){return d}));var r=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js"),o=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js");const a=r.CycleDescription.new({variables:new Set([i.StartDateVar,i.EndDateVar,i.DurationVar,o.EffortVar,o.UnitsVar]),formulas:new Set([i.startDateFormula,i.endDateFormula,i.durationFormula,o.unitsFormula,o.effortFormula])}),s=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([i.endDateFormula,o.effortFormula])}),l=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([i.endDateFormula,o.unitsFormula])}),c=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([i.startDateFormula,o.effortFormula])}),d=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([i.startDateFormula,o.unitsFormula])})},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedDurationMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FixedDurationMixin",(function(){return c}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/scheduling/Types.js"),a=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js"),s=n("./lib/Engine/quark/model/gantt/HasSchedulingModeMixin.js"),l=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedDurationDispatcher.js");class c extends(Object(i.Mixin)([s.HasSchedulingModeMixin],e=>{const t=e.prototype;return class extends e{*prepareDispatcher(e){if((yield*this.effectiveSchedulingMode())===o.SchedulingMode.FixedDuration){const n=yield*t.prepareDispatcher.call(this,e),i=yield this.$.effortDriven;return i&&n.addKeepIfPossibleFlag(a.EffortVar),(yield Object(r.HasProposedValue)(this.$.assigned))&&(i?n.addProposedValueFlag(a.EffortVar):n.addProposedValueFlag(a.UnitsVar)),n}return yield*t.prepareDispatcher.call(this,e)}cycleResolutionContext(e){if(this.effectiveSchedulingModeSync(e)===o.SchedulingMode.FixedDuration){const t=e(this.$.direction),n=e(this.$.effortDriven);return t===o.Direction.Forward||t===o.Direction.None?n?l.fixedDurationSEDWUForwardEffortDriven:l.fixedDurationSEDWUForwardNonEffortDriven:n?l.fixedDurationSEDWUBackwardEffortDriven:l.fixedDurationSEDWUBackwardNonEffortDriven}return t.cycleResolutionContext.call(this,e)}*getBaseOptionsForDurationCalculations(){return(yield*this.effectiveSchedulingMode())===o.SchedulingMode.FixedDuration?{ignoreResourceCalendars:!0}:yield*t.getBaseOptionsForDurationCalculations.call(this)}}})){}},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedEffortDispatcher.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fixedEffortSEDWUGraphDescription",(function(){return a})),n.d(t,"fixedEffortSEDWUForward",(function(){return s})),n.d(t,"fixedEffortSEDWUBackward",(function(){return l}));var r=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js"),o=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js");const a=r.CycleDescription.new({variables:new Set([i.StartDateVar,i.EndDateVar,i.DurationVar,o.EffortVar,o.UnitsVar]),formulas:new Set([o.endDateByEffortFormula,i.durationFormula,o.unitsFormula,o.effortFormula,o.startDateByEffortFormula,i.startDateFormula,i.endDateFormula])}),s=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.endDateByEffortFormula,i.durationFormula])}),l=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.startDateByEffortFormula,i.durationFormula])})},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedEffortMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FixedEffortMixin",(function(){return c}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/scheduling/Types.js"),a=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js"),s=n("./lib/Engine/quark/model/gantt/HasSchedulingModeMixin.js"),l=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedEffortDispatcher.js");class c extends(Object(i.Mixin)([s.HasSchedulingModeMixin],e=>{const t=e.prototype;return class extends e{*prepareDispatcher(e){if((yield*this.effectiveSchedulingMode())===o.SchedulingMode.FixedEffort){const n=yield*t.prepareDispatcher.call(this,e);return(yield Object(r.HasProposedValue)(this.$.assigned))&&n.addProposedValueFlag(a.UnitsVar),n.addKeepIfPossibleFlag(a.EffortVar),n}return yield*t.prepareDispatcher.call(this,e)}cycleResolutionContext(e){if(this.effectiveSchedulingModeSync(e)===o.SchedulingMode.FixedEffort){const t=e(this.$.direction);return t===o.Direction.Forward||t===o.Direction.None?l.fixedEffortSEDWUForward:l.fixedEffortSEDWUBackward}return t.cycleResolutionContext.call(this,e)}}})){}},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedUnitsDispatcher.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fixedUnitsSEDWUGraphDescription",(function(){return a})),n.d(t,"fixedUnitsSEDWUForwardNonEffortDriven",(function(){return s})),n.d(t,"fixedUnitsSEDWUForwardEffortDriven",(function(){return l})),n.d(t,"fixedUnitsSEDWUBackwardNonEffortDriven",(function(){return c})),n.d(t,"fixedUnitsSEDWUBackwardEffortDriven",(function(){return d}));var r=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js"),o=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js");const a=r.CycleDescription.new({variables:new Set([i.StartDateVar,i.EndDateVar,i.DurationVar,o.EffortVar,o.UnitsVar]),formulas:new Set([o.endDateByEffortFormula,i.durationFormula,o.effortFormula,o.unitsFormula,o.startDateByEffortFormula,i.startDateFormula,i.endDateFormula])}),s=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.endDateByEffortFormula,i.endDateFormula,o.effortFormula])}),l=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.endDateByEffortFormula,i.endDateFormula,i.durationFormula])}),c=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.startDateByEffortFormula,i.startDateFormula,o.effortFormula])}),d=r.CycleResolution.new({description:a,defaultResolutionFormulas:new Set([o.startDateByEffortFormula,i.startDateFormula,i.durationFormula])})},"./lib/Engine/quark/model/gantt/scheduling_modes/FixedUnitsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FixedUnitsMixin",(function(){return c}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/scheduling/Types.js"),a=n("./lib/Engine/quark/model/gantt/HasEffortDispatcher.js"),s=n("./lib/Engine/quark/model/gantt/HasSchedulingModeMixin.js"),l=n("./lib/Engine/quark/model/gantt/scheduling_modes/FixedUnitsDispatcher.js");class c extends(Object(i.Mixin)([s.HasSchedulingModeMixin],e=>{const t=e.prototype;return class extends e{*prepareDispatcher(e){if((yield*this.effectiveSchedulingMode())===o.SchedulingMode.FixedUnits){const n=yield*t.prepareDispatcher.call(this,e);return(yield Object(r.HasProposedValue)(this.$.assigned))&&n.addProposedValueFlag(a.UnitsVar),(yield this.$.effortDriven)&&n.addKeepIfPossibleFlag(a.EffortVar),n.addKeepIfPossibleFlag(a.UnitsVar),n}return yield*t.prepareDispatcher.call(this,e)}cycleResolutionContext(e){if(this.effectiveSchedulingModeSync(e)===o.SchedulingMode.FixedUnits){const t=e(this.$.direction),n=e(this.$.effortDriven);return t===o.Direction.Forward||t===o.Direction.None?n?l.fixedUnitsSEDWUForwardEffortDriven:l.fixedUnitsSEDWUForwardNonEffortDriven:n?l.fixedUnitsSEDWUBackwardEffortDriven:l.fixedUnitsSEDWUBackwardNonEffortDriven}return t.cycleResolutionContext.call(this,e)}}})){}},"./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractPartOfProjectModelMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js"),o=n("./lib/Engine/quark/AbstractPartOfProjectGenericMixin.js"),a=n("./lib/Core/data/Model.js");class s extends(Object(r.Mixin)([o.AbstractPartOfProjectGenericMixin,a.default],e=>{const t=e.prototype;return class extends e{joinStore(e){let n=!1;if(Object(r.isInstanceOf)(e,i.AbstractPartOfProjectStoreMixin)){const t=e.getProject();!t||t.isRepopulatingStores||this.getProject()||(this.setProject(t),n=!0)}t.joinStore.call(this,e),n&&this.joinProject()}unjoinStore(e,n=!1){t.unjoinStore.call(this,e,n);const o=this.getProject(),a=Object(r.isInstanceOf)(e,i.AbstractPartOfProjectStoreMixin)&&o===e.getProject();o&&!o.isDestroying&&!o.isRepopulatingStores&&a&&(this.leaveProject(n),this.setProject(null)),a&&(this.graph=null)}joinProject(){}leaveProject(e=!1){}calculateProject(){const e=this.stores.find(e=>Object(r.isInstanceOf)(e,i.AbstractPartOfProjectStoreMixin)&&!!e.getProject());return null===e||void 0===e?void 0:e.getProject()}async setAsync(e,t,n){var r;const i=this.set(e,t,n);return await(null===(r=this.project)||void 0===r?void 0:r.commitAsync()),i}async getAsync(e){var t;return await(null===(t=this.project)||void 0===t?void 0:t.commitAsync()),this.get(e)}}})){}},"./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoPartOfProjectModelMixin",(function(){return c}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/chrono/ChronoModelMixin.js"),o=n("./lib/Engine/quark/ChronoPartOfProjectGenericMixin.js"),a=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),s=n("./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js"),l=n("./lib/ChronoGraph/class/Mixin.js");class c extends(Object(r.Mixin)([s.AbstractPartOfProjectModelMixin,o.ChronoPartOfProjectGenericMixin,i.ChronoModelMixin],e=>{const t=e.prototype;return class extends e{joinProject(){this.getGraph().addEntity(this)}leaveProject(e=!1){t.leaveProject.call(this,e),this.getGraph().removeEntity(this),this.graph=null}getProject(){return t.getProject.call(this)}calculateProject(){const e=this.stores.find(e=>Object(l.isInstanceOf)(e,a.ChronoPartOfProjectStoreMixin)&&!!e.getProject());return null===e||void 0===e?void 0:e.getProject()}}})){}},"./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CorePartOfProjectModelMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/CorePartOfProjectGenericMixin.js"),o=n("./lib/Core/data/Model.js"),a=n("./lib/Engine/quark/model/mixin/AbstractPartOfProjectModelMixin.js");class s extends(Object(r.Mixin)([a.AbstractPartOfProjectModelMixin,i.CorePartOfProjectGenericMixin,o.default],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.$isCalculating=!1,this.$changed={},this.$beforeChange={}}joinProject(){this.invalidate()}leaveProject(e=!1){var n;t.leaveProject.call(this,e),null===(n=this.project)||void 0===n||n.bufferedCommitAsync()}invalidate(){var e;null===(e=this.project)||void 0===e||e.invalidate(this)}getCurrentOrProposed(e){var t;return e in this.$changed?this.$changed[e]:null!==(t=this.get(e))&&void 0!==t?t:null}hasCurrentOrProposed(e){return null!=this.$changed[e]||null!=this.get(e)}propose(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.$changed[r]=e[r]}this.invalidate()}setChanged(e,t,n=!0,r=!1){const i=this;i.$changed[e]=t,r&&(e in i.$beforeChange||(i.$beforeChange[e]=i.get(e)),i.setData(e,t)),n&&i.invalidate()}calculateInvalidated(){}finalizeInvalidated(e=!1){const t=this;t.$isCalculating=!0,e?t.setData(t.$changed):(t.setData(t.$beforeChange),t.set(t.$changed)),t.$changed={},t.$beforeChange={},t.$isCalculating=!1}}})){}},"./lib/Engine/quark/model/scheduler_basic/BaseAssignmentMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseAssignmentMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js"),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class l extends(Object(r.Mixin)([a.ChronoPartOfProjectModelMixin],e=>{e.prototype;class t extends e{}return s([Object(i.generic_field)({bucket:"assigned",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual,persist:!1}},o.ModelReferenceField)],t.prototype,"event",void 0),s([Object(i.generic_field)({bucket:"assigned",resolver:function(e){return this.getResourceById(e)},modelFieldConfig:{serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual,persist:!1}},o.ModelReferenceField)],t.prototype,"resource",void 0),Object(o.injectStaticFieldsProperty)(t),t})){}},"./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseCalendarMixin",(function(){return d}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js"),s=n("./lib/Engine/quark/model/AbstractCalendarMixin.js"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};const c=Symbol("CalendarMixin");class d extends(Object(r.Mixin)([s.AbstractCalendarMixin,a.ChronoPartOfProjectModelMixin],e=>{e.prototype;class t extends e{constructor(){super(...arguments),this.version=1}[c](){}}return l([Object(i.field)({persistent:!1})],t.prototype,"version",void 0),l([Object(o.model_field)({type:"string"})],t.prototype,"name",void 0),l([Object(o.model_field)({type:"boolean",defaultValue:!0})],t.prototype,"unspecifiedTimeIsWorking",void 0),l([Object(o.model_field)()],t.prototype,"intervals",void 0),t})){}},"./lib/Engine/quark/model/scheduler_basic/BaseDependencyMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseDependencyMixin",(function(){return c}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/scheduling/Types.js"),s=n("./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class c extends(Object(r.Mixin)([s.ChronoPartOfProjectModelMixin],e=>{e.prototype;class t extends e{}return l([Object(i.generic_field)({bucket:"outgoingDeps",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{persist:!0,serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual}},o.ModelReferenceField)],t.prototype,"fromEvent",void 0),l([Object(i.generic_field)({bucket:"incomingDeps",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{persist:!0,serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual}},o.ModelReferenceField)],t.prototype,"toEvent",void 0),l([Object(o.model_field)({type:"int",defaultValue:a.DependencyType.EndToStart})],t.prototype,"type",void 0),t})){}},"./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Instruction",(function(){return r})),n.d(t,"StartDateVar",(function(){return l})),n.d(t,"EndDateVar",(function(){return c})),n.d(t,"DurationVar",(function(){return d})),n.d(t,"startDateFormula",(function(){return u})),n.d(t,"endDateFormula",(function(){return h})),n.d(t,"durationFormula",(function(){return f})),n.d(t,"SEDGraphDescription",(function(){return g})),n.d(t,"SEDForwardCycleResolutionContext",(function(){return m})),n.d(t,"SEDBackwardCycleResolutionContext",(function(){return p})),n.d(t,"SEDDispatcher",(function(){return v})),n.d(t,"SEDDispatcherIdentifier",(function(){return b}));var r,i=n("./lib/ChronoGraph/chrono/CycleResolver.js"),o=n("./lib/ChronoGraph/chrono/Identifier.js"),a=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),s=n("./lib/ChronoGraph/replica/Identifier.js");!function(e){e.KeepDuration="KeepDuration",e.KeepStartDate="KeepStartDate",e.KeepEndDate="KeepEndDate"}(r||(r={}));const l=Symbol("StartDate"),c=Symbol("EndDate"),d=Symbol("Duration"),u=a.Formula.new({output:l,inputs:new Set([d,c])}),h=a.Formula.new({output:c,inputs:new Set([d,l])}),f=a.Formula.new({output:d,inputs:new Set([l,c])}),g=a.CycleDescription.new({variables:new Set([l,c,d]),formulas:new Set([u,h,f])}),m=a.CycleResolution.new({description:g,defaultResolutionFormulas:new Set([h])}),p=a.CycleResolution.new({description:g,defaultResolutionFormulas:new Set([u])});class v extends i.CycleResolutionInputChrono{addInstruction(e){e===r.KeepStartDate&&this.addKeepIfPossibleFlag(l),e===r.KeepEndDate&&this.addKeepIfPossibleFlag(c),e===r.KeepDuration&&this.addKeepIfPossibleFlag(d)}}class b extends(s.FieldIdentifier.mix(o.CalculatedValueGen)){equality(e,t){const n=e.resolution,r=t.resolution;return n.get(l)===r.get(l)&&n.get(c)===r.get(c)&&n.get(d)===r.get(d)}}},"./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseEventMixin",(function(){return g}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/cycle_resolver/CycleResolver.js"),a=n("./lib/ChronoGraph/replica/Entity.js"),s=n("./lib/Core/helper/DateHelper.js"),l=n("./lib/Engine/chrono/ModelFieldAtom.js"),c=n("./lib/Engine/scheduling/Types.js"),d=n("./lib/Engine/util/Functions.js"),u=n("./lib/Engine/quark/model/scheduler_basic/BaseEventDispatcher.js"),h=n("./lib/Engine/quark/model/scheduler_basic/HasCalendarMixin.js"),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class g extends(Object(i.Mixin)([h.HasCalendarMixin],e=>{e.prototype;class t extends e{*calculateDispatcher(e){yield r.ProposedOrPrevious;const t=yield*this.prepareDispatcher(e),n=yield Object(r.ProposedArgumentsOf)(this.$.startDate),i=n?n[0]?u.Instruction.KeepDuration:u.Instruction.KeepEndDate:void 0;i&&t.addInstruction(i);const o=yield Object(r.ProposedArgumentsOf)(this.$.endDate),a=o?o[0]?u.Instruction.KeepDuration:u.Instruction.KeepStartDate:void 0;a&&t.addInstruction(a);const s=yield this.$.direction,l=yield Object(r.ProposedArgumentsOf)(this.$.duration);let d;if(l)switch(l[0]){case!0:d=u.Instruction.KeepStartDate;break;case!1:d=u.Instruction.KeepEndDate}return!d&&t.hasProposedValue(u.DurationVar)&&(d=s===c.Direction.Forward||s===c.Direction.None?u.Instruction.KeepStartDate:u.Instruction.KeepEndDate),d&&t.addInstruction(d),t}*prepareDispatcher(e){const t=this.dispatcherClass(e).new({context:this.cycleResolutionContext(e)});return t.collectInfo(e,this.$.startDate,u.StartDateVar),t.collectInfo(e,this.$.endDate,u.EndDateVar),t.collectInfo(e,this.$.duration,u.DurationVar),t}cycleResolutionContext(e){const t=e(this.$.direction);return t===c.Direction.Forward||t===c.Direction.None?u.SEDForwardCycleResolutionContext:u.SEDBackwardCycleResolutionContext}dispatcherClass(e){return u.SEDDispatcher}buildProposedDispatcher(e,t,n){const r=this.dispatcherClass(n.onEffectSync).new({context:this.cycleResolutionContext(n.onEffectSync)});return r.addPreviousValueFlag(u.StartDateVar),r.addPreviousValueFlag(u.EndDateVar),r.addPreviousValueFlag(u.DurationVar),r}*skipNonWorkingTime(e,t){const n=yield this.$.effectiveCalendar;if(!e)return null;const i=n.skipNonWorkingTime(e,t);if(i instanceof Date)return i;yield Object(r.Reject)("Empty calendar")}*skipWorkingTime(e,t,n,r){const i=yield this.$.durationUnit;return r&&r!==i&&(n=yield*this.getProject().$convertDuration(n,r,i)),yield*this.calculateProjectedXDateWithDuration(e,t,n)}setStartDate(e,t=!0){if(this.graph)return this.graph.write(this.$.startDate,e,t),this.graph.commitAsync();this.$.startDate.DATA=e}writeStartDate(e,t,n,r,i=!0){(t.baseRevision.hasIdentifier(e)||null!=r)&&(i?u.Instruction.KeepDuration:u.Instruction.KeepEndDate,e.constructor.prototype.write.call(this,e,t,n,r,i))}*calculateStartDate(){const e=(yield this.$.dispatcher).resolution.get(u.StartDateVar);if(e===o.CalculateProposed)return yield*this.calculateStartDateProposed();if(e===u.startDateFormula.formulaId)return yield*this.calculateStartDatePure();throw new Error("Unknown formula for `startDate`")}*calculateStartDatePure(){return yield*this.calculateProjectedXDateWithDuration(yield this.$.endDate,!1,yield this.$.duration)}*calculateStartDateProposed(){const e=yield r.ProposedOrPrevious;return yield*this.skipNonWorkingTime(e,!0)}*calculateProjectedXDateWithDuration(e,t,n){const r=yield this.$.durationUnit,i=yield this.$.effectiveCalendar,o=this.getProject();return!e||Object(d.isNotNumber)(n)?null:(t=void 0===t||t)?i.calculateEndDate(e,yield*o.$convertDuration(n,r,c.TimeUnit.Millisecond)):i.calculateStartDate(e,yield*o.$convertDuration(n,r,c.TimeUnit.Millisecond))}setEndDate(e,t=!1){if(this.graph)return this.graph.write(this.$.endDate,e,t),this.graph.commitAsync();this.$.endDate.DATA=e}writeEndDate(e,t,n,r,i=!1){(t.baseRevision.hasIdentifier(e)||null!=r)&&e.constructor.prototype.write.call(this,e,t,n,r,i)}*calculateEndDate(){const e=(yield this.$.dispatcher).resolution.get(u.EndDateVar);if(e===o.CalculateProposed)return yield*this.calculateEndDateProposed();if(e===u.endDateFormula.formulaId)return yield*this.calculateEndDatePure();throw new Error("Unknown formula for `endDate`")}*calculateEndDatePure(){return yield*this.calculateProjectedXDateWithDuration(yield this.$.startDate,!0,yield this.$.duration)}*calculateEndDateProposed(){const e=yield r.ProposedOrPrevious;return yield*this.skipNonWorkingTime(e,!1)}getDuration(e){const t=this.duration;return void 0!==e?this.getProject().convertDuration(t,this.durationUnit,e):t}setDuration(e,t,n){if(this.graph){if(void 0!==e)return this.graph.write(this.$.duration,e,t,n),this.graph.commitAsync()}else this.$.duration.DATA=e,null!=t&&(this.$.durationUnit.DATA=t)}setDurationUnit(e){throw new Error("Use `setDuration` instead")}writeDuration(e,t,n,r,i,o){r<0&&(r=0),(t.baseRevision.hasIdentifier(e)||null!=r)&&(e.constructor.prototype.write.call(this,e,t,n,r,o),null!=i&&t.write(this.$.durationUnit,i))}*calculateDuration(){const e=(yield this.$.dispatcher).resolution.get(u.DurationVar);if(e===o.CalculateProposed)return yield*this.calculateDurationProposed();if(e===u.durationFormula.formulaId)return yield*this.calculateDurationPure();throw new Error("Unknown formula for `duration`")}*calculateDurationPure(){const e=yield this.$.startDate,t=yield this.$.endDate;return e&&t?e>t?void(yield Object(r.Write)(this.$.duration,0,null)):yield*this.calculateProjectedDuration(e,t):null}*calculateDurationProposed(){return yield r.ProposedOrPrevious}*calculateProjectedDuration(e,t,n){if(!e||!t)return null;n||(n=yield this.$.durationUnit);const r=yield this.$.effectiveCalendar,i=this.getProject();return yield*i.$convertDuration(r.calculateDurationMs(e,t),c.TimeUnit.Millisecond,n)}*calculateEffectiveDuration(){let e;const t=(yield this.$.dispatcher).resolution.get(u.DurationVar);return t===o.CalculateProposed?e=yield this.$.duration:t===u.durationFormula.formulaId&&(e=yield*this.calculateProjectedDuration(yield Object(r.ProposedOrPreviousValueOf)(this.$.startDate),yield Object(r.ProposedOrPreviousValueOf)(this.$.endDate))),e}}return f([Object(l.model_field)({type:"date"},{converter:l.dateConverter})],t.prototype,"startDate",void 0),f([Object(l.model_field)({type:"date"},{converter:l.dateConverter})],t.prototype,"endDate",void 0),f([Object(l.model_field)({type:"number",allowNull:!0})],t.prototype,"duration",void 0),f([Object(l.model_field)({type:"string",defaultValue:c.TimeUnit.Day},{converter:s.default.normalizeUnit})],t.prototype,"durationUnit",void 0),f([Object(l.model_field)({type:"string",defaultValue:c.Direction.Forward},{sync:!0})],t.prototype,"direction",void 0),f([Object(a.field)({identifierCls:u.SEDDispatcherIdentifier})],t.prototype,"dispatcher",void 0),f([Object(l.model_field)({type:"boolean",defaultValue:!1})],t.prototype,"manuallyScheduled",void 0),f([Object(a.calculate)("dispatcher")],t.prototype,"calculateDispatcher",null),f([Object(a.build_proposed)("dispatcher")],t.prototype,"buildProposedDispatcher",null),f([Object(a.write)("startDate")],t.prototype,"writeStartDate",null),f([Object(a.calculate)("startDate")],t.prototype,"calculateStartDate",null),f([Object(a.write)("endDate")],t.prototype,"writeEndDate",null),f([Object(a.calculate)("endDate")],t.prototype,"calculateEndDate",null),f([Object(a.write)("duration")],t.prototype,"writeDuration",null),f([Object(a.calculate)("duration")],t.prototype,"calculateDuration",null),t})){}},"./lib/Engine/quark/model/scheduler_basic/BaseHasAssignmentsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseHasAssignmentsMixin",(function(){return c}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js"),s=n("./lib/Engine/quark/model/AbstractHasAssignmentsMixin.js"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class c extends(Object(r.Mixin)([a.BaseEventMixin,s.AbstractHasAssignmentsMixin],e=>{e.prototype;class t extends e{get assignments(){return this.assigned?[...this.assigned]:[]}}return l([Object(i.generic_field)({},o.ModelBucketField)],t.prototype,"assigned",void 0),t})){}},"./lib/Engine/quark/model/scheduler_basic/BaseResourceMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseResourceMixin",(function(){return c}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js"),s=n("./lib/Engine/quark/model/scheduler_basic/HasCalendarMixin.js"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class c extends(Object(r.Mixin)([s.HasCalendarMixin,a.ChronoPartOfProjectModelMixin],e=>{const t=e.prototype;class n extends e{get assignments(){return[...this.assigned]}leaveProject(e=!1){if(this.assigned&&!e){const e=this.getResourceStore();this.assigned.forEach(t=>e.assignmentsForRemoval.add(t))}t.leaveProject.call(this)}}return l([Object(i.generic_field)({},o.ModelBucketField)],n.prototype,"assigned",void 0),n})){}},"./lib/Engine/quark/model/scheduler_basic/ChronoAbstractProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoAbstractProjectMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/chrono/ChronoModelMixin.js"),o=n("./lib/Engine/chrono/Conflict.js"),a=n("./lib/Engine/quark/model/AbstractProjectMixin.js");class s extends(Object(r.Mixin)([i.ChronoModelMixin,a.AbstractProjectMixin],e=>(e.prototype,class extends e{getGraph(){return this.replica}beforeCommitAsync(){return null}async commitAsync(){return this.replica.commitAsync()}async onSchedulingConflictCall(e,t){return this.hasListener("schedulingConflict")?new Promise((t,n)=>{this.trigger("schedulingConflict",{continueWithResolutionResult:t,conflict:e})}):o.ConflictResolutionResult.Cancel}}))){}},"./lib/Engine/quark/model/scheduler_basic/HasCalendarMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasCalendarMixin",(function(){return u})),n.d(t,"CanCombineCalendarsMixin",(function(){return h}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/calendar/CalendarCacheMultiple.js"),a=n("./lib/Engine/chrono/ModelFieldAtom.js"),s=n("./lib/Engine/util/StripDuplicates.js"),l=n("./lib/Engine/quark/model/mixin/ChronoPartOfProjectModelMixin.js"),c=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(r.Mixin)([l.ChronoPartOfProjectModelMixin],e=>{e.prototype;class t extends e{writeCalendar(e,t,n,r){const i=this.getCalendarManagerStore(),o=r;r&&i&&r instanceof c.BaseCalendarMixin&&!i.includes(o)&&i.add(r),e.constructor.prototype.write.call(this,e,t,n,r)}resolveCalendar(e){var t;return null===(t=this.getCalendarManagerStore())||void 0===t?void 0:t.getById(e)}*calculateEffectiveCalendar(){let e=yield this.$.calendar;if(!e){const t=this.getProject();e=yield t.$.effectiveCalendar}return yield e.$.version,e}}return d([Object(i.field)()],t.prototype,"effectiveCalendar",void 0),d([Object(i.generic_field)({modelFieldConfig:{persist:!0,serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:a.isSerializableEqual},resolver:function(e){return this.resolveCalendar(e)},sync:!0},a.ModelReferenceField)],t.prototype,"calendar",void 0),d([Object(i.write)("calendar")],t.prototype,"writeCalendar",null),d([Object(i.calculate)("effectiveCalendar")],t.prototype,"calculateEffectiveCalendar",null),Object(a.injectStaticFieldsProperty)(t),t})){}class h extends(Object(r.Mixin)([],e=>(e.prototype,class extends e{constructor(){super(...arguments),this.combinedcalendarscache=new Map}combineCalendars(e){const t=Object(s.stripDuplicates)(e);if(0===t.length)throw new Error("No calendars to combine");t.sort((e,t)=>e.internalId<t.internalId?-1:1);const n=t.map(e=>e.internalId+"/").join(""),r=t.map(e=>e.version+"/").join(""),i=this.combinedcalendarscache.get(n);let a;return i&&i.versionsHash===r?a=i.cache:(a=new o.CalendarCacheMultiple({calendarCaches:t.map(e=>e.calendarCache)}),this.combinedcalendarscache.set(n,{versionsHash:r,cache:a})),a}}))){}},"./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasChildrenMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Reference.js"),o=n("./lib/ChronoGraph/replica/ReferenceBucket.js"),a=n("./lib/Engine/quark/model/scheduler_basic/HasSubEventsMixin.js"),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class l extends(Object(r.Mixin)([a.HasSubEventsMixin],e=>{e.prototype;class t extends e{*hasSubEvents(){return(yield this.$.childEvents).size>0}*subEventsIterable(){return yield this.$.childEvents}get parent(){return this._parent}set parent(e){this._parent=e,this.parentEvent=e}}return s([Object(i.reference)({bucket:"childEvents"})],t.prototype,"parentEvent",void 0),s([Object(o.bucket)()],t.prototype,"childEvents",void 0),t})){}},"./lib/Engine/quark/model/scheduler_basic/HasDependenciesMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasDependenciesMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js"),a=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js"),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class l extends(Object(r.Mixin)([a.BaseEventMixin],e=>{const t=e.prototype;class n extends e{leaveProject(){const e=this.getEventStore();this.outgoingDeps&&this.outgoingDeps.forEach(t=>e.dependenciesForRemoval.add(t)),this.incomingDeps&&this.incomingDeps.forEach(t=>e.dependenciesForRemoval.add(t)),t.leaveProject.call(this)}}return s([Object(i.generic_field)({},o.ModelBucketField)],n.prototype,"outgoingDeps",void 0),s([Object(i.generic_field)({},o.ModelBucketField)],n.prototype,"incomingDeps",void 0),n})){}},"./lib/Engine/quark/model/scheduler_basic/HasSubEventsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasSubEventsMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/util/Constants.js"),o=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js");class a extends(Object(r.Mixin)([o.BaseEventMixin],e=>{const t=e.prototype;return class extends e{*hasSubEvents(){throw new Error("Abstract method `hasSubEvents` has been called")}*subEventsIterable(){throw new Error("Abstract method `subEventsIterable` has been called")}*calculateStartDatePure(){const e=yield this.$.manuallyScheduled,n=yield*this.hasSubEvents();return!e&&n?yield*this.calculateMinChildrenStartDate():yield*t.calculateStartDatePure.call(this)}*calculateEndDatePure(){const e=yield this.$.manuallyScheduled,n=yield*this.hasSubEvents();return!e&&n?yield*this.calculateMaxChildrenEndDate():yield*t.calculateEndDatePure.call(this)}*calculateStartDateProposed(){const e=yield this.$.manuallyScheduled,n=yield*this.hasSubEvents();return!e&&n?yield*this.calculateStartDatePure():yield*t.calculateStartDateProposed.call(this)}*calculateEndDateProposed(){const e=yield this.$.manuallyScheduled,n=yield*this.hasSubEvents();return!e&&n?yield*this.calculateEndDatePure():yield*t.calculateEndDateProposed.call(this)}*calculateDurationProposed(){const e=yield this.$.manuallyScheduled,n=yield*this.hasSubEvents();return!e&&n?yield*this.calculateDurationPure():yield*t.calculateDurationProposed.call(this)}*calculateMinChildrenStartDate(){const e=yield*this.subEventsIterable(),t=[];for(const r of e)t.push(yield r.$.startDate);let n=t.reduce((e,t)=>t?Math.min(e,t.getTime()):e,i.MAX_DATE.getTime());return n===i.MIN_DATE.getTime()||n===i.MAX_DATE.getTime()?null:new Date(n)}*calculateMaxChildrenEndDate(){const e=yield*this.subEventsIterable(),t=[];for(const r of e)t.push(yield r.$.endDate);let n=t.reduce((e,t)=>t?Math.max(e,t.getTime()):e,i.MIN_DATE.getTime());return n===i.MIN_DATE.getTime()||n===i.MAX_DATE.getTime()?null:new Date(n)}}})){}},"./lib/Engine/quark/model/scheduler_basic/SchedulerBasicEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerBasicEvent",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js"),o=n("./lib/Engine/quark/model/scheduler_basic/BaseHasAssignmentsMixin.js"),a=n("./lib/Engine/quark/model/scheduler_basic/HasDependenciesMixin.js");class s extends(Object(r.Mixin)([i.BaseEventMixin,o.BaseHasAssignmentsMixin,a.HasDependenciesMixin],e=>(e.prototype,class extends e{}))){}},"./lib/Engine/quark/model/scheduler_basic/SchedulerBasicProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerBasicProjectMixin",(function(){return k}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Replica.js"),o=n("./lib/ChronoGraph/schema/Schema.js"),a=n("./lib/ChronoGraph/util/Helpers.js"),s=n("./lib/Core/data/stm/StateTrackingManager.js"),l=n("./lib/Core/data/Store.js"),c=n("./lib/Engine/chrono/ModelFieldAtom.js"),d=n("./lib/Engine/chrono/Replica.js"),u=n("./lib/Engine/scheduling/DurationConverterMixin.js"),h=n("./lib/Engine/scheduling/Types.js"),f=n("./lib/Engine/quark/store/ChronoAssignmentStoreMixin.js"),g=n("./lib/Engine/quark/store/ChronoCalendarManagerStoreMixin.js"),m=n("./lib/Engine/quark/store/ChronoDependencyStoreMixin.js"),p=n("./lib/Engine/quark/store/ChronoEventStoreMixin.js"),v=n("./lib/Engine/quark/store/ChronoResourceStoreMixin.js"),b=n("./lib/Engine/quark/model/scheduler_basic/ChronoAbstractProjectMixin.js"),y=n("./lib/Engine/quark/model/scheduler_basic/BaseAssignmentMixin.js"),C=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js"),S=n("./lib/Engine/quark/model/scheduler_basic/BaseDependencyMixin.js"),w=n("./lib/Engine/quark/model/scheduler_basic/BaseEventMixin.js"),E=n("./lib/Engine/quark/model/scheduler_basic/BaseResourceMixin.js"),D=n("./lib/Engine/quark/model/scheduler_basic/HasCalendarMixin.js"),x=n("./lib/Engine/quark/model/scheduler_basic/HasSubEventsMixin.js"),j=n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicEvent.js"),T=n("./lib/Core/helper/BrowserHelper.js"),R=n("./lib/Core/helper/ObjectHelper.js"),M=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class k extends(Object(r.MixinAny)([b.ChronoAbstractProjectMixin,w.BaseEventMixin,x.HasSubEventsMixin,D.HasCalendarMixin,u.DurationConverterMixin,D.CanCombineCalendarsMixin],e=>{const t=e.prototype;class n extends e{construct(e={}){this.enableProgressNotifications=e.enableProgressNotifications,"expanded"in e||(e.expanded=!0),t.construct.call(this,e),this.ignoreInitialCommitComputationCycles=!("ignoreInitialCommitComputationCycles"in e)||e.ignoreInitialCommitComputationCycles,this.eventModelClass||(this.eventModelClass=this.getDefaultEventModelClass()),this.eventStoreClass||(this.eventStoreClass=this.getDefaultEventStoreClass()),this.dependencyModelClass||(this.dependencyModelClass=this.getDefaultDependencyModelClass()),this.dependencyStoreClass||(this.dependencyStoreClass=this.getDefaultDependencyStoreClass()),this.resourceModelClass||(this.resourceModelClass=this.getDefaultResourceModelClass()),this.resourceStoreClass||(this.resourceStoreClass=this.getDefaultResourceStoreClass()),this.assignmentModelClass||(this.assignmentModelClass=this.getDefaultAssignmentModelClass()),this.assignmentStoreClass||(this.assignmentStoreClass=this.getDefaultAssignmentStoreClass()),this.calendarModelClass||(this.calendarModelClass=this.getDefaultCalendarModelClass()),this.calendarManagerStoreClass||(this.calendarManagerStoreClass=this.getDefaultCalendarManagerStoreClass()),this.replica=this.createReplica(),this.replica.addEntity(this),this.defaultCalendar=new this.calendarModelClass({unspecifiedTimeIsWorking:this.unspecifiedTimeIsWorking}),this.defaultCalendar.project=this,this.replica.addEntity(this.defaultCalendar);const n=this.stm=new s.default(R.default.assign({disabled:!0},this.stm));let r;this.stm.on({restoringStop:async()=>{this.stm.disable(),await this.commitAsync(),this.isDestroyed||(this.stm.enable(),this.trigger("stateRestoringDone"))}}),this.on({beforeCommit(){n.isRecording&&n.autoRecord&&(r=!0,n.autoRecord=!1)},dataReady(){r&&(n.autoRecord=!0,r=!1)}}),this.setCalendarManagerStore(this.calendarManagerStore),this.setEventStore(this.eventStore),this.setDependencyStore(this.dependencyStore),this.setResourceStore(this.resourceStore),this.setAssignmentStore(this.assignmentStore),Boolean(this.calendarsData||this.eventsData||this.dependenciesData||this.resourcesData||this.assignmentsData)&&(this.loadInlineData({calendarsData:this.calendarsData,eventsData:this.eventsData,dependenciesData:this.dependenciesData,resourcesData:this.resourcesData,assignmentsData:this.assignmentsData}),delete this.calendarsData,delete this.eventsData,delete this.dependenciesData,delete this.resourcesData,delete this.assignmentsData)}doDestroy(){var e,n,r,i,o,a;const s=this;null===(e=s.eventStore)||void 0===e||e.destroy(),null===(n=s.dependencyStore)||void 0===n||n.destroy(),null===(r=s.assignmentStore)||void 0===r||r.destroy(),null===(i=s.resourceStore)||void 0===i||i.destroy(),null===(o=s.calendarManagerStore)||void 0===o||o.destroy(),s.defaultCalendar.destroy(),s.replica.clear(),null===(a=s.stm)||void 0===a||a.destroy(),t.doDestroy.call(this)}createReplica(){return d.EngineReplica.mix(i.Replica).new({project:this,schema:o.Schema.new(),enableProgressNotifications:this.enableProgressNotifications,silenceInitialCommit:this.silenceInitialCommit,ignoreInitialCommitComputationCycles:this.ignoreInitialCommitComputationCycles,onWriteDuringCommit:"ignore",readMode:i.ReadMode.CurrentOrProposedOrPrevious})}*hasSubEvents(){return this.getEventStore().count>0}*subEventsIterable(){return this.getEventStore().getRange()}getType(){return h.ProjectType.SchedulerBasic}get enableProgressNotifications(){return this._enableProgressNotifications}set enableProgressNotifications(e){this._enableProgressNotifications=e,this.replica&&(this.replica.enableProgressNotifications=e)}getDefaultEventModelClass(){return j.SchedulerBasicEvent}getDefaultEventStoreClass(){return p.ChronoEventStoreMixin}getDefaultDependencyModelClass(){return S.BaseDependencyMixin}getDefaultDependencyStoreClass(){return m.ChronoDependencyStoreMixin}getDefaultResourceModelClass(){return E.BaseResourceMixin}getDefaultResourceStoreClass(){return v.ChronoResourceStoreMixin}getDefaultAssignmentModelClass(){return y.BaseAssignmentMixin}getDefaultAssignmentStoreClass(){return f.ChronoAssignmentStoreMixin}getDefaultCalendarModelClass(){return C.BaseCalendarMixin}getDefaultCalendarManagerStoreClass(){return g.ChronoCalendarManagerStoreMixin}async loadInlineData(e){const{calendarManagerStore:t,eventStore:n,dependencyStore:r,assignmentStore:i,resourceStore:o}=this;this.replica.unScheduleAutoCommit(),this.replica.enableProgressNotifications&&(await Object(a.delay)(0),this.replica.onPropagationProgressNotification({total:0,remaining:0,phase:"storePopulation"}),await Object(a.delay)(50)),this.isLoadingInlineData=!0,T.default.global.DEBUG&&(console.log("%cInitializing project","font-weight:bold;color:darkgreen;text-transform:uppercase;margin-top: 2em"),console.time("Time to visible"),console.time("Populating project")),e.calendarsData&&(this.repopulateStore(t),t.data=e.calendarsData),(e.eventsData||e.tasksData)&&(this.repopulateStore(n),n.data=e.eventsData||e.tasksData),e.dependenciesData&&(this.repopulateStore(r),r.data=e.dependenciesData),e.resourcesData&&(this.repopulateStore(o),o.data=e.resourcesData),e.assignmentsData&&(this.repopulateStore(i),i.data=e.assignmentsData),T.default.global.DEBUG&&console.timeEnd("Populating project"),await this.commitLoad(),this.isLoadingInlineData=!1}async commitLoad(){await this.commitAsync(),this.isDestroyed||this.trigger("load")}get isRepopulatingStores(){var e;return Boolean(null===(e=this.repopulateStores)||void 0===e?void 0:e.size)}repopulateStore(e){this.repopulateOnDataset&&e.count&&(this.repopulateStores||(this.repopulateStores=new Set),this.repopulateStores.add(e),this.repopulateReplica())}repopulateReplica(){const{calendarManagerStore:e,eventStore:t,dependencyStore:n,assignmentStore:r,resourceStore:i,replica:o}=this;this.unlinkStoreRecords(e,t,n,i,r),this.unlinkRecord(this),this.unlinkRecord(this.defaultCalendar),o.clear();const a=this.replica=this.createReplica();a.addEntity(this),a.addEntity(this.defaultCalendar),this.joinStoreRecords(e,!0),this.joinStoreRecords(t,!0),this.joinStoreRecords(n,!0),this.joinStoreRecords(i,!0),this.joinStoreRecords(r,!0),this.repopulateStores.clear(),this.trigger("repopulateReplica")}beforeCommitAsync(){return this.repopulateReplica.isPending?(this.repopulateReplica.now(),this.replica.commitAsync()):null}unlinkRecord(e){var t;const{activeTransaction:n}=this.replica,{$:r}=e,i=Object.keys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];if(s.field instanceof c.ModelReferenceField){const n=e[a];s.DATA=null!==(t=null===n||void 0===n?void 0:n.id)&&void 0!==t?t:n}else{const e=n.getLatestStableEntryFor(s);e&&(s.DATA=e.getValue())}}e.graph=null}unlinkStoreRecords(...e){e.forEach(e=>e.traverse(t=>{this.repopulateStores.has(e)&&!e.syncDataOnLoad||this.unlinkRecord(t)},!1,!1,{includeFilteredOutRecords:!0,includeCollapsedGroupRecords:!0}))}getGraph(){return this.replica}async addEvents(e){return this.eventStore.add(e),this.graph.commitAsync()}async addEvent(e){return this.eventStore.add(e),this.graph.commitAsync()}includeEvent(e){this.eventStore.add(e)}async removeEvents(e){return this.eventStore.remove(e),this.graph.commitAsync()}excludeEvent(e){this.eventStore.remove(e)}async removeEvent(e){return this.eventStore.remove(e),this.graph.commitAsync()}getStm(){return this.stm}calculateProject(){return this}resolveCalendar(e){return super.resolveCalendar(e)||this.defaultCalendar}joinStoreRecords(e,t=!1){const n=e=>{e.setProject(this),e.joinProject()};e.rootNode?e.rootNode.traverse(n,t,!0):e.forEach(n,null,{includeFilteredOutRecords:!0,includeCollapsedGroupRecords:!0})}unjoinStoreRecords(e){const t=e=>{e.leaveProject(),e.setProject(this)};e.rootNode?e.rootNode.traverse(n=>{n!==e.rootNode&&t(n)},!1,!0):e.forEach(t,null,{includeFilteredOutRecords:!0,includeCollapsedGroupRecords:!0})}setEventStore(e){const t=this.eventStore;if(t&&this.stm.hasStore(t)){this.stm.removeStore(t),this.unjoinStoreRecords(t);const n=t.assignmentsForRemoval;n.forEach(t=>{const r=t.event;if(r){const i=e.getById(r.id);i&&(t.event=i,n.delete(t))}}),t.afterEventRemoval()}if(e&&e instanceof l.default)this.eventStore=e,e.setProject(this),this.stm.addStore(e),e.tree&&e.rootNode!==this?(this.appendChild(e.rootNode.children||[]),e.rootNode=this):this.joinStoreRecords(e);else{const t=(null===e||void 0===e?void 0:e.storeClass)||this.eventStoreClass;this.eventStore=new t(R.default.assign({modelClass:this.eventModelClass,project:this,stm:this.stm},e||{}))}this.trigger("eventStoreChange",{store:this.eventStore})}setDependencyStore(e){const t=this.dependencyStore;if(t&&this.stm.hasStore(t)&&this.stm.removeStore(t),e&&e instanceof l.default)this.dependencyStore=e,e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e);else{const t=(null===e||void 0===e?void 0:e.storeClass)||this.dependencyStoreClass;this.dependencyStore=new t(R.default.assign({modelClass:this.dependencyModelClass,project:this,stm:this.stm},e||{}))}this.trigger("dependencyStoreChange",{store:this.dependencyStore})}setResourceStore(e){const t=this.resourceStore;if(t&&this.stm.hasStore(t)){this.stm.removeStore(t),this.unjoinStoreRecords(t);const n=t.assignmentsForRemoval;n.forEach(t=>{const r=t.resource;if(r){const i=e.getById(r.id);i&&(t.resource=i,n.delete(t))}}),t.afterResourceRemoval()}if(e&&e instanceof l.default)this.resourceStore=e,e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e);else{const t=(null===e||void 0===e?void 0:e.storeClass)||this.resourceStoreClass;this.resourceStore=new t(R.default.assign({modelClass:this.resourceModelClass,project:this,stm:this.stm},e||{}))}this.trigger("resourceStoreChange",{store:this.resourceStore})}setAssignmentStore(e){const t=this.assignmentStore;if(t&&this.stm.hasStore(t)&&(this.stm.removeStore(t),this.unjoinStoreRecords(t)),e&&e instanceof l.default)this.assignmentStore=e,e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e);else{const t=(null===e||void 0===e?void 0:e.storeClass)||this.assignmentStoreClass;this.assignmentStore=new t(R.default.assign({modelClass:this.assignmentModelClass,project:this,stm:this.stm},e||{}))}this.trigger("assignmentStoreChange",{store:this.assignmentStore})}setCalendarManagerStore(e){const t=this.calendarManagerStore;if(t&&this.stm.hasStore(t)&&this.stm.removeStore(t),e&&e instanceof l.default)this.calendarManagerStore=e,e&&(e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e));else{const t=(null===e||void 0===e?void 0:e.storeClass)||this.calendarManagerStoreClass;this.calendarManagerStore=new t(R.default.assign({modelClass:this.calendarModelClass,project:this,stm:this.stm},e||{}))}this.trigger("calendarManagerStoreChange",{store:this.calendarManagerStore})}async isValidDependency(...e){return!0}async tryPropagateWithChanges(e){const t=this.stm;let n,r;n=t.disabled,r=t.autoRecord,n?t.enable():(r&&(t.autoRecord=!1),t.isRecording&&t.stopTransaction()),t.startTransaction(),e();let i=!0;try{i=!(await this.commitAsync()).rejectedWith}catch(o){if(!/cycle/i.test(o))throw o;i=!1}return i?(t.stopTransaction(),n&&t.resetQueue()):(this.replica.reject(),t.transaction.length?(t.forEachStore(e=>e.beginBatch()),t.rejectTransaction(),t.forEachStore(e=>e.endBatch())):t.stopTransaction()),t.disabled=n,t.autoRecord=r,i}isEngineReady(){const{replica:e}=this;return!(e.dirty&&(e.hasPendingAutoCommit()||e.isCommitting||this.isRepopulatingStores))}static get defaultConfig(){return{assignmentsData:null,calendarsData:null,dependenciesData:null,eventsData:null,resourcesData:null,eventStore:null,resourceStore:null,assignmentStore:null,dependencyStore:null,calendarManagerStore:null,eventModelClass:null,resourceModelClass:null,assignmentModelClass:null,dependencyModelClass:null,calendarModelClass:null,repopulateOnDataset:!0}}static get delayable(){return{repopulateReplica:10}}}return n.applyConfigs=!0,M([Object(c.model_field)({type:"boolean",defaultValue:!0})],n.prototype,"unspecifiedTimeIsWorking",void 0),n})){}},"./lib/Engine/quark/model/scheduler_core/CoreAssignmentMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreAssignmentMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js"),a=n("./lib/Engine/quark/model/scheduler_core/CoreResourceMixin.js");class s extends(Object(r.Mixin)([i.CorePartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{static get fields(){return[{name:"resource",isEqual:(e,t)=>e===t,persist:!1},{name:"event",isEqual:(e,t)=>e===t,persist:!1}]}setChanged(e,n,i){const{assignmentStore:s,eventStore:l,resourceStore:c,project:d}=this;let u=!1;if("event"===e){const e=Object(r.isInstanceOf)(n,o.CoreEventMixin)?n:null===l||void 0===l?void 0:l.getById(n);e&&(u=!0),n=e||n}if("resource"===e){const e=Object(r.isInstanceOf)(n,a.CoreResourceMixin)?n:null===c||void 0===c?void 0:c.getById(n);e&&(u=!0),n=e||n}t.setChanged.call(this,e,n,i,!0),!s||!u||d.isPerformingCommit||s.isLoadingData||c.isLoadingData||s.invalidateIndices()}joinProject(){t.joinProject.call(this),this.setChanged("event",this.get("event")),this.setChanged("resource",this.get("resource"))}calculateInvalidated(){var e,t;let{event:n=this.event,resource:i=this.resource}=this.$changed;if(null!==n&&!Object(r.isInstanceOf)(n,o.CoreEventMixin)){const t=null===(e=this.eventStore)||void 0===e?void 0:e.getById(n);t&&this.setChanged("event",t,!1)}if(null!==i&&!Object(r.isInstanceOf)(i,a.CoreResourceMixin)){const e=null===(t=this.resourceStore)||void 0===t?void 0:t.getById(i);e&&this.setChanged("resource",e,!1)}}finalizeInvalidated(e){var n,r;(null===(n=this.$changed.resource)||void 0===n?void 0:n.isModel)&&(this.$changed.resourceId=this.$changed.resource.id),(null===(r=this.$changed.event)||void 0===r?void 0:r.isModel)&&(this.$changed.eventId=this.$changed.event.id),t.finalizeInvalidated.call(this,e)}set event(e){this.setChanged("event",e)}get event(){const e=this.get("event");return Object(r.isInstanceOf)(e,o.CoreEventMixin)?e:null}set resource(e){this.setChanged("resource",e)}get resource(){const e=this.get("resource");return Object(r.isInstanceOf)(e,a.CoreResourceMixin)?e:null}}})){}},"./lib/Engine/quark/model/scheduler_core/CoreCalendarMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreCalendarMixin",(function(){return a}));var r=n("./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/quark/model/AbstractCalendarMixin.js");class a extends(Object(i.Mixin)([o.AbstractCalendarMixin,r.CorePartOfProjectModelMixin],e=>(e.prototype,class extends e{}))){}},"./lib/Engine/quark/model/scheduler_core/CoreDependencyMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreDependencyMixin",(function(){return s}));var r=n("./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js"),a=n("./lib/ChronoGraph/class/Mixin.js");class s extends(Object(i.Mixin)([r.CorePartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{static get fields(){return[{name:"fromEvent",isEqual:(e,t)=>e===t,persist:!1},{name:"toEvent",isEqual:(e,t)=>e===t,persist:!1}]}setChanged(e,n,r){var i,s,l;let c=!1;if("fromEvent"===e||"toEvent"===e){const e=Object(a.isInstanceOf)(n,o.CoreEventMixin)?n:null===(i=this.eventStore)||void 0===i?void 0:i.getById(n);e&&(c=!0),n=e||n}t.setChanged.call(this,e,n,r,!0),!c||this.project.isPerformingCommit||(null===(s=this.dependencyStore)||void 0===s?void 0:s.isLoadingData)||null===(l=this.dependencyStore)||void 0===l||l.invalidateIndices()}joinProject(){t.joinProject.call(this),this.setChanged("fromEvent",this.get("fromEvent")),this.setChanged("toEvent",this.get("toEvent"))}calculateInvalidated(){var e,t;let{fromEvent:n,toEvent:r}=this.$changed;if(null!==n&&!Object(a.isInstanceOf)(n,o.CoreEventMixin)){const t=null===(e=this.eventStore)||void 0===e?void 0:e.getById(n);t&&(this.$changed.fromEvent=t)}if(null!==r&&!Object(a.isInstanceOf)(r,o.CoreEventMixin)){const e=null===(t=this.eventStore)||void 0===t?void 0:t.getById(r);e&&(this.$changed.toEvent=e)}}set fromEvent(e){this.setChanged("fromEvent",e)}get fromEvent(){const e=this.get("fromEvent");return Object(a.isInstanceOf)(e,o.CoreEventMixin)?e:null}set toEvent(e){this.setChanged("toEvent",e)}get toEvent(){const e=this.get("toEvent");return Object(a.isInstanceOf)(e,o.CoreEventMixin)?e:null}}})){}},"./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreEventMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends(Object(r.Mixin)([i.CorePartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this._startDate=null,this._endDate=null,this._duration=null}static get fields(){return[{name:"startDate",type:"date"},{name:"endDate",type:"date"},{name:"duration",type:"number"},{name:"durationUnit",type:"string",defaultValue:"day"}]}get startDate(){var e,t;return null!==(t=null!==(e=this._startDate)&&void 0!==e?e:this.get("startDate"))&&void 0!==t?t:null}get endDate(){var e,t;return null!==(t=null!==(e=this._endDate)&&void 0!==e?e:this.get("endDate"))&&void 0!==t?t:null}get duration(){var e,t;return null!==(t=null!==(e=this._duration)&&void 0!==e?e:this.get("duration"))&&void 0!==t?t:null}set startDate(e){this.proposeStartDate(e)}set endDate(e){this.proposeEndDate(e)}set duration(e){this.proposeDuration(e)}getStartDate(){return this.startDate}proposeStartDate(e,t=!0){this._startDate=e,this.propose({startDate:e,keepDuration:t})}async setStartDate(e,t=!0){var n;return this.proposeStartDate(e,t),null===(n=this.project)||void 0===n?void 0:n.commitAsync()}getEndDate(){return this.endDate}proposeEndDate(e,t=!1){this._endDate=e,this.propose({endDate:e,keepDuration:t})}async setEndDate(e,t=!1){var n;return this.proposeEndDate(e,t),null===(n=this.project)||void 0===n?void 0:n.commitAsync()}getDuration(){return this.duration}proposeDuration(e,t,n=!0){this._duration=e,this.propose({duration:e,keepStart:n}),t&&this.propose({durationUnit:t})}async setDuration(e,t,n=!0){var r;return this.proposeDuration(e,t,n),null===(r=this.project)||void 0===r?void 0:r.commitAsync()}getDurationUnit(){return this.durationUnit}joinProject(){var e;const n=this,r=n.$changed,i=n.getCurrentOrProposed("startDate"),o=n.getCurrentOrProposed("endDate"),a=n.getCurrentOrProposed("duration");if(null!=i&&(r.startDate=n._startDate=i),null!=o&&(r.endDate=n._endDate=o),null!=a&&(r.duration=n._duration=a),n.eventStore&&!n.eventStore.isLoadingData){const t=null===(e=n.assignmentStore)||void 0===e?void 0:e.storage.findItem("event",null);if(t)for(const e of t)e.getCurrentOrProposed("event")===n.id&&e.setChanged("event",n)}t.joinProject.call(n)}applyValue(e,n,r,i,o){"startDate"!==n&&"duration"!=n&&"endDate"!==n||(e=!0,this["_"+n]=r),i&&(e=!1),t.applyValue.call(this,e,n,r,i,o)}afterChange(e,n,r,i,o){this.$isCalculating||o||this.setData(this.$changed),t.afterChange.call(this,e,n,r,i,o)}calculateInvalidated(){const e=this,t=e.$changed,n="startDate"in t,r="endDate"in t,i="duration"in t,{startDate:a,endDate:s,duration:l,keepDuration:c,keepStart:d}=t;let u=null;!n||r||i?n||!r||i?n||r||!i?n&&r&&!i?null===a&&null===s?t.duration=null:u="duration":n&&!r&&i?u="endDate":!n&&r&&i?u="startDate":n&&r&&i&&(u=null==l?"duration":null==a?"startDate":"endDate"):null===l?t.endDate=null:!e.hasCurrentOrProposed("startDate")||!d&&e.hasCurrentOrProposed("endDate")?e.hasCurrentOrProposed("endDate")&&(u="startDate"):(d&&t.duration<0&&(t.duration=0),u="endDate"):null===s?t.startDate=null:e.hasCurrentOrProposed("startDate")&&s<e.getCurrentOrProposed("startDate")&&!c?(t.startDate=s,t.duration=0):!e.hasCurrentOrProposed("duration")||!c&&e.hasCurrentOrProposed("startDate")?e.hasCurrentOrProposed("startDate")&&(u="duration"):u="startDate":null===a?t.endDate=null:e.hasCurrentOrProposed("endDate")&&a>e.getCurrentOrProposed("endDate")&&!c?(t.endDate=a,t.duration=0):!e.hasCurrentOrProposed("duration")||!c&&e.hasCurrentOrProposed("endDate")?e.hasCurrentOrProposed("endDate")&&(u="duration"):u="endDate";const h=e.getCurrentOrProposed("startDate"),f=e.getCurrentOrProposed("endDate"),g=e.getCurrentOrProposed("duration"),m=e.getCurrentOrProposed("durationUnit");let p,v;switch(u){case"startDate":t.startDate=o.default.add(f,-g,m);break;case"endDate":p=o.default.as("hour",g,m),v=o.default.as(m,p,"h"),t.endDate=o.default.add(h,v,m);break;case"duration":p=o.default.diff(h,f,"h"),t.duration=o.default.as(m,p,"h")}void 0!==t.startDate&&(this._startDate=t.startDate),void 0!==t.endDate&&(this._endDate=t.endDate),void 0!==t.duration&&(this._duration=t.duration),delete t.keepDuration,delete t.keepStart}}})){}},"./lib/Engine/quark/model/scheduler_core/CoreHasAssignmentsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreHasAssignmentsMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Engine/quark/model/AbstractHasAssignmentsMixin.js");class s extends(Object(r.Mixin)([i.CoreEventMixin,a.AbstractHasAssignmentsMixin],e=>{const t=e.prototype;return class extends e{get assigned(){var e;const t=null===(e=this.project)||void 0===e?void 0:e.assignmentStore.getEventsAssignments(this);return t?this.$cachedAssignments=t:this.$cachedAssignments}applyValue(e,n,r,i,o){var a;"id"===n&&(null===(a=this.assigned)||void 0===a||a.forEach(e=>e.set("eventId",r))),t.applyValue.call(this,e,n,r,i,o)}copy(e=null,n=null){const r=t.copy.call(this,e,n);return(o.default.isObject(n)&&!n.skipFieldIdentifiers||!o.default.isObject(n))&&(r.$cachedAssignments=this.assigned),r}}})){}},"./lib/Engine/quark/model/scheduler_core/CoreHasDependenciesMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreHasDependenciesMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js");class o extends(Object(r.Mixin)([i.CoreEventMixin],e=>{const t=e.prototype;return class extends e{get outgoingDeps(){return this.project.dependencyStore.getOutgoingDepsForEvent(this)}get incomingDeps(){return this.project.dependencyStore.getIncomingDepsForEvent(this)}leaveProject(){const e=this.eventStore;this.outgoingDeps&&this.outgoingDeps.forEach(t=>e.dependenciesForRemoval.add(t)),this.incomingDeps&&this.incomingDeps.forEach(t=>e.dependenciesForRemoval.add(t)),t.leaveProject.call(this)}}})){}},"./lib/Engine/quark/model/scheduler_core/CoreResourceMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreResourceMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/mixin/CorePartOfProjectModelMixin.js");class o extends(Object(r.Mixin)([i.CorePartOfProjectModelMixin],e=>{const t=e.prototype;return class extends e{get assigned(){var e;return null===(e=this.project)||void 0===e?void 0:e.assignmentStore.getResourcesAssignments(this)}joinProject(){var e;this.resourceStore&&!this.resourceStore.isLoadingData&&(null===(e=this.assignmentStore)||void 0===e||e.query(e=>e.get("resource")===this.id).forEach(e=>e.setChanged("resource",this))),t.joinProject.call(this)}leaveProject(e=!1){if(this.assigned&&!e){const e=this.resourceStore;this.assigned.forEach(t=>e.assignmentsForRemoval.add(t))}t.leaveProject.call(this)}applyValue(e,n,r,i,o){"id"===o.name&&this.assigned.forEach(e=>{e.set("resourceId",r)}),t.applyValue.call(this,e,n,r,i,o)}}})){}},"./lib/Engine/quark/model/scheduler_core/SchedulerCoreEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerCoreEvent",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_core/CoreEventMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreHasAssignmentsMixin.js"),a=n("./lib/Engine/quark/model/scheduler_core/CoreHasDependenciesMixin.js");class s extends(Object(r.Mixin)([i.CoreEventMixin,o.CoreHasAssignmentsMixin,a.CoreHasDependenciesMixin],e=>(e.prototype,class extends e{}))){}},"./lib/Engine/quark/model/scheduler_core/SchedulerCoreProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventsWrapper",(function(){return E})),n.d(t,"DelayableWrapper",(function(){return D})),n.d(t,"SchedulerCoreProjectMixin",(function(){return x}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_core/SchedulerCoreEvent.js"),o=n("./lib/Core/data/Store.js"),a=n("./lib/Core/data/Model.js"),s=n("./lib/Core/mixin/Events.js"),l=n("./lib/Core/mixin/Delayable.js"),c=n("./lib/Engine/quark/store/CoreEventStoreMixin.js"),d=n("./lib/Engine/quark/model/scheduler_core/CoreAssignmentMixin.js"),u=n("./lib/Engine/quark/store/CoreAssignmentStoreMixin.js"),h=n("./lib/Engine/quark/model/scheduler_core/CoreResourceMixin.js"),f=n("./lib/Engine/quark/store/CoreResourceStoreMixin.js"),g=n("./lib/Engine/quark/CorePartOfProjectGenericMixin.js"),m=n("./lib/Engine/quark/store/CoreDependencyStoreMixin.js"),p=n("./lib/Engine/quark/model/scheduler_core/CoreDependencyMixin.js"),v=n("./lib/Engine/quark/model/scheduler_core/CoreCalendarMixin.js"),b=n("./lib/Engine/quark/store/CoreCalendarManagerStoreMixin.js"),y=n("./lib/Engine/util/Functions.js"),C=n("./lib/Core/data/stm/StateTrackingManager.js"),S=n("./lib/Engine/quark/model/AbstractProjectMixin.js"),w=n("./lib/Core/helper/ObjectHelper.js");class E extends(Object(r.Mixin)([],s.default)){}class D extends(Object(r.Mixin)([],l.default)){}class x extends(Object(r.Mixin)([S.AbstractProjectMixin,g.CorePartOfProjectGenericMixin,E,D,a.default],e=>{const t=e.prototype;class n extends e{static get defaultConfig(){return{stm:{},eventStore:{},assignmentStore:{},resourceStore:{},dependencyStore:{},calendarManagerStore:{},eventModelClass:i.SchedulerCoreEvent,assignmentModelClass:d.CoreAssignmentMixin,resourceModelClass:h.CoreResourceMixin,dependencyModelClass:p.CoreDependencyMixin,calendarModelClass:v.CoreCalendarMixin,eventStoreClass:c.CoreEventStoreMixin,assignmentStoreClass:u.CoreAssignmentStoreMixin,resourceStoreClass:f.CoreResourceStoreMixin,dependencyStoreClass:m.CoreDependencyStoreMixin,calendarManagerStoreClass:b.CoreCalendarManagerStoreMixin,assignmentsData:null,calendarsData:null,dependenciesData:null,eventsData:null,resourcesData:null}}construct(e={}){this.$invalidated=new Set,this.isPerformingCommit=!1,this.silenceInitialCommit=!0,this.ongoing=Promise.resolve(),t.construct.call(this,e),this.defaultCalendar=new this.calendarManagerStore.modelClass({unspecifiedTimeIsWorking:this.unspecifiedTimeIsWorking}),this.defaultCalendar.project=this;const{calendarsData:n,eventsData:r,dependenciesData:i,resourcesData:o,assignmentsData:a}=this;Boolean(n||r||i||o||a)?(this.loadInlineData({calendarsData:n,eventsData:r,dependenciesData:i,resourcesData:o,assignmentsData:a}),delete this.calendarsData,delete this.eventsData,delete this.dependenciesData,delete this.resourcesData,delete this.assignmentsData):this.bufferedCommitAsync()}doDestroy(){var e,n,r,i,o,a;const s=this;null===(e=s.eventStore)||void 0===e||e.destroy(),null===(n=s.dependencyStore)||void 0===n||n.destroy(),null===(r=s.assignmentStore)||void 0===r||r.destroy(),null===(i=s.resourceStore)||void 0===i||i.destroy(),null===(o=s.calendarManagerStore)||void 0===o||o.destroy(),s.defaultCalendar.destroy(),null===(a=s.stm)||void 0===a||a.destroy(),t.doDestroy.call(this)}async loadInlineData(e){this.isLoadingInlineData=!0,e.calendarsData&&(this.calendarManagerStore.data=e.calendarsData),e.resourcesData&&(this.resourceStore.data=e.resourcesData),e.assignmentsData&&(this.assignmentStore.data=e.assignmentsData),e.eventsData&&(this.eventStore.data=e.eventsData),e.dependenciesData&&(this.dependencyStore.data=e.dependenciesData),await this.commitLoad(),this.isLoadingInlineData=!1}async commitLoad(){await this.commitAsync(),this.isDestroyed||this.trigger("load")}joinStoreRecords(e){const t=e=>{e.setProject(this),e.joinProject()};e.rootNode?e.rootNode.traverse(t):e.forEach(t)}unJoinStoreRecords(e){const t=e=>{e.leaveProject(),e.setProject(this)};e.rootNode?e.rootNode.traverse(n=>{n!==e.rootNode&&t(n)}):e.forEach(t)}resolveStoreAndModelClass(e,t){const n=(null===t||void 0===t?void 0:t.storeClass)||this[e+"StoreClass"];let r=null===t||void 0===t?void 0:t.modelClass;return r||(r=this.getDefaultConfiguration()[e+"ModelClass"]!==n.defaultConfig.modelClass?n.defaultConfig.modelClass:this[e+"ModelClass"]),{storeClass:n,modelClass:r}}get eventStore(){return this.$eventStore}setEventStore(e){this.eventStore=e}set eventStore(e){const t=this,{stm:n}=t,r=t.$eventStore;if(e instanceof o.default)e.project=t,n.addStore(e),t.joinStoreRecords(e);else{const{storeClass:r,modelClass:i}=t.resolveStoreAndModelClass("event",e);e=new r(w.default.assign({modelClass:i,project:t,stm:n},e))}if(r&&n.hasStore(r)){n.removeStore(r),t.unJoinStoreRecords(r);const{assignmentsForRemoval:i}=r;i.forEach(t=>{const n=t.event;if(n){const r=e.getById(n.id);r&&(t.event=r,i.delete(t))}}),r.afterEventRemoval()}e.setProject(t),t.$eventStore=e,t.trigger("eventStoreChange",{store:e})}get assignmentStore(){return this.$assignmentStore}setAssignmentStore(e){this.assignmentStore=e}set assignmentStore(e){const t=this,{stm:n}=t,r=t.$assignmentStore;if(r&&n.hasStore(r)&&(n.removeStore(r),t.unJoinStoreRecords(r)),e instanceof o.default)e.project=t,n.addStore(e),t.joinStoreRecords(e);else{const{storeClass:r,modelClass:i}=t.resolveStoreAndModelClass("assignment",e);e=new r(w.default.assign({modelClass:i,project:t,stm:n},e))}e.setProject(t),t.$assignmentStore=e,t.trigger("assignmentStoreChange",{store:e})}get resourceStore(){return this.$resourceStore}setResourceStore(e){this.resourceStore=e}set resourceStore(e){const t=this,{stm:n}=t,r=t.$resourceStore;if(e instanceof o.default)e.project=t,n.addStore(e),t.joinStoreRecords(e);else{const{storeClass:r,modelClass:i}=t.resolveStoreAndModelClass("resource",e);e=new r(w.default.assign({modelClass:i,project:t,stm:n},e))}if(r&&n.hasStore(r)){n.removeStore(r),t.unJoinStoreRecords(r);const{assignmentsForRemoval:i}=r;i.forEach(t=>{const n=t.resource;if(n){const r=e.getById(n.id);r&&(t.resource=r,i.delete(t))}}),r.afterResourceRemoval()}e.setProject(t),t.$resourceStore=e,t.trigger("resourceStoreChange",{store:e})}get dependencyStore(){return this.$dependencyStore}setDependencyStore(e){this.dependencyStore=e}set dependencyStore(e){const t=this;if(e instanceof o.default)e.project=t,t.stm.addStore(e),t.joinStoreRecords(e);else{const{storeClass:n,modelClass:r}=t.resolveStoreAndModelClass("dependency",e);e=new n(w.default.assign({modelClass:r,project:t,stm:t.stm},e))}t.$dependencyStore=e,t.trigger("dependencyStoreChange",{store:e})}get calendarManagerStore(){return this.$calendarManagerStore}setCalendarManagerStore(e){this.calendarManagerStore=e}set calendarManagerStore(e){const t=this;if(e instanceof o.default)t.stm.addStore(e);else{const n=(null===e||void 0===e?void 0:e.storeClass)||t.calendarManagerStoreClass,r=(null===e||void 0===e?void 0:e.modelClass)||n.defaultConfig.modelClass||t.calendarModelClass;e=new n(w.default.assign({modelClass:r,project:t,stm:t.stm},e))}e.setProject(t),t.$calendarManagerStore=e,t.trigger("calendarManagerStoreChange",{store:e})}get calendar(){return this.$calendar||this.defaultCalendar}set calendar(e){this.$calendar=e}get effectiveCalendar(){return this.calendar}async addEvent(e){return this.eventStore.add(e),this.commitAsync()}async addAssignment(e){return this.assignmentStore.add(e),this.commitAsync()}async addResource(e){return this.resourceStore.add(e),this.commitAsync()}async addDependency(e){return this.dependencyStore.add(e),this.commitAsync()}bufferedCommitAsync(){this.hasPendingAutoCommit||this.setTimeout({fn:"commitAsync",delay:10})}get hasPendingAutoCommit(){return this.hasTimeout("commitAsync")}unScheduleAutoCommit(){this.clearTimeout("commitAsync")}async commitAsync(){return this.isPerformingCommit?this.ongoing:this.ongoing=this.doCommitAsync()}async doCommitAsync(){const e=this;if(e.isPerformingCommit=!0,e.unScheduleAutoCommit(),await Object(y.delay)(0),!e.isDestroyed){for(const o of e.$invalidated)o.calculateInvalidated();const{isInitialCommit:t,silenceInitialCommit:n}=e,r=t&&n;e.assignmentStore.onCommitAsync(),e.dependencyStore.onCommitAsync(),e.isInitialCommitPerformed=!0,e.hasLoadedDataToCommit=!1,e.isPerformingCommit=!1;const i=[e.assignmentStore,e.dependencyStore,e.eventStore,e.resourceStore,e.calendarManagerStore];if(i.forEach(e=>{var t;return null===(t=e.suspendAutoCommit)||void 0===t?void 0:t.call(e)}),e.isWritingData=!0,e.trigger("refresh",{isInitialCommit:t}),r)for(const o of e.$invalidated)o.finalizeInvalidated(!0);else{for(const t of e.$invalidated)t.beginBatch(),t.finalizeInvalidated();for(const t of e.$invalidated)t.endBatch(!1,!0)}return e.isWritingData=!1,e.$invalidated.clear(),e.trigger("dataReady"),i.forEach(e=>{var t;return null===(t=e.resumeAutoCommit)||void 0===t?void 0:t.call(e)}),!0}}async propagateAsync(){return this.commitAsync()}invalidate(e){this.$invalidated.add(e),this.bufferedCommitAsync()}async isValidDependency(...e){return!0}getStm(){return this.stm}set stm(e){(e=this.$stm=new C.default(w.default.assign({disabled:!0},e))).on({restoringStop:async()=>{e.disable(),await this.commitAsync(),this.isDestroyed||(e.enable(),this.trigger("stateRestoringDone"))}})}get stm(){return this.$stm}isEngineReady(){return!this.hasPendingAutoCommit&&!this.isPerformingCommit&&this.isInitialCommitPerformed}}return n.applyConfigs=!0,n})){}},"./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"calculateEffectiveStartDateConstraintInterval",(function(){return f})),n.d(t,"calculateEffectiveEndDateConstraintInterval",(function(){return g})),n.d(t,"EarlyLateLazyness",(function(){return m})),n.d(t,"ConstrainedEarlyEventMixin",(function(){return p}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Engine/chrono/Conflict.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/scheduling/DateInterval.js"),c=n("./lib/Engine/scheduling/Types.js"),d=n("./lib/Engine/util/Constants.js"),u=n("./lib/Engine/quark/model/scheduler_basic/HasSubEventsMixin.js"),h=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};const f=function*(e,t,n,r){if(n.isIntervalEmpty())return l.EMPTY_INTERVAL;const i=n.startDateIsFinite()?yield*e.calculateProjectedXDateWithDuration(n.startDate,!1,r):null,o=n.endDateIsFinite()?yield*e.calculateProjectedXDateWithDuration(n.endDate,!1,r):null;return Object(l.intersectIntervals)([t,l.DateInterval.new({startDate:i,endDate:o})])},g=function*(e,t,n,r){if(t.isIntervalEmpty())return l.EMPTY_INTERVAL;const i=t.startDateIsFinite()?yield*e.calculateProjectedXDateWithDuration(t.startDate,!0,r):null,o=t.endDateIsFinite()?yield*e.calculateProjectedXDateWithDuration(t.endDate,!0,r):null;return Object(l.intersectIntervals)([n,l.DateInterval.new({startDate:i,endDate:o})])},m=!0;class p extends(Object(i.Mixin)([u.HasSubEventsMixin],e=>{const t=e.prototype;class n extends e{*maybeSkipNonWorkingTime(e,t=!0){let n=yield*this.calculateEffectiveDuration();return e&&n>0?yield*this.skipNonWorkingTime(e,t):e}*calculateEffectiveConstraintInterval(e,t,n){const r=yield*this.calculateEffectiveDuration();if(null==r)return null;const i=e?f:g;return yield*i(this,Object(l.intersectIntervals)(t),Object(l.intersectIntervals)(n),r)}*calculateStartDateConstraintIntervals(){return[]}*calculateEndDateConstraintIntervals(){return[]}*calculateEarlyStartDateConstraintIntervals(){return[]}*calculateEarlyEndDateConstraintIntervals(){return[]}*calculateEarlyEffectiveStartDateInterval(){const e=yield this.$.earlyStartDateConstraintIntervals,t=yield this.$.earlyEndDateConstraintIntervals;return yield*this.calculateEffectiveConstraintInterval(!0,e.concat(yield this.$.startDateConstraintIntervals),t.concat(yield this.$.endDateConstraintIntervals))}*calculateEarlyEffectiveEndDateInterval(){const e=yield this.$.earlyStartDateConstraintIntervals,t=yield this.$.earlyEndDateConstraintIntervals;return yield*this.calculateEffectiveConstraintInterval(!1,e.concat(yield this.$.startDateConstraintIntervals),t.concat(yield this.$.endDateConstraintIntervals))}*calculateMinChildrenEarlyStartDate(){let e=d.MAX_DATE;const t=yield*this.subEventsIterable();for(let n of t){let t;(yield n.$.manuallyScheduled)&&(yield*n.hasSubEvents())&&(t=yield n.$.minChildrenEarlyStartDate),t=t||(yield n.$.earlyStartDate),t&&t<e&&(e=t)}return e.getTime()-d.MAX_DATE.getTime()?e:null}*calculateMaxChildrenEarlyEndDate(){let e=d.MIN_DATE;const t=yield*this.subEventsIterable();for(let n of t){let t;(yield n.$.manuallyScheduled)&&(yield*n.hasSubEvents())&&(t=yield n.$.maxChildrenEarlyEndDate),t=t||(yield n.$.earlyEndDate),t&&t>e&&(e=t)}return e.getTime()-d.MIN_DATE.getTime()?e:null}*calculateEarlyStartDateRaw(){if((yield this.$.manuallyScheduled)&&(yield this.$.direction)===c.Direction.Forward)return yield this.$.startDate;if(yield*this.hasSubEvents())return yield this.$.minChildrenEarlyStartDate;if(!(yield*this.isConstrainedEarly()))return yield this.$.startDate;const e=yield this.$.earlyEffectiveStartDateInterval;if(null===e)return null;if(e.isIntervalEmpty()){const e=a.ConflictEffect.new();if((yield e)!==a.ConflictResolutionResult.Cancel)return null;yield Object(r.Reject)(e)}return Object(d.isDateFinite)(e.startDate)?e.startDate:null}*calculateEarlyStartDate(){const e=yield this.$.earlyStartDateRaw;return yield*this.maybeSkipNonWorkingTime(e,!0)}*calculateEarlyEndDateRaw(){if((yield this.$.manuallyScheduled)&&(yield this.$.direction)===c.Direction.Forward)return yield this.$.endDate;if(yield*this.hasSubEvents())return yield this.$.maxChildrenEarlyEndDate;if(!(yield*this.isConstrainedEarly()))return yield this.$.endDate;const e=yield this.$.earlyEffectiveEndDateInterval;if(null===e)return null;if(e.isIntervalEmpty()){const e=a.ConflictEffect.new();if((yield e)!==a.ConflictResolutionResult.Cancel)return null;yield Object(r.Reject)(e)}return Object(d.isDateFinite)(e.startDate)?e.startDate:null}*calculateEarlyEndDate(){const e=yield this.$.earlyEndDateRaw;return yield*this.maybeSkipNonWorkingTime(e,!1)}*isConstrainedEarly(){const e=yield this.$.startDateConstraintIntervals,t=yield this.$.endDateConstraintIntervals,n=yield this.$.earlyStartDateConstraintIntervals,r=yield this.$.earlyEndDateConstraintIntervals;return Boolean((null===e||void 0===e?void 0:e.length)||(null===t||void 0===t?void 0:t.length)||(null===n||void 0===n?void 0:n.length)||(null===r||void 0===r?void 0:r.length))}*calculateStartDatePure(){return(yield this.$.direction)===c.Direction.Forward?!(yield*this.isConstrainedEarly())||(yield this.$.manuallyScheduled)?yield*t.calculateStartDatePure.call(this):(yield this.$.earlyStartDate)||(yield*t.calculateStartDatePure.call(this)):yield*t.calculateStartDatePure.call(this)}*calculateStartDateProposed(){switch(yield this.$.direction){case c.Direction.Forward:if(!(yield*this.isConstrainedEarly())||(yield this.$.manuallyScheduled))return yield*t.calculateStartDateProposed.call(this);const e=yield this.$.earlyStartDate;if(e){if(Object(d.isDateFinite)(e))return e;const n=yield*t.calculateStartDateProposed.call(this),r=yield this.$.earlyEffectiveStartDateInterval;return r.containsDate(n)?n:Object(d.isDateFinite)(r.endDate)?r.endDate:n}return yield*t.calculateStartDateProposed.call(this);default:return yield*t.calculateStartDateProposed.call(this)}}*calculateEndDatePure(){return(yield this.$.direction)===c.Direction.Forward?!(yield*this.isConstrainedEarly())||(yield this.$.manuallyScheduled)?yield*t.calculateEndDatePure.call(this):(yield this.$.earlyEndDate)||(yield*t.calculateEndDatePure.call(this)):yield*t.calculateEndDatePure.call(this)}*calculateEndDateProposed(){switch(yield this.$.direction){case c.Direction.Forward:if(!(yield*this.isConstrainedEarly())||(yield this.$.manuallyScheduled))return yield*t.calculateEndDateProposed.call(this);const e=yield this.$.earlyEndDate;if(e){if(Object(d.isDateFinite)(e))return e;const n=yield*t.calculateEndDateProposed.call(this),r=yield this.$.earlyEffectiveEndDateInterval;return r.containsDate(n)?n:Object(d.isDateFinite)(r.endDate)?r.endDate:n}return yield*t.calculateEndDateProposed.call(this);default:return yield*t.calculateEndDateProposed.call(this)}}*calculateDirection(){const e=this.getProject();return yield e.$.direction}}return h([Object(o.field)({lazy:m})],n.prototype,"minChildrenEarlyStartDate",void 0),h([Object(o.field)({lazy:m})],n.prototype,"earlyStartDateRaw",void 0),h([Object(s.model_field)({type:"date",persist:!1},{lazy:m,converter:s.dateConverter,persistent:!1})],n.prototype,"earlyStartDate",void 0),h([Object(o.field)({lazy:m})],n.prototype,"maxChildrenEarlyEndDate",void 0),h([Object(o.field)({lazy:m})],n.prototype,"earlyEndDateRaw",void 0),h([Object(s.model_field)({type:"date",persist:!1},{lazy:m,converter:s.dateConverter,persistent:!1})],n.prototype,"earlyEndDate",void 0),h([Object(o.field)()],n.prototype,"startDateConstraintIntervals",void 0),h([Object(o.field)()],n.prototype,"endDateConstraintIntervals",void 0),h([Object(o.field)({lazy:m})],n.prototype,"earlyStartDateConstraintIntervals",void 0),h([Object(o.field)({lazy:m})],n.prototype,"earlyEndDateConstraintIntervals",void 0),h([Object(o.field)()],n.prototype,"earlyEffectiveStartDateInterval",void 0),h([Object(o.field)()],n.prototype,"earlyEffectiveEndDateInterval",void 0),h([Object(o.calculate)("startDateConstraintIntervals")],n.prototype,"calculateStartDateConstraintIntervals",null),h([Object(o.calculate)("endDateConstraintIntervals")],n.prototype,"calculateEndDateConstraintIntervals",null),h([Object(o.calculate)("earlyStartDateConstraintIntervals")],n.prototype,"calculateEarlyStartDateConstraintIntervals",null),h([Object(o.calculate)("earlyEndDateConstraintIntervals")],n.prototype,"calculateEarlyEndDateConstraintIntervals",null),h([Object(o.calculate)("earlyEffectiveStartDateInterval")],n.prototype,"calculateEarlyEffectiveStartDateInterval",null),h([Object(o.calculate)("earlyEffectiveEndDateInterval")],n.prototype,"calculateEarlyEffectiveEndDateInterval",null),h([Object(o.calculate)("minChildrenEarlyStartDate")],n.prototype,"calculateMinChildrenEarlyStartDate",null),h([Object(o.calculate)("maxChildrenEarlyEndDate")],n.prototype,"calculateMaxChildrenEarlyEndDate",null),h([Object(o.calculate)("earlyStartDateRaw")],n.prototype,"calculateEarlyStartDateRaw",null),h([Object(o.calculate)("earlyStartDate")],n.prototype,"calculateEarlyStartDate",null),h([Object(o.calculate)("earlyEndDateRaw")],n.prototype,"calculateEarlyEndDateRaw",null),h([Object(o.calculate)("earlyEndDate")],n.prototype,"calculateEarlyEndDate",null),h([Object(o.calculate)("direction")],n.prototype,"calculateDirection",null),n})){}},"./lib/Engine/quark/model/scheduler_pro/HasDateConstraintMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasDateConstraintMixin",(function(){return h}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Engine/chrono/ModelFieldAtom.js"),s=n("./lib/Engine/scheduling/DateInterval.js"),l=n("./lib/Engine/scheduling/Types.js"),c=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),d=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class h extends(Object(i.Mixin)([d.ConstrainedEarlyEventMixin,c.HasChildrenMixin],e=>{const t=e.prototype;class n extends e{writeStartDate(e,n,r,i,o=!0){const a=this.getProject();if(n.graph.hasIdentifier(this.$.direction)&&(!a||!a.getStm().isRestoring)){const e=this.getStartDatePinConstraintType();e&&(this.constraintType=e,this.constraintDate=i)}return t.writeStartDate.call(this,e,n,r,i,o)}writeEndDate(e,n,r,i,o=!1){const a=this.getProject();if(n.graph.hasIdentifier(this.$.direction)&&o&&(!a||!a.getStm().isRestoring)){const e=this.getEndDatePinConstraintType();e&&(this.constraintType=e,this.constraintDate=i)}return t.writeEndDate.call(this,e,n,r,i,o)}*calculateConstraintType(){let e=yield r.ProposedOrPrevious;return(yield*this.isConstraintTypeApplicable(e))||(e=null),e}*calculateConstraintDate(e){let t=yield r.ProposedOrPrevious;const n=yield this.$.constraintType;return n?t||(t=this.getConstraintTypeDefaultDate(e,n)):t=null,t}getStartDatePinConstraintType(){const{direction:e}=this;if(!this.isTaskPinnableWithConstraint())return null;switch(e){case l.Direction.Forward:return l.ConstraintType.StartNoEarlierThan;case l.Direction.Backward:return l.ConstraintType.FinishNoLaterThan}}getEndDatePinConstraintType(){const{direction:e}=this;if(!this.isTaskPinnableWithConstraint())return null;switch(e){case l.Direction.Forward:return l.ConstraintType.FinishNoEarlierThan;case l.Direction.Backward:return l.ConstraintType.FinishNoLaterThan}}isTaskPinnableWithConstraint(){const{manuallyScheduled:e,constraintType:t}=this;let n=!1;if(!e)if(t)switch(t){case l.ConstraintType.StartNoEarlierThan:case l.ConstraintType.StartNoLaterThan:case l.ConstraintType.FinishNoEarlierThan:case l.ConstraintType.FinishNoLaterThan:n=!0}else n=!0;return n}getConstraintTypeDefaultDate(e,t){switch(t){case l.ConstraintType.StartNoEarlierThan:case l.ConstraintType.StartNoLaterThan:case l.ConstraintType.MustStartOn:return e(Object(r.ProposedOrPreviousValueOf)(this.$.startDate));case l.ConstraintType.FinishNoEarlierThan:case l.ConstraintType.FinishNoLaterThan:case l.ConstraintType.MustFinishOn:return e(Object(r.ProposedOrPreviousValueOf)(this.$.endDate))}return null}*isConstraintTypeApplicable(e){const t=(yield this.$.childEvents).size>0;switch(e){case l.ConstraintType.FinishNoEarlierThan:case l.ConstraintType.StartNoLaterThan:case l.ConstraintType.MustFinishOn:case l.ConstraintType.MustStartOn:return!t}return!0}async setConstraint(e,t){return this.constraintType=e,void 0!==t&&(this.constraintDate=t),this.commitAsync()}*calculateEndDateConstraintIntervals(){const e=yield*t.calculateEndDateConstraintIntervals.call(this),n=yield this.$.constraintType,r=yield this.$.constraintDate;if(n&&r)switch(n){case l.ConstraintType.MustFinishOn:e.unshift(s.DateInterval.new({startDate:r,endDate:r}));break;case l.ConstraintType.FinishNoEarlierThan:e.unshift(s.DateInterval.new({startDate:r}));break;case l.ConstraintType.FinishNoLaterThan:e.unshift(s.DateInterval.new({endDate:r}))}return e}*calculateStartDateConstraintIntervals(){const e=yield*t.calculateStartDateConstraintIntervals.call(this),n=yield this.$.constraintType,r=yield this.$.constraintDate;if(n&&r)switch(n){case l.ConstraintType.MustStartOn:e.unshift(s.DateInterval.new({startDate:r,endDate:r}));break;case l.ConstraintType.StartNoEarlierThan:e.unshift(s.DateInterval.new({startDate:r}));break;case l.ConstraintType.StartNoLaterThan:e.unshift(s.DateInterval.new({endDate:r}))}return e}}return u([Object(a.model_field)({type:"string"},{sync:!0})],n.prototype,"constraintType",void 0),u([Object(a.model_field)({type:"date"},{converter:a.dateConverter,sync:!0})],n.prototype,"constraintDate",void 0),u([Object(o.calculate)("constraintType")],n.prototype,"calculateConstraintType",null),u([Object(o.calculate)("constraintDate")],n.prototype,"calculateConstraintDate",null),n})){}},"./lib/Engine/quark/model/scheduler_pro/HasPercentDoneMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HasPercentDoneMixin",(function(){return d}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Engine/chrono/ModelFieldAtom.js"),s=n("./lib/Engine/scheduling/Types.js"),l=n("./lib/Engine/quark/model/scheduler_basic/HasChildrenMixin.js"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class d extends(Object(i.Mixin)([l.HasChildrenMixin],e=>{e.prototype;class t extends e{*calculatePercentDone(){const e=yield this.$.childEvents,t=this.getProject(),n=yield t.$.autoCalculatePercentDoneForParentTasks;if(e.size&&n){const e=yield this.$.percentDoneSummaryData;return e.totalDuration>0?e.completedDuration/e.totalDuration:e.milestonesNum>0?e.milestonesTotalPercentDone/e.milestonesNum:null}return yield r.ProposedOrPrevious}*calculatePercentDoneSummaryData(){const e=yield this.$.childEvents;if(e.size){let t={totalDuration:0,completedDuration:0,milestonesNum:0,milestonesTotalPercentDone:0};for(const n of e){const e=yield n.$.percentDoneSummaryData;e&&(t.totalDuration+=e.totalDuration,t.completedDuration+=e.completedDuration,t.milestonesNum+=e.milestonesNum,t.milestonesTotalPercentDone+=e.milestonesTotalPercentDone)}return t}{const e=yield this.$.duration;if("number"==typeof e){const t=yield*this.getProject().$convertDuration(e,yield this.$.durationUnit,s.TimeUnit.Millisecond),n=yield this.$.percentDone;return{totalDuration:t,completedDuration:t*n,milestonesNum:0===t?1:0,milestonesTotalPercentDone:0===t?n:0}}return null}}}return c([Object(a.model_field)({type:"number",defaultValue:0})],t.prototype,"percentDone",void 0),c([Object(o.field)()],t.prototype,"percentDoneSummaryData",void 0),c([Object(o.calculate)("percentDone")],t.prototype,"calculatePercentDone",null),c([Object(o.calculate)("percentDoneSummaryData")],t.prototype,"calculatePercentDoneSummaryData",null),t})){}},"./lib/Engine/quark/model/scheduler_pro/ScheduledByDependenciesEarlyEventMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduledByDependenciesEarlyEventMixin",(function(){return u}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/ChronoGraph/util/Helpers.js"),a=n("./lib/Engine/scheduling/DateInterval.js"),s=n("./lib/Engine/scheduling/Types.js"),l=n("./lib/Engine/quark/model/scheduler_basic/HasDependenciesMixin.js"),c=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(r.Mixin)([c.ConstrainedEarlyEventMixin,l.HasDependenciesMixin],e=>{const t=e.prototype;class n extends e{*calculateEarlyStartDateConstraintIntervals(){const e=yield*t.calculateEarlyStartDateConstraintIntervals.call(this),n=this.getProject();for(const t of yield this.$.incomingDeps){const r=yield t.$.fromEvent,i=yield t.$.active;if(null==r||Object(o.isAtomicValue)(r)||!i)continue;let l;switch(yield t.$.type){case s.DependencyType.EndToStart:const e=yield r.$.earlyEndDateRaw;if(e){const r=yield t.$.lag,i=yield t.$.lagUnit,o=yield t.$.calendar;l=a.DateInterval.new({startDate:o.calculateEndDate(e,yield*n.$convertDuration(r,i,s.TimeUnit.Millisecond)),endDate:null})}break;case s.DependencyType.StartToStart:const i=yield r.$.earlyStartDateRaw;if(i){const e=yield t.$.lag,r=yield t.$.lagUnit,o=yield t.$.calendar;l=a.DateInterval.new({startDate:o.calculateEndDate(i,yield*n.$convertDuration(e,r,s.TimeUnit.Millisecond)),endDate:null})}}l&&e.unshift(l)}return e}*calculateEarlyEndDateConstraintIntervals(){const e=yield*t.calculateEarlyEndDateConstraintIntervals.call(this),n=this.getProject();for(const t of yield this.$.incomingDeps){const r=yield t.$.fromEvent,i=yield t.$.active;if(null==r||Object(o.isAtomicValue)(r)||!i)continue;let l;switch(yield t.$.type){case s.DependencyType.EndToEnd:const e=yield r.$.earlyEndDateRaw;if(e){const r=yield t.$.lag,i=yield t.$.lagUnit,o=yield t.$.calendar;l=a.DateInterval.new({startDate:o.calculateEndDate(e,yield*n.$convertDuration(r,i,s.TimeUnit.Millisecond)),endDate:null})}break;case s.DependencyType.StartToEnd:const i=yield r.$.earlyStartDateRaw;if(i){const e=yield t.$.lag,r=yield t.$.lagUnit,o=yield t.$.calendar;l=a.DateInterval.new({startDate:o.calculateEndDate(i,yield*n.$convertDuration(e,r,s.TimeUnit.Millisecond)),endDate:null})}}l&&e.unshift(l)}return e}}return d([Object(i.calculate)("earlyEndDateIntervals")],n.prototype,"calculateEarlyEndDateConstraintIntervals",null),n})){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProAssignmentMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerProAssignmentMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/chrono/ModelFieldAtom.js"),o=n("./lib/Engine/quark/model/scheduler_basic/BaseAssignmentMixin.js"),a=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class s extends(Object(r.Mixin)([o.BaseAssignmentMixin],e=>{e.prototype;class t extends e{}return a([Object(i.model_field)({type:"number",defaultValue:100})],t.prototype,"units",void 0),t})){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProDependencyMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerProDependencyMixin",(function(){return u}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/ChronoGraph/util/Helpers.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/scheduling/Types.js"),c=n("./lib/Engine/quark/model/scheduler_basic/BaseDependencyMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends(Object(r.Mixin)([c.BaseDependencyMixin],e=>{e.prototype;class t extends e{*calculateCalendar(){const e=this.getProject();let t;switch(yield e.$.dependenciesCalendar){case l.DependenciesCalendar.Project:t=yield e.$.effectiveCalendar;break;case l.DependenciesCalendar.FromEvent:const n=yield this.$.fromEvent;t=n&&!Object(o.isAtomicValue)(n)?yield n.$.effectiveCalendar:null;break;case l.DependenciesCalendar.ToEvent:const r=yield this.$.toEvent;t=r&&!Object(o.isAtomicValue)(r)?yield r.$.effectiveCalendar:null}return t||(t=yield e.$.effectiveCalendar),t}async setLag(e,t){if(this.graph)return this.graph.write(this.$.lag,e,t),this.graph.commitAsync();this.$.lag.DATA=e,null!=t&&(this.$.lagUnit.DATA=t)}writeLag(e,t,n,r,i){e.constructor.prototype.write.call(this,e,t,n,r),null!=i&&t.write(this.$.lagUnit,i)}}return d([Object(s.model_field)({type:"number",defaultValue:0})],t.prototype,"lag",void 0),d([Object(s.model_field)({type:"string",defaultValue:l.TimeUnit.Day},{converter:a.default.normalizeUnit})],t.prototype,"lagUnit",void 0),d([Object(i.field)()],t.prototype,"calendar",void 0),d([Object(s.model_field)({type:"boolean",defaultValue:!0,persist:!1})],t.prototype,"active",void 0),d([Object(i.calculate)("calendar")],t.prototype,"calculateCalendar",null),d([Object(i.write)("lag")],t.prototype,"writeLag",null),t})){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerProEvent",(function(){return d}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicEvent.js"),o=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),a=n("./lib/Engine/quark/model/scheduler_pro/HasDateConstraintMixin.js"),s=n("./lib/Engine/quark/model/scheduler_pro/HasPercentDoneMixin.js"),l=n("./lib/Engine/quark/model/scheduler_pro/ScheduledByDependenciesEarlyEventMixin.js"),c=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProHasAssignmentsMixin.js");class d extends(Object(r.Mixin)([i.SchedulerBasicEvent,a.HasDateConstraintMixin,s.HasPercentDoneMixin,c.SchedulerProHasAssignmentsMixin,o.ConstrainedEarlyEventMixin,l.ScheduledByDependenciesEarlyEventMixin],e=>(e.prototype,class extends e{}))){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProHasAssignmentsMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerProHasAssignmentsMixin",(function(){return d}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/replica/Entity.js"),a=n("./lib/Engine/calendar/CalendarCache.js"),s=n("./lib/Engine/scheduling/Types.js"),l=n("./lib/Engine/quark/model/scheduler_basic/BaseHasAssignmentsMixin.js"),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class d extends(Object(i.Mixin)([l.BaseHasAssignmentsMixin],e=>{const t=e.prototype;class n extends e{async assign(e,t=100){if(this.getAssignmentFor(e))throw new Error("Resource can't be assigned twice to the same task");const n=this.getProject().assignmentStore.modelClass;return this.addAssignment(new n({event:this,resource:e,units:t})),this.commitAsync()}*forEachAvailabilityInterval(e,t){const n=yield this.$.effectiveCalendar,r=yield this.$.assignmentsByCalendar;return(yield this.$.effectiveCalendarsCombination).forEachAvailabilityInterval(e,(i,o,a)=>{const s=a.getCalendarsWorkStatus(),l=a.getCalendarsWorking();if(s.get(n)&&(e.ignoreResourceCalendars||l.some(e=>r.has(e))))return t(i,o,a)})}*calculateEffectiveCalendarsCombination(){const e=[...(yield this.$.assignmentsByCalendar).keys(),yield this.$.effectiveCalendar];return this.getProject().combineCalendars(e)}*calculateAssignmentsByCalendar(){const e=yield this.$.assigned,t=new Map;for(const n of e){const e=yield n.$.resource;if(e){const r=yield e.$.effectiveCalendar;let i=t.get(r);i||(i=[],t.set(r,i)),i.push(n)}}return t}*getBaseOptionsForDurationCalculations(){return{ignoreResourceCalendars:!1}}*skipNonWorkingTime(e,n=!0){if(!e)return null;if((yield this.$.assignmentsByCalendar).size>0){const t=Object.assign(yield*this.getBaseOptionsForDurationCalculations(),n?{startDate:e,isForward:n}:{endDate:e,isForward:n});let i;const o=yield*this.forEachAvailabilityInterval(t,(e,t,r)=>(i=n?e:t,!1));return o!==a.CalendarIteratorResult.MaxRangeReached&&o!==a.CalendarIteratorResult.FullRangeIterated||(yield Object(r.Reject)("Empty calendar")),new Date(i)}return yield*t.skipNonWorkingTime.call(this,e,n)}*calculateProjectedDuration(e,n,r){if(!e||!n)return null;if((yield this.$.assignmentsByCalendar).size>0){const t=Object.assign(yield*this.getBaseOptionsForDurationCalculations(),{startDate:e,endDate:n,isForward:!0});let i=0;return yield*this.forEachAvailabilityInterval(t,(e,t)=>{i+=t.getTime()-e.getTime()}),r||(r=yield this.$.durationUnit),yield*this.getProject().$convertDuration(i,s.TimeUnit.Millisecond,r)}return yield*t.calculateProjectedDuration.call(this,e,n,r)}*calculateProjectedXDateWithDuration(e,t=!0,n){if(null==n||isNaN(n)||null==e)return null;if(0==n)return e;const r=yield this.$.durationUnit,i=yield*this.getProject().$convertDuration(n,r,s.TimeUnit.Millisecond);let o=e.getTime(),a=i;const l=yield this.$.effectiveCalendar;if((yield this.$.assignmentsByCalendar).size>0){const n=Object.assign(yield*this.getBaseOptionsForDurationCalculations(),t?{startDate:e,isForward:t}:{endDate:e,isForward:t});return yield*this.forEachAvailabilityInterval(n,(e,n,r)=>{const i=e.getTime(),s=n.getTime(),l=s-i;if(l>=a)return o=t?i+a:s-a,!1;{const t=e.getTimezoneOffset()-n.getTimezoneOffset();a-=l+60*t*1e3}}),new Date(o)}return l.accumulateWorkingTime(e,i,t).finalDate}}return c([Object(o.field)()],n.prototype,"effectiveCalendarsCombination",void 0),c([Object(o.field)()],n.prototype,"assignmentsByCalendar",void 0),c([Object(o.calculate)("effectiveCalendarsCombination")],n.prototype,"calculateEffectiveCalendarsCombination",null),c([Object(o.calculate)("assignmentsByCalendar")],n.prototype,"calculateAssignmentsByCalendar",null),n})){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProProjectMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerProProjectMixin",(function(){return m}));var r=n("./lib/ChronoGraph/chrono/Effect.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/ChronoGraph/collection/Iterator.js"),a=n("./lib/Engine/chrono/ModelFieldAtom.js"),s=n("./lib/Engine/scheduling/Types.js"),l=n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicProjectMixin.js"),c=n("./lib/Engine/quark/model/scheduler_pro/ConstrainedEarlyEventMixin.js"),d=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProDependencyMixin.js"),u=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProEvent.js"),h=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProAssignmentMixin.js"),f=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProResourceMixin.js"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class m extends(Object(i.Mixin)([l.SchedulerBasicProjectMixin,c.ConstrainedEarlyEventMixin],e=>{e.prototype;class t extends e{*calculateDirection(){return yield r.ProposedOrPrevious}getType(){return s.ProjectType.SchedulerPro}getDefaultEventModelClass(){return u.SchedulerProEvent}getDefaultDependencyModelClass(){return d.SchedulerProDependencyMixin}getDefaultAssignmentModelClass(){return h.SchedulerProAssignmentMixin}getDefaultResourceModelClass(){return f.SchedulerProResourceMixin}async validateDependency(e,t,n,r){let i;return r&&(i=Array.isArray(r)?r:[r]),Object(o.CI)(e.outgoingDeps).some(e=>e.toEvent===t&&!(null===i||void 0===i?void 0:i.includes(e)))?s.DependencyValidationResult.DuplicatingDependency:await this.isDependencyCyclic(e,t,n,i)?s.DependencyValidationResult.CyclicDependency:s.DependencyValidationResult.NoError}async isValidDependency(e,t,n,r){return await this.validateDependency(e,t,n,r)===s.DependencyValidationResult.NoError}getDependencyCycleDetectionIdentifiers(e,t){return[t.$.earlyStartDateConstraintIntervals,t.$.earlyEndDateConstraintIntervals]}async isDependencyCyclic(e,t,n,r){const i=new(0,this.getDependencyStore().modelClass)({fromEvent:e,toEvent:t,type:n}),o=this.replica.branch({autoCommit:!1,onComputationCycle:"throw"});r&&(Array.isArray(r)||(r=[r]),r.forEach(e=>o.removeEntity(e))),o.addEntity(i),i.project=this;try{return await Promise.all(this.getDependencyCycleDetectionIdentifiers(e,t).map(e=>o.readAsync(e))),!1}catch(a){if(/cycle/i.test(a))return!0;throw a}}async isValidDependencyModel(e,t){return this.isValidDependency(e.fromEvent,e.toEvent,e.type,t)}}return g([Object(a.model_field)({type:"string",defaultValue:s.DependenciesCalendar.ToEvent})],t.prototype,"dependenciesCalendar",void 0),g([Object(a.model_field)({type:"boolean",defaultValue:!0})],t.prototype,"autoCalculatePercentDoneForParentTasks",void 0),t})){}},"./lib/Engine/quark/model/scheduler_pro/SchedulerProResourceMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ResourceAllocationEventRangeCalendarIntervalMixin",(function(){return u})),n.d(t,"ResourceAllocationEventRangeCalendarIntervalStore",(function(){return h})),n.d(t,"ResourceAllocationEventRangeCalendar",(function(){return f})),n.d(t,"ResourceAllocationInterval",(function(){return g})),n.d(t,"ResourceAllocationInfo",(function(){return m})),n.d(t,"SchedulerProResourceMixin",(function(){return p}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/calendar/CalendarIntervalMixin.js"),a=n("./lib/Engine/calendar/CalendarIntervalStore.js"),s=n("./lib/Engine/chrono/ModelFieldAtom.js"),l=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js"),c=n("./lib/Engine/quark/model/scheduler_basic/BaseResourceMixin.js"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class u extends o.CalendarIntervalMixin{static get fields(){return[{name:"isWorking",type:"boolean",defaultValue:!0}]}}class h extends a.CalendarIntervalStore{static get defaultConfig(){return{modelClass:u}}}class f extends l.BaseCalendarMixin{get intervalStoreClass(){return h}}d([Object(s.model_field)({type:"boolean",defaultValue:!1})],f.prototype,"unspecifiedTimeIsWorking",void 0);class g extends r.Base{constructor(){super(...arguments),this.assignments=null,this.effort=0,this.maxEffort=0,this.units=0,this.isOverallocated=!1,this.isUnderallocated=!1}}class m extends(i.Entity.mix(r.Base)){*calculateAllocation(){const e=[],t=yield this.ticks,n=yield this.$.resource,r=yield n.$.assigned,i=new Map,o=[];for(const u of r){const e=yield u.$.event;if(yield u.$.units,e){const t=yield e.$.startDate,n=yield e.$.endDate;o.push({startDate:t,endDate:n,assignment:u});const r=yield e.$.effectiveCalendar;let a=i.get(r);a||(a=[],i.set(r,a)),a.push(u)}}const a=new f({intervals:o}),s=[t,a,...i.keys()],l=new Map;let c,d;return t.intervalStore.forEach(t=>{const r=g.new({tick:t,resource:n});l.set(t,r),e.push(r)}),yield*n.forEachAvailabilityInterval({startDate:e[0].tick.startDate,endDate:e[e.length-1].tick.endDate,calendars:s},(e,n,r)=>{const i=r.getCalendarsWorkStatus();if(i.get(t)){const o=r.intervalsByCalendar.get(t)[0],s=n.getTime()-e.getTime(),u=l.get(o),h=u.assignments||new Set;u.assignments||(c=0,d=0);let f,g=0;r.intervalsByCalendar.get(a).forEach(t=>{const r=t.assignment;if(r&&i.get(r.event.effectiveCalendar)){const t=Math.max(e.getTime(),r.event.startDate.getTime()),i=Math.min(n.getTime(),r.event.endDate.getTime());f=i-t,u.effort+=f*r.units/100,g+=r.units,h.add(r)}}),u.maxEffort+=s,g&&(f?(c+=f*g,d+=f,u.units=c/d):c||(u.units=g)),h.size&&(u.assignments=h,u.isOverallocated=u.isOverallocated||g>100,u.isUnderallocated=u.isUnderallocated||g<100)}}),e}}d([Object(i.field)()],m.prototype,"resource",void 0),d([Object(i.field)()],m.prototype,"allocation",void 0),d([Object(i.calculate)("allocation")],m.prototype,"calculateAllocation",null);class p extends(Object(r.Mixin)([c.BaseResourceMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.observers=new Set,this.entities=new Set}leaveGraph(e){const{graph:n}=this;for(const t of this.entities)n.removeEntity(t);for(const t of this.observers)n.removeIdentifier(t);t.leaveGraph.call(this,e)}*forEachAvailabilityInterval(e,t){const n=yield this.$.effectiveCalendar;return this.getProject().combineCalendars([n].concat(e.calendars||[])).forEachAvailabilityInterval(e,(e,r,i)=>{if(i.getCalendarsWorkStatus().get(n))return t(e,r,i)})}}})){}},"./lib/Engine/quark/store/AbstractAssignmentStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractAssignmentStoreMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js"),o=n("./lib/Engine/util/Functions.js");class a extends(Object(r.Mixin)([i.AbstractPartOfProjectStoreMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set,this.allAssignmentsForRemoval=!1}remove(e,n){this.assignmentsForRemoval=Object(o.CIFromSetOrArrayOrValue)(e).toSet();const r=t.remove.call(this,e);return this.assignmentsForRemoval.clear(),r}removeAll(e){this.allAssignmentsForRemoval=!0;const n=t.removeAll.call(this,e);return this.allAssignmentsForRemoval=!1,n}}})){}},"./lib/Engine/quark/store/AbstractCalendarManagerStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractCalendarManagerStoreMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectStoreMixin],e=>(e.prototype,class extends e{doDestroy(){const e=[];this.traverse(t=>e.push(t)),super.doDestroy(),e.forEach(e=>e.destroy())}}))){}},"./lib/Engine/quark/store/AbstractDependencyStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractDependencyStoreMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js"),o=n("./lib/Engine/util/Functions.js");class a extends(Object(r.Mixin)([i.AbstractPartOfProjectStoreMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.dependenciesForRemoval=new Set,this.allDependenciesForRemoval=!1}remove(e,n){this.dependenciesForRemoval=Object(o.CIFromSetOrArrayOrValue)(e).toSet();const r=t.remove.call(this,e);return this.dependenciesForRemoval.clear(),r}removeAll(e){this.allDependenciesForRemoval=!0;const n=t.removeAll.call(this,e);return this.allDependenciesForRemoval=!1,n}}})){}},"./lib/Engine/quark/store/AbstractEventStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractEventStoreMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectStoreMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set,this.dependenciesForRemoval=new Set}onDataChange(e){var t;super.onDataChange(e),(null===(t=e.removed)||void 0===t?void 0:t.length)&&this.afterEventRemoval()}remove(e,n){const r=t.remove.call(this,e);return this.afterEventRemoval(),r}removeAll(e){const n=t.removeAll.call(this,e);return this.afterEventRemoval(),n}afterEventRemoval(){const{assignmentsForRemoval:e,dependenciesForRemoval:t}=this;if(!e)return;const n=this.getAssignmentStore();if(n&&!n.allAssignmentsForRemoval&&e.size){const t=[...e].filter(e=>!n.assignmentsForRemoval.has(e));t.length>0&&n.remove(t)}e.clear();const r=this.getDependencyStore();if(r&&!r.allDependenciesForRemoval&&t.size){const e=[...t].filter(e=>!r.dependenciesForRemoval.has(e));e.length>0&&r.remove(e)}t.clear()}processRecord(e,t=!1){var n;if(!(null===(n=this.project)||void 0===n?void 0:n.isRepopulatingStores)){const t=this.getById(e.id);if(t&&t!==e)for(const n of t.assigned)n.event=e}return e}}})){}},"./lib/Engine/quark/store/AbstractResourceStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractResourceStoreMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/Mixin.js"),i=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class o extends(Object(r.Mixin)([i.AbstractPartOfProjectStoreMixin],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set}onDataChange(e){var t;super.onDataChange(e),(null===(t=e.removed)||void 0===t?void 0:t.length)&&this.afterResourceRemoval()}remove(e,n){const r=t.remove.call(this,e);return this.afterResourceRemoval(),r}removeAll(e){const n=t.removeAll.call(this,e);return this.afterResourceRemoval(),n}afterResourceRemoval(){const e=this.getAssignmentStore();if(e&&!e.allAssignmentsForRemoval){const t=[...this.assignmentsForRemoval].filter(t=>!e.assignmentsForRemoval.has(t));t.length>0&&e.remove(t)}this.assignmentsForRemoval.clear()}processRecord(e,t=!1){const n=this.getById(e.id);if(n&&n!==e)for(const r of n.assigned)r.resource=e;return e}}})){}},"./lib/Engine/quark/store/ChronoAssignmentStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoAssignmentStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseAssignmentMixin.js"),o=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractAssignmentStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractAssignmentStoreMixin,o.ChronoPartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:i.BaseAssignmentMixin}}set data(e){this.allAssignmentsForRemoval=!0,super.data=e,this.allAssignmentsForRemoval=!1}}))){}},"./lib/Engine/quark/store/ChronoCalendarManagerStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoCalendarManagerStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js"),o=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractCalendarManagerStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractCalendarManagerStoreMixin,o.ChronoPartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{tree:!0,modelClass:i.BaseCalendarMixin}}}))){}},"./lib/Engine/quark/store/ChronoDependencyStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoDependencyStoreMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),o=n("./lib/Engine/quark/store/AbstractDependencyStoreMixin.js");class a extends(Object(r.Mixin)([o.AbstractDependencyStoreMixin,i.ChronoPartOfProjectStoreMixin],e=>(e.prototype,class extends e{set data(e){this.allDependenciesForRemoval=!0,super.data=e,this.allDependenciesForRemoval=!1}}))){}},"./lib/Engine/quark/store/ChronoEventStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoEventStoreMixin",(function(){return s})),n.d(t,"ChronoEventTreeStoreMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicEvent.js"),o=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractEventStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractEventStoreMixin,o.ChronoPartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:i.SchedulerBasicEvent}}set data(e){super.data=e,this.afterEventRemoval()}}))){}class l extends(Object(r.Mixin)([s],e=>(e.prototype,class extends e{buildRootNode(){return this.getProject()||{}}static get defaultConfig(){return{tree:!0}}}))){}},"./lib/Engine/quark/store/ChronoResourceStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoResourceStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_basic/BaseResourceMixin.js"),o=n("./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractResourceStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractResourceStoreMixin,o.ChronoPartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:i.BaseResourceMixin}}}))){}},"./lib/Engine/quark/store/CoreAssignmentStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreAssignmentStoreMixin",(function(){return l}));var r=n("./lib/Engine/quark/model/scheduler_core/CoreAssignmentMixin.js"),i=n("./lib/ChronoGraph/class/BetterMixin.js"),o=n("./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractAssignmentStoreMixin.js");const s=new Set;class l extends(Object(i.Mixin)([a.AbstractAssignmentStoreMixin,o.CorePartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:r.CoreAssignmentMixin,storage:{extraKeys:[{property:"event",unique:!1},{property:"resource",unique:!1}]}}}set data(e){this.allAssignmentsForRemoval=!0,super.data=e,this.allAssignmentsForRemoval=!1}getEventsAssignments(e){return this.storage.findItem("event",e)||s}getResourcesAssignments(e){return this.storage.findItem("resource",e)||s}updateIndices(){this.storage.rebuildIndices()}invalidateIndices(){this.storage.invalidateIndices()}linkAssignments(e,t){const n=this.count&&this.storage.findItem(t,null);if(n){for(const r of n){const n=e.getById(r.getCurrentOrProposed(t));n&&r.setChanged(t,n)}this.invalidateIndices()}}unlinkAssignments(e){this.forEach(t=>{var n,r,i;return t.setChanged(e,null!==(i=null!==(r=null===(n=t[e])||void 0===n?void 0:n.id)&&void 0!==r?r:t[e])&&void 0!==i?i:t[e+"Id"])}),this.invalidateIndices()}onCommitAsync(){this.updateIndices()}}))){}},"./lib/Engine/quark/store/CoreCalendarManagerStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreCalendarManagerStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreCalendarMixin.js"),a=n("./lib/Engine/quark/store/AbstractCalendarManagerStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractCalendarManagerStoreMixin,i.CorePartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{tree:!0,modelClass:o.CoreCalendarMixin}}}))){}},"./lib/Engine/quark/store/CoreDependencyStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreDependencyStoreMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreDependencyMixin.js"),a=n("./lib/Engine/quark/store/AbstractDependencyStoreMixin.js");const s=new Set;class l extends(Object(r.Mixin)([a.AbstractDependencyStoreMixin,i.CorePartOfProjectStoreMixin],e=>(e.prototype,class extends e{constructor(){super(...arguments),this.dependenciesForRemoval=new Set,this.allDependenciesForRemoval=!1}static get defaultConfig(){return{modelClass:o.CoreDependencyMixin,storage:{extraKeys:[{property:"fromEvent",unique:!1},{property:"toEvent",unique:!1}]}}}getIncomingDepsForEvent(e){return this.storage.findItem("toEvent",e)||s}getOutgoingDepsForEvent(e){return this.storage.findItem("fromEvent",e)||s}set data(e){this.allDependenciesForRemoval=!0,super.data=e,this.allDependenciesForRemoval=!1}updateIndices(){this.storage.rebuildIndices()}invalidateIndices(){this.storage.invalidateIndices()}onCommitAsync(){this.updateIndices()}}))){}},"./lib/Engine/quark/store/CoreEventStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreEventStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/model/scheduler_core/SchedulerCoreEvent.js"),o=n("./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js"),a=n("./lib/Engine/quark/store/AbstractEventStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractEventStoreMixin,o.CorePartOfProjectStoreMixin],e=>(e.prototype,class extends e{static get defaultConfig(){return{modelClass:i.SchedulerCoreEvent}}joinProject(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"event")}afterLoadData(){var e;this.afterEventRemoval(),null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"event")}}))){}},"./lib/Engine/quark/store/CoreResourceStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreResourceStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js"),o=n("./lib/Engine/quark/model/scheduler_core/CoreResourceMixin.js"),a=n("./lib/Engine/quark/store/AbstractResourceStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractResourceStoreMixin,i.CorePartOfProjectStoreMixin],e=>{const t=e.prototype;return class extends e{static get defaultConfig(){return{modelClass:o.CoreResourceMixin}}joinProject(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"resource")}afterLoadData(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"resource")}clear(e){var n;t.clear.call(this,e),null===(n=this.assignmentStore)||void 0===n||n.unlinkAssignments("resource")}}})){}},"./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractPartOfProjectStoreMixin",(function(){return a}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/AbstractPartOfProjectGenericMixin.js"),o=n("./lib/Core/data/Store.js");class a extends(Object(r.Mixin)([i.AbstractPartOfProjectGenericMixin,o.default],e=>{const t=e.prototype;return class extends e{constructor(){super(...arguments),this.isLoadingData=!1}construct(e={}){return e.asyncEvents={add:!0,remove:!0,removeAll:!0,change:!0,refresh:!0,replace:!0,move:!0,update:!0},t.construct.call(this,e)}trigger(e,n){const r=this,{asyncEvents:i,project:o}=r,a=null===i||void 0===i?void 0:i[e];return a&&(!0===a||a[n.action])?(t.trigger.call(r,e+"PreCommit",Object.assign({},n)),!o||o.isEngineReady()&&!o.isWritingData?t.trigger.call(r,e,n):r.eventsSuspended||null===o||void 0===o||o.on({dataReady(){t.trigger.call(r,e,n)},once:!0,thisObj:this}),!0):t.trigger.call(r,e,n)}calculateProject(){return this.project}setStoreData(e){var n;this.project&&(this.project.hasLoadedDataToCommit=!0),this.isLoadingData=!0,t.setStoreData.call(this,e),this.isLoadingData=!1,null===(n=this.project)||void 0===n||n.trigger("storeRefresh",{store:this})}async doAutoCommit(){this.suspendCount<=0&&this.project&&!this.project.isEngineReady()&&await this.project.commitAsync(),t.doAutoCommit.call(this)}async addAsync(e,t){const n=this.add(e,t);return await this.project.commitAsync(),n}async insertAsync(e,t,n){const r=this.insert(e,t,n);return await this.project.commitAsync(),r}async loadDataAsync(e){this.data=e,await this.project.commitAsync()}}})){}},"./lib/Engine/quark/store/mixin/ChronoPartOfProjectStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoPartOfProjectStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/ChronoPartOfProjectGenericMixin.js"),o=n("./lib/Engine/quark/store/mixin/ChronoStoreMixin.js"),a=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractPartOfProjectStoreMixin,i.ChronoPartOfProjectGenericMixin,o.ChronoStoreMixin],e=>{const t=e.prototype;return class extends e{setStoreData(e){var n;null===(n=this.project)||void 0===n||n.repopulateStore(this),t.setStoreData.call(this,e)}}})){}},"./lib/Engine/quark/store/mixin/ChronoStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChronoStoreMixin",(function(){return o}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Core/data/Store.js");class o extends(Object(r.Mixin)([i.default],e=>class extends e{})){}},"./lib/Engine/quark/store/mixin/CorePartOfProjectStoreMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CorePartOfProjectStoreMixin",(function(){return s}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/quark/CorePartOfProjectGenericMixin.js"),o=n("./lib/Core/data/Store.js"),a=n("./lib/Engine/quark/store/mixin/AbstractPartOfProjectStoreMixin.js");class s extends(Object(r.Mixin)([a.AbstractPartOfProjectStoreMixin,i.CorePartOfProjectGenericMixin,o.default],e=>{const t=e.prototype;return class extends e{setProject(e){const n=t.setProject.call(this,e);return e&&this.joinProject(e),n}joinProject(e){}onCommitAsync(){}}})){}},"./lib/Engine/scheduling/DateInterval.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DateInterval",(function(){return a})),n.d(t,"EMPTY_INTERVAL",(function(){return s})),n.d(t,"intersectIntervals",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/Engine/util/Constants.js"),o=n("./lib/Engine/util/Types.js");class a extends r.Base{initialize(...e){super.initialize(...e),this.startDate||(this.startDate=i.MIN_DATE),this.endDate||(this.endDate=i.MAX_DATE)}equalTo(e){return this.startDate.getTime()===e.startDate.getTime()&&this.endDate.getTime()===e.endDate.getTime()}startDateIsFinite(){return!this.isIntervalEmpty()&&this.startDate.getTime()!==i.MIN_DATE.getTime()}endDateIsFinite(){return!this.isIntervalEmpty()&&this.endDate.getTime()!==i.MAX_DATE.getTime()}containsDate(e,t=o.EdgeInclusion.Left){return t===o.EdgeInclusion.Left&&e>=this.startDate&&e<this.endDate||t===o.EdgeInclusion.Right&&e>this.startDate&&e<=this.endDate}isIntervalEmpty(){return this.startDate>this.endDate}intersect(e){const t=e.startDate,n=e.endDate,r=this.startDate,i=this.endDate;if(i<t||r>n)return s;const o=new Date(Math.max(r.getTime(),t.getTime())),a=new Date(Math.min(i.getTime(),n.getTime()));return this.constructor.new({startDate:o,endDate:a})}intersectMut(e){const t=e.startDate,n=e.endDate,r=this.startDate,o=this.endDate;return o<t||r>n?(this.startDate=i.MAX_DATE,this.endDate=i.MIN_DATE,this):(this.startDate=new Date(Math.max(r.getTime(),t.getTime())),this.endDate=new Date(Math.min(o.getTime(),n.getTime())),this)}}const s=a.new({startDate:i.MAX_DATE,endDate:i.MIN_DATE}),l=e=>e.reduce((e,t)=>e.intersectMut(t),a.new())},"./lib/Engine/scheduling/DurationConverterMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DurationConverterMixin",(function(){return l}));var r=n("./lib/ChronoGraph/class/BetterMixin.js"),i=n("./lib/ChronoGraph/replica/Entity.js"),o=n("./lib/Engine/chrono/ChronoModelMixin.js"),a=n("./lib/Engine/chrono/ModelFieldAtom.js"),s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};class l extends(Object(r.Mixin)([o.ChronoModelMixin],e=>{e.prototype;class t extends e{*calculateUnitsInMs(){const e=yield this.$.hoursPerDay,t=yield this.$.daysPerWeek,n=yield this.$.daysPerMonth;return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:60*e*60*1e3,week:t*e*60*60*1e3,month:n*e*60*60*1e3,quarter:3*n*e*60*60*1e3,year:12*n*e*60*60*1e3}}convertDuration(e,t,n){let r=e;return t!==n&&(r=e*this.unitsInMs[t]/this.unitsInMs[n]),r}*$convertDuration(e,t,n){if(!t||!n)throw new Error("Conversion unit not provided");const r=yield this.$.unitsInMs;let i=e;return t!==n&&(i=e*r[t]/r[n]),i}}return s([Object(i.field)()],t.prototype,"unitsInMs",void 0),s([Object(a.model_field)({type:"number",defaultValue:24})],t.prototype,"hoursPerDay",void 0),s([Object(a.model_field)({type:"number",defaultValue:7})],t.prototype,"daysPerWeek",void 0),s([Object(a.model_field)({type:"number",defaultValue:30})],t.prototype,"daysPerMonth",void 0),s([Object(i.calculate)("unitsInMs")],t.prototype,"calculateUnitsInMs",null),t})){}},"./lib/Engine/scheduling/Types.js":function(e,t,n){"use strict";var r,i,o,a,s,l,c,d;n.r(t),n.d(t,"TimeUnit",(function(){return r})),n.d(t,"ConstraintType",(function(){return i})),n.d(t,"SchedulingMode",(function(){return o})),n.d(t,"DependencyValidationResult",(function(){return a})),n.d(t,"DependencyType",(function(){return s})),n.d(t,"DependenciesCalendar",(function(){return l})),n.d(t,"ProjectType",(function(){return c})),n.d(t,"Direction",(function(){return d})),function(e){e.Millisecond="millisecond",e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day",e.Week="week",e.Month="month",e.Quarter="quarter",e.Year="year"}(r||(r={})),function(e){e.MustStartOn="muststarton",e.MustFinishOn="mustfinishon",e.StartNoEarlierThan="startnoearlierthan",e.StartNoLaterThan="startnolaterthan",e.FinishNoEarlierThan="finishnoearlierthan",e.FinishNoLaterThan="finishnolaterthan"}(i||(i={})),function(e){e.Normal="Normal",e.FixedDuration="FixedDuration",e.FixedEffort="FixedEffort",e.FixedUnits="FixedUnits"}(o||(o={})),function(e){e[e.NoError=0]="NoError",e[e.CyclicDependency=1]="CyclicDependency",e[e.DuplicatingDependency=2]="DuplicatingDependency"}(a||(a={})),function(e){e[e.StartToStart=0]="StartToStart",e[e.StartToEnd=1]="StartToEnd",e[e.EndToStart=2]="EndToStart",e[e.EndToEnd=3]="EndToEnd"}(s||(s={})),function(e){e.Project="Project",e.FromEvent="FromEvent",e.ToEvent="ToEvent"}(l||(l={})),function(e){e[e.SchedulerBasic=1]="SchedulerBasic",e[e.SchedulerPro=2]="SchedulerPro",e[e.Gantt=3]="Gantt"}(c||(c={})),function(e){e.Forward="Forward",e.Backward="Backward",e.None="None"}(d||(d={}))},"./lib/Engine/util/BinarySearch.js":function(e,t,n){"use strict";n.r(t),n.d(t,"binarySearch",(function(){return r}));const r=(e,t,n=((e,t)=>e-t))=>{let r=0,i=t.length;for(;r<i;){const o=(r+i)/2|0,a=n(e,t[o]);if(0===a)return{found:!0,index:o};a<0?i=o:r=o+1}return{found:!1,index:i}}},"./lib/Engine/util/Constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MIN_DATE",(function(){return r})),n.d(t,"MAX_DATE",(function(){return i})),n.d(t,"isDateFinite",(function(){return o}));const r=new Date(-864e13),i=new Date(864e13),o=e=>{if(!e)return!1;const t=e.getTime();return t!==r.getTime()&&t!==i.getTime()}},"./lib/Engine/util/Functions.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isNotNumber",(function(){return i})),n.d(t,"CIFromSetOrArrayOrValue",(function(){return o})),n.d(t,"delay",(function(){return a}));var r=n("./lib/ChronoGraph/collection/Iterator.js");const i=e=>Number(e)!==e,o=e=>e instanceof Set||e instanceof Array?Object(r.CI)(e):Object(r.CI)([e]),a=e=>new Promise(t=>setTimeout(t,e))},"./lib/Engine/util/StripDuplicates.js":function(e,t,n){"use strict";n.r(t),n.d(t,"stripDuplicates",(function(){return r}));const r=e=>Array.from(new Set(e))},"./lib/Engine/util/Types.js":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"EdgeInclusion",(function(){return r})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(r||(r={}))},"./lib/Engine/vendor/later/later.js":function(e,t,n){"use strict";n.r(t),n.d(t,"later",(function(){return r}));const r=function(){var e={version:"1.2.0"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.array={},e.array.sort=function(e,t){e.sort((function(e,t){return+e-+t})),t&&0===e[0]&&e.push(e.shift())},e.array.next=function(e,t,n){for(var r,i=0!==n[0],o=0,a=t.length-1;a>-1;--a){if((r=t[a])===e)return r;if(!(r>e||0===r&&i&&n[1]>e))break;o=a}return t[o]},e.array.nextInvalid=function(e,t,n){for(var r=n[0],i=n[1],o=t.length,a=0===t[o-1]&&0!==r?i:0,s=e,l=t.indexOf(e),c=s;s===(t[l]||a);)if(++s>i&&(s=r),++l===o&&(l=0),s===c)return;return s},e.array.prev=function(e,t,n){for(var r,i=t.length,o=0!==n[0],a=i-1,s=0;s<i;s++){if((r=t[s])===e)return r;if(!(r<e||0===r&&o&&n[1]<e))break;a=s}return t[a]},e.array.prevInvalid=function(e,t,n){for(var r=n[0],i=n[1],o=t.length,a=0===t[o-1]&&0!==r?i:0,s=e,l=t.indexOf(e),c=s;s===(t[l]||a);)if(--s<r&&(s=i),-1===--l&&(l=o-1),s===c)return;return s},e.day=e.D={name:"day",range:86400,val:function(t){return t.D||(t.D=e.date.getDate.call(t))},isValid:function(t,n){return e.D.val(t)===(n||e.D.extent(t)[1])},extent:function(t){if(t.DExtent)return t.DExtent;var n=e.M.val(t),r=e.DAYS_IN_MONTH[n-1];return 2===n&&366===e.dy.extent(t)[1]&&(r+=1),t.DExtent=[1,r]},start:function(t){return t.DStart||(t.DStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)))},end:function(t){return t.DEnd||(t.DEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)))},next:function(t,n){n=n>e.D.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.D,e.M),i=e.D.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.D,e.M),i=e.D.extent(r)[1];return e.date.prev(e.Y.val(r),e.M.val(r),n>i?i:n||i)}},e.dayOfWeekCount=e.dc={name:"day of week count",range:604800,val:function(t){return t.dc||(t.dc=Math.floor((e.D.val(t)-1)/7)+1)},isValid:function(t,n){return e.dc.val(t)===n||0===n&&e.D.val(t)>e.D.extent(t)[1]-7},extent:function(t){return t.dcExtent||(t.dcExtent=[1,Math.ceil(e.D.extent(t)[1]/7)])},start:function(t){return t.dcStart||(t.dcStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(1,7*(e.dc.val(t)-1)+1||1)))},end:function(t){return t.dcEnd||(t.dcEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(7*e.dc.val(t),e.D.extent(t)[1])))},next:function(t,n){n=n>e.dc.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dc,e.M);n=n>e.dc.extent(r)[1]?1:n;var i=e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1));return i.getTime()<=t.getTime()?(r=e.M.next(t,e.M.val(t)+1),e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1))):i},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dc,e.M),i=e.dc.extent(r)[1];return n=n>i?i:n||i,e.dc.end(e.date.prev(e.Y.val(r),e.M.val(r),1+7*(n-1)))}},e.dayOfWeek=e.dw=e.d={name:"day of week",range:86400,val:function(t){return t.dw||(t.dw=e.date.getDay.call(t)+1)},isValid:function(t,n){return e.dw.val(t)===(n||7)},extent:function(){return[1,7]},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){return n=n>7?1:n||7,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n<=e.dw.val(t)?7:0))},prev:function(t,n){return n=n>7?7:n||7,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n>=e.dw.val(t)?-7:0))}},e.dayOfYear=e.dy={name:"day of year",range:86400,val:function(t){return t.dy||(t.dy=Math.ceil(1+(e.D.start(t).getTime()-e.Y.start(t).getTime())/e.DAY))},isValid:function(t,n){return e.dy.val(t)===(n||e.dy.extent(t)[1])},extent:function(t){var n=e.Y.val(t);return t.dyExtent||(t.dyExtent=[1,n%4?365:366])},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){n=n>e.dy.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dy,e.Y),i=e.dy.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dy,e.Y),i=e.dy.extent(r)[1];return n=n>i?i:n||i,e.date.prev(e.Y.val(r),e.M.val(r),n)}},e.hour=e.h={name:"hour",range:3600,val:function(t){return t.h||(t.h=e.date.getHour.call(t))},isValid:function(t,n){return e.h.val(t)===n},extent:function(){return[0,23]},start:function(t){return t.hStart||(t.hStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},end:function(t){return t.hEnd||(t.hEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},next:function(t,n){n=n>23?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.h.val(t)?1:0),n);return!e.date.isUTC&&r.getTime()<=t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),n+1)),r},prev:function(t,n){return n=n>23?23:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.h.val(t)?-1:0),n)}},e.minute=e.m={name:"minute",range:60,val:function(t){return t.m||(t.m=e.date.getMin.call(t))},isValid:function(t,n){return e.m.val(t)===n},extent:function(e){return[0,59]},start:function(t){return t.mStart||(t.mStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},end:function(t){return t.mEnd||(t.mEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},next:function(t,n){var r=e.m.val(t),i=e.s.val(t),o=n>59?60-r:n<=r?60-r+n:n-r,a=new Date(t.getTime()+o*e.MIN-i*e.SEC);return!e.date.isUTC&&a.getTime()<=t.getTime()&&(a=new Date(t.getTime()+(o+120)*e.MIN-i*e.SEC)),a},prev:function(t,n){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)+(n>=e.m.val(t)?-1:0),n)}},e.month=e.M={name:"month",range:2629740,val:function(t){return t.M||(t.M=e.date.getMonth.call(t)+1)},isValid:function(t,n){return e.M.val(t)===(n||12)},extent:function(){return[1,12]},start:function(t){return t.MStart||(t.MStart=e.date.next(e.Y.val(t),e.M.val(t)))},end:function(t){return t.MEnd||(t.MEnd=e.date.prev(e.Y.val(t),e.M.val(t)))},next:function(t,n){return n=n>12?1:n||12,e.date.next(e.Y.val(t)+(n>e.M.val(t)?0:1),n)},prev:function(t,n){return n=n>12?12:n||12,e.date.prev(e.Y.val(t)-(n>=e.M.val(t)?1:0),n)}},e.second=e.s={name:"second",range:1,val:function(t){return t.s||(t.s=e.date.getSec.call(t))},isValid:function(t,n){return e.s.val(t)===n},extent:function(){return[0,59]},start:function(e){return e},end:function(e){return e},next:function(t,n){var r=e.s.val(t),i=n>59?60-r:n<=r?60-r+n:n-r,o=new Date(t.getTime()+i*e.SEC);return!e.date.isUTC&&o.getTime()<=t.getTime()&&(o=new Date(t.getTime()+(i+7200)*e.SEC)),o},prev:function(t,n,r){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)+(n>=e.s.val(t)?-1:0),n)}},e.time=e.t={name:"time",range:1,val:function(t){return t.t||(t.t=3600*e.h.val(t)+60*e.m.val(t)+e.s.val(t))},isValid:function(t,n){return e.t.val(t)===n},extent:function(){return[0,86399]},start:function(e){return e},end:function(e){return e},next:function(t,n){n=n>86399?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.t.val(t)?1:0),0,0,n);return!e.date.isUTC&&r.getTime()<t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),e.h.val(r),e.m.val(r),n+7200)),r},prev:function(t,n){return n=n>86399?86399:n,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.t.val(t)?-1:0),0,0,n)}},e.weekOfMonth=e.wm={name:"week of month",range:604800,val:function(t){return t.wm||(t.wm=(e.D.val(t)+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(t)))/7)},isValid:function(t,n){return e.wm.val(t)===(n||e.wm.extent(t)[1])},extent:function(t){return t.wmExtent||(t.wmExtent=[1,(e.D.extent(t)[1]+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(e.M.end(t))))/7])},start:function(t){return t.wmStart||(t.wmStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(e.D.val(t)-e.dw.val(t)+1,1)))},end:function(t){return t.wmEnd||(t.wmEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(e.D.val(t)+(7-e.dw.val(t)),e.D.extent(t)[1])))},next:function(t,n){n=n>e.wm.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.wm,e.M),i=e.wm.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2)))},prev:function(t,n){var r=e.date.prevRollover(t,n,e.wm,e.M),i=e.wm.extent(r)[1];return n=n>i?i:n||i,e.wm.end(e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2))))}},e.weekOfYear=e.wy={name:"week of year (ISO)",range:604800,val:function(t){if(t.wy)return t.wy;var n=e.dw.next(e.wy.start(t),5),r=e.dw.next(e.Y.prev(n,e.Y.val(n)-1),5);return t.wy=1+Math.ceil((n.getTime()-r.getTime())/e.WEEK)},isValid:function(t,n){return e.wy.val(t)===(n||e.wy.extent(t)[1])},extent:function(t){if(t.wyExtent)return t.wyExtent;var n=e.dw.next(e.wy.start(t),5),r=e.dw.val(e.Y.start(n)),i=e.dw.val(e.Y.end(n));return t.wyExtent=[1,5===r||5===i?53:52]},start:function(t){return t.wyStart||(t.wyStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)-(e.dw.val(t)>1?e.dw.val(t)-2:6)))},end:function(t){return t.wyEnd||(t.wyEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(e.dw.val(t)>1?8-e.dw.val(t):0)))},next:function(t,n){n=n>e.wy.extent(t)[1]?1:n;var r=e.dw.next(e.wy.start(t),5),i=e.date.nextRollover(r,n,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var o=e.wy.extent(i)[1],a=e.wy.start(i);return n=n>o?1:n||o,e.date.next(e.Y.val(a),e.M.val(a),e.D.val(a)+7*(n-1))},prev:function(t,n){var r=e.dw.next(e.wy.start(t),5),i=e.date.prevRollover(r,n,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var o=e.wy.extent(i)[1],a=e.wy.end(i);return n=n>o?o:n||o,e.wy.end(e.date.next(e.Y.val(a),e.M.val(a),e.D.val(a)+7*(n-1)))}},e.year=e.Y={name:"year",range:31556900,val:function(t){return t.Y||(t.Y=e.date.getYear.call(t))},isValid:function(t,n){return e.Y.val(t)===n},extent:function(){return[1970,2099]},start:function(t){return t.YStart||(t.YStart=e.date.next(e.Y.val(t)))},end:function(t){return t.YEnd||(t.YEnd=e.date.prev(e.Y.val(t)))},next:function(t,n){return n>e.Y.val(t)&&n<=e.Y.extent()[1]?e.date.next(n):e.NEVER},prev:function(t,n){return n<e.Y.val(t)&&n>=e.Y.extent()[0]?e.date.prev(n):e.NEVER}},e.fullDate=e.fd={name:"full date",range:1,val:function(e){return e.fd||(e.fd=e.getTime())},isValid:function(t,n){return e.fd.val(t)===n},extent:function(){return[0,3250368e7]},start:function(e){return e},end:function(e){return e},next:function(t,n){return e.fd.val(t)<n?new Date(n):e.NEVER},prev:function(t,n){return e.fd.val(t)>n?new Date(n):e.NEVER}},e.modifier={},e.modifier.after=e.modifier.a=function(e,t){var n=t[0];return{name:"after "+e.name,range:(e.extent(new Date)[1]-n)*e.range,val:e.val,isValid:function(e,t){return this.val(e)>=n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r!=n&&(r=e.extent(t)[0]),e.next(t,r)},prev:function(t,r){return r=r===n?e.extent(t)[1]:n-1,e.prev(t,r)}}},e.modifier.before=e.modifier.b=function(e,t){var n=t[t.length-1];return{name:"before "+e.name,range:e.range*(n-1),val:e.val,isValid:function(e,t){return this.val(e)<n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r=r===n?e.extent(t)[0]:n,e.next(t,r)},prev:function(t,r){return r=r===n?n-1:e.extent(t)[1],e.prev(t,r)}}},e.compile=function(t){var n,r=[],i=0;for(var o in t){var a=o.split("_"),s=a[0],l=a[1],c=t[o],d=l?e.modifier[l](e[s],c):e[s];r.push({constraint:d,vals:c}),i++}return r.sort((function(e,t){var n=e.constraint.range,r=t.constraint.range;return r<n?-1:r>n?1:0})),n=r[i-1].constraint,{start:function(t,o){for(var a,s=o,l=e.array[t],c=1e3;c--&&!a&&s;){a=!0;for(var d=0;d<i;d++){var u=r[d].constraint,h=u.val(s),f=u.extent(s),g=l(h,r[d].vals,f);if(!u.isValid(s,g)){s=u[t](s,g),a=!1;break}}}return s!==e.NEVER&&(s="next"===t?n.start(s):n.end(s)),s},end:function(t,n){for(var o,a=e.array[t+"Invalid"],s=function(e){return"next"===e?function(e,t){return e.getTime()>t.getTime()}:function(e,t){return t.getTime()>e.getTime()}}(t),l=i-1;l>=0;l--){var c,d=r[l].constraint,u=d.val(n),h=d.extent(n),f=a(u,r[l].vals,h);void 0!==f&&(!(c=d[t](n,f))||o&&!s(o,c)||(o=c))}return o},tick:function(t,r){return new Date("next"===t?n.end(r).getTime()+e.SEC:n.start(r).getTime()-e.SEC)},tickStart:function(e){return n.start(e)}}},e.schedule=function(t){if(!t)throw new Error("Missing schedule definition.");if(!t.schedules)throw new Error("Definition must include at least one schedule.");for(var n=[],r=t.schedules.length,i=[],o=t.exceptions?t.exceptions.length:0,a=0;a<r;a++)n.push(e.compile(t.schedules[a]));for(var s=0;s<o;s++)i.push(e.compile(t.exceptions[s]));function l(t,r,a,s,l){var y,C,S,w=v(t),E=r,D=1e3,x=[],j=[],T=[],R="next"===t,M=R?0:1,k=R?1:0;if(!(a=a?new Date(a):new Date)||!a.getTime())throw new Error("Invalid start date.");for(function(e,t,n,r){for(var i=0,o=t.length;i<o;i++)n[i]=t[i].start(e,r)}(t,n,x,a),function(t,n,r,i){v(t);for(var o=0,a=n.length;o<a;o++){var s=n[o].start(t,i);r[o]=s?[s,n[o].end(t,s)]:e.NEVER}}(t,i,j,a);D--&&E&&(y=b(x,w))&&(!s||!w(y,s));)if(o&&(u(t,i,j,y),C=g(t,j,y)))d(t,n,x,C);else{if(l){var P=m(j,w);C=p(t,n,x,y,P);var O=R?[new Date(Math.max(a,y)),C?new Date(s?Math.min(C,s):C):void 0]:[C?new Date(s?Math.max(s,C.getTime()+e.SEC):C.getTime()+e.SEC):void 0,new Date(Math.min(a,y.getTime()+e.SEC))];if(S&&O[M].getTime()===S[k].getTime()?(S[k]=O[k],E++):(S=O,T.push(S)),!C)break;d(t,n,x,C)}else T.push(R?new Date(Math.max(a,y)):f(n,x,y,s)),h(t,n,x,y);E--}for(var F=0,A=T.length;F<A;F++){var I=T[F];T[F]="[object Array]"===Object.prototype.toString.call(I)?[c(I[0]),c(I[1])]:c(I)}return 0===T.length?e.NEVER:1===r?T[0]:T}function c(e){if(e instanceof Date&&!isNaN(e.valueOf()))return new Date(e)}function d(e,t,n,r){for(var i=v(e),o=0,a=t.length;o<a;o++)n[o]&&!i(n[o],r)&&(n[o]=t[o].start(e,r))}function u(t,n,r,i){for(var o=v(t),a=0,s=n.length;a<s;a++)if(r[a]&&!o(r[a][0],i)){var l=n[a].start(t,i);r[a]=l?[l,n[a].end(t,l)]:e.NEVER}}function h(e,t,n,r){for(var i=0,o=t.length;i<o;i++)n[i]&&n[i].getTime()===r.getTime()&&(n[i]=t[i].start(e,t[i].tick(e,r)))}function f(e,t,n,r){for(var i,o=0,a=t.length;o<a;o++)if(t[o]&&t[o].getTime()===n.getTime()){var s=e[o].tickStart(n);if(r&&s<r)return r;(!i||s>i)&&(i=s)}return i}function g(e,t,n){for(var r,i=v(e),o=0,a=t.length;o<a;o++){var s=t[o];!s||i(s[0],n)||s[1]&&!i(s[1],n)||r&&!i(s[1],r)||(r=s[1])}return r}function m(e,t){for(var n,r=0,i=e.length;r<i;r++)!e[r]||n&&!t(n,e[r][0])||(n=e[r][0]);return n}function p(e,t,n,r,i){for(var o,a=v(e),s=0,l=t.length;s<l;s++){var c=n[s];if(c&&c.getTime()===r.getTime()){var d=t[s].end(e,c);if(i&&(!d||a(d,i)))return i;o&&!a(d,o)||(o=d)}}return o}function v(e){return"next"===e?function(e,t){return!t||e.getTime()>t.getTime()}:function(e,t){return!e||t.getTime()>e.getTime()}}function b(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)e[r]&&t(n,e[r])&&(n=e[r]);return n}return{isValid:function(t){return l("next",1,t,t)!==e.NEVER},next:function(e,t,n){return l("next",e||1,t,n)},prev:function(e,t,n){return l("prev",e||1,t,n)},nextRange:function(e,t,n){return l("next",e||1,t,n,!0)},prevRange:function(e,t,n){return l("prev",e||1,t,n,!0)}}},e.setTimeout=function(t,n){var r,i=e.schedule(n);return t&&function e(){var n=Date.now(),o=i.next(2,n);if(o[0]){var a=o[0].getTime()-n;a<1e3&&(a=o[1]?o[1].getTime()-n:1e3),r=a<2147483647?setTimeout(t,a):setTimeout(e,2147483647)}else r=void 0}(),{isDone:function(){return!r},clear:function(){clearTimeout(r)}}},e.setInterval=function(t,n){if(t){var r=e.setTimeout((function o(){i||(t(),r=e.setTimeout(o,n))}),n),i=r.isDone();return{isDone:function(){return r.isDone()},clear:function(){i=!0,r.clear()}}}},e.date={},e.date.timezone=function(t){e.date.build=t?function(e,t,n,r,i,o){return new Date(e,t,n,r,i,o)}:function(e,t,n,r,i,o){return new Date(Date.UTC(e,t,n,r,i,o))};var n=t?"get":"getUTC",r=Date.prototype;e.date.getYear=r[n+"FullYear"],e.date.getMonth=r[n+"Month"],e.date.getDate=r[n+"Date"],e.date.getDay=r[n+"Day"],e.date.getHour=r[n+"Hours"],e.date.getMin=r[n+"Minutes"],e.date.getSec=r[n+"Seconds"],e.date.isUTC=!t},e.date.UTC=function(){e.date.timezone(!1)},e.date.localTime=function(){e.date.timezone(!0)},e.date.UTC(),e.SEC=1e3,e.MIN=60*e.SEC,e.HOUR=60*e.MIN,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],e.NEVER=0,e.date.next=function(t,n,r,i,o,a){return e.date.build(t,void 0!==n?n-1:0,void 0!==r?r:1,i||0,o||0,a||0)},e.date.nextRollover=function(t,n,r,i){var o=r.val(t),a=r.extent(t)[1];return(n||a)<=o||n>a?new Date(i.end(t).getTime()+e.SEC):i.start(t)},e.date.prev=function(t,n,r,i,o,a){var s=arguments.length;return n=s<2?11:n-1,r=s<3?e.D.extent(e.date.next(t,n+1))[1]:r,i=s<4?23:i,o=s<5?59:o,a=s<6?59:a,e.date.build(t,n,r,i,o,a)},e.date.prevRollover=function(e,t,n,r){return t>=n.val(e)||!t?r.start(r.prev(e,r.val(e)-1)):r.start(e)},e.parse={},e.parse.cron=function(e,t){var n={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},r={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},i={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function o(e,t,r){return isNaN(e)?n[e]||null:Math.min(+e+(t||0),r||9999)}function a(e,t,n,r,i){var o=n;for(e[t]||(e[t]=[]);o<=r;)e[t].indexOf(o)<0&&e[t].push(o),o+=i||1;e[t].sort((function(e,t){return e-t}))}function s(e,t,n,r){(t.d&&!t.dc||t.dc&&t.dc.indexOf(r)<0)&&(e.push(function(e){var t,n={};for(t in e)"dc"!==t&&"d"!==t&&(n[t]=e[t].slice(0));return n}(t)),t=e[e.length-1]),a(t,"d",n,n),a(t,"dc",r,r)}function l(e,t,r,i,l,c){var d,u,h=t.schedules,f=h[h.length-1];"L"===e&&(e=i-1),null!==(d=o(e,c,l))?a(f,r,d,d):null!==(d=o(e.replace("W",""),c,l))?function(e,t,r){var i={},o={};1===r?(a(t,"D",1,3),a(t,"d",n.MON,n.FRI),a(i,"D",2,2),a(i,"d",n.TUE,n.FRI),a(o,"D",3,3),a(o,"d",n.TUE,n.FRI)):(a(t,"D",r-1,r+1),a(t,"d",n.MON,n.FRI),a(i,"D",r-1,r-1),a(i,"d",n.MON,n.THU),a(o,"D",r+1,r+1),a(o,"d",n.TUE,n.FRI)),e.exceptions.push(i),e.exceptions.push(o)}(t,f,d):null!==(d=o(e.replace("L",""),c,l))?s(h,f,d,i-1):2===(u=e.split("#")).length?s(h,f,d=o(u[0],c,l),o(u[1])):function(e,t,n,r,i,s){var l=e.split("/"),c=+l[1],d=l[0];if("*"!==d&&"0"!==d){var u=d.split("-");r=o(u[0],s,i),i=o(u[1],s,i)||i}a(t,n,r,i,c)}(e,f,r,i,l,c)}function c(e){return e.indexOf("#")>-1||e.indexOf("L")>0}function d(e,t){return c(e)&&!c(t)?1:e-t}var u=function(e){var t=e.toUpperCase();return r[t]||t}(e);return function(e){var t,n,r,o,a={schedules:[{}],exceptions:[]},s=e.replace(/(\s)+/g," ").split(" ");for(t in i)if((r=s[(n=i[t])[0]])&&"*"!==r&&"?"!==r){var c,u=(o=r.split(",").sort(d)).length;for(c=0;c<u;c++)l(o[c],a,t,n[1],n[2],n[3])}return a}(t?u:"0 "+u)},e.parse.recur=function(){var t,n,r,i,o,a,s,l,c,d=[],u=[],h=d;function f(e,d,u){if(e=o?e+"_"+o:e,t||(h.push({}),t=h[0]),t[e]||(t[e]=[]),n=t[e],i){for(r=[],l=d;l<=u;l+=i)r.push(l);c={n:e,x:i,c:n.length,m:u}}var f=(r=a?[d]:s?[u]:r).length;for(l=0;l<f;l+=1){var g=r[l];n.indexOf(g)<0&&n.push(g)}r=i=o=a=s=0}return{schedules:d,exceptions:u,on:function(){return r=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(e){return i=e||1,this},after:function(e){return o="a",r=[e],this},before:function(e){return o="b",r=[e],this},first:function(){return a=1,this},last:function(){return s=1,this},time:function(){for(var e=0,t=r.length;e<t;e++){var n=r[e].split(":");n.length<3&&n.push(0),r[e]=3600*+n[0]+60*+n[1]+ +n[2]}return f("t"),this},second:function(){return f("s",0,59),this},minute:function(){return f("m",0,59),this},hour:function(){return f("h",0,23),this},dayOfMonth:function(){return f("D",1,s?0:31),this},dayOfWeek:function(){return f("d",1,7),this},onWeekend:function(){return r=[1,7],this.dayOfWeek()},onWeekday:function(){return r=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return f("dc",1,s?0:5),this},dayOfYear:function(){return f("dy",1,s?0:366),this},weekOfMonth:function(){return f("wm",1,s?0:5),this},weekOfYear:function(){return f("wy",1,s?0:53),this},month:function(){return f("M",1,12),this},year:function(){return f("Y",1970,2450),this},fullDate:function(){for(var e=0,t=r.length;e<t;e++)r[e]=r[e].getTime();return f("fd"),this},customModifier:function(t,n){var i=e.modifier[t];if(!i)throw new Error("Custom modifier "+t+" not recognized!");return o=t,r=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(t){var n=e[t];if(!n)throw new Error("Custom time period "+t+" not recognized!");return f(t,n.extent(new Date)[0],n.extent(new Date)[1]),this},startingOn:function(e){return this.between(e,c.m)},between:function(e,n){return t[c.n]=t[c.n].splice(0,c.c),i=c.x,f(c.n,e,n),this},and:function(){return t=h[h.push({})-1],this},except:function(){return h=u,t=null,this}}},e.parse.text=function(t){var n,r=e.parse.recur,i=0,o="",a={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,in:/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,for:4};function l(e,t,n,r){return{startPos:e,endPos:t,text:n,type:r}}function c(e){var t,n,r,a,s,c,d=e instanceof Array?e:[e],u=/\s+/;for(d.push(u),s=i;!t||t.type===u;){c=-1,n=o.substring(s),t=l(s,s,o.split(u)[0]);var h,f=d.length;for(h=0;h<f;h++)(r=(a=d[h]).exec(n))&&0===r.index&&r[0].length>c&&(t=l(s,s+(c=r[0].length),n.substring(0,c),a));t.type===u&&(s=t.endPos)}return t}function d(e){var t=c(e);return i=t.endPos,t}function u(e){for(var t=+b(e),n=p(a.through)?+b(e):t,r=[],i=t;i<=n;i++)r.push(i);return r}function h(e){for(var t=u(e);p(a.and);)t=t.concat(u(e));return t}function f(e){var t,n,r,i;p(a.weekend)?e.on(s.sun,s.sat).dayOfWeek():p(a.weekday)?e.on(s.mon,s.tue,s.wed,s.thu,s.fri).dayOfWeek():(t=b(a.rank),e.every(t),n=m(e),p(a.start)?(t=b(a.rank),e.startingOn(t),v(n.type)):p(a.between)&&(r=b(a.rank),p(a.and)&&(i=b(a.rank),e.between(r,i))))}function g(e){p(a.first)?e.first():p(a.last)?e.last():e.on(h(a.rank)),m(e)}function m(e){var t=v([a.second,a.minute,a.hour,a.dayOfYear,a.dayOfWeek,a.dayInstance,a.day,a.month,a.year,a.weekOfMonth,a.weekOfYear]);switch(t.type){case a.second:e.second();break;case a.minute:e.minute();break;case a.hour:e.hour();break;case a.dayOfYear:e.dayOfYear();break;case a.dayOfWeek:e.dayOfWeek();break;case a.dayInstance:e.dayOfWeekCount();break;case a.day:e.dayOfMonth();break;case a.weekOfMonth:e.weekOfMonth();break;case a.weekOfYear:e.weekOfYear();break;case a.month:e.month();break;case a.year:e.year();break;default:n=i}return t}function p(e){var t=c(e).type===e;return t&&d(e),t}function v(e){var t=d(e);return t.type?t.text=function(e,t){var n=e;switch(t){case a.time:var r=e.split(/(:|am|pm)/),i="pm"===r[3]&&r[0]<12?parseInt(r[0],10)+12:r[0],o=r[2].trim();n=(1===i.length?"0":"")+i+":"+o;break;case a.rank:n=parseInt(/^\d+/.exec(e)[0],10);break;case a.monthName:case a.dayName:n=s[e.substring(0,3)]}return n}(t.text,e):n=i,t}function b(e){return v(e).text}return function(e){i=0,o=e,n=-1;for(var t=r();i<o.length&&n<0;)switch(v([a.every,a.after,a.before,a.onthe,a.on,a.of,a.in,a.at,a.and,a.except,a.also]).type){case a.every:f(t);break;case a.after:void 0!==c(a.time).type?(t.after(b(a.time)),t.time()):(t.after(b(a.rank)),m(t));break;case a.before:void 0!==c(a.time).type?(t.before(b(a.time)),t.time()):(t.before(b(a.rank)),m(t));break;case a.onthe:g(t);break;case a.on:t.on(h(a.dayName)).dayOfWeek();break;case a.of:t.on(h(a.monthName)).month();break;case a.in:t.on(h(a.yearIndex)).year();break;case a.at:for(t.on(b(a.time)).time();p(a.and);)t.on(b(a.time)).time();break;case a.and:break;case a.also:t.and();break;case a.except:t.except();break;default:n=i}return{schedules:t.schedules,exceptions:t.exceptions,error:n}}(t.toLowerCase())},e}();r.date.localTime(),t.default=r},"./lib/Gantt/column/AddNewColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Grid/data/ColumnStore.js"),a=n("./lib/Core/widget/Combo.js");class s extends r.default{static get $name(){return"AddNewColumn"}static get type(){return"addnew"}static get defaults(){return{text:"L{New Column}",cls:"b-new-column-column",draggable:!1,sortable:!1,exportable:!1,field:null,editor:null}}doDestroy(){var e;null===(e=this._combo)||void 0===e||e.destroy(),super.doDestroy()}get combo(){const e=this,t=e.grid.columns;return e._combo||(e._combo=new a.default({owner:e.grid,cls:"b-new-column-combo",placeholder:e.L("L{New Column}"),triggers:!1,autoExpand:!0,store:e.ganttColumnStore,displayField:"text",monitorResize:!1,picker:{align:{align:"t0-b0",axisLock:!0},minWidth:200,onItem({record:n}){const r=new n.value({region:e.region},t);t.insert(t.indexOf(e),r),r.element.focus()},onBeforeShow(){this.forElement=e.element}},syncInputFieldValue(){this.input.value=""},listeners:{keydown({event:e}){e.stopImmediatePropagation()}}}))}get ganttColumnStore(){return new i.default({data:Object.values(o.default.columnTypes).reduce((e,t)=>(t.$meta.fields.exposedData||t.exposeProperties({}),t.isGanttColumn&&t.text&&e.push({id:t.type,text:t.optionalL(t.text),value:t}),e),[]),filters:[e=>!this.grid.columns.some(t=>t.constructor===e.value)],sorters:[{field:"text"}]})}headerRenderer({column:e,headerElement:t,isExport:n}){n||e.combo.render(t)}onKeyDown(e){"Enter"===e.key&&this.combo.focus()}updateLocalization(){this._combo&&(this._combo.destroy(),this._combo=null),super.updateLocalization()}}o.default.registerColumnType(s),s._$name="AddNewColumn"},"./lib/Gantt/column/AllColumns.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Gantt/column/AddNewColumn.js"),i=n("./lib/Gantt/column/CalendarColumn.js"),o=n("./lib/Gantt/column/ConstraintDateColumn.js"),a=n("./lib/Gantt/column/ConstraintTypeColumn.js"),s=n("./lib/Gantt/column/DeadlineDateColumn.js"),l=n("./lib/SchedulerPro/column/DurationColumn.js"),c=n("./lib/Gantt/column/EarlyEndDateColumn.js"),d=n("./lib/Gantt/column/EarlyStartDateColumn.js"),u=n("./lib/Gantt/column/EffortColumn.js"),h=n("./lib/Gantt/column/EndDateColumn.js"),f=n("./lib/Gantt/column/LateEndDateColumn.js"),g=n("./lib/Gantt/column/LateStartDateColumn.js"),m=n("./lib/Gantt/column/ManuallyScheduledColumn.js"),p=n("./lib/Gantt/column/MilestoneColumn.js"),v=n("./lib/Gantt/column/NameColumn.js"),b=n("./lib/Gantt/column/NoteColumn.js"),y=n("./lib/Gantt/column/PercentDoneColumn.js"),C=n("./lib/Gantt/column/PredecessorColumn.js"),S=n("./lib/Gantt/column/ResourceAssignmentColumn.js"),w=n("./lib/Gantt/column/RollupColumn.js"),E=n("./lib/Gantt/column/SchedulingModeColumn.js"),D=n("./lib/Gantt/column/SequenceColumn.js"),x=n("./lib/Gantt/column/ShowInTimelineColumn.js"),j=n("./lib/Gantt/column/StartDateColumn.js"),T=n("./lib/Gantt/column/SuccessorColumn.js"),R=n("./lib/Gantt/column/TotalSlackColumn.js"),M=n("./lib/Gantt/column/WBSColumn.js");t.default={AddNewColumn:r.default,CalendarColumn:i.default,ConstraintDateColumn:o.default,ConstraintTypeColumn:a.default,DeadlineDateColumn:s.default,DurationColumn:l.default,EarlyEndDateColumn:c.default,EarlyStartDateColumn:d.default,EffortColumn:u.default,EndDateColumn:h.default,LateEndDateColumn:f.default,LateStartDateColumn:g.default,ManuallyScheduledColumn:m.default,MilestoneColumn:p.default,NameColumn:v.default,NoteColumn:b.default,PercentDoneColumn:y.default,PredecessorColumn:C.default,ResourceAssignmentColumn:S.default,RollupColumn:w.default,SchedulingModeColumn:E.default,SequenceColumn:D.default,ShowInTimelineColumn:x.default,StartDateColumn:j.default,SuccessorColumn:T.default,TotalSlackColumn:R.default,WBSColumn:M.default}},"./lib/Gantt/column/CalendarColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Gantt/widget/CalendarPicker.js");class a extends r.default{static get $name(){return"CalendarColumn"}static get type(){return"calendar"}static get isGanttColumn(){return!0}static get defaults(){return{field:"calendar",text:"L{Calendar}",editor:{type:o.default.type,clearable:!0,allowInvalid:!1}}}afterConstruct(){const e=this;super.afterConstruct();const t=e.grid.project;e.defaultCalendar=t.defaultCalendar,e.refreshCalendars(),t.calendarManagerStore.on({changePreCommit:e.refreshCalendars,refresh:e.refreshCalendars,thisObj:e})}refreshCalendars(){const e=this.grid.project;this.editor.refreshCalendars(e.calendarManagerStore.getRange())}renderer({value:e}){const t=this;if(e===t.defaultCalendar)return"";if(e&&e.id){const n=t.editor.store.getById(e.id);return n&&n[t.editor.displayField]||""}return""}}i.default.registerColumnType(a),a._$name="CalendarColumn"},"./lib/Gantt/column/ConstraintDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"ConstraintDateColumn"}static get type(){return"constraintdate"}static get defaults(){return{field:"constraintDate",text:"L{Constraint Date}",width:146}}}r.default.registerColumnType(o),o._$name="ConstraintDateColumn"},"./lib/Gantt/column/ConstraintTypeColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/SchedulerPro/widget/ConstraintTypePicker.js");class s extends r.default{static get $name(){return"ConstraintTypeColumn"}static get type(){return"constrainttype"}static get isGanttColumn(){return!0}static get defaults(){return{field:"constraintType",text:"L{Constraint Type}",width:146,editor:{type:a.default.type,clearable:!0,allowInvalid:!1},filterable:{filterField:{type:"constrainttypepicker"}}}}afterConstruct(){const e=this;super.afterConstruct(),e.grid.on({startCellEdit:e.onStartCellEdit,finishCellEdit:e.onDoneCellEdit,cancelCellEdit:e.onDoneCellEdit,thisObj:e}),o.default.createSequence(e.editor.updateLocalization,e.onEditorLocaleChange,e)}onStartCellEdit({editorContext:{editor:e,record:t}}){e.inputField instanceof a.default&&(e.inputField.store.filter(e=>t.run("isConstraintTypeApplicable",e.id)),this._filterDetacher=()=>e.inputField.store.clearFilters())}onDoneCellEdit(){this._filterDetacher&&this._filterDetacher()}renderer({value:e}){const t=null!=e&&"none"!==e&&this.editor.store.getById(e);return t&&t.text||""}onEditorLocaleChange(){this.grid.refreshColumn(this)}}i.default.registerColumnType(s),s._$name="ConstraintTypeColumn"},"./lib/Gantt/column/DeadlineDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"DeadlineDateColumn"}static get type(){return"deadlinedate"}static get defaults(){return{field:"deadlineDate",text:"L{Deadline}",width:146}}}r.default.registerColumnType(o),o._$name="DeadlineDateColumn"},"./lib/Gantt/column/DependencyColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Gantt/widget/DependencyField.js"),a=n("./lib/Core/mixin/Delayable.js"),s=n("./lib/Core/widget/Toast.js");const l=e=>!e.project,c=e=>e;class d extends(Object(a.default)(r.default)){static get $name(){return"DependencyColumn"}static get type(){return"dependency"}static get fields(){return[{name:"delimiter",defaultValue:";"},{name:"dependencyIdField",defaultValue:null}]}static get defaults(){return{htmlEncode:!1,width:120,renderer({record:e,grid:t}){const n=this.dependencyIdField||t.dependencyIdField;return o.default.predecessorsToString(e[this.field],"predecessors"===this.field?"from":"to",this.delimiter,n)}}}afterConstruct(){super.afterConstruct()}async finalizeCellEdit({grid:e,record:t,inputField:n,value:r,oldValue:i,editorContext:o}){if(t&&r){const a=(r=r.slice()).filter(l),d=e.dependencyStore.getProject(),u=t[this.field];if(await d.commitAsync(),d.isDestroyed)return;const h=(await Promise.all(a.map(e=>d.isValidDependencyModel(e,u)))).every(c);return h||(n.value=i,s.default.show({html:o.column.L("L{Invalid dependency}"),rootElement:this.grid.rootElement})),h}}get defaultEditor(){const e=this,{grid:t}=e,n="predecessors"===e.field;return{type:"dependencyfield",grid:t,name:e.field,delimiter:e.delimiter,dependencyIdField:e.dependencyIdField||t.dependencyIdField,ourSide:n?"to":"from",otherSide:n?"from":"to",store:t.eventStore||t.taskStore,dependencyStore:t.dependencyStore}}}i.default.registerColumnType(d),d._$name="DependencyColumn"},"./lib/Gantt/column/EarlyEndDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"EarlyEndDateColumn"}static get type(){return"earlyenddate"}static get defaults(){return{field:"earlyEndDate",text:"L{Early End}"}}}r.default.registerColumnType(o),o._$name="EarlyEndDateColumn"},"./lib/Gantt/column/EarlyStartDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"EarlyStartDateColumn"}static get type(){return"earlystartdate"}static get defaults(){return{field:"earlyStartDate",text:"L{Early Start}"}}}r.default.registerColumnType(o),o._$name="EarlyStartDateColumn"},"./lib/Gantt/column/EffortColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/SchedulerPro/column/DurationColumn.js"),o=n("./lib/SchedulerPro/widget/EffortField.js");class a extends i.default{static get $name(){return"EffortColumn"}static get type(){return"effort"}static get defaults(){return{field:"fullEffort",text:"L{Effort}"}}get defaultEditor(){return{type:o.default.type,name:this.field}}}r.default.registerColumnType(a),a._$name="EffortColumn"},"./lib/Gantt/column/EndDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");n("./lib/SchedulerPro/widget/EndDateField.js");class o extends i.default{static get $name(){return"EndDateColumn"}static get type(){return"enddate"}static get defaults(){return{field:"endDate",text:"L{Finish}"}}get defaultEditor(){const e=super.defaultEditor;return e.type="enddate",e}}r.default.registerColumnType(o),o._$name="EndDateColumn"},"./lib/Gantt/column/EventModeColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/CheckColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"EventModeColumn"}static get type(){return"eventmode"}static get isGanttColumn(){return!0}static get defaults(){return{field:"manuallyScheduled",align:"left",text:"L{Event mode}"}}constructor(e,t){super(...arguments),this.internalCellCls="b-eventmode-cell"}internalRenderer({value:e,cellElement:t,column:n,isExport:r}){if(super.internalRenderer(...arguments),r)return this.renderText(e);t.widget&&(t.widget.text=this.renderText(e))}onCheckboxChange({source:e,checked:t}){super.onCheckboxChange(...arguments),e.text=this.renderText(t)}renderText(e){return e?this.L("L{Manual}"):this.L("L{Auto}")}}i.default.registerColumnType(o),o._$name="EventModeColumn"},"./lib/Gantt/column/GanttDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Grid/column/DateColumn.js");class i extends r.default{static get isGanttColumn(){return!0}static get defaults(){return{instantUpdate:!0,width:130,step:null,format:"ll"}}construct(e,t){const n=this;n.gantt=t.grid,super.construct(e,t),n.format?n.explicitFormat=!0:n.gantt.on({displayDateFormatChange({format:e}){n.explicitFormat||n.set("format",e)}})}set format(e){this.explicitFormat=!0,this.set("format",e)}get format(){return this.explicitFormat&&this.data.format||this.gantt.displayDateFormat}}i._$name="GanttDateColumn"},"./lib/Gantt/column/LateEndDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"LateEndDateColumn"}static get type(){return"lateenddate"}static get defaults(){return{field:"lateEndDate",text:"L{Late End}"}}}r.default.registerColumnType(o),o._$name="LateEndDateColumn"},"./lib/Gantt/column/LateStartDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");class o extends i.default{static get $name(){return"LateStartDateColumn"}static get type(){return"latestartdate"}static get defaults(){return{field:"lateStartDate",text:"L{Late Start}"}}}r.default.registerColumnType(o),o._$name="LateStartDateColumn"},"./lib/Gantt/column/ManuallyScheduledColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/CheckColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"ManuallyScheduledColumn"}static get type(){return"manuallyscheduled"}static get isGanttColumn(){return!0}static get defaults(){return{field:"manuallyScheduled",text:"L{Manually scheduled}"}}}i.default.registerColumnType(o),o._$name="ManuallyScheduledColumn"},"./lib/Gantt/column/MilestoneColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/CheckColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"MilestoneColumn"}static get type(){return"milestone"}static get isGanttColumn(){return!0}static get defaults(){return{field:"milestone",text:"L{Milestone}"}}}i.default.registerColumnType(o),o._$name="MilestoneColumn"},"./lib/Gantt/column/NameColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/TreeColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"NameColumn"}static get type(){return"name"}static get isGanttColumn(){return!0}static get defaults(){return{width:200,field:"name",text:"L{Name}"}}}i.default.registerColumnType(o),o._$name="NameColumn"},"./lib/Gantt/column/NoteColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");n("./lib/Core/widget/TextAreaField.js");class o extends r.default{static get $name(){return"NoteColumn"}static get type(){return"note"}static get isGanttColumn(){return!0}static get defaults(){return{field:"note",text:"L{Note}",width:150,editor:{type:"textareafield",inline:!1}}}renderer({value:e}){return(e||"").trim()}get disableHtmlEncode(){return!0}}i.default.registerColumnType(o),o._$name="NoteColumn"},"./lib/Gantt/column/PercentDoneColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/NumberColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");n("./lib/Core/widget/NumberField.js");class o extends r.default{static get $name(){return"PercentDoneColumn"}static get type(){return"percentdone"}static get isGanttColumn(){return!0}static get fields(){return["showCircle"]}static get defaults(){return{field:"percentDone",text:"L{% Done}",unit:"%",step:1,min:0,max:100,width:90}}construct(e){super.construct(...arguments),this.showCircle&&(this.htmlEncode=!1)}defaultRenderer({record:e,isExport:t}){const n=e.renderedPercentDone;return this.showCircle&&!t?{className:"b-percentdone-circle",style:{"--gantt-percentdone-angle":n/100+"turn"},dataset:{value:n}}:n+this.unit}}i.default.registerColumnType(o),o._$name="PercentDoneColumn"},"./lib/Gantt/column/PredecessorColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/DependencyColumn.js");class o extends i.default{static get $name(){return"PredecessorColumn"}static get type(){return"predecessor"}static get isGanttColumn(){return!0}static get defaults(){return{text:"L{Predecessors}",field:"predecessors"}}}r.default.registerColumnType(o),o._$name="PredecessorColumn"},"./lib/Gantt/column/ResourceAssignmentColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Gantt/widget/AssignmentField.js"),a=n("./lib/Core/widget/ChipView.js"),s=(n("./lib/Core/widget/NumberField.js"),n("./lib/Core/widget/util/AvatarRendering.js")),l=n("./lib/Core/helper/StringHelper.js");class c extends r.default{static get $name(){return"ResourceAssignmentColumn"}static get type(){return"resourceassignment"}static get isGanttColumn(){return!0}static get fields(){return["showAvatars","sideMargin","imageSize",{name:"itemTpl",defaultValue:e=>l.default.encodeHtml(e.toString())}]}static get defaults(){return{field:"assignments",instantUpdate:!1,text:"L{Assigned Resources}",width:250,cellCls:"b-resourceassignment-cell",showAvatars:!1,imageSize:30,sideMargin:20,sortable(e,t){const n=e.assignments.join(""),r=t.assignments.join("");return n===r?0:n<r?-1:1},filterable({value:e,record:t}){const n=new RegExp(e,"gi");return t.assignments.some(e=>n.test(e.resourceName))}}}construct(){super.construct(...arguments);const e=this,{grid:t}=e;e.showAvatars&&Object.assign(e,{repaintOnResize:!0,htmlEncode:!1,renderer:e.rendererWithAvatars,avatarRendering:new s.default}),t.on({beforeCellEditStart:e.onBeforeCellEditStart,finishCellEdit:e.onDoneCellEdit,cancelCellEdit:e.onDoneCellEdit,thisObj:e}),t.resourceStore.on({name:"resourceStore",update:e.onResourceUpdate,thisObj:e})}doDestroy(){var e;super.doDestroy(),null===(e=this.avatarRendering)||void 0===e||e.destroy()}get defaultEditor(){return{type:o.default.type,store:{modelClass:this.grid.project.assignmentStore.modelClass}}}onBeforeCellEditStart({editorContext:{record:e,column:t}}){const n=this;if(t===n){const{editor:t}=n;t.resourceImageFolderPath=n.grid.resourceImageFolderPath,t.projectEvent=e,n.detachListeners("editorStore"),t.store.on({name:"editorStore",changesApplied:n.onEditorChangesApplied,thisObj:n})}}onDoneCellEdit(){this.detachListeners("editorStore")}onEditorChangesApplied(){const e=this,t=e.grid.getCell({id:e.editor.projectEvent.id,columnId:e.id});t&&e.renderer({value:e.editor.projectEvent.assignments,cellElement:t})}onResourceUpdate({source:e}){var t;null!==(t=e.project)&&void 0!==t&&t.propagatingLoadChanges||this.grid.refreshColumn(this)}get chipView(){const e=this;return e._chipView||(e._chipView=new a.default({cls:"b-assignment-chipview",itemsFocusable:!1,closable:!1,itemTpl:e.itemTpl,store:{},scrollable:{overflowX:"hidden-scroll"}}),Object.defineProperty(e.chipView,"isVisible",{get:()=>!0})),e._chipView}renderer({cellElement:e,value:t,isExport:n}){if(t=t.filter(e=>e.resource).sort((e,t)=>e.resourceName.localeCompare(t.resourceName)),n)return t.map(this.itemTpl).join(",");{const{chipView:n}=this;n.store.storage.replaceValues({values:t,silent:!0}),n.refresh();const r=n.element.cloneNode(!0);r.removeAttribute("id"),e.innerHTML='<div class="b-assignment-chipview-wrap"></div>',e.firstElementChild.appendChild(r)}}rendererWithAvatars({value:e,isExport:t}){const n=this,r=Math.floor((n.width-n.sideMargin)/(n.imageSize+2)),i=e.length>r?e.length-r:0;return e=e.filter(e=>e.resource).sort((e,t)=>e.resourceName.localeCompare(t.resourceName)),t?e.map(this.itemTpl).join(","):{className:"b-resource-avatar-container",children:e.map((e,t)=>{const{resource:o}=e;if(t<r){const a=i>0&&t===r-1,s=n.renderImage({resource:o,assignment:e,overflowCount:a?i:0});return a?{className:"b-overflow-img",children:[s,{tag:"span",className:"b-overflow-count",html:"+"+i}]}:s}})}}renderImage({resource:e,assignment:t,overflowCount:n}){const r=l.default.xss`${t.toString()}${n?` (+${n} ${this.L("L{more resources}")})`:""}`,i=e.imageUrl||e.image&&this.grid.resourceImageFolderPath+e.image,o=this.avatarRendering.getResourceAvatar({initials:e.initials,color:e.eventColor,iconCls:e.iconCls,defaultImageUrl:this.defaultAvatar,imageUrl:i});return o.dataset={btipScrollAction:"realign",btip:r},o}get defaultAvatar(){const{grid:e}=this;return e.defaultResourceImageName?e.resourceImageFolderPath+e.defaultResourceImageName:""}}i.default.registerColumnType(c),c._$name="ResourceAssignmentColumn"},"./lib/Gantt/column/ResourceAssignmentGridResourceColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/column/ResourceInfoColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"ResourceAssignmentGridResourceColumn"}static get type(){return"assignmentResource"}static get defaults(){return{showEventCount:!1,cls:"b-assignmentgrid-resource-column",field:"resourceName",flex:1,editor:null,useNameAsImageName:!1,filterable:{filterField:{placeholder:"L{AssignmentGrid.Name}",triggers:{filter:{align:"start",cls:"b-icon b-icon-filter"}}}}}}defaultRenderer({grid:e,record:t,cellElement:n,value:r,isExport:i}){return t.isSpecialRow||(t=t.resource),super.defaultRenderer({grid:e,record:t,cellElement:n,value:r,isExport:i})}}i.default.registerColumnType(o),o._$name="ResourceAssignmentGridResourceColumn"},"./lib/Gantt/column/RollupColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/CheckColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"RollupColumn"}static get type(){return"rollup"}static get isGanttColumn(){return!0}static get defaults(){return{field:"rollup",text:"L{Rollup}"}}}i.default.registerColumnType(o),o._$name="RollupColumn"},"./lib/Gantt/column/SchedulingModeColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/FunctionHelper.js"),a=n("./lib/SchedulerPro/widget/SchedulingModePicker.js");class s extends r.default{static get $name(){return"SchedulingModeColumn"}static get type(){return"schedulingmodecolumn"}static get isGanttColumn(){return!0}static get defaults(){return{field:"schedulingMode",text:"L{Scheduling Mode}",editor:{type:a.default.type,allowInvalid:!1,picker:{minWidth:"8.5em"}}}}afterConstruct(){super.afterConstruct(),o.default.createSequence(this.editor.updateLocalization,this.onEditorLocaleChange,this)}renderer({value:e}){const t=this.editor.store.getById(e);return t&&t.text||""}onEditorLocaleChange(){this.grid.refreshColumn(this)}}i.default.registerColumnType(s),s._$name="SchedulingModeColumn"},"./lib/Gantt/column/SequenceColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"SequenceColumn"}static get type(){return"sequence"}static get isGanttColumn(){return!0}static get defaults(){return{field:"sequenceNumber",text:"L{Sequence}",sortable:!1,groupable:!1,filterable:!1,width:70,editor:null}}}i.default.registerColumnType(o),o._$name="SequenceColumn"},"./lib/Gantt/column/ShowInTimelineColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/CheckColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"ShowInTimelineColumn"}static get type(){return"showintimeline"}static get isGanttColumn(){return!0}static get defaults(){return{field:"showInTimeline",text:"L{Show in timeline}"}}}i.default.registerColumnType(o),o._$name="ShowInTimelineColumn"},"./lib/Gantt/column/StartDateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/GanttDateColumn.js");n("./lib/SchedulerPro/widget/StartDateField.js");class o extends i.default{static get $name(){return"StartDateColumn"}static get type(){return"startdate"}static get defaults(){return{field:"startDate",text:"L{Start}"}}get defaultEditor(){const e=super.defaultEditor;return e.type="startdate",e}}r.default.registerColumnType(o),o._$name="StartDateColumn"},"./lib/Gantt/column/SuccessorColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Gantt/column/DependencyColumn.js");class o extends i.default{static get $name(){return"SuccessorColumn"}static get type(){return"successor"}static get isGanttColumn(){return!0}static get defaults(){return{text:"L{Successors}",field:"successors"}}}r.default.registerColumnType(o),o._$name="SuccessorColumn"},"./lib/Gantt/column/TimeAxisColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/column/TimeAxisColumn.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get defaults(){return{enableCellContextMenu:!0}}}i.default.registerColumnType(o),o._$name="TimeAxisColumn"},"./lib/Gantt/column/TotalSlackColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/SchedulerPro/column/DurationColumn.js");class o extends i.default{static get $name(){return"TotalSlackColumn"}static get type(){return"totalslack"}static get isGanttColumn(){return!0}get durationUnitField(){return"slackUnit"}static get defaults(){return{field:"totalSlack",text:"L{Total Slack}"}}}r.default.registerColumnType(o),o._$name="TotalSlackColumn"},"./lib/Gantt/column/WBSColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get $name(){return"WBSColumn"}static get type(){return"wbs"}static get isGanttColumn(){return!0}static get defaults(){return{field:"wbsValue",text:"L{WBS}",width:70,editor:null,filterable:({value:e,record:t})=>t.wbsValue.match(String(e)),headerMenuItems:{renumber:{text:"L{WBSColumn.renumber}",icon:"b-icon-renumber",onItem({source:e}){e.taskStore.rootNode.refreshWbs()}}},renderer:({value:e})=>String(e)}}}i.default.registerColumnType(o),o._$name="WBSColumn"},"./lib/Gantt/customElements/GanttTag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/customElements/TimelineBaseTag.js"),i=n("./lib/Gantt/view/Gantt.js"),o=n("./lib/Gantt/model/ProjectModel.js");class a extends r.default{connectedCallback(){this.widgetClass=i.default,this.projectModelClass=o.default,super.connectedCallback()}}try{window.customElements&&window.customElements.define("bryntum-gantt",a)}catch(s){}a._$name="GanttTag"},"./lib/Gantt/data/AssignmentStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/data/AssignmentStore.js"),i=n("./lib/Gantt/model/AssignmentModel.js");class o extends r.default{static get defaultConfig(){return{modelClass:i.default,loadPriority:500,syncPriority:400}}}o._$name="AssignmentStore"},"./lib/Gantt/data/AssignmentsManipulationStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/data/AssignmentStore.js");class i extends r.default{static get defaultConfig(){return{storage:{extraKeys:["resource"]},callOnFunctions:!0,projectEvent:null,floatAssignedResources:!0,liveFloatAssignedResources:!1}}afterConfigure(){super.afterConfigure(),this.addSorter({fn:this.defaultSort.bind(this)})}get projectEvent(){return this._projectEvent}set projectEvent(e){const t=this;(e!=t._projectEvent||e&&e.generation!==t._projectEventGeneration)&&(t._projectEvent=e,t._projectEventGeneration=e.generation,e?(t.fillFromMaster(),t.sort()):t.removeAll())}get floatAssignedResources(){return this._floatAssignedResources}set floatAssignedResources(e){const t=this;e!==t.floatAssignedResources&&(t._floatAssignedResources=e,t.sort())}fillFromMaster(){const e=this,t=e.projectEvent;if(t){const{assignmentStore:n,resourceStore:r}=t,i=r.map(e=>{const r=n.getAssignmentForEventAndResource(t,e),i=Object.assign({units:0},null===r||void 0===r?void 0:r.data);return delete i.id,delete i.eventId,delete i.resourceId,delete i[n.modelClass.getFieldDefinition("resource").dataSource],delete i[n.modelClass.getFieldDefinition("event").dataSource],Object.assign(i,{resource:e,event:t}),i});e.data=i}}toValueString(){return this.query(e=>e.units>0).join(", ")}defaultSort(e,t){let n=0;return n=this.floatAssignedResources?!t.units&&e.units?-1:!e.units&&t.units?1:e.resourceName.localeCompare(t.resourceName):e.resourceName.localeCompare(t.resourceName),n}onUpdate({changes:e}){const t=this;t.isConfiguring||Object.hasOwnProperty.call(e,"event")&&t.floatAssignedResources&&t.liveFloatAssignedResources&&t.sort()}}i._$name="AssignmentsManipulationStore"},"./lib/Gantt/data/CalendarManagerStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/data/CalendarManagerStore.js"),i=n("./lib/Gantt/model/CalendarModel.js");class o extends r.default{static get defaultConfig(){return{modelClass:i.default}}}o._$name="CalendarManagerStore"},"./lib/Gantt/data/DependencyStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/data/DependencyStore.js"),i=n("./lib/Gantt/model/DependencyModel.js");class o extends r.default{static get defaultConfig(){return{modelClass:i.default,loadPriority:300,syncPriority:500}}}o._$name="DependencyStore"},"./lib/Gantt/data/ResourceStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/data/ResourceStore.js"),i=n("./lib/Gantt/model/ResourceModel.js");class o extends r.default{static get defaultConfig(){return{modelClass:i.default,loadPriority:400,syncPriority:200}}}o._$name="ResourceStore"},"./lib/Gantt/data/TaskStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Gantt/model/TaskModel.js"),o=n("./lib/Engine/quark/store/ChronoEventStoreMixin.js"),a=n("./lib/Gantt/data/mixin/PartOfProject.js"),s=n("./lib/Core/helper/DateHelper.js"),l=n("./lib/Gantt/data/Wbs.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={deep:!0};class f extends(o.ChronoEventTreeStoreMixin.derive(r.default).mixin(a.default)){static get defaultConfig(){return{modelClass:i.default,loadPriority:200,syncPriority:300,storeId:"tasks",tree:!0}}setBaseline(e){const t=this.storage.values;this.forEach(t=>t.setBaseline(e)),this.trigger("refresh",{action:"batch",records:t,data:t})}async indent(e){const t=this,{taskStore:n,project:r}=t;let i=!1;return(e=(e=(e=Array.isArray(e)?e.slice():[e]).filter(e=>!e.isProjectModel)).filter(t=>{let n;for(n=Boolean(t.previousSibling);n&&!t.isRoot;)n=!e.includes(t.parent),t=t.parent;return n})).length&&!1!==n.trigger("beforeIndent",{records:e})&&(e.sort((e,t)=>l.default.compare(e.wbsCode,t.wbsCode)),n.beginBatch(),i=await r.tryPropagateWithChanges(()=>{for(const n of e){const e=n.previousSibling;e.appendChild(n),t.toggleCollapse(e,!1)}}),n.endBatch(),i&&(t.refreshWbsForChildren({up:2,nodes:e}),t.trigger("indent",{records:e}),t.trigger("change",{action:"indent",records:e}))),i}async outdent(e){const t=this,{taskStore:n,project:r}=t;let i=!1;return(e=(e=(e=Array.isArray(e)?e.slice():[e]).filter(e=>!e.isProjectModel)).filter(t=>{let n;for(n=t.parent&&!t.parent.isRoot;n&&!t.isRoot;)n=!e.includes(t.parent),t=t.parent;return n})).length&&!1!==n.trigger("beforeOutdent",{records:e})&&(e.sort((e,t)=>l.default.compare(e.wbsCode,t.wbsCode)),n.beginBatch(),i=await r.tryPropagateWithChanges(()=>{for(const n of e){const e=n.parent.children.slice(n.parent.children.indexOf(n)+1);n.parent.parent.insertChild(n,n.parent.nextSibling),n.appendChild(e),t.toggleCollapse(n,!1)}}),n.endBatch(),i&&(t.refreshWbsForChildren({up:1,nodes:e}),t.trigger("outdent",{records:e}),t.trigger("change",{action:"outdent",records:e}))),i}refreshWbsForChildren(e){const t=e.nodes,n=d(d({},h),e),r=new Set,i=n.up||0;let o,a;for(a of(t.forEach(e=>{for(a=e,o=i;a&&o;--o)a=a.parent;r.add(a)}),r))a.refreshWbs(n)}getTotalTimeSpan(){return{startDate:this.getProject().startDate,endDate:this.getProject().endDate}}getEvents({filter:e,resourceRecord:t,startDate:n,endDate:r}){const i=this;if(!i.count)return[];const o=i.isFiltered?e=>i.indexOf(e)>-1:null;let a=i.getEventsForResource(t);return o&&(a=a.filter(o)),a=a.filter(e=>e.startDate&&s.default.intersectSpans(e.startDate,e.endDate||e.startDate,n,r)),e?a.filter(e):a}getEventsForResource(e){const t=this.resourceStore.getById(e);return((null===t||void 0===t?void 0:t.assignments.filter(e=>e.isPartOfStore(this.assignmentStore)))||[]).map(e=>e.event)}isDateRangeAvailable(e,t,n,r){const i=new Set(this.getEventsForResource(r));if(null!==n&&void 0!==n&&n.isAssignment&&n.event.resources.forEach(e=>{e.id!==n.resourceId&&this.getEventsForResource(e).forEach(e=>i.add(e))}),n){const e=n.isAssignment?n.event:n;i.delete(e)}return!Array.from(i).some(n=>n.isScheduled&&s.default.intersectSpans(e,t,n.startDate,n.endDate))}}f._$name="TaskStore"},"./lib/Gantt/data/Wbs.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));const r=e=>String(e).padStart(6,"0");class i{constructor(e){this.value=e,this._padded=null}set value(e){this._value=String(null!==e&&void 0!==e?e:"")}get value(){return this._value}static from(e){return null==e||e instanceof i?e:new i(e)}static pad(e){return e instanceof i?e.valueOf():i.split(e).map(r).join(".")}static split(e){let t,n;if(e||0===e)switch(typeof e){case"object":e=String(e);case"string":for(n=e.split("."),t=n.length;t-- >0;)n[t]=parseInt(n[t],10);break;case"number":n=[e]}return n||[]}static compare(e,t){return e===t?0:e&&t?(e=i.pad(e))<(t=i.pad(t))?-1:t<e?1:0:e?1:t?-1:0}append(e){const t=this.value;return i.from(t?`${t}.${e}`:e)}isEqual(e){return!i.compare(this,e)}match(e){let t=!1;if(e){const n=this.value,r="*"===e[0],i=e.endsWith("*"),o=e.length;t=r===i?n.indexOf(r?e.substr(1,o-2):e)>-1:r?n.endsWith(e.substr(1)):n.startsWith(e.substr(0,o-1))}return t}toString(){return this.value}toJSON(){return this.toString()}valueOf(){var e;return null!==(e=this._padded)&&void 0!==e?e:this._padded=i.pad(this.value)}}i._$name="Wbs"},"./lib/Gantt/data/field/WbsField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/data/field/DataField.js"),i=n("./lib/Gantt/data/Wbs.js");class o extends r.default{static get type(){return"wbs"}convert(e){return i.default.from(e)}serialize(e){return String(e)}}o.prototype.compare=i.default.compare,o.initClass(),o._$name="WbsField"},"./lib/Gantt/data/mixin/PartOfProject.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");n.d(t,"default",(function(){return r.default}))},"./lib/Gantt/feature/Baselines.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/feature/base/TooltipBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends r.default{static get $name(){return"Baselines"}static get defaultConfig(){return{cls:"b-gantt-task-tooltip",align:"t-b",forSelector:".b-task-baseline",recordType:"baseline"}}static get pluginConfig(){return{chain:["onTaskDataGenerated","onPaint"]}}construct(e,t){this.tipId=e.id+"-baselines-tip",this.gantt=e,super.construct(e,t)}doDisable(e){const{client:t}=this,{dependencies:n}=t.features;t.refreshWithTransition(),n&&t.setTimeout(()=>n.scheduleDraw(!0),300),super.doDisable(e)}resolveTimeSpanRecord(e){const t=e.closest(".b-task-baseline");return null===t||void 0===t?void 0:t.elementData.baseline}template(e){const{baseline:t}=e,{task:n}=t,r=this.client.formatDuration(t.duration);return`\n            <div class="b-gantt-task-title">${n.name} (baseline ${t.parentIndex+1})</div>\n            <table>\n            <tr><td>${this.L("L{TaskTooltip.Start}")}:</td><td>${e.startClockHtml}</td></tr>\n            ${t.milestone?"":`\n                <tr><td>${this.L("L{TaskTooltip.End}")}:</td><td>${e.endClockHtml}</td></tr>\n                <tr><td>${this.L("L{TaskTooltip.Duration}")}:</td><td class="b-right">${r+" "+o.default.getLocalizedNameOfUnit(t.durationUnit,1!==t.duration)}</td></tr>\n            `}\n            </table>\n            `}getTaskDOMConfig(e,t){const n=e.baselines.allRecords;return{className:{"b-baseline-wrap":!0},style:{transform:`translateY(${t}px)`},dataset:{taskId:"baselinesFor"+e.id},children:n.map((e,t)=>{const n=this.gantt.taskRendering.getTaskBox(e);return n?{className:{[e.cls]:e.cls,"b-task-baseline":1,"b-task-baseline-milestone":e.milestone},style:{width:n.width,left:n.left},dataset:{index:t},elementData:{baseline:e}}:null}),syncOptions:{syncIdField:"index"}}}onTaskDataGenerated({taskRecord:e,top:t,extraConfigs:n}){!this.disabled&&e.hasBaselines&&n.push(this.getTaskDOMConfig(e,t))}}a._$name="Baselines",i.default.registerFeature(a,!1,"Gantt")},"./lib/Gantt/feature/CellEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/ObjectHelper.js"),i=n("./lib/Grid/feature/CellEdit.js"),o=n("./lib/Grid/feature/GridFeatureManager.js");class a extends i.default{static get $name(){return"CellEdit"}static get defaultConfig(){return{addNewAtEnd:{duration:1}}}static get pluginConfig(){const e=super.pluginConfig;return e.chain=[...e.chain,"onProjectChange"],e}onProjectChange(){this.cancelEditing(!0)}getEditorForCell({record:e}){const t=super.getEditorForCell(...arguments),n=t.inputField;return n.project=e.project,n.eventRecord=e,t}async doAddNewAtEnd(){const e=this.grid,t=this.addNewAtEnd,n=e.taskStore;await n.getProject().commitAsync();const i=n.rootNode.appendChild(r.default.assign({name:this.L("L{Gantt.New task}"),startDate:n.getProject().startDate},t));return await n.getProject().commitAsync(),e.rowManager.getRowFor(i)||e.rowManager.displayRecordAtBottom(),i}}a._$name="CellEdit",o.default.registerFeature(a,!0,"Gantt")},"./lib/Gantt/feature/CriticalPaths.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/mixin/InstancePlugin.js");class a extends(Object(i.default)(o.default)){static get $name(){return"CriticalPaths"}static get defaultConfig(){return{cls:"b-gantt-critical-paths",criticalDependencyCls:"b-critical",disabled:!0}}static get pluginConfig(){return{chain:["onTaskDataGenerated"]}}doDisable(e){e?this.unhighlightCriticalPaths():this.highlightCriticalPaths(),super.doDisable(e)}getDependenciesFeature(){return this.client.foregroundCanvas&&this.client.features.dependencies}setupObserver(){const e=this,{project:t}=e.client,n=e.getDependenciesFeature();e.destroyObserver(),e.criticalPathObserver=t.getGraph().observe((function*(){return yield t.$.criticalPaths}),t=>{if(!e.disabled){e.removeCriticalCls();for(const r of t)for(const t of r)n&&t.dependency&&n.highlight(t.dependency,e.criticalDependencyCls);e.client.trigger("criticalPathsHighlighted")}})}destroyObserver(){this.criticalPathObserver&&(this.client.project.getGraph().removeIdentifier(this.criticalPathObserver),this.criticalPathObserver=null)}doDestroy(){this.destroyObserver(),super.doDestroy()}highlightCriticalPaths(){const e=this,{element:t}=e.client;t.classList.contains(e.cls)&&e.unhighlightCriticalPaths(),e.setupObserver(),t.classList.add(e.cls)}removeCriticalCls(){const e=this.client.project,t=this.getDependenciesFeature();t&&e.dependencyStore.forEach(e=>t.unhighlight(e,this.criticalDependencyCls))}unhighlightCriticalPaths(){const e=this.client;this.destroyObserver(),this.removeCriticalCls(),e.element.classList.remove(this.cls),e.trigger("criticalPathsUnhighlighted")}onTaskDataGenerated(e){this.disabled||(e.cls["b-critical"]=e.taskRecord.critical)}}a._$name="CriticalPaths",r.default.registerFeature(a,!0,"Gantt")},"./lib/Gantt/feature/Dependencies.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/Dependencies.js"),o=n("./lib/Gantt/data/DependencyStore.js"),a=n("./lib/Core/helper/TemplateHelper.js"),s=n("./lib/Gantt/model/TaskModel.js"),l=n("./lib/Engine/scheduling/Types.js");const c=["left","left","right","right"],d=["left","right","left","right"];class u extends i.default{static get $name(){return"Dependencies"}static get defaultConfig(){return{terminalSides:["left","right"],storeClass:o.default,highlightDependenciesOnEventHover:!0}}construct(e,t={}){const n=this;e.isGantt&&(n.gantt=e),Object.prototype.hasOwnProperty.call(t,"pathFinderConfig")?(Object.prototype.hasOwnProperty.call(t.pathFinderConfig,"otherHorizontalMargin")||(t.pathFinderConfig.otherHorizontalMargin=0),Object.prototype.hasOwnProperty.call(t.pathFinderConfig,"otherVerticalMargin")||(t.pathFinderConfig.otherVerticalMargin=0)):t.pathFinderConfig={otherHorizontalMargin:0,otherVerticalMargin:0},e.on({projectRefresh:"onProjectRefresh",thisObj:n}),n.added=new Set,super.construct(e,t)}attachToEventStore(e){super.attachToEventStore(e),this.detachListeners("taskStore"),e&&e.on({name:"taskStore",refreshPreCommit:"onTaskStoreRefresh",thisObj:this})}onDependencyChange({action:e,record:t,records:n}){if(!this.client.project.propagatingLoadChanges){switch(e){case"add":return void n.forEach(e=>this.added.add(e))}super.onDependencyChange(...arguments)}}onTaskStoreRefresh({action:e}){const t=this;switch(e){case"sort":t.scheduleDraw(!0);break;case"filter":t.resetGridCache(),t.scheduleDraw(!0)}}getIteratableDependencyAssignments(e){return[null]}isDependencyVisible(e,t=null){const{client:n}=this,r=e.fromEvent,i=e.toEvent;if(r&&i&&Object(r)===r&&Object(i)===i)return r instanceof s.default&&!t?!r.placeHolder&&n.store.isAvailable(r)&&!i.placeHolder&&n.store.isAvailable(i):super.isDependencyVisible(e,t)}getBox(e,t,n=null){const r=this.getTimeSpanRecordFromDependency(e,t);return this.gantt?this.gantt.getTaskBox(r,!0,!0):r.isEvent||n?super.getBox(e,t,n):r.assignments.length?this.client.getResourceEventBox(r,r.assignments[0].resource,!0):null}getRowRecordFromDependency(e,t){if(!this.gantt){const n=this.getTimeSpanRecordFromDependency(e,t);return n.isEvent?super.getRowRecordFromDependency(e,t):n.assignments.length?n.assignments[0].resource:null}return this.getTimeSpanRecordFromDependency(e,t)}onProjectRefresh(){const{added:e}=this;if(e.size){for(const t of e)this.addToGridCache(t);e.clear()}super.onProjectRefresh(),this.scheduleDraw()}drawLine(e,t,n,r=null,i=!0){super.drawLine(e,t,n,r);const o=super.drawLine(e,t,n,r,i),{client:a}=this,s=t.toEvent;(!s.milestone&&(s.endDate<=a.startDate||a.endDate<=s.startDate)||s.milestone&&(s.endDate<a.startDate||a.endDate<s.startDate))&&o.classList.add("b-sch-dependency-ends-outside")}prepareLineDef(e,t,n=null){const r=this,i=r.getTimeSpanRecordFromDependency(e,!0),o=r.getTimeSpanRecordFromDependency(e,!1),a=e.type,s=this.pathFinder.startArrowMargin;let c=e.fromSide,d=e.toSide;if(!c)switch(!0){case a===l.DependencyType.StartToEnd:case a===l.DependencyType.StartToStart:c=r.getConnectorStartSide(i);break;case a===l.DependencyType.EndToStart:case a===l.DependencyType.EndToEnd:c=r.getConnectorEndSide(i);break;default:throw new Error("Invalid dependency type: "+a)}if(!d)switch(!0){case a===l.DependencyType.StartToEnd:d=r.getConnectorEndSide(o);break;case a===l.DependencyType.StartToStart:case a===l.DependencyType.EndToStart:d=r.getConnectorStartSide(o);break;case a===l.DependencyType.EndToEnd:d=r.getConnectorEndSide(o);break;default:throw new Error("Invalid dependency type: "+a)}const{startRectangle:u,endRectangle:h}=t;a===l.DependencyType.EndToStart&&u.bottom<h.y&&Math.round(u.right)-Math.round(h.x)<=0&&(d="top",e.toEvent.milestone||(h.right=h.x+2*s));const f=r.client.getRecordCoords(i,!0),g=r.client.getRecordCoords(o,!0),m=[{start:u.x,end:u.right,top:f.y,bottom:f.y+f.height},{start:h.x,end:h.right,top:g.y,bottom:g.y+g.height}];return{endBox:{start:u.x,end:u.right,top:u.y,bottom:u.bottom},startBox:{start:h.x,end:h.right,top:h.y,bottom:h.bottom},endSide:c,startSide:d,boxesReversed:!0,otherBoxes:m}}drawForTask(e){this.drawForTimeSpan(e)}getSortedDependenciesToRefresh(){const e=this.client.features.criticalPaths;return e&&!e.disabled?new Map([...this.dependenciesToRefresh].sort(([{fromTask:e}],[{fromTask:t}])=>(null===e||void 0===e?void 0:e.critical)===(null===t||void 0===t?void 0:t.critical)?0:null!==e&&void 0!==e&&e.critical?1:-1)):this.dependenciesToRefresh}getHoverTipHtml({activeTarget:e}){const t=this.resolveDependencyRecord(e);if(!t)return null;const{fromEvent:n,toEvent:r}=t;return a.default.tpl`
             <table class="b-sch-dependency-tooltip">
                <tr>
                    <td>${this.L("L{Dependencies.from}")}: </td>
                    <td>${n.name} ${n.id}</td>
                    <td><div class="b-sch-box b-${c[t.type]}"></div></td>
                </tr>
                <tr>
                    <td>${this.L("L{Dependencies.to}")}: </td>
                    <td>${r.name} ${r.id}</td>
                    <td><div class="b-sch-box b-${d[t.type]}"></div></td>
                </tr>
            </table>
        `}async createDependency(e){const t=e.source,n=e.target,r=("left"===e.sourceTerminal.dataset.side?0:2)+("right"===e.targetTerminal.dataset.side?1:0),i=this.dependencyStore.add({fromEvent:t,toEvent:n,type:r})[0];return await this.dependencyStore.project.propagateAsync(),i}createMarkers(){super.createMarkers();const e=(this.startMarker||this.endMarker).cloneNode(!0);e.setAttribute("id","arrowEndCritical"),this.client.svgCanvas.appendChild(e)}}u._$name="Dependencies",r.default.registerFeature(u,!0,"Gantt")},"./lib/Gantt/feature/DependencyEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/DependencyEdit.js");class o extends i.default{static get $name(){return"DependencyEdit"}static get defaultConfig(){return{showLagField:!0}}}o._$name="DependencyEdit",r.default.registerFeature(o,!1)},"./lib/Gantt/feature/Indicators.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/base/TooltipBase.js"),o=n("./lib/Core/helper/util/DomClassList.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends i.default{static get $name(){return"Indicators"}static get defaultConfig(){return{cls:"b-gantt-task-tooltip",forSelector:".b-indicator",recordType:"indicator",hoverDelay:500,defaultIndicators:{earlyDates:e=>e.earlyStartDate&&!e.isMilestone?{startDate:e.earlyStartDate,endDate:e.earlyEndDate,cls:"b-bottom b-early-dates",name:this.L("L{earlyDates}")}:null,lateDates:e=>e.lateStartDate&&!e.isMilestone?{startDate:e.lateStartDate,endDate:e.lateEndDate,cls:"b-bottom b-late-dates",name:this.L("L{lateDates}")}:null,constraintDate:e=>e.constraintDate?{startDate:e.constraintDate,cls:"b-bottom b-constraint-date b-constraint-type-"+e.constraintType,name:this.L(`L{ConstraintTypePicker.${e.constraintType}}`)}:null,deadlineDate:e=>e.deadlineDate?{startDate:e.deadlineDate,cls:"b-bottom b-deadline-date",name:this.L("L{deadlineDate}")}:null},items:{}}}static get pluginConfig(){return{chain:["onTaskDataGenerated","onPaint"]}}construct(e,t={}){this.tipId=e.id+"-indicators-tip",this.gantt=e;const{items:n}=t;delete t.items,super.construct(e,t),this.items=n}set items(e){const t=this;t._indicators=a.default.assign({},t.defaultIndicators,e),t._indicatorAccessors={},t._indicatorStatus={};for(const n in t._indicators)t._indicatorStatus[n]=Boolean(t._indicators[n]),"function"!==typeof t._indicators[n]&&(t._indicators[n]=t.defaultIndicators[n]),Object.defineProperty(t._indicatorAccessors,n,{enumerable:!0,get:()=>!!t._indicatorStatus[n]&&t._indicators[n],set(e){t._indicatorStatus[n]=e,t.gantt.refresh()}})}get items(){return this._indicatorAccessors}createIndicatorDOMConfig(e,t){const{gantt:n,renderData:r}=this,{taskRecord:i}=r,{cls:a,iconCls:s}=e,l=n.getCoordinateFromDate(e.startDate),c=e.endDate?n.getCoordinateFromDate(e.endDate)-l:null,d=a&&a.isDomClassList?a:new o.default(a),u=r.top||n.taskStore.indexOf(i)*n.rowManager.rowOffsetHeight+n.resourceMargin,h=r.height||n.rowHeight-2*n.resourceMargin;return{className:Object.assign(d,{"b-indicator":1,"b-has-icon":e.iconCls}),style:{transform:`translate(${l}px, ${u}px)`,height:h,width:c,style:e.style},dataset:{taskId:`${r.taskId}-indicator-${t}`,title:e.name},children:[s?{tag:"i",className:s}:null],elementData:e}}onTaskDataGenerated(e){const{items:t}=this,n=[];for(const r in t){const i=t[r];if(this._indicatorStatus[r]&&"function"===typeof i){const t=i(e.taskRecord);t&&this.gantt.timeAxis.timeSpanInAxis(t.startDate,t.endDate)&&n.push(t)}}e.extraConfigs.push(...n.map(this.createIndicatorDOMConfig,{gantt:this.gantt,renderData:e}))}resolveTimeSpanRecord(e){return e.lastDomConfig.elementData}template(e){const{indicator:t}=e;return e.endDate?`\n                ${t.name?`<div class="b-gantt-task-title">${t.name}</div>`:""}\n                <table border="0" cellspacing="0" cellpadding="0">\n                    <tr><td>${this.L("L{Start}")}:</td><td>${e.startClockHtml}</td></tr>\n                    <tr><td>${this.L("L{End}")}:</td><td>${e.endClockHtml}</td></tr>\n                </table>\n            `:`\n            ${t.name?`<div class="b-gantt-task-title">${t.name}</div>`:""}\n            ${e.startText}\n        `}}s._$name="Indicators",r.default.registerFeature(s,!1)},"./lib/Gantt/feature/Labels.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/Labels.js");class o extends i.default{static get $name(){return"Labels"}static get pluginConfig(){return{chain:["onTaskDataGenerated"]}}onTaskDataGenerated(e){this.onEventDataGenerated(e)}}o._$name="Labels",r.default.registerFeature(o,!1,"Gantt")},"./lib/Gantt/feature/ProgressLine.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/mixin/Delayable.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/ArrayHelper.js");class c extends(Object(o.default)(r.default)){static get $name(){return"ProgressLine"}static get defaultConfig(){return{statusDate:new Date,drawLineOnlyWhenStatusDateVisible:!1,lineCls:"b-gantt-progress-line",containerCls:"b-progress-line-canvas"}}static get pluginConfig(){return{chain:["onPaint"]}}construct(e,t={}){this.scheduleDraw=this.createOnFrame("draw",[],this,!0),super.construct(e,t),this.lineSegments=[]}doDisable(e){const t=this;t.attachToClient(e?null:t.client),t.client.rendered&&t.draw(),super.doDisable(e)}get statusDate(){return this._statusDate}set statusDate(e){e instanceof Date&&(this._statusDate=e,this.disabled||this.scheduleDraw())}getSVGCanvas(){const e=this,{client:t}=e;if(!e._svgCanvas){const n=e._svgCanvas=document.createElementNS("http://www.w3.org/2000/svg","svg");n.retainElement=!0,n.classList.add(e.containerCls),t.foregroundCanvas.appendChild(n)}return e._svgCanvas}attachToProject(e){const t=this;t.detachListeners("project"),e&&e.on({name:"project",refresh:t.onProjectRefresh,thisObj:t})}attachToRowManager(e){const t=this;t.detachListeners("rowManager"),e&&e.on({name:"rowManager",translaterow:t.onTranslateRow,refresh:t.scheduleDraw,rerender:t.scheduleDraw,changetotalheight:t.scheduleDraw,thisObj:t})}attachToClient(e){const t=this;t.detachListeners("client"),e&&e.on({name:"client",horizontalscroll:t.scheduleDraw,togglenode:t.scheduleDraw,taskdrag:t.onTaskDrag,taskdragabort:t.scheduleDraw,aftertaskdrop:t.scheduleDraw,timelineviewportresize:t.scheduleDraw,thisObj:t}),t.attachToProject(null===e||void 0===e?void 0:e.project),t.attachToRowManager(null===e||void 0===e?void 0:e.rowManager)}onPaint(){this.attachToProject(this.disabled?null:this.client.project)}onProjectRefresh(){this.scheduleDraw()}onTranslateRow({row:e}){e.lastTop>=0&&e.top!==e.lastTop&&this.scheduleDraw()}onTaskDrag({taskRecords:e,dragData:t}){e.forEach(e=>{this.updateLineForTask(e,{[e.id]:a.default.add(e.startDate,t.timeDiff)})})}shouldDrawProgressLine(){return!this.client.timeAxisSubGrid.collapsed&&!this.disabled&&(!this.drawLineOnlyWhenStatusDateVisible||this.client.timeAxis.dateInAxis(this.statusDate))}getStatusDateX(){let{statusDate:e}=this;const{client:t}=this;return t.timeAxis.dateInAxis(e)||(e=e<t.timeAxis.startDate?t.timeAxis.startDate:t.timeAxis.endDate),t.getCoordinateFromDate(e)}getRenderData(){const e=this.getStatusDateX(),t=this.client.timeAxisSubGridElement.getBoundingClientRect();return{statusDateX:e,viewXY:[this.client.scrollLeft-t.left,-t.top]}}draw(){const e=this,{client:t}=e;if(e.lineSegments.forEach(e=>e.remove()),e.lineSegments=[],!e.shouldDrawProgressLine())return;if(t.isAnimating)return void t.on({transitionend(){e.scheduleDraw()},once:!0});const n=e.getRenderData(),r=[];t.rowManager.forEach(t=>{r.push(...e.getLineSegmentRenderData(t,n))}),r.forEach(t=>e.drawLineSegment(t)),t.trigger("progressLineDrawn")}segmentBelongsToTask(e,t){return e.getAttribute("data-task-id")==t.id}updateLineForTask(e,t){const n=this;if(n.disabled)return;const r=n.client.getRowFor(e);if(r){const i=[];n.lineSegments.forEach(t=>{n.segmentBelongsToTask(t,e)&&(i.push(t),t.remove())}),l.default.remove(n.lineSegments,...i),n.getLineSegmentRenderData(r,n.getRenderData(),t).forEach(e=>n.drawLineSegment(e))}}getLineSegmentRenderData(e,t,n={}){const r=this,{statusDateX:i,viewXY:o}=t,a=r.client.getRecordFromElement(e.elements.normal),s=a.id,l=[];let c;return r.isStatusLineTask(a,n[a.id])&&(c=r.calculateCoordinateForTask(a,o),c&&l.push({dataset:{taskId:s},x1:i,y1:e.top,x2:c.x,y2:c.y},{dataset:{taskId:s},x1:c.x,y1:c.y,x2:i,y2:e.bottom})),c||l.push({dataset:{taskId:s},x1:i,y1:e.top,x2:i,y2:e.bottom}),l}drawLineSegment(e){this.lineSegments.push(s.default.createElement(Object.assign({tag:"line",ns:"http://www.w3.org/2000/svg",class:this.lineCls,parent:this.getSVGCanvas()},e)))}isStatusLineTask(e,t){const n=this.statusDate;return t=t||e.startDate,e&&this.client.timeAxis.isTimeSpanInAxis(e)&&!e.milestone&&(e.isInProgress||!e.isStarted&&t<n||e.isCompleted&&t>n)}calculateCoordinateForTask(e,t){const{client:n}=this,r=n.getElementFromTaskRecord(e),i=null===r||void 0===r?void 0:r.querySelector(".b-task-percent-bar");if(i){const e=i.getBoundingClientRect(),r=n.timeAxisViewModel.totalSize;return{x:Math.min(e.right+t[0],r),y:e.top+e.height/2+t[1]}}}}c._$name="ProgressLine",i.default.registerFeature(c)},"./lib/Gantt/feature/ProjectLines.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/AbstractTimeRanges.js");class o extends i.default{static get $name(){return"ProjectLines"}static get defaultConfig(){return{showHeaderElements:!0,cls:"b-gantt-project-line"}}startConfigure(){}onPaint({firstPaint:e}){const t=this;e&&([t.startDateLine,t.endDateLine]=t.store.add([{name:t.L("L{Project Start}")},{name:t.L("L{Project End}")}]),t.updateDateFromProject(),t.client.project.on({name:"project",refresh:t.onProjectRefresh,thisObj:t})),super.onPaint(...arguments)}updateLocalization(){const e=this;e.client.rendered&&(e.startDateLine.name=e.L("L{Project Start}"),e.endDateLine.name=e.L("L{Project End}"))}updateDateFromProject(){const{project:e}=this.client;this.startDateLine.startDate=e.startDate,this.endDateLine.startDate=e.endDate}onProjectRefresh(){this.updateDateFromProject()}}o._$name="ProjectLines",r.default.registerFeature(o,!0,"Gantt")},"./lib/Gantt/feature/Rollups.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/feature/base/TooltipBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/BrowserHelper.js");class a extends r.default{static get $name(){return"Rollups"}static get defaultConfig(){return{cls:"b-gantt-task-tooltip",align:"t-b",forSelector:".b-task-rollup"}}static get pluginConfig(){return{chain:["onTaskDataGenerated","onPaint"]}}construct(e,t){this.tipId=e.id+"-rollups-tip",super.construct(e,t)}attachToTaskStore(e){this.detachListeners("taskStore"),e&&e.on({name:"taskStore",update:"onStoreUpdateRecord",thisObj:this})}doDestroy(){this.attachToTaskStore(null),super.doDestroy()}doDisable(e){const t=this,{dependencies:n}=t.client.features;t.tooltip&&(t.tooltip.disabled=e),t.attachToTaskStore(e?null:t.client.taskStore),t.client.refresh(),n&&t.client.setTimeout(()=>n.scheduleDraw(!0),300),super.doDisable(e)}getTipHtml({activeTarget:e,event:t}){const{client:n}=this,r=n.resolveTaskRecord(e),i=o.default.isEdge||o.default.isIE11,a=document[i?"msElementsFromPoint":"elementsFromPoint"](t.pageX+window.pageXOffset,t.pageY+window.pageYOffset),s=Array.from(a).filter(e=>e.classList.contains("b-task-rollup")).sort((e,t)=>parseInt(e.dataset.index,10)-parseInt(t.dataset.index,10)),l=[];for(const o of s)l.push(r.children[parseInt(o.dataset.index,10)]);return this.template({task:r,children:l})}template({children:e}){const t=this,{client:n}=t,r=[];return e.map((e,i)=>{const{startDate:o,endDate:a}=e,s=n.getFormattedDate(o),l=n.getDisplayEndDate(a,o),c=n.getFormattedDate(l);r.push(`<div class="b-gantt-task-title ${i?"b-follow-on":""}">${e.name}</div><table>`,`<tr><td>${t.L("L{TaskTooltip.Start}")}:</td><td>${t.clockTemplate.template({date:o,text:s,cls:"b-sch-tooltip-startdate"})}</td></tr>`,`<tr><td>${t.L("L{TaskTooltip.End}")}:</td><td>${e.isMilestone?"":t.clockTemplate.template({date:l,text:c,cls:"b-sch-tooltip-enddate"})}</td></tr></table>`)}),r.join("")}onStoreUpdateRecord({record:e,changes:t}){this.client.project.propagatingLoadChanges||e.parent&&(t.rollup||t.startDate||t.endDate)&&this.client.taskRendering.redraw(e.parent)}onTaskDataGenerated({taskRecord:e,left:t,wrapperChildren:n}){if(!this.disabled&&e.isParent){const r=e.children.slice().sort((e,t)=>t.durationMS-e.durationMS);n.push({className:"b-task-rollup-wrap",dataset:{taskFeature:"rollups"},children:r.map(e=>{if(e.rollup){const n=this.client.getSizeAndPosition(e);if(!n)return null;const{position:r,width:i}=n;return{dataset:{index:e.parentIndex,rollupTaskId:e.id},className:`b-task-rollup ${e.isMilestone?"b-milestone":""} ${e.cls}`,style:{width:e.isMilestone?null:i,left:r-t}}}return null}),syncOptions:{syncIdField:"rollupTaskId"}})}}}a._$name="Rollups",i.default.registerFeature(a,!1,"Gantt")},"./lib/Gantt/feature/TaskContextMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Gantt/feature/TaskMenu.js"),o=n("./lib/Core/helper/VersionHelper.js");class a extends i.default{static get $name(){return"TaskContextMenu"}construct(e,t){super.construct(...arguments),o.default.deprecate("Gantt","5.0.0","`TaskContextMenu` feature is deprecated, in favor of `TaskMenu` feature. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md#context-menu for more information."),e.features.taskMenu&&(e.features.taskMenu.disabled=!0),e.features.contextMenu&&(e.showRemoveRowInContextMenu=!1,e.features.contextMenu.disableCellContextMenu=!0)}resolveRecord(e){return this.client.resolveTaskRecord(e)||this.client.getRecordFromElement(e)}showContextMenuFor(e,{targetElement:t,eventElement:n,event:r}={}){const{client:i}=this;if(e&&(t||(t=i.getElementFromTaskRecord(e)))){if(r){const e=i.getEventData(r);if(!e)return;const t=i.columns.getById(e.columnId);if(!n&&t&&!t.enableCellContextMenu)return}this.showContextMenu({menuType:"task",taskElement:t,targetElement:t,taskRecord:e,event:r})}}}a.featureClass="",a._$name="TaskContextMenu",r.default.registerFeature(a)},"./lib/Gantt/feature/TaskDrag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Scheduler/feature/base/DragBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/helper/ArrayHelper.js");class l extends r.default{static get $name(){return"TaskDrag"}static get defaultConfig(){return{validatorFn:(e,t,n,r)=>!0,validatorFnThisObj:null,tooltipCls:"b-gantt-taskdrag-tooltip"}}construct(e,t){this.gantt=e,super.construct(e,t)}get store(){return this.gantt.taskStore}isElementDraggable(e,t){var n;const{gantt:r}=this,i=o.default.up(e,r.eventSelector),{taskResize:a}=r.features;if(!i)return!1;if(e.matches('[class$="-handle"]'))return!1;const s=r.resolveTaskRecord(i);return!(!s||!s.isDraggable)&&!(s.resizable&&!s.isMilestone&&null!==a&&void 0!==a&&null!==(n=a.resize)&&void 0!==n&&n.overAnyHandle(t,i))&&!1!==r.trigger("beforeTaskDrag",{taskRecord:s})}triggerEventDrag(e,t){this.gantt.trigger("taskDrag",{taskRecords:e.draggedEntities,startDate:e.startDate,endDate:e.endDate,dragData:e,changed:e.startDate-t!==0})}triggerDragStart(e){this.gantt.trigger("taskDragStart",{taskRecords:e.draggedEntities,dragData:e})}triggerDragAbort(e){this.gantt.trigger("taskDragAbort",{taskRecords:e.draggedEntities,context:e})}triggerAfterDrop(e,t){this.currentOverClient.trigger("afterTaskDrop",{taskRecords:e.draggedEntities,context:e,valid:t})}getProductDragContext(e){return{valid:!0}}getMinimalDragData(e){const t=this.getElementFromContext(e);return{taskRecord:this.gantt.resolveTaskRecord(t)}}setupProductDragData(e){const t=this.gantt,n=e.element,r=t.resolveTaskRecord(n),i=a.default.from(n),o=this.getRelatedRecords(r)||[],l=t.getDateConstraints(r),c=[n];this.setupConstraints(t.getScheduleRegion(r),i,t.timeAxisViewModel.snapPixelAmount,Boolean(l)),o.forEach(e=>{s.default.include(c,t.getElementFromTaskRecord(e,!1))});const d=[r,...o];return{record:r,dateConstraints:l,eventBarEls:c,draggedEntities:d}}getCoordinate(e,t,n){return n[0]}checkDragValidity(e,t){return this.validatorFn.call(this.validatorFnThisObj||this,e.draggedEntities,e.startDate,e.duration,t)}isValidDrop(e){return!0}async updateRecords(e){const t=e.draggedEntities[0],n=t.startDate,r=e.startDate,i=t.setStartDate(r,!0);return await i,t.startDate-n?this.gantt.trigger("taskDrop",{taskRecords:e.draggedEntities}):this.dragData.valid=!1,i}getRecordElement(e){return this.gantt.getElementFromTaskRecord(e,!0)}}l._$name="TaskDrag",i.default.registerFeature(l,!0,"Gantt")},"./lib/Gantt/feature/TaskDragCreate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/base/DragCreateBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js");class o extends r.default{static get $name(){return"TaskDragCreate"}static get defaultConfig(){return{preventMultiple:!0,validatorFn:()=>{}}}construct(e,t){this.gantt=e,super.construct(e,t)}get store(){return this.gantt.taskStore}async finalizeDragCreate(e){const{taskRecord:t}=e;t.beginBatch(),t.setStartDate(e.startDate),t.setEndDate(e.endDate),t.endBatch(),await this.gantt.project.commitAsync(),this.gantt.trigger("dragCreateEnd",{taskRecord:t,event:e.event,proxyElement:this.proxy})}handleBeforeDragCreate(e,t){const n=this,r=n.gantt.trigger("beforeDragCreate",{taskRecord:n.createContext.taskRecord,date:e,event:t});if(r){const e=n.gantt.features.scheduleTooltip;var i;e&&(null===(i=e.hoverTip)||void 0===i||i.hide())}return n.dateConstraints=n.gantt.getDateConstraints(n.createContext.rowRecord,e),r}checkValidity(e,t){return e.taskRecord=e.rowRecord,this.validatorFn.call(this.validatorFnThisObj||this,e,t)}isRowEmpty(e){return!e.startDate||!e.endDate}}o._$name="TaskDragCreate",i.default.registerFeature(o,!0,"Gantt")},"./lib/Gantt/feature/TaskEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/SchedulerPro/feature/TaskEdit.js"),i=n("./lib/Gantt/widget/TaskEditor.js"),o=n("./lib/Grid/feature/GridFeatureManager.js");class a extends r.default{static get $name(){return"TaskEdit"}static get defaultConfig(){return{triggerEvent:"taskdblclick",saveAndCloseOnEnter:!0,tabsConfig:null,editorClass:i.default}}static get pluginConfig(){return{chain:["populateTaskMenu","onTaskEnterKey"],assign:["editTask"]}}editTask(e,t){return this.editEvent(e,null,t)}onActivateEditor({taskRecord:e,taskElement:t}){this.editTask(e,t)}getElementFromTaskRecord(e){return this.client.getElementFromTaskRecord(e)}onTaskEnterKey({taskRecord:e}){this.editTask(e)}populateTaskMenu({taskRecord:e,selection:t,items:n}){!this.client.readOnly&&t.length<=1&&(n.editTask={text:"L{Gantt.Edit}",localeClass:this.client,cls:"b-separator",icon:"b-icon b-icon-edit",weight:100,disabled:this.disabled,onItem:()=>this.editTask(e)})}onEventEnterKey({taskRecord:e,target:t}){this.editTask(e)}scrollTaskIntoView(e){this.scrollEventIntoView(e)}scrollEventIntoView(e){this.client.scrollTaskIntoView(e)}}a._$name="TaskEdit",o.default.registerFeature(a,!0,"Gantt")},"./lib/Gantt/feature/TaskMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/EventMenu.js"),o=n("./lib/Core/helper/util/Objects.js");class a extends i.default{static get $name(){return"TaskMenu"}static get defaultConfig(){return{type:"task",processItems:null}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateTaskMenu"),e}construct(e,t={}){super.construct(...arguments),this.gantt=e,e.features.cellMenu&&(console.warn("`CellMenu` feature is ignored, when `TaskMenu` feature is enabled. If you need cell specific menu items, please configure `TaskMenu` feature items instead."),e.features.cellMenu.disabled=!0)}getDataFromEvent(e){const{client:t}=this,n=this.getTargetElementFromEvent(e),r=t.resolveTaskRecord(n)||t.getRecordFromElement(n),i=r&&t.getElementFromTaskRecord(r,!1);return o.default.assign({event:e,targetElement:n,taskElement:i,taskRecord:r},t.getCellDataFromEvent(e))}callChainablePopulateMenuMethod(e){e.cellData&&this.client.populateCellMenu&&this.client.populateCellMenu(e),super.callChainablePopulateMenuMethod(...arguments)}shouldShowMenu(e){const{column:t}=e;return e.taskRecord&&(!t||!1!==t.enableCellContextMenu)}getElementFromRecord(e){return this.client.getElementFromTaskRecord(e)}populateTaskMenu({items:e,column:t,selection:n,taskRecord:r}){const i=n.includes(r)&&n.length>1;e.add={hidden:i},e.convertToMilestone={hidden:r.isParent||r.milestone},e.indent={disabled:!r.previousSibling},e.outdent={disabled:r.parent===this.client.taskStore.rootNode},null!==t&&void 0!==t&&t.cellMenuItems&&o.default.merge(e,t.cellMenuItems)}changeItems(e){const{client:t}=this;return o.default.merge({add:{text:"L{Gantt.Add}",cls:"b-separator",icon:"b-icon-add",weight:500,menu:{addTaskAbove:{text:"L{Gantt.Task above}",weight:510,icon:"b-icon-up",onItem({taskRecord:e}){t.addTaskAbove(e)}},addTaskBelow:{text:"L{Gantt.Task below}",weight:520,icon:"b-icon-down",onItem({taskRecord:e}){t.addTaskBelow(e)}},milestone:{text:"L{Gantt.Milestone}",weight:530,icon:"b-icon-flag",name:"milestone",onItem({taskRecord:e}){t.addMilestoneBelow(e)}},subtask:{text:"L{Gantt.Sub-task}",weight:540,name:"subtask",onItem({taskRecord:e}){t.addSubtask(e)}},successor:{text:"L{Gantt.Successor}",weight:550,onItem({taskRecord:e}){t.addSuccessor(e)}},predecessor:{text:"L{Gantt.Predecessor}",weight:560,name:"predecessor",onItem({taskRecord:e}){t.addPredecessor(e)}}}},convertToMilestone:{icon:"b-icon-milestone",text:"L{Gantt.Convert to milestone}",weight:600,onItem({taskRecord:e}){e.convertToMilestone()}},indent:{text:"L{Gantt.Indent}",icon:"b-icon-indent",weight:700,onItem({selection:e,taskRecord:n}){t.indent(e.includes(n)?e:n)}},outdent:{text:"L{Gantt.Outdent}",icon:"b-icon-outdent",weight:800,onItem({selection:e,taskRecord:n}){t.outdent(e.includes(n)?e:n)}},deleteTask:{text:"L{Gantt.Delete task}",icon:"b-icon-trash",name:"deleteTask",cls:"b-separator",weight:900,onItem({selection:e,taskRecord:n}){t.taskStore.remove(e.includes(n)?e:n)}}},e)}}a.featureClass="",a._$name="TaskMenu",r.default.registerFeature(a,!0,"Gantt")},"./lib/Gantt/feature/TaskResize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Scheduler/feature/base/ResizeBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/ResizeHelper.js");class s extends r.default{static get $name(){return"TaskResize"}getTimespanRecord(e){return e.taskRecord}getRowRecord(e){return e.taskRecord}setupProductResizeContext(e,t){const n=this.client,r=n.resolveTaskRecord(e.element);Object.assign(e,{taskRecord:r,dateConstraints:n.getDateConstraints(r)})}get store(){return this.client.taskStore}internalUpdateRecord(e,t){const n=t.run("calculateProjectedDuration",e.startDate,e.endDate);return n===t.duration?(e.element.lastDomConfig.style.width=null,!1):(t.setDuration(n),!0)}createResizeHelper(){const e=this,t=e.client;return new a.default({name:e.constructor.name,isElementResizable:(t,n)=>e.isElementResizable(t,n),targetSelector:t.eventSelector,resizingCls:"b-sch-event-resizing",allowResize:e.isElementResizable.bind(e),outerElement:t.timeAxisSubGridElement,scrollManager:t.scrollManager,leftHandle:!1,dragThreshold:0,dynamicHandleSize:!0,reservedSpace:5,listeners:{beforeresizestart:e.onBeforeResizeStart,resizestart:e.onResizeStart,resizing:e.onResizing,resize:e.onFinishResize,cancel:e.onCancelResize,thisObj:e},highlightHandle(){const e=o.default.up(this.currentElement,this.targetSelector),n=o.default.up(this.currentElement,t.eventInnerSelector);n&&(n.classList.add("b-resize-handle"),e.classList.add("b-over-resize-handle"))},unHighlightHandle(){const e=o.default.up(this.currentElement,this.targetSelector);e&&e.classList.remove("b-over-resize-handle");const n=o.default.up(this.currentElement,t.eventInnerSelector);n&&n.classList.remove("b-resize-handle"),this.currentElement=null}})}}s._$name="TaskResize",i.default.registerFeature(s,!0,"Gantt")},"./lib/Gantt/feature/TaskTooltip.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Scheduler/feature/base/TooltipBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/StringHelper.js");class s extends r.default{static get $name(){return"TaskTooltip"}static get defaultConfig(){return{template(e){const t=this,{taskRecord:n}=e,r=t.client.formatDuration(n.duration,t.decimalPrecision);return`\n                    ${n.name?`<div class="b-gantt-task-title">${a.default.encodeHtml(n.name)}</div>`:""}\n                    <table border="0" cellspacing="0" cellpadding="0">\n                    <tr><td>${t.L("L{Start}")}:</td><td>${e.startClockHtml}</td></tr>\n                    ${n.milestone?"":`\n                        <tr><td>${t.L("L{End}")}:</td><td>${e.endClockHtml}</td></tr>\n                        <tr><td>${t.L("L{Duration}")}:</td><td class="b-right">${r+" "+o.default.getLocalizedNameOfUnit(n.durationUnit,1!==n.duration)}</td></tr>\n                        <tr><td>${t.L("L{Complete}")}:</td><td class="b-right">${n.renderedPercentDone}%</td></tr>\n                    `}\n                    </table>\n                `},decimalPrecision:null,cls:"b-gantt-task-tooltip",monitorRecordUpdate:!0}}}s._$name="TaskTooltip",i.default.registerFeature(s,!0,"Gantt")},"./lib/Gantt/feature/export/MspExport.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/mixin/InstancePlugin.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=n("./lib/Core/helper/XMLHelper.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=i.default.clearTime(new Date(1900,5,15)),f={minute:3,hour:5,day:7,week:9,month:11},g={minute:1,hour:2,day:3,week:4,month:5},m={finishnoearlierthan:6,finishnolaterthan:7,mustfinishon:3,muststarton:2,startnoearlierthan:4,startnolaterthan:5},p={FixedDuration:1,FixedUnits:0,FixedEffort:2,Normal:0},v={0:3,1:2,2:1,3:0};class b extends a.default{static get $name(){return"MspExport"}static get configurable(){return{filename:null,dateFormat:"YYYY-MM-DDTHH:mm:ss",timeFormat:"HH:mm:ss",msProjectVersion:2019}}generateExportData(){const e=this;return d(d({},e.getMsProjectConfig()),{},{Calendars:{Calendar:e.getCalendarsData()},Tasks:{Task:e.getTasksData()},Resources:{Resource:e.getResourcesData()},Assignments:{Assignment:e.getAssignmentsData()}})}export(e={}){const t=this;if(t.disabled)return;(e=s.default.assign({},t.config,e)).filename||(e.filename=t.client.$$name+".xml");const n=t.generateExportData(e),i=t.convertToXml(n);r.default.download(e.filename,"data:text/xml;charset=utf-8,"+escape(i))}convertToXml(e){return l.default.convertFromObject(e,{rootName:"Project",elementName:"",xmlns:"http://schemas.microsoft.com/project",rootElementForArray:!1})}getMsProjectConfig(){const e=this,t=e.dateFormat,{project:n}=e.client,r=e.filename||e.client.$$name;return{CalendarUID:e.getCalendarUID(n.effectiveCalendar),CreationDate:i.default.format(new Date,t),CurrentDate:i.default.format(new Date,t),DaysPerMonth:n.daysPerMonth,FinishDate:i.default.format(n.endDate,t),MinutesPerDay:60*n.hoursPerDay,MinutesPerWeek:n.daysPerWeek*n.hoursPerDay*60,Name:r,ScheduleFromStart:"Forward"===n.direction?1:0,StartDate:i.default.format(n.startDate,t),Title:r,WorkFormat:g[n.effortUnit]}}getCalendarsData(){const e=this,{calendarManagerStore:t,project:n}=e.client,{calendar:r}=n,i=t.allRecords||[];return t.getByInternalId(r.internalId)||i.push(r),i.map(t=>({BaseCalendarUID:e.getCalendarUID(t.parent),IsBaseCalendar:t.parentId?0:1,Name:(t.name||t.internalId)+" - imported",UID:e.getCalendarUID(t),WeekDays:{WeekDay:e.formatWeekDays(t)}}))}formatWeekDays(e){const{timeFormat:t}=this,n=[],r={};let o,a=h;for(let l=0;l<7;l++){const e=a.getDay();r[e]={DayType:e+1,DayWorking:0},o=i.default.clearTime(i.default.add(a,1,"day")),n.push({startDate:a,endDate:o}),a=o}const s=new e.constructor({intervals:n});return this.client.project.combineCalendars([e,s]).forEachAvailabilityInterval({startDate:h,endDate:o},(n,o,a)=>{const s=a.getCalendarsWorkStatus(),l=r[n.getDay()];s.get(e)&&(l.DayWorking=1,l.WorkingTimes=l.WorkingTimes||{WorkingTime:[]},l.WorkingTimes.WorkingTime.push({FromTime:i.default.format(n,t),ToTime:i.default.format(o,t)}))}),Object.values(r)}getTasksData(){const e=this,{dateFormat:t}=e,{project:n}=e.client;return e.client.tasks.map(r=>{const{wbsCode:o}=r;return{CalendarUID:e.getCalendarUID(r.effectiveCalendar),ConstraintDate:i.default.format(r.constraintDate,t),ConstraintType:m[r.constraintType],Deadline:i.default.format(r.deadlineDate,t),Duration:e.toTimeSpanValue(r.duration,r.durationUnit),DurationFormat:f[r.durationUnit],EarlyFinish:i.default.format(r.earlyEnd,t),EarlyStart:i.default.format(r.earlyStart,t),EffortDriven:r.effortDriven?1:0,Estimated:0,Finish:i.default.format(r.endDate,t),LateFinish:i.default.format(r.lateEnd,t),LateStart:i.default.format(r.lateStart,t),Manual:r.manuallyScheduled?1:0,ManualDuration:e.toTimeSpanValue(r.duration,r.durationUnit),ManualFinish:i.default.format(r.endDate,t),ManualStart:i.default.format(r.startDate,t),Milestone:r.isMilestone?1:0,Name:r.name,Notes:r.note,ProjectExternallyEdited:0,OutlineLevel:o.split(".").length,OutlineNumber:o,PredecessorLink:r.predecessors.map(e=>({LagFormat:f[e.lagUnit],LinkLag:10*n.convertDuration(e.lag,e.lagUnit,"minute"),PredecessorUID:e.fromEvent.id,Type:v[e.type]})),RemainingDuration:e.toTimeSpanValue(r.duration,r.durationUnit),Rollup:r.rollup?1:0,Start:i.default.format(r.startDate,t),Summary:r.isLeaf?0:1,TotalSlack:r.totalSlack,Type:r.isLeaf?p[r.schedulingMode]:1,UID:r.id,WBS:o,Work:e.toTimeSpanValue(r.effort,r.effortUnit)}})}getCalendarUID(e,t=-1){return e&&!e.isRoot?e.internalId:t}getResourcesData(){return this.client.resources.map(e=>({CalendarUID:2013===this.msProjectVersion?null:this.getCalendarUID(e.effectiveCalendar),Name:e.name,UID:e.id,Type:1}))}getAssignmentsData(){return 2013===this.msProjectVersion?[]:this.client.assignments.map(({data:e,event:t})=>({Finish:i.default.format(t.endDate,this.dateFormat),ResourceUID:e.resource,Start:i.default.format(t.startDate,this.dateFormat),TaskUID:e.event,UID:e.id,Units:e.units/100}))}toTimeSpanValue(e,t){const n=i.default.getDelta(i.default.as("ms",e,t),{abbrev:!0}),{w:r,min:o,s:a}=n;let{yr:s,mon:l,d:c,h:d}=n;return d=d||0,s&&(d+=i.default.as("h",s,"y")),l&&(d+=i.default.as("h",l,"month")),r&&(d+=i.default.as("h",r,"w")),c&&(d+=i.default.as("h",c,"d")),`PT${d}H${o||0}M${a||0}S`}}b._$name="MspExport",o.default.registerFeature(b,!1,"Gantt")},"./lib/Gantt/feature/export/PdfExport.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Scheduler/feature/export/PdfExport.js"),i=n("./lib/Gantt/feature/export/exporter/SinglePageExporter.js"),o=n("./lib/Gantt/feature/export/exporter/MultiPageExporter.js"),a=n("./lib/Gantt/feature/export/exporter/MultiPageVerticalExporter.js"),s=n("./lib/Grid/feature/GridFeatureManager.js");class l extends r.default{static get $name(){return"PdfExport"}static get defaultConfig(){return{exporters:[i.default,o.default,a.default]}}}l._$name="PdfExport",s.default.registerFeature(l,!1,"Gantt")},"./lib/Gantt/feature/export/exporter/GanttExporterMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/helper/util/Rectangle.js"),i=n("./lib/Core/helper/DomHelper.js");t.default=e=>class extends e{async prepareComponent(e){await super.prepareComponent(e);const t=this.element.querySelector(".b-sch-foreground-canvas");i.default.removeEachSelector(t,".b-gantt-task-wrap"),i.default.removeEachSelector(t,".b-released")}collectEvents(e,t){const n=e.length,{client:i}=t,o=this.exportMeta.subGrids.normal.rows;e.forEach((e,t)=>{const a=o[o.length-n+t],s=i.store.getAt(e.dataIndex),l=a[3];if(s.isScheduled){const e=i.getElementFromTaskRecord(s,!1);e&&!l.has(s.id)&&l.set(s.id,[e.outerHTML,r.default.from(e.firstChild,e.offsetParent)])}})}}},"./lib/Gantt/feature/export/exporter/MultiPageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/export/exporter/MultiPageExporter.js"),i=n("./lib/Gantt/feature/export/exporter/GanttExporterMixin.js");class o extends(Object(i.default)(r.default)){static get $name(){return"MultiPageExporter"}}o._$name="MultiPageExporter"},"./lib/Gantt/feature/export/exporter/MultiPageVerticalExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/export/exporter/MultiPageVerticalExporter.js"),i=n("./lib/Gantt/feature/export/exporter/GanttExporterMixin.js");class o extends(Object(i.default)(r.default)){static get $name(){return"MultiPageVerticalExporter"}}o._$name="MultiPageVerticalExporter"},"./lib/Gantt/feature/export/exporter/SinglePageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/export/exporter/SinglePageExporter.js"),i=n("./lib/Gantt/feature/export/exporter/GanttExporterMixin.js");class o extends(Object(i.default)(r.default)){static get $name(){return"SinglePageExporter"}}o._$name="SinglePageExporter"},"./lib/Gantt/localization/En.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/localization/LocaleManager.js"),i=n("./lib/SchedulerPro/localization/En.js");const o=n("./lib/Core/localization/LocaleHelper.js").default.mergeLocales(i.default,{Object:{Save:"Save"},AddNewColumn:{"New Column":"New Column"},CalendarColumn:{Calendar:"Calendar"},EarlyStartDateColumn:{"Early Start":"Early Start"},EarlyEndDateColumn:{"Early End":"Early End"},LateStartDateColumn:{"Late Start":"Late Start"},LateEndDateColumn:{"Late End":"Late End"},TotalSlackColumn:{"Total Slack":"Total Slack"},ConstraintDateColumn:{"Constraint Date":"Constraint Date"},ConstraintTypeColumn:{"Constraint Type":"Constraint Type"},DeadlineDateColumn:{Deadline:"Deadline"},DependencyColumn:{"Invalid dependency":"Invalid dependency found, change reverted"},DurationColumn:{Duration:"Duration"},EffortColumn:{Effort:"Effort"},EndDateColumn:{Finish:"Finish"},EventModeColumn:{"Event mode":"Event mode",Manual:"Manual",Auto:"Auto"},ManuallyScheduledColumn:{"Manually scheduled":"Manually scheduled"},MilestoneColumn:{Milestone:"Milestone"},NameColumn:{Name:"Name"},NoteColumn:{Note:"Note"},PercentDoneColumn:{"% Done":"% Done"},PredecessorColumn:{Predecessors:"Predecessors"},ResourceAssignmentColumn:{"Assigned Resources":"Assigned Resources","more resources":"more resources"},RollupColumn:{Rollup:"Rollup"},SchedulingModeColumn:{"Scheduling Mode":"Scheduling Mode"},SequenceColumn:{Sequence:"Sequence"},ShowInTimelineColumn:{"Show in timeline":"Show in timeline"},StartDateColumn:{Start:"Start"},SuccessorColumn:{Successors:"Successors"},WBSColumn:{WBS:"WBS",renumber:"Renumber"},DependencyField:{invalidDependencyFormat:"Invalid dependency format"},ProjectLines:{"Project Start":"Project start","Project End":"Project end"},TaskTooltip:{Start:"Start",End:"End",Duration:"Duration",Complete:"Complete"},AssignmentGrid:{Name:"Resource name",Units:"Units",unitsTpl:({value:e})=>e?e+"%":""},GanttBase:{propagating:"Calculating project",storePopulation:"Loading data"},Gantt:{Edit:"Edit task",Indent:"Indent",Outdent:"Outdent","Convert to milestone":"Convert to milestone",Add:"Add...","New task":"New task","New milestone":"New milestone","Task above":"Task above","Task below":"Task below","Delete task":"Delete task",Milestone:"Milestone","Sub-task":"Subtask",Successor:"Successor",Predecessor:"Predecessor",changeRejected:"Scheduling engine rejected the changes"},Indicators:{earlyDates:"Early start/end",lateDates:"Late start/end",Start:"Start",End:"End",deadlineDate:"Deadline"}});t.default=o,r.default.registerLocale("En",{desc:"English",locale:o,exclude:{EventEdit:{Repeat:""},RecurrenceCombo:{},RecurrenceConfirmationPopup:{},RecurrenceDaysCombo:{},RecurrenceEditor:{},RecurrenceFrequencyCombo:{},RecurrenceLegend:{},RecurrencePositionsCombo:{},RecurrenceStopConditionCombo:{}}})},"./lib/Gantt/model/AssignmentModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/SchedulerPro/model/AssignmentModel.js"),i=n("./lib/Engine/quark/model/gantt/GanttAssignmentMixin.js"),o=n("./lib/Engine/chrono/ModelFieldAtom.js");class a extends(i.GanttAssignmentMixin.mix(r.default)){static get fields(){return[{name:"event",persist:!0,serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual},{name:"resource",persist:!0,serialize:e=>null===e||void 0===e?void 0:e.id,isEqual:o.isSerializableEqual},"eventId","resourceId"]}}a._$name="AssignmentModel"},"./lib/Gantt/model/Baseline.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/model/TimeSpan.js");class i extends r.default{static get fields(){return[{name:"task",persist:!1}]}get isBaseline(){return!0}get milestone(){if(!this.isLeaf){const{startDate:e,endDate:t}=this;if(e&&t)return t.getTime()===e.getTime()}return 0===this.duration}set milestone(e){e?this.convertToMilestone():this.convertToRegular()}async setMilestone(e){return e?this.convertToMilestone():this.convertToRegular()}async convertToMilestone(){return this.setDuration(0,this.durationUnit,!1)}async convertToRegular(){if(this.milestone)return this.setDuration(1,this.durationUnit,!1)}normalize(){const e=this,{task:t,startDate:n,endDate:r,duration:i}=e,o=null!=i;t.graph?n&&r&&!o?e.setData("duration",t.run("calculateProjectedDuration",n,r)):n&&!r&&o?e.setData("endDate",t.run("calculateProjectedXDateWithDuration",n,!0,i)):!n&&r&&o&&e.setData("startDate",t.run("calculateProjectedXDateWithDuration",r,!1,i)):super.normalize()}}i._$name="Baseline"},"./lib/Gantt/model/CalendarIntervalModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/model/CalendarIntervalModel.js");class i extends r.default{}i._$name="CalendarIntervalModel"},"./lib/Gantt/model/CalendarModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/model/CalendarModel.js");class i extends r.default{}i._$name="CalendarModel"},"./lib/Gantt/model/DependencyModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/model/DependencyModel.js");class i extends r.default{constructor(...e){const[t]=e;null!==t&&void 0!==t&&t.fromTask&&(t.fromEvent=t.fromTask),null!==t&&void 0!==t&&t.toTask&&(t.toEvent=t.toTask),super(...e)}get from(){var e;return null===(e=this.fromEvent)||void 0===e?void 0:e.id}get fromTask(){return this.fromEvent}set fromTask(e){this.fromEvent=e}get to(){var e;return null===(e=this.toEvent)||void 0===e?void 0:e.id}get toTask(){return this.toEvent}set toTask(e){this.toEvent=e}get persistableData(){const e=super.persistableData,{fromTask:t,toTask:n}=e;return t&&(e.fromTask=t.id),n&&(e.toTask=n.id),e}}i._$name="DependencyModel"},"./lib/Gantt/model/ProjectModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Engine/quark/model/gantt/GanttProjectMixin.js"),s=n("./lib/Scheduler/model/TimeSpan.js"),l=n("./lib/Gantt/data/AssignmentStore.js"),c=n("./lib/Gantt/data/CalendarManagerStore.js"),d=n("./lib/Gantt/data/DependencyStore.js"),u=n("./lib/Gantt/data/ResourceStore.js"),h=n("./lib/Gantt/data/TaskStore.js"),f=n("./lib/Gantt/model/AssignmentModel.js"),g=n("./lib/Gantt/model/CalendarModel.js"),m=n("./lib/Gantt/model/DependencyModel.js"),p=n("./lib/Gantt/model/ResourceModel.js"),v=n("./lib/Gantt/model/TaskModel.js"),b=n("./lib/SchedulerPro/data/mixin/ProjectCrudManager.js");class y extends(Object(b.default)(a.GanttProjectMixin.derive(r.default))){static get defaults(){return{expanded:!0}}static get defaultConfig(){return{eventModelClass:v.default,taskModelClass:v.default,dependencyModelClass:m.default,resourceModelClass:p.default,assignmentModelClass:f.default,calendarModelClass:g.default,eventStoreClass:h.default,taskStoreClass:h.default,dependencyStoreClass:d.default,resourceStoreClass:u.default,assignmentStoreClass:l.default,calendarManagerStoreClass:c.default,tasksData:null,eventsData:null,dependenciesData:null,resourcesData:null,assignmentsData:null,calendarsData:null,timeRangeStore:null,convertEmptyParentToLeaf:!1}}construct(...e){const t=e[0]||{};e[0]=t,"tasksData"in t&&(t.eventsData=t.tasksData,delete t.tasksData),"taskStore"in t&&(t.eventStore=t.taskStore,delete t.taskStore),t.eventModelClass=t.taskModelClass||t.eventModelClass||this.defaultEventModelClass,t.eventStoreClass=t.taskStoreClass||t.eventStoreClass||this.defaultEventStoreClass,t.timeRangeStore||(t.timeRangeStore={modelClass:s.default,storeId:"timeRanges"}),super.construct(...e)}get defaultEventModelClass(){return v.default}get defaultEventStoreClass(){return h.default}get taskStore(){return this.getEventStore()}get timeRangeStore(){return this._timeRangeStore}set timeRangeStore(e){const t=this;t._timeRangeStore=i.default.getStore(e,i.default),t._timeRangeStore.storeId||(t._timeRangeStore.storeId="timeRanges")}async tryInsertChild(){return this.tryPropagateWithChanges(()=>{this.insertChild(...arguments)})}toJSON(){return{eventsData:this.eventStore.toJSON(),resourcesData:this.resourceStore.toJSON(),dependenciesData:this.dependencyStore.toJSON(),assignmentsData:this.assignmentStore.toJSON()}}get json(){return super.json}set json(e){"string"===typeof e&&(e=o.default.safeJsonParse(e)),this.loadInlineData(e)}get inlineData(){return this.toJSON()}set inlineData(e){this.json=e}afterChange(e,t){super.afterChange(...arguments),t.calendar&&this.trigger("calendarChange")}refreshWbs(e){var t;const n=this,r=null!==(t=n.unfilteredChildren)&&void 0!==t?t:n.children;var i;r&&r.length&&(null===(i=r[0].refreshWbs)||void 0===i||i.call(n,e,-1))}}y.applyConfigs=!0,y._$name="ProjectModel"},"./lib/Gantt/model/ResourceModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/model/ResourceModel.js");class i extends r.default{}i._$name="ResourceModel"},"./lib/Gantt/model/TaskModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("./lib/Core/helper/VersionHelper.js"),i=n("./lib/Core/data/Duration.js"),o=n("./lib/Core/data/Store.js"),a=n("./lib/Scheduler/model/TimeSpan.js"),s=n("./lib/SchedulerPro/model/mixin/PercentDoneMixin.js"),l=n("./lib/Engine/quark/model/gantt/GanttEvent.js"),c=n("./lib/Gantt/data/mixin/PartOfProject.js"),d=n("./lib/Gantt/model/Baseline.js"),u=n("./lib/Gantt/data/Wbs.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./lib/Gantt/data/field/WbsField.js");const m=(e,t)=>{const{startDate:n,durationUnit:r,endDate:i}=e;return t?t.map(t=>f(+Boolean(t.startDate)+Boolean(t.endDate)+Boolean(t.duration)>1?{task:e}:{task:e,startDate:n,endDate:i,durationUnit:r},t)):[]},p=e=>"wbsValue"===e.field&&!e.ascending,v={deep:!0,silent:!0};class b extends(l.GanttEvent.derive(a.default).mixin(c.default,s.default)){static get fields(){return[{name:"expanded",internal:!0},{name:"cls",serialize:e=>e.isDomClassList?e.toString():e,persist:!0},{name:"fullEffort",persist:!1},{name:"baselines"},{name:"note",type:"string"},{name:"parentId",serialize:(e,t)=>{const n=t.getEventStore(),r=t.getProject();return n&&n.getById(e)===r&&(e=null),e}},{name:"children",persist:!1},{name:"showInTimeline",type:"boolean"},{name:"rollup",type:"boolean"},{name:"wbsIndex",type:"wbs",persist:!1},{name:"wbsValue",type:"wbs",persist:!1},{name:"deadlineDate",type:"date"},{name:"parentIndex",type:"number",persist:!0},"iconCls","taskIconCls",{name:"draggable",type:"boolean",persist:!1,defaultValue:!0},{name:"resizable",persist:!1,defaultValue:!0}]}static get defaultConfig(){return{baselineModelClass:d.default}}get isTask(){return!0}get isTaskModel(){return!0}get isEvent(){return!0}get wbsIndex(){return r.default.deprecate("Gantt","5.0.0","The `wbsIndex` field is deprecated, use `wbsValue` instead"),this.wbsCode.split(".").map(e=>Number(e))}set wbsIndex(e){this.wbsCode=e.join(".")}get wbsCode(){return String(this.wbsValue)}set wbsCode(e){this.wbsValue=u.default.from(e)}copy(...e){const t=super.copy(...e);return t.setData("wbsValue",null),t}get hasBaselines(){var e;return(null===(e=this.baselinesStore)||void 0===e?void 0:e.count)||Boolean(this.originalData.baselines)}setBaseline(e){if(e<=0)return;const t=this,{baselines:n}=t,r=e-n.count;r>0?n.add(m(t,new Array(r).fill({}))):n.getAt(e-1).set(m(t,[{}])[0])}get baselines(){const e=this;return e.baselinesStore||(e.baselinesStore=new o.default({modelClass:e.constructor.getDefaultConfiguration().baselineModelClass,data:m(e,e.originalData.baselines)})),e.baselinesStore}get successors(){return Array.from(this.outgoingDeps||[])}set successors(e){this.outgoingDeps=e}setSuccessors(e){this.replaceDependencies(e,!0)}replaceDependencies(e,t){const n=this,{dependencyStore:r}=n.project,i=new Set,o=new Set,a=[],s=t?n.outgoingDeps:n.incomingDeps,l=Array.from(s);return e.forEach(e=>{const n=l.find(t?t=>t.toEvent===e.toEvent:t=>t.fromEvent===e.fromEvent);if(n){i.add(n);const t=Object.assign({},e.data);delete t[e.constructor.idField],n.set(t)}else o.add(e)}),s.forEach(e=>{i.has(e)||a.push(e)}),a.forEach(e=>r.remove(e)),o.forEach(e=>{t?e.fromEvent=n:e.toEvent=n,r.add(e)}),n.commitAsync()}get predecessors(){return Array.from(this.incomingDeps||[])}set predecessors(e){this.incomingDeps=e}setPredecessors(e){this.replaceDependencies(e,!1)}get assignments(){return super.assignments}set assignments(e){const{assignmentStore:t}=this.project,n=[],r=this.assignments.filter(t=>!e.find(e=>e.resource===t.resource));t.beginBatch(),e.forEach(e=>{const r=t.getAssignmentForEventAndResource(this,e.resource);if(r){const t=Object.assign({},e.data);delete t.id,r.set(t)}else e.remove(),n.push(e)}),t.remove(r),t.add(n),t.endBatch()}get isDraggable(){return this.draggable}get isResizable(){return this.resizable&&!this.milestone&&!this.isParent}get milestone(){if(!this.isLeaf){const{startDate:e,endDate:t}=this;if(e&&t)return t.getTime()===e.getTime()}return 0===this.duration}get isMilestone(){return this.milestone}set milestone(e){e?this.convertToMilestone():this.convertToRegular()}async setMilestone(e){return e?this.convertToMilestone():this.convertToRegular()}async convertToMilestone(){return this.setDuration(0,this.durationUnit,!1)}async convertToRegular(){if(this.milestone)return this.setDuration(1,this.durationUnit,!1)}get allDependencies(){return this.dependencies}get dependencies(){return[...this.incomingDeps||[],...this.outgoingDeps||[]]}get predecessorTasks(){return[...this.incomingDeps||[]].map(e=>e.fromEvent)}get successorTasks(){return[...this.outgoingDeps||[]].map(e=>e.toEvent)}get previousSiblingsTotalCount(){let e=this.previousSibling,t=this.parentIndex;for(;e;)t+=e.descendantCount,e=e.previousSibling;return t}get sequenceNumber(){let e=0,t=this;for(;t.parent;)e+=t.previousSiblingsTotalCount+1,t=t.parent;return e}get isSubProject(){return!1}get subProject(){const e=this;let t=null;return e.isProject?t=e:e.bubbleWhile(e=>(e.isProject&&(t=e),!t)),t}get fullEffort(){return new i.default({unit:this.effortUnit,magnitude:this.effort})}set fullEffort(e){this.setEffort(e.magnitude,e.unit)}get resources(){return this.assignments.reduce((e,t)=>(t.resource&&e.push(t.resource),e),[])}normalize(){}inSetNormalize(e){}joinStore(e){const t=this;var n,r,i;t.wbsValue||(null!==(n=t.taskStore)&&void 0!==n&&n.isLoadingData||!(null!==(r=t.nextSibling)&&void 0!==r&&r.wbsValue||null!==(i=t.previousSibling)&&void 0!==i&&i.wbsValue)?t.refreshWbs(v):t.parent.refreshWbs(v,-1)),super.joinStore(e)}refreshWbs(e,t){var n;const r=this,{parent:i}=r;if(i&&-1!==t&&r.fieldMap.wbsValue){var o,a;t=(null!==(o=null!==(a=t)&&void 0!==a?a:r.unfilteredIndex)&&void 0!==o?o:r.parentIndex)+1;const n=i.isRoot?new u.default(t):i.wbsValue.append(t);null!==e&&void 0!==e&&e.silent?r.setData("wbsValue",n):r.set("wbsValue",n)}if(null===(n=null===e||void 0===e?void 0:e.deep)||void 0===n||n){var s;const t=null!==(s=r.unfilteredChildren)&&void 0!==s?s:r.children,n=(null===t||void 0===t?void 0:t.length)||0;if(n){var l,c;const i=(e=>{for(let t,n,r=0,i=e.length;r<i;++r)if(n=e[r].wbsValue,n){if(t)return n<t;t=n}return!1})(t)&&0===(null===(l=r.taskStore)||void 0===l||null===(c=l.sorters)||void 0===c?void 0:c.findIndex(p));for(let r=0;r<n;++r)t[r].refreshWbs(e,i?n-r-1:r)}}}async tryInsertChild(){return this.getProject().tryPropagateWithChanges(()=>{this.insertChild(...arguments)})}isEditable(e){switch(e){case"earlyStartDate":case"earlyEndDate":case"lateStartDate":case"lateEndDate":case"totalSlack":return!1;case"effort":case"fullEffort":case"percentDone":case"renderedPercentDone":return this.isLeaf;case"endDate":case"duration":case"fullDuration":return this.isLeaf||this.manuallyScheduled}return super.isEditable(e)}isFieldModified(e){return"fullEffort"===e?super.isFieldModified("effort")||super.isFieldModified("effortUnit"):super.isFieldModified(e)}}b.convertEmptyParentToLeaf=!0,b._$name="TaskModel"},"./lib/Gantt/util/ProjectGenerator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/helper/AsyncHelper.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/util/RandomGenerator.js");const a=new Date,s=new Date(a.getFullYear(),0,1),l=new o.default;function c(e,t){return parseInt(""+e+t)}class d{static async generateAsync(e,t,n=null,o=s,a=!0){const l={startDate:o,tasksData:[],dependenciesData:[]},c=Math.ceil(e/10),d=Math.ceil(t/10),u=this.generateBlocks(c,d,l.startDate);let h=0,f=0,g=0,m=0;a&&console.time("generate");for(const i of u)l.tasksData.push(...i.tasksData),l.dependenciesData.push(...i.dependenciesData),i.projectDuration&&(f=Math.max(i.projectDuration,f)),g+=i.taskCount,m+=i.dependencyCount,++h%1e3===0&&(null===n||void 0===n||n(g,m,!1),await r.default.animationFrame());return null===n||void 0===n||n(g,m,!0),l.endDate=i.default.add(l.startDate,Math.max(f,30),"days"),a&&console.timeEnd("generate"),l}static*generateBlocks(e,t,n){let r=1,i=1,o=0,a=0;function s(e=!0){const t=l.nextRandom(5)+2;return e&&(a+=t),t}for(let d=0;d<e;d++){const e=r,u={tasksData:[{id:r++,name:"Parent "+e,startDate:n,expanded:!0,children:[{id:r++,name:"Sub-parent "+c(e,1),startDate:n,expanded:!0,children:[{id:r++,name:"Task "+c(e,11),startDate:n,duration:s(),percentDone:l.nextRandom(100)},{id:r++,name:"Task "+c(e,12),startDate:n,duration:s(),percentDone:l.nextRandom(100)},{id:r++,name:"Task "+c(e,13),startDate:n,duration:s(),percentDone:l.nextRandom(100)},{id:r++,name:"Task "+c(e,14),startDate:n,duration:s(),percentDone:l.nextRandom(100)}]},{id:r++,name:"Sub-parent "+c(e,2),startDate:n,expanded:!0,children:[{id:r++,name:"Task "+c(e,21),startDate:n,duration:s(),percentDone:l.nextRandom(100)},{id:r++,name:"Task "+c(e,22),startDate:n,duration:s(),percentDone:l.nextRandom(100)},{id:r++,name:"Task "+c(e,23),startDate:n,duration:s(),percentDone:l.nextRandom(100)}]}]}],dependenciesData:[{id:i++,fromEvent:e+2,toEvent:e+3},{id:i++,fromEvent:e+3,toEvent:e+4},{id:i++,fromEvent:e+4,toEvent:e+5},{id:i++,fromEvent:e+5,toEvent:e+7},{id:i++,fromEvent:e+7,toEvent:e+8},{id:i++,fromEvent:e+8,toEvent:e+9}],taskCount:10,dependencyCount:5};o+=a,a=0,u.projectDuration=o,d%t!==0?(u.dependenciesData.push({id:i++,fromEvent:e-2,toEvent:e+2,type:2,lag:0,lagUnit:"d"}),u.dependencyCount++):o=0,r++,yield u}}}d._$name="ProjectGenerator"},"./lib/Gantt/util/ResourceAssignmentParser.js":function(e,t,n){"use strict";n.r(t),n.d(t,"parse",(function(){return C})),n.d(t,"compose",(function(){return S})),n.d(t,"normalize",(function(){return w}));var r=n("./lib/Core/util/Parser.js");const{defineParser:i,alt:o,seq:a,string:s,regexp:l,succeed:c,red:d,isSuccess:u}=r.default,h=i(d(l("[^\\[\\,]+"),e=>({resourceName:e.trim(),units:100,match:e}))),f=i(d(l("[0-9\\s]+"),e=>({value:e.split(/\s*/).join(""),match:e}))),g=i(d(o(s("."),s(",")),e=>({value:e,match:e}))),m=i(o(d(a(()=>f,()=>g,()=>f),(e,t,n)=>({value:Number(`${e.value}.${n.value}`),match:[e.match,t.match,n.match].join("")})),d(a(()=>g,()=>f),(e,t)=>({value:Number("0."+t.value),match:[e.match,t.match].join("")})),d(()=>f,e=>({value:Number(""+e.value),match:e.match})))),p=i(o(d(a(()=>m,l("\\s*\\%")),(e,t)=>({value:e.value,match:[e.match,t].join("")})),d(()=>m,e=>({value:e.value,match:e.match})))),v=i(d(a(l("\\s*\\[\\s*"),()=>p,l("\\s*\\]")),(e,t,n)=>({units:t.value,match:[e,t.match,n].join("")}))),b=i(d(l("\\s*,\\s*"),e=>({value:e,match:e}))),y=i(o(a(()=>h,()=>v,o(a(()=>b,()=>y),c(""))),a(()=>h,o(a(()=>b,()=>y),c(""))))),C=e=>{let t=!1,n=[],r="";y(e,e=>{if(u(e)){const[,i,o]=e;i.length>n.length&&(n=i,r=o,t=!0)}});let i=0;return!!t&&{rest:r,assignments:n.reduce((e,t)=>{let n;return"object"==typeof t&&(Object.prototype.hasOwnProperty.call(t,"resourceName")?(n=Object.assign({position:i},t),e.push(n)):(n=e[e.length-1],Object.prototype.hasOwnProperty.call(t,"units")&&(n.units=t.units),n.match+=t.match),i+=t.match.length),e},[])}},S=(e,t=!1)=>{let n="";return e.assignments&&(n+=e.assignments.reduce((e,{resourceName:n,units:r,match:i})=>e+=i&&t?i:(e.length?", ":"")+`${n} [${r}%]`,n)),e.rest&&(n+=e.rest),t||(n=n.trim()),n},w=e=>S(C(e));t.default={parse:C,compose:S,normalize:w}},"./lib/Gantt/view/Gantt.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Gantt/view/GanttBase.js");n("./lib/Grid/feature/ColumnDragToolbar.js"),n("./lib/Grid/feature/ColumnPicker.js"),n("./lib/Grid/feature/ColumnReorder.js"),n("./lib/Grid/feature/ColumnResize.js"),n("./lib/Grid/feature/CellMenu.js"),n("./lib/Grid/feature/HeaderMenu.js"),n("./lib/Grid/feature/Filter.js"),n("./lib/Grid/feature/FilterBar.js"),n("./lib/Grid/feature/Sort.js"),n("./lib/Grid/feature/Stripe.js"),n("./lib/Grid/column/CheckColumn.js"),n("./lib/Grid/feature/RowReorder.js"),n("./lib/Scheduler/feature/ColumnLines.js"),n("./lib/Scheduler/feature/EventMenu.js"),n("./lib/Scheduler/feature/EventFilter.js"),n("./lib/Scheduler/feature/NonWorkingTime.js"),n("./lib/Scheduler/feature/TimeAxisHeaderMenu.js"),n("./lib/Scheduler/feature/ScheduleMenu.js"),n("./lib/Scheduler/feature/ScheduleTooltip.js"),n("./lib/SchedulerPro/feature/PercentBar.js"),n("./lib/Gantt/feature/CellEdit.js"),n("./lib/Gantt/feature/CriticalPaths.js"),n("./lib/Gantt/feature/Dependencies.js"),n("./lib/Gantt/feature/TaskDrag.js"),n("./lib/Gantt/feature/TaskDragCreate.js"),n("./lib/Gantt/feature/TaskEdit.js"),n("./lib/Gantt/feature/TaskMenu.js"),n("./lib/Gantt/feature/TaskResize.js"),n("./lib/Gantt/feature/TaskTooltip.js");class i extends r.default{static get $name(){return"Gantt"}static get type(){return"gantt"}}i.initClass(),i._$name="Gantt"},"./lib/Gantt/view/GanttBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("./lib/Scheduler/view/TimelineBase.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/VersionHelper.js"),a=n("./lib/Gantt/view/orientation/NewTaskRendering.js"),s=n("./lib/Scheduler/crud/mixin/CrudManagerView.js"),l=n("./lib/Gantt/view/mixin/GanttDom.js"),c=n("./lib/Gantt/view/mixin/GanttRegions.js"),d=n("./lib/Gantt/view/mixin/GanttScroll.js"),u=n("./lib/Gantt/view/mixin/GanttState.js"),h=n("./lib/Gantt/view/mixin/GanttStores.js"),f=n("./lib/Gantt/view/mixin/GanttTimelineDateMapper.js"),g=n("./lib/Gantt/view/mixin/TaskNavigation.js"),m=n("./lib/Scheduler/view/mixin/EventNavigation.js"),p=(n("./lib/Gantt/localization/En.js"),n("./lib/Gantt/column/TimeAxisColumn.js"),n("./lib/Grid/feature/Tree.js"),n("./lib/Grid/feature/RegionResize.js"),n("./lib/Gantt/feature/Dependencies.js"),n("./lib/Gantt/column/NameColumn.js")),v=n("./lib/Engine/scheduling/Types.js"),b=n("./lib/Grid/column/Column.js"),y=n("./lib/Grid/data/ColumnStore.js"),C=n("./lib/Core/widget/Toast.js"),S=n("./lib/Core/helper/DomHelper.js"),w=n("./lib/Core/helper/DomSync.js");const E=Object.freeze({});let D=0;class x extends(r.default.mixin(s.default,l.default,c.default,d.default,u.default,h.default,f.default,m.default,g.default)){static get $name(){return"GanttBase"}static get type(){return"ganttbase"}static get defaultConfig(){return{project:null,resourceImageFolderPath:null,defaultResourceImageName:null,toggleParentTasksOnClick:!0,calendars:null,resources:null,tasks:null,dependencies:null,assignments:null,eventCls:"b-gantt-task",eventBarTextField:null,eventLayout:"none",eventSelectionDisable:!0,eventColor:null,eventStyle:null,rowHeight:45,scheduledEventName:"task",eventScrollMode:"move",overScheduledEventClass:"b-gantt-task-hover",mode:"horizontal",timeCellCls:"b-sch-timeaxis-cell",timeCellSelector:".b-sch-timeaxis-cell",focusCls:"b-active",taskRenderer:null,dependencyIdField:"id"}}static get deprecatedEvents(){return{taskContextMenuBeforeShow:{product:"Gantt",invalidAsOfVersion:"5.0.0",message:"`taskContextMenuBeforeShow` event is deprecated, in favor of `taskMenuBeforeShow` event. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md for more information."},taskContextMenuShow:{product:"Gantt",invalidAsOfVersion:"5.0.0",message:"`taskContextMenuShow` event is deprecated, in favor of `taskMenuShow` event. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md for more information."},taskContextMenuItem:{product:"Gantt",invalidAsOfVersion:"5.0.0",message:"`taskContextMenuItem` event is deprecated, in favor of `taskMenuItem` event. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md for more information."}}}get isGantt(){return!0}construct(e){const t=Boolean(e.calendars||e.taskStore||e.dependencyStore||e.resourceStore||e.assignmentStore),n=Boolean(e.calendars||e.tasks||e.dependencies||e.resources||e.assignments);e.features||(e.features={}),"tree"in e.features||(e.features.tree=!0),"group"in e.features||(e.features.group=!1);const{project:r}=e;if(r&&(t||n))throw new Error("Providing both project and inline data is not supported");null!==r&&void 0!==r&&r.isModel||(e.project=i.default.assign({calendarsData:e.calendars,eventsData:e.tasks,dependenciesData:e.dependencies,resourcesData:e.resources,assignmentsData:e.assignments,resourceStore:e.resourceStore,eventStore:e.taskStore,assignmentStore:e.assignmentStore,dependencyStore:e.dependencyStore,timeRangeStore:e.timeRangeStore},r),delete e.resourceStore,delete e.taskStore,delete e.assignmentStore,delete e.dependencyStore,delete e.timeRangeStore,delete e.calendars,delete e.resources,delete e.tasks,delete e.assignments,delete e.dependencies),super.construct(e),this.on({taskclick:this.onTaskBarClick})}get columns(){return super.columns}set columns(e){if(e){let t=e;Array.isArray(e)||(t=e.data,this._thisIsAUsedExpression(this.taskStore)),t.some(e=>{const t=e instanceof b.default?e.constructor:y.default.getColumnClass(e.type)||b.default;return t===p.default||t.prototype instanceof p.default})||t.unshift({type:"name"})}super.columns=e}set timeAxisViewModel(e){super.timeAxisViewModel=e,this.taskStore&&(this.timeAxisViewModel.store=this.taskStore)}get timeAxisViewModel(){return super.timeAxisViewModel}resumeRefresh(e){super.resumeRefresh(!1),!this.refreshSuspended&&e&&(this.rowManager.topRow?this.refreshWithTransition():this.rowManager.reinitialize())}onStoreUpdateRecord(e){if(!this.project.isBatchingChanges){let t;return this.runWithTransition(()=>{t=super.onStoreUpdateRecord(e)}),t}}onStoreDataChange(e){this.runWithTransition(()=>{super.onStoreDataChange(e)},"batch"===e.action)}onProjectProgress({total:e,remaining:t,phase:n="propagating"}){const r=this;if(r.project.enableProgressNotifications){const i=r.L(n),o=e?`${i} ${e-t} / ${e}`:i;r.masked||r.mask({maxProgress:e,useTransition:!1,text:o}),r.masked.text=o,e&&(r.masked.maxProgress=e,r.masked.progress=e-t)}}onTaskDataGenerated(){}onTaskBarClick({taskRecord:e}){this.toggleParentTasksOnClick&&!e.isLeaf&&this.toggleCollapse(e)}triggerChangeEvent(e,t){super.triggerChangeEvent(e,t);const n=this;function r(e,t){const r=n.getElementFromTaskRecord(e);r&&w.default[t?"addCls":"removeCls"]("b-task-selected",r)}"row"===e.mode&&(e.selected.map(e=>r(e,!0)),e.deselected.map(e=>r(e,!1)))}toggleEmptyText(){const e=this;e.bodyContainer&&S.default.toggleClasses(e.bodyContainer,"b-grid-empty",!(e.rowManager.rowCount||e.project.isLoadingOrSyncing))}get currentOrientation(){const e=this;return e._currentOrientation||(e.taskRendering=e._currentOrientation=new a.default(e)),e._currentOrientation}getTimeSpanMouseEventParams(e,t){const n=this.resolveTaskRecord(e);return n?{taskRecord:n,taskElement:e,event:t}:null}getScheduleMouseEventParams(e){return{taskRecord:this.store.getById(e.id)}}resolveTimeSpanRecord(e){return this.resolveTaskRecord(e)}repaintEventsForResource(e){this.taskRendering.redraw(e)}populateTaskMenu(){}onVisibleDateRangeChange(){}async addTask(e,t=E){const n=this,{milestone:r,above:i,asChild:o,asPredecessor:a,asSuccessor:s}=t,l=n.project,c=e.parent,d=e.copy();return d.name=r?`${n.L("L{Gantt.New milestone}")} ${++D}`:`${n.L("L{Gantt.New task}")} ${++D}`,o?e.insertChild(d,e.firstChild):i?e.parent.insertChild(d,e):c.insertChild(d,e.nextSibling),r?(await l.commitAsync(),await d.convertToMilestone()):await l.commitAsync(),s?n.dependencyStore.add({fromEvent:e,toEvent:d,type:v.DependencyType.EndToStart,fromSide:"right",toSide:"left"}):a&&n.dependencyStore.add({fromEvent:d,toEvent:e,type:v.DependencyType.EndToStart,fromSide:"right",toSide:"left"}),(s||a)&&await l.propagateAsync(),d}addTaskAbove(e){return this.addTask(e,{above:!0})}addTaskBelow(e){return this.addTask(e)}addMilestoneBelow(e){return this.addTask(e,{milestone:!0})}addSubtask(e){const t=this.addTask(e,{asChild:!0});return this.toggleCollapse(e,!1),t}addSuccessor(e){return this.addTask(e,{asSuccessor:!0})}addPredecessor(e){return this.addTask(e,{above:!0,asPredecessor:!0})}async indent(e){const t=this,n=await t.taskStore.indent(e);return n||C.default.show({rootElement:t.rootElement,html:t.L("L{Gantt.changeRejected}")}),n}async outdent(e){const t=this,n=await t.taskStore.outdent(e);return n||C.default.show({rootElement:t.rootElement,html:t.L("L{Gantt.changeRejected}")}),n}onElementKeyDown(e){super.onElementKeyDown(e)}onElementKeyUp(e){super.onElementKeyUp(e)}onElementMouseOver(e){super.onElementMouseOver(e)}onElementMouseOut(e){super.onElementMouseOut(e)}}x.initClass(),o.default.setVersion("gantt","4.1.4"),x._$name="GanttBase"},"./lib/Gantt/view/mixin/GanttDom.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/data/DomDataStore.js");const a=/-/g;t.default=e=>class extends(e||r.default){static get $name(){return"GanttDom"}resolveEventRecord(e){return this.resolveTaskRecord(e)}resolveTaskRecord(e){return(e=i.default.up(e,this.eventSelector))?this.taskStore.getById(e.dataset.taskId):null}onElementKeyDown(e){super.onElementKeyDown(e),this.selectedRecords.length&&this.trigger("taskKeyDown",{taskRecord:this.selectedRecords})}onElementKeyUp(e){super.onElementKeyUp(e),this.selectedRecords.length&&this.trigger("taskKeyUp",{taskRecord:this.selectedRecords})}getElementFromTaskRecord(e,t=!0){return this.taskRendering.getElementFromTaskRecord(e,t)}getElementFromEventRecord(e){return this.getElementFromTaskRecord(e)}getEventRenderId(e){return`${this.id.toString().replace(a,"_")}-${e.id}`}getEventData(e){const t=this,n=t.resolveTimeSpanRecord(e.target);if(n){const e=t.getCell({record:n,column:t.timeAxisColumn}),r=o.default.get(e),i=r.id,a=r.columnId;return{cellElement:e,cellData:r,columnId:a,id:i,record:n,cellSelector:{id:i,columnId:a}}}return super.getEventData(e)}get widgetClass(){}}},"./lib/Gantt/view/mixin/GanttRegions.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/helper/DateHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"GanttRegions"}getScheduleRegion(e,t){const n=this,r=n.timeAxisSubGridElement;let a;if(e){const t=n.getElementFromTaskRecord(e);if(a=i.default.from(n.getRowById(e.id).getElement("locked")),t){const e=i.default.from(t,r);a.y=e.y,a.bottom=e.bottom}else a.y=a.y+n.barMargin,a.bottom=a.bottom-n.barMargin}else a=i.default.from(r).moveTo(null,0),a.width=r.scrollWidth,a.y=a.y+n.barMargin,a.bottom=a.bottom-n.barMargin;const s=n.timeAxis.startDate,l=n.timeAxis.endDate,c=n.getDateConstraints(e)||{start:s,end:l},d=a.y,u=a.bottom;let h=n.getCoordinateFromDate(o.default.max(s,c.start)),f=n.getCoordinateFromDate(o.default.min(l,c.end));return t||(h=n.translateToPageCoordinate(h),f=n.translateToPageCoordinate(f)),{top:d,right:Math.max(h,f),bottom:u,left:Math.min(h,f)}}translateToPageCoordinate(e){const t=this.timeAxisSubGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}isRowVisible(e){return this.store.indexOf(e)>=0}getTaskBox(e,t=!1,n=!1){return this.taskRendering.getTaskBox(...arguments)}getSizeAndPosition(){return this.taskRendering.getSizeAndPosition(...arguments)}get widgetClass(){}}},"./lib/Gantt/view/mixin/GanttScroll.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/DomHelper.js");const a={block:"nearest",edgeOffset:20};t.default=e=>class extends(e||r.default){static get $name(){return"GanttScroll"}scrollTaskIntoView(e,t=a){let n=e.startDate,r=e.endDate;const o=this;if(null==t.edgeOffset&&(t.edgeOffset=20),!e.isScheduled)return this.scrollRowIntoView(e,t);n=n||r,r=r||n;const s=n<o.timeAxis.startDate|(r>o.timeAxis.endDate)<<1;if(s&&!1!==t.extendTimeAxis){const e=o.timeAxis.endDate-o.timeAxis.startDate;let t,i;3===s?o.timeAxis.setTimeSpan(new Date(n.valueOf()-e/2),new Date(r.getTime()+e/2)):(t=o.getCoordinateFromDate(1&s?r:n),1&s?o.timeAxis.setTimeSpan(new Date(n),new Date(n.valueOf()+e)):o.timeAxis.setTimeSpan(new Date(r.valueOf()-e),new Date(r)),i=1&s?o.getCoordinateFromDate(r):o.getCoordinateFromDate(n),o.timeAxisSubGrid.scrollable.scrollBy(i-t))}const l=o.getElementFromTaskRecord(e);return l?o.timeAxisSubGrid.scrollable.scrollIntoView(l,i.default.assign({silent:!0},t)):o.scrollUnrenderedTaskIntoView(e,t)}scrollUnrenderedTaskIntoView(e,t=a){null==t.edgeOffset&&(t.edgeOffset=20);const n=this,r=n.timeAxisSubGrid.scrollable,i=n.getTaskBox(e),s=r.viewport,l=i.translate(s.x-r.x,s.y-r.y);let c=r.scrollIntoView(l,Object.assign({},t,{highlight:!1}));if(t.highlight||t.focus){const r=n.on({renderTask({taskRecord:n,element:i}){n===e&&(r(),c=c.then(()=>{t.highlight&&o.default.highlight(i),t.focus&&i.focus()}))}})}else c=Promise.all([c,new Promise(t=>{const r=n.on({renderTask({taskRecord:n}){n===e&&(r(),t())}})})]);return c}get widgetClass(){}}},"./lib/Gantt/view/mixin/GanttState.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");const o=["barMargin"];t.default=e=>class extends(e||r.default){static get $name(){return"GanttState"}getState(){const e=this,t=i.default.copyProperties(super.getState(),e,o);return t.zoomLevel=e.zoomLevel,t.zoomLevelOptions={startDate:e.startDate,endDate:e.endDate,centerDate:e.viewportCenterDate,width:e.tickSize},t}applyState(e){var t,n;if(e.zoomLevel&&this.zoomToLevel(e.zoomLevel,e.zoomLevelOptions),i.default.copyProperties(this,e,o),!this.project.isInitialCommitPerformed&&(null!==(t=e.store)&&void 0!==t&&t.sorters||null!==(n=e.store)&&void 0!==n&&n.filters)){const t=e.store;this.project.commitAsync().then(()=>{this.isDestroyed||(this.store.state=t)}),delete e.store}super.applyState(e)}get widgetClass(){}}},"./lib/Gantt/view/mixin/GanttStores.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Scheduler/data/mixin/ProjectConsumer.js"),o=n("./lib/Gantt/model/ProjectModel.js");t.default=e=>class extends(Object(i.default)(e||r.default)){static get $name(){return"GanttStores"}static get projectStores(){return{calendarManagerStore:{},resourceStore:{dataName:"resources"},eventStore:{dataName:"events"},dependencyStore:{dataName:"dependencies"},assignmentStore:{dataName:"assignments"}}}static get configurable(){return{projectModelClass:o.default,tasks:null,taskStore:null}}construct(){this.onRefreshCallsQueue=[],super.construct(...arguments)}updateProject(e,t){super.updateProject(e,t),this.detachListeners("ganttStores"),e&&e.on({name:"ganttStores",startApplyResponse:"onProjectStartApplyResponse",refresh:"internalOnProjectRefresh",progress:"onProjectProgress",thisObj:this})}get replica(){return this.project.replica}onProjectStartApplyResponse(){this.suspendRefresh()}internalOnProjectRefresh(){const e=this;e.project.enableProgressNotifications&&e.masked&&e.unmask(),e.appliedViewStartDate||"startDate"in e.initialConfig||!e.project.startDate||(e.setTimeSpan(e.project.startDate,e.project.endDate),e.appliedViewStartDate=!0),e.resumeRefresh(!0),e.suspendRendering||(e.refreshAfterProjectRefresh&&(e.refreshWithTransition(),e.refreshAfterProjectRefresh=!1),e.trigger("projectRefresh",{initial:!1}))}get tasks(){return this.project.eventStore.records}changeTasks(e){const{project:t}=this;this.buildingProjectConfig?t.eventsData=e:t.eventStore.data=e}changeTaskStore(e){const{project:t}=this;if(!this.buildingProjectConfig)return this.initializingProject||t.eventStore!==e&&(t.setEventStore(e),e=t.eventStore),e;t.eventStore=e}updateEventStore(e){const t=this;e.metaMapId=t.id,t.taskStore=t.store=t.timeAxisViewModel.store=e,t.currentOrientation.bindTaskStore(e)}get widgetClass(){}}},"./lib/Gantt/view/mixin/GanttTimelineDateMapper.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"GanttTimelineDateMapper"}getDisplayEndDate(e,t){return e}get widgetClass(){}}},"./lib/Gantt/view/mixin/TaskNavigation.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"TaskNavigation"}static get defaultConfig(){return{navigator:{inlineFlow:!1,prevKey:"ArrowUp",nextKey:"ArrowDown",keys:{ArrowLeft:()=>{},ArrowRight:()=>{},Enter:"onTaskEnterKey"}}}}processEvent(e){const t=this,n=i.default.up(e.target,t.eventSelector);return!t.navigator.disabled&&n&&(e.taskRecord=e.eventRecord=t.resolveTaskRecord(n),"click"===e.type&&t.selectEvent(e.taskRecord,e.ctrlKey||e.metaKey)),e}normalizeTarget(e){return e.taskRecord}selectEvent(e,t=!1){this.selectRow({record:e.id,column:!1,addToSelection:t})}deselectEvent(e){this.deselectRow(e.id)}getNext(e){const t=this,{taskStore:n}=t;for(let r=n.indexOf(e)+1;r<n.count;r++){const e=n.getAt(r);if(t.isInTimeAxis(e))return e}}getPrevious(e){const t=this,{taskStore:n}=t;for(let r=n.indexOf(e)-1;r>=0;r--){const e=n.getAt(r);if(t.isInTimeAxis(e))return e}}set activeEvent(e){this.navigator.activeItem=this.getElementFromTaskRecord(e,!1)}get activeEvent(){const{activeItem:e}=this.navigator;if(e)return this.resolveTaskRecord(e)}async navigateTo(e,t={}){const n=this;e&&(n.navigator.disabled=!0,await n.scrollTaskIntoView(e,{animate:100}).then(()=>{n.navigator.disabled=!1,n.activeEvent=e,n.navigator.trigger("navigate",{event:t,item:n.getElementFromTaskRecord(e,!1)})}))}clearEventSelection(){this.deselectAll()}onTaskEnterKey(){}onDeleteKey(e){const t=e.eventRecord;!this.readOnly&&this.enableDeleteKey&&t&&this.removeEvents([t])}get widgetClass(){}}},"./lib/Gantt/view/orientation/NewTaskRendering.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomSync.js"),o=n("./lib/Core/helper/util/DomClassList.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/helper/DateHelper.js"),l=n("./lib/Core/helper/StringHelper.js"),c=n("./lib/Core/helper/DomHelper.js");const d={releaseElement:1,reuseElement:1},u={newElement:1,reuseOwnElement:1,reuseElement:1};class h extends r.default{static get properties(){return{rowMap:new Map}}construct(e){this.gantt=e,e.rowManager.on({renderDone:"onRenderDone",removeRows:"onRemoveRows",beforeRowHeight:"onBeforeRowHeightChange",thisObj:this}),super.construct({})}init(){}bindTaskStore(){}refreshRows(){}onTimeAxisViewModelUpdate(){this.updateFromHorizontalScroll(this.gantt.timeAxisSubGrid.scrollable.x)}onViewportResize(){}onDragAbort(){}onBeforeRowHeightChange(e){const{gantt:t}=this;var n;t.foregroundCanvas&&(t.foregroundCanvas.style.fontSize=(null!==(n=null===e||void 0===e?void 0:e.height)&&void 0!==n?n:t.rowHeight)-2*t.resourceMargin+"px")}get visibleDateRange(){return this._visibleDateRange}getTaskBox(e,t=!1,n=!1){const{gantt:r}=this;if(n){const t=this.getElementFromTaskRecord(e);if(t)return a.default.from(t,r.timeAxisSubGridElement)}if(!e.startDate||!e.endDate||e.isTask&&(r.taskStore.isDestroyed||!r.taskStore.isAvailable(e)))return null;const i=this.getSizeAndPosition(e,t,n);if(!i)return null;const{position:o,width:s}=i,l=r.taskStore.indexOf(e)*r.rowManager.rowOffsetHeight+r.resourceMargin,c=r.rowHeight-2*r.resourceMargin;return new a.default(o,l,s,c)}getSizeAndPosition(e,t,n){var r;const{gantt:i}=this,{timeAxis:o}=i,a=o.startDate,l=o.endDate,c=e.startDate,d=e.endDate||(null!=e.duration?s.default.add(c,e.duration,e.durationUnit):null),u=e.milestone,h=u?null===(r=i.features.dependencies.pathFinder)||void 0===r?void 0:r.startArrowMargin:0;let f,g;if(!t&&(d<a||c>l))return null;if(t&&c<a)f=i.getCoordinateFromDate(a)-h;else if(t&&c>l)f=i.getCoordinateFromDate(l)+h;else if(c<a){const t=i.timeAxisViewModel.getSingleUnitInPixels("second"),n=(o.startMS-e.startDateMS)/1e3*t;f=i.getCoordinateFromDate(a)-n}else f=i.getCoordinateFromDate(c);if(!u)if(t&&d<a)g=i.getCoordinateFromDate(a)-h;else if(t&&d>l)g=i.getCoordinateFromDate(l)+h;else if(d>l){const t=i.timeAxisViewModel.getSingleUnitInPixels("second"),n=(e.endDateMS-o.endMS)/1e3*t;g=i.getCoordinateFromDate(l)+n}else g=i.getCoordinateFromDate(d);let m=u?0:g-f;return n&&u&&c>a&&c<l&&(m=i.rowHeight-2*i.resourceMargin,f-=m/2),!t&&f+m<0?null:{position:f,width:m}}getRowRegion(e,t,n){const{gantt:r}=this,i=r.getRowFor(e);if(!i)return null;const o=i.getElement(r.timeAxisSubGrid.region),l=r.timeAxis.startDate,c=r.timeAxis.endDate,d=t?s.default.max(l,t):l,u=n?s.default.min(c,n):c,h=r.getCoordinateFromDate(d),f=r.getCoordinateFromDate(u,!0,!0),g=i.top+r.scrollTop,m=Math.min(h,f),p=g+o.offsetHeight;return new a.default(m,g,Math.max(h,f)-m,p-g)}getDateFromXY(e,t,n){let r=e[0];return n||(r=this.translateToScheduleCoordinate(r)),this.gantt.timeAxisViewModel.getDateFromPosition(r,t)}translateToScheduleCoordinate(e){return e-Math.floor(this.gantt.timeAxisSubGridElement.getBoundingClientRect().left)+this.gantt.scrollLeft}translateToPageCoordinate(e){const t=this.gantt.timeAxisSubGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}getElementFromTaskRecord(e,t=!0){const n=this.gantt.rowManager.getRowFor(e);if(n&&this.rowMap.has(n)){var r;const e=null===(r=this.rowMap.get(n)[0])||void 0===r?void 0:r._element;if(e)return t?e.syncIdMap.task:e}return null}getConnectorStartSide(e){return"left"}getConnectorEndSide(e){return"right"}onRemoveRows({rows:e}){e.forEach(e=>this.rowMap.delete(e)),this.onRenderDone()}updateFromHorizontalScroll(e){const{gantt:t}=this,n=t.timeAxisSubGrid.width,r=t.getDateFromCoordinate(Math.max(0,e-100)),i=t.getDateFromCoordinate(e+n+100)||t.endDate,o=t.getDateFromCoordinate(e)||t.startDate,a=t.getDateFromCoordinate(e+n)||t.endDate;this._visibleDateRange={startDate:o,endDate:a};const s=t.timeView.range={startDate:r,endDate:i};t.onVisibleDateRangeChange(s),t.trigger("visibleRangeChange",s)}populateTaskRenderData(e,t){const{gantt:n}=this,r=!(!n.features.baselines||!n.features.baselines.disabled),i={className:"b-gantt-task-content",dataset:{taskBarFeature:"content"},children:[]};if(e){let a=void 0===t.isResizable||t.isResizable;e.startsOutsideView&&(!0===a?a="end":"start"===a&&(a=!1)),e.endsOutsideView&&(!0===a?a="start":"end"===a&&(a=!1)),Object.assign(e,{iconCls:new o.default(t.taskIconCls),id:n.getEventRenderId(t),style:t.style||"",taskId:t.id,wrapperCls:new o.default({[n.eventCls+"-wrap"]:1,[n.eventCls+"-parent"]:t.isParent,"b-milestone-wrap":t.milestone,"b-has-baselines":t.hasBaselines&&!r}),cls:t.isResourceTimeRange?new o.default:t.cls.clone(),extraConfigs:[]}),Object.assign(e.cls,{[n.eventCls]:1,[n.generatedIdCls]:t.hasGeneratedId,[n.dirtyCls]:t.modifications,[n.committingCls]:t.isCommitting,[n.endsOutsideViewCls]:e.endsOutsideView,[n.startsOutsideViewCls]:e.startsOutsideView,[n.fixedEventCls]:!1===t.isDraggable,["b-sch-event-resizable-"+a]:1,"b-milestone":t.milestone,"b-task-started":t.isStarted,"b-task-finished":t.isCompleted,"b-task-selected":n.selectedRecords.includes(t)});const s=t.eventStyle||n.eventStyle,d=t.eventColor||n.eventColor;if(e.eventColor=d,e.eventStyle=s,n.taskRenderer){const r=n.taskRenderer.call(n.taskRendererThisObj||n,{taskRecord:t,tplData:e,renderData:e});"string"===typeof e.cls&&(e.cls=new o.default(e.cls)),"string"===typeof e.iconCls&&(e.iconCls=new o.default(e.iconCls)),"string"===typeof e.wrapperCls&&(e.wrapperCls=new o.default(e.wrapperCls));let a=null;l.default.isHtml(r)?a={tag:"span",html:r}:"string"===typeof r||"object"===typeof r?a=r:null!=r&&(a=String(r)),a&&(Array.isArray(a)?i.children.push(...a):i.children.push(a),e.cls.add("b-has-content"))}e.cls["b-sch-event-withicon"]=e.iconCls.length,e.wrapperCls["b-sch-style-"+e.eventStyle]=e.eventStyle,c.default.isNamedColor(e.eventColor)?e.wrapperCls["b-sch-color-"+e.eventColor]=e.eventColor:e.eventColor&&(e.style=`background-color:${e.eventColor};`+e.style),e.iconCls&&e.iconCls.length&&i.children.unshift({tag:"i",className:e.iconCls}),(i.children.length||t.milestone)&&e.children.push(i)}e.taskContent=i,e.wrapperChildren=[],n.onTaskDataGenerated(e)}renderer({row:e,record:t}){const n=this,r=n.getTaskBox(t),i={taskRecord:t,task:t,row:e,children:[]};let o;r?(Object.assign(i,{isTask:!0,top:r.top,left:r.left,width:r.width,height:r.height}),n.populateTaskRenderData(i,t),o={className:i.wrapperCls,tabIndex:"0",children:[{className:i.cls,style:(i.internalStyle||"")+(i.style||""),children:i.children,dataset:{taskFeature:"task"},syncOptions:{syncIdField:"taskBarFeature"}},...i.wrapperChildren],style:{transform:`translate(${i.left}px, ${i.top}px)`,width:i.width,zIndex:i.zIndex},dataset:{taskId:i.taskId},elementData:i,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}},n.gantt.trigger("beforeRenderTask",{renderData:i,domConfig:o})):n.populateTaskRenderData(i,t),r||0!==i.extraConfigs.length?n.rowMap.set(e,[o,...i.extraConfigs]):n.rowMap.delete(e)}onRenderDone(){const{gantt:e}=this,t=Array.from(this.rowMap.values()).flat();i.default.sync({domConfig:{onlyChildren:!0,children:t},targetElement:e.foregroundCanvas,syncIdField:"taskId",callback({action:t,domConfig:n,lastDomConfig:r,targetElement:i}){if("none"!==t&&n&&n.className&&n.className[e.eventCls+"-wrap"]){var o,a;const s=u[t];if(d[t]&&null!==r&&void 0!==r&&null!==(o=r.elementData)&&void 0!==o&&o.isTask){const t={renderData:r.elementData,taskRecord:r.elementData.taskRecord,element:i};e.trigger("releaseTask",t)}if(s&&null!==n&&void 0!==n&&null!==(a=n.elementData)&&void 0!==a&&a.isTask){const r={renderData:n.elementData,taskRecord:n.elementData.taskRecord,element:i};r.reusingElement="reuseElement"===t,e.trigger("renderTask",r)}}}})}redraw(e){this.gantt.rowManager.refreshCell(e,this.gantt.timeAxisColumn.id)&&this.onRenderDone()}}h._$name="NewTaskRendering"},"./lib/Gantt/widget/AssignmentField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/widget/PickerField.js"),o=n("./lib/Gantt/widget/AssignmentPicker.js"),a=n("./lib/Gantt/data/AssignmentsManipulationStore.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=n("./lib/Core/helper/StringHelper.js");function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}class u extends r.default{static get $name(){return"AssignmentField"}static get type(){return"assignmentfield"}static get configurable(){return{editingRecords:!0,chipView:{cls:"b-assignment-chipview",itemTpl:(e,t)=>l.default.xss`${e.resourceName} ${e.units}%`,scrollable:{overflowX:"hidden-scroll"}},triggers:{expand:{cls:"b-icon-down",handler:"onTriggerClick"}},multiSelect:!0,clearable:!1,editable:!1,value:null,picker:{type:o.default.type,floating:!0,scrollAction:"realign"},pickerWidth:null,projectEvent:null,store:{}}}onChipClose(e){this.showPicker(),this.picker.deselectRows(e)}syncInputFieldValue(){super.syncInputFieldValue(),this.store&&(this.tooltip=l.default.encodeHtml(this.store.toValueString()))}onTriggerClick(e){this.pickerVisible?this.hidePicker():i.default.prototype.showPicker.call(this,e&&"key"in e)}focusPicker(){this.picker.focus()}changePicker(e,t){const n=this;return o.default.reconfigure(t,e,{owner:n,defaults:{projectEvent:n.projectEvent,store:n.store,readOnly:n.readOnly,owner:n,resourceImagePath:n.resourceImageFolderPath,forElement:n[n.pickerAlignElement],assignments:n.valueCollection,onCancelClick(){n.store.clearFilters(),n.value=this.originalSelected,this.hide()},align:{anchor:n.overlayAnchor,target:n[n.pickerAlignElement]}}})}changeProjectEvent(e){const{picker:t,store:n}=this;return this._projectEvent=e,n&&(n.projectEvent=e),t&&(t.projectEvent=e),e}changeStore(e){return!e||e instanceof a.default||(e=new a.default(e)),e}updateStore(e){const t=this;if(t.detachListeners("storeMutation"),e instanceof a.default){const{projectEvent:n}=e;n?t.projectEvent=n:e.projectEvent=t.projectEvent}e.on({name:"storeMutation",change:"syncInputFieldValue",thisObj:t})}get value(){return super.value}set value(e){var t;e=null===(t=e)||void 0===t?void 0:t.map(e=>{const t=e.data,n=e.constructor.idField,{[n]:r,event:i,resource:o,eventId:a,resourceId:s}=t,l=c(t,[n,"event","resource","eventId","resourceId"].map(d)),u=this.store.find(t=>t.resource===e.resource,!0);return u.set(l),u}),super.value=e}hasChanged(e,t){return!s.default.isEqual(e,t)}onPickerKeyDown(e){const t=this.picker;"ArrowDown"===e.key&&e.target.compareDocumentPosition(t.bodyContainer)===document.DOCUMENT_POSITION_FOLLOWING&&t.element.focus()}cacheCurrentValue(e){return Array.isArray(e)?this._value=e.map(e=>e.copy(e.id)):super.cacheCurrentValue(e)}}u.initClass(),u._$name="AssignmentField"},"./lib/Gantt/widget/AssignmentGrid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/view/Grid.js"),i=n("./lib/Grid/column/NumberColumn.js"),o=n("./lib/Core/helper/util/Objects.js"),a=n("./lib/Gantt/data/AssignmentsManipulationStore.js"),s=n("./lib/Gantt/model/AssignmentModel.js");n("./lib/Core/widget/Checkbox.js"),n("./lib/Grid/feature/FilterBar.js"),n("./lib/Gantt/localization/En.js"),n("./lib/Gantt/column/ResourceAssignmentGridResourceColumn.js");class l extends r.default{static get $name(){return"AssignmentGrid"}static get type(){return"assignmentgrid"}static get configurable(){return{resourceImageExtension:".jpg",resourceColumn:{type:"assignmentResource"},unitsColumn:{field:"units",type:i.default.type,text:"L{Units}",localeClass:this,width:70,min:0,max:100,step:10,unit:"%",renderer:({value:e})=>this.L("L{unitsTpl}",{value:e}),filterable:!1}}}static get defaultConfig(){return{selectionMode:{rowCheckboxSelection:!0,multiSelect:!0,showCheckAll:!0},features:{group:!1,filterBar:!0,contextMenu:!1},disableGridRowModelWarning:!0,projectEvent:null}}construct(){super.construct(...arguments),this.on("selectionchange",({selected:e,deselected:t})=>{e.forEach(e=>e.units=e.units||e.getFieldDefinition("units").defaultValue),t.forEach(e=>{this.store.includes(e)&&(e.units=0)})})}get projectEvent(){const e=this,t=e.store;let n=e._projectEvent;return t&&n!==t.projectEvent&&(n=e._projectEvent=t.projectEvent),n}set projectEvent(e){const t=this;t._projectEvent=e,t.store.projectEvent=e,e&&(t.selectedRecords=t.store.query(t=>e.assignments.find(e=>e.resource===t.resource)))}get store(){return super.store}set store(e){const t=this,n=t.store;var r,i;e&&n!==e&&(e instanceof a.default||(e=a.default.new({modelClass:(null===(i=t._projectEvent)||void 0===i?void 0:i.assignmentStore.modelClass)||s.default,projectEvent:t._projectEvent},e)),super.store=e,null===(r=t.storeDetacher)||void 0===r||r.call(t),t.storeDetacher=e.on("update",t.onAssignmentUpdate,t))}set columns(e){e&&e.unshift(o.default.clone(this.resourceColumn),o.default.clone(this.unitsColumn)),super.columns=e}get columns(){return super.columns}onAssignmentUpdate({record:e,changes:t}){const{units:n}=t;n&&(n.value?0===n.oldValue&&this.selectRow({record:e,scrollIntoView:!1,addToSelection:!0}):this.deselectRow(e))}}l.initClass(),l._$name="AssignmentGrid"},"./lib/Gantt/widget/AssignmentPicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Gantt/widget/AssignmentGrid.js"),i=(n("./lib/Core/widget/Container.js"),n("./lib/Core/widget/Button.js"),n("./lib/Core/helper/ObjectHelper.js")),o=n("./lib/Core/helper/VersionHelper.js");class a extends r.default{static get $name(){return"AssignmentPicker"}static get type(){return"assignmentpicker"}static get defaultConfig(){return{focusable:!0,trapFocus:!0,height:"20em",minWidth:"25em",bbar:[{type:"button",text:this.L("L{Object.Save}"),localeClass:this,ref:"saveBtn",color:"b-green"},{type:"button",text:this.L("L{Object.Cancel}"),localeClass:this,ref:"cancelBtn",color:"b-gray"}],projectEvent:null,store:null}}configure(e){let t=e.grid;t&&(o.default.deprecate("Gantt","5.0.0","The `grid` config is deprecated, you can now set the config properties directly on this AssignmentPicker since it *is* the Grid"),t.columns&&(e.columns=t.columns||[],t=Object.assign({},t),delete t.columns),i.default.merge(e,t)),e.selectedRecordCollection=e.assignments,super.configure(e)}show(){return this.originalSelected=this.selectedRecords.map(e=>e.copy()),super.show()}afterConfigure(){var e,t;const n=this;super.afterConfigure(),null===(e=n.bbar.widgetMap.saveBtn)||void 0===e||e.on("click",n.onSaveClick,n),null===(t=n.bbar.widgetMap.cancelBtn)||void 0===t||t.on("click",n.onCancelClick,n)}onSaveClick(){this.hide()}onCancelClick(){this.hide()}}a.initClass(),a._$name="AssignmentPicker"},"./lib/Gantt/widget/CalendarPicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/data/Store.js");class o extends r.default{static get $name(){return"CalendarPicker"}static get type(){return"calendarpicker"}refreshCalendars(e){this.store.data=e.map(e=>({id:e.id,text:e.name}))}get store(){return this._store||(this.store=new i.default),this._store}set store(e){super.store=e}get value(){return super.value}set value(e){e&&(e.isDefault&&e.isDefault()?e=null:e.id&&(e=e.id)),super.value=e}}o.initClass(),o._$name="CalendarPicker"},"./lib/Gantt/widget/DependencyField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/widget/List.js"),o=n("./lib/Core/util/Collection.js"),a=n("./lib/Core/widget/TextField.js"),s=n("./lib/Core/helper/DateHelper.js"),l=n("./lib/Core/localization/LocaleManager.js"),c=n("./lib/Core/helper/util/Objects.js"),d=n("./lib/Scheduler/feature/Dependencies.js");const u={from:[2,3,0,1],to:[1,0,3,2]},h=()=>new RegExp(`(${f.join("|")})?((?:[+-])\\d+[a-z]*)?`,"i");let f=["SS","SF","FS","FF"],g=h();class m extends r.default{static get $name(){return"DependencyField"}static get type(){return"dependencyfield"}static get configurable(){return{listCls:"b-predecessor-list",displayField:"name",valueField:"name",picker:{floating:!0,scrollAction:"realign",itemsFocusable:!1,activateOnMouseover:!0,align:{align:"t0-b0",axisLock:!0},maxHeight:324,minHeight:161,scrollable:{overflowY:!0},autoShow:!1,focusOnHover:!1},delimiter:";",dependencyStore:null,otherSide:null,ourSide:null,multiSelect:!0,chipView:null,dependencyIdField:null}}construct(e){const t=this,{ourSide:n,otherSide:r}=e;t.dependencies=new o.default({extraKeys:r}),t.startCollection=new o.default({extraKeys:r}),super.construct(e),t.delimiterRegEx=new RegExp(`\\s*${t.delimiter}\\s*`);const i=()=>{f=t.L("L{DependencyType.short}"),g=h(),t.syncInputFieldValue()};l.default.on({locale:i,thisObj:t}),i()}internalOnInput(){this.isValid?(this.clearError(),a.default.prototype.internalOnInput.call(this)):this.setError("L{invalidDependencyFormat}")}onInternalKeyDown(e){const{key:t}=e;"Enter"!==t&&super.onInternalKeyDown&&super.onInternalKeyDown(e),this.pickerVisible&&"ArrowDown"===t&&this.filterField.focus()}onTriggerClick(){this.pickerVisible?super.onTriggerClick():this.doFilter(this.filterInput?this.filterInput.value:null)}set store(e){const t=this;(e=e.makeChained(e=>!t.record||e.id!==t.record.id)).tree=!1,super.store=e}get store(){return super.store}changePicker(e,t){const n=this,r=n.input,o=n.filterField||(n.filterField=new a.default({cls:"b-dependency-list-filter",owner:n,clearable:!0,placeholder:"Filter",triggers:{filter:{cls:"b-icon b-icon-filter",align:"start"}},listeners:{input({value:e}){n.input=s,n.filterList(e),n.input=r},clear(){n.input=s,n.filterList(),n.input=r}}})),s=n.filterInput=o.input,l=m.reconfigure(t,e?c.default.merge({owner:n,store:n.store,cls:"b-dependency-list "+n.listCls,itemTpl:n.listItemTpl,forElement:n[n.pickerAlignElement],align:{anchor:n.overlayAnchor,target:n[n.pickerAlignElement]},navigator:{keyEventTarget:s,processEvent:e=>{if("Escape"!==e.key)return e;n.hidePicker()}},onItem:n.onPredecessorClick.bind(n),getItemClasses:function(e){const t=i.default.prototype.getItemClasses.call(this,e),r=n.dependencies.getBy(n.otherSide+"Event",e);return t+(r?" b-selected b-"+r.getConnectorString(1).toLowerCase():"")}},e):null,n);return l?o.render(l.contentElement):n.destroyProperties("filterField"),l}showPicker(e){this.store.fillFromMaster(),super.showPicker(e)}onPickerShow({source:e}){const t=this,n=t.filterField,r=t.input;e.minWidth=t[t.pickerAlignElement].offsetWidth,e.contentElement.insertBefore(n.element,e.contentElement.firstChild),t.input=t.filterInput,super.onPickerShow(),t.input=r}listItemTpl(e){return`<div class="b-predecessor-item-text">${e.name} (${e[this.owner.dependencyIdField]})</div>\n            <div class="b-sch-box b-from" data-side="from"></div>\n            <div class="b-sch-box b-to" data-side="to"></div>`}get isValid(){return Boolean(!this.task||this.parseDependencies(this.input.value))}set value(e){const t=this,n=t.dependencies;if("string"===typeof e){if(t.input.value=e,!(e=t.parseDependencies(e)))return void t.syncInvalid();for(let n=0;n<e.length;n++)e[n]=new t.dependencyStore.modelClass(e[n])}else t.startCollection.clear(),t.startCollection.values=e;n.clear(),n.values=e,t.inputting||t.syncInputFieldValue()}get value(){return this.dependencies.values}get inputValue(){return this.constructor.predecessorsToString(this.dependencies.values,this.otherSide,this.delimiter,this.dependencyIdField)}onPredecessorClick({source:e,item:t,record:n,event:r}){const i=this,o=i.dependencies,a=r.target.closest(".b-sch-box"),s=a&&a.dataset.side;let l=o.getBy(i.otherSide+"Event",n);if(t.dataset.noselect=!0,l&&!a)o.remove(l);else if(l){const{id:e,type:t}=l;l=l.copy({id:e,type:u[s][t]},{skipFieldIdentifiers:!0}),l[i.otherSide+"Event"]=n,o.add(l)}else o.add(i.dependencyStore.createRecord({[i.otherSide+"Event"]:n,[i.ourSide+"Event"]:i.task},!0));i.syncInputFieldValue(),e.refresh()}static predecessorsToString(e,t,n=";",r="id"){const i=e=>{const n=e[t+"Event"];return n&&n.isModel?n[r]:n||""};return e&&e.length?e.sort((e,t)=>i(e)-i(t)).map(e=>`${i(e)}${d.default.getLocalizedDependencyType(e.getConnectorString())}${e.getLag()}`).join(n):""}get task(){var e;return null===(e=this.owner)||void 0===e?void 0:e.record}parseDependencies(e){const t=this,n=t.task,r=t.store,i=t.dependencyStore,o=e.split(t.delimiterRegEx),a=i.modelClass,l=[];for(let c=0;c<o.length;c++){const e=o[c];if(e){let i,o=e.length+1,c=null;for(;o&&!c;o--)i=e.substr(0,o),c=r.find(e=>String(e[t.dependencyIdField])===i);if(!c)return null;const d=e.substr(o+1),u={[t.otherSide+"Event"]:c,[t.ourSide+"Event"]:n,type:a.Type.EndToStart};if(d.length){const e=g.exec(d);if(!e||!e[1]&&!e[2])return null;if(e[1]&&(u.type=f.indexOf(e[1].toUpperCase())),e[2]){const t=s.default.parseDuration(e[2],!0,n.durationUnit);u.lag=t.magnitude,u.lagUnit=t.unit}}l.push(u)}}return l}doDestroy(){this.dependencies.destroy(),this.startCollection.destroy(),super.doDestroy()}}m.initClass(),m._$name="DependencyField"},"./lib/Gantt/widget/TaskEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/widget/GanttTaskEditor.js"),i=n("./lib/Core/helper/VersionHelper.js");class o extends r.default{static get type(){return"taskeditor"}static get $name(){return"TaskEditor"}static get defaultConfig(){return{cls:"b-gantt-taskeditor b-schedulerpro-taskeditor"}}afterConfigure(){super.afterConfigure(),"durationDecimalPrecision"in this&&i.default.deprecate("gantt","5.0.0","`durationDecimalPrecision` is deprecated, in favor of `durationDisplayPrecision`")}}o.initClass(),o._$name="TaskEditor"},"./lib/Grid/column/ActionColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/DomHelper.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends r.default{static get type(){return"action"}static get fields(){return["actions",{name:"disableIfGridReadOnly",defaultValue:!1}]}static get defaults(){return{filterable:!1,groupable:!1,sortable:!1,editor:!1,searchable:!1,htmlEncode:!1,resizable:!1,minWidth:30}}get groupHeaderReserved(){return!0}construct(e,t){const n=this;n.internalCellCls="b-action-cell",super.construct(...arguments),e.width||e.flex||n.grid.on("paint",n.updateAutoWidth,n),n.grid.on({cellClick:"onGridCellClick",thisObj:n}),n.disableIfGridReadOnly&&n.grid.element.classList.add("b-actioncolumn-readonly")}renderer({column:e,record:t}){var n;const r=t&&"groupRowFor"in t.meta;return{className:{"b-action-ct":1},children:null===(n=e.actions)||void 0===n?void 0:n.map((n,i)=>{if("visible"in n){if("function"===typeof n.visible&&!1===n.visible({record:t}))return"";if(!1===n.visible)return""}if(r&&!n.showForGroup||!r&&n.showForGroup)return"";let o;if(o="function"===typeof n.tooltip?n.tooltip({record:t}):n.tooltip||"",n.renderer&&"function"===typeof n.renderer){const r=n.renderer({index:i,record:t,column:e,tooltip:o,action:n});return"string"===typeof r?{tag:"span",dataset:{index:i},html:r}:(r.dataset=r.dataset||{},r.dataset.index=i,r)}return{tag:"i",dataset:{index:i,btip:o},className:{"b-action-item":1,[n.cls]:n.cls}}})}}onGridCellClick({grid:e,column:t,record:n,target:r}){var i;if(t!==this||!r.classList.contains("b-action-item"))return;let o=r.dataset.index;o||(o=r.parentElement.dataset&&r.parentElement.dataset.index);const a=null===(i=t.actions)||void 0===i?void 0:i[o],s=a&&a.onClick;s&&this.callback(s,t,[{record:n,action:a}])}updateAutoWidth(){var e;const t=this,n=[];if(!t.element)return;let r=[];null===(e=t.actions)||void 0===e||e.forEach(e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);delete t.visible,t.showForGroup?(delete t.showForGroup,n.push(t)):r.push(t)}),n.length>r.length&&(r=n);const i=o.default.createElement(t.renderer({column:{actions:r}})).outerHTML;t.width=o.default.measureText(i,t.element,!0,t.element.parentElement)}}i.default.registerColumnType(l),l.exposeProperties(),l._$name="ActionColumn"},"./lib/Grid/column/AggregateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Grid/column/Column.js");class o extends i.default{static get type(){return"aggregate"}static get fields(){return["function"]}static get defaults(){return{function:"sum"}}construct(e,t){this.configuredAlign="align"in e,this.configuredEditor="editor"in e,super.construct(...arguments);const{grid:n}=t;n&&(this.owner=n,n.on({paint:"onGridPaint",thisObj:this,prio:1e3}))}onGridPaint({source:e}){this.store=e.store}set store(e){const t=this,n={update:"onRecordUpdate",thisObj:t,prio:1e3},r=t._store;if(e!==r){r&&r.un(n),t._store=e;const{modelClass:i}=e,o=i.fieldMap[t.field];o&&"number"===o.type&&(t.configuredAlign||(t.align="end"),t.configuredEditor||(t.editor="number")),e.on(n)}}canEdit(e){return e.isLeaf}get store(){return this._store}sum(...e){let t=0;for(let n=0,{length:r}=e;n<r;n++)t+=parseInt(e[n]||0,10);return t}avg(...e){let t=0;const{length:n}=e;for(let r=0;r<n;r++)t+=parseInt(e[r]||0,10);return t/n}onRecordUpdate({record:e,changes:t}){const n=this,{rowManager:r}=n.grid;n.field in t&&e.isLeaf&&e.bubble(e=>{const t=r.getRowFor(e);if(t){const r=t.getCell(n.field);r&&t.renderCell({cellElement:r,record:e})}},!0)}getRawValue(e){let t=0;if(e.children){const n=this,r=n.function,i="string"===typeof r&&"function"===typeof Math[r],{handler:o,thisObj:a}=i?{handler:Math[r],thisObj:Math}:n.resolveCallback(r);for(let s=0,{length:l}=e.children;s<l;s++)t=o.call(a,t,n.getRawValue(e.children[s]));e.setData(n.field,t)}else t=e[this.field];return t}}r.default.registerColumnType(o,!0),o.exposeProperties(),o._$name="AggregateColumn"},"./lib/Grid/column/CheckColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/StringHelper.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Grid/column/WidgetColumn.js"),a=n("./lib/Core/widget/Checkbox.js");class s extends o.default{static get type(){return"check"}static get fields(){return["checkCls","showCheckAll","onAfterWidgetSetValue","onBeforeWidgetSetValue"]}static get defaults(){return{align:"center",checkCls:null,showCheckAll:!1,widgets:[{type:"checkbox",valueProperty:"checked"}]}}construct(e,t){var n;super.construct(...arguments);const r=this;r.externalHeaderRenderer=r.headerRenderer,r.externalOnBeforeWidgetSetValue=r.onBeforeWidgetSetValue,r.externalOnAfterWidgetSetValue=r.onAfterWidgetSetValue,r.onBeforeWidgetSetValue=r.internalOnBeforeWidgetSetValue,r.onAfterWidgetSetValue=r.internalOnAfterWidgetSetValue,r.headerRenderer=r.internalHeaderRenderer,r.internalCellCls="b-check-cell",null===(n=r.grid)||void 0===n||n.on({destroy:()=>{var e;return null===(e=r.headerCheckbox)||void 0===e?void 0:e.destroy()},thisObj:r})}internalHeaderRenderer({headerElement:e,column:t}){let n;return e.classList.add("b-check-header"),t.showCheckAll?(e.classList.add("b-check-header-with-checkbox"),t.headerCheckbox?e.appendChild(t.headerCheckbox.element):t.headerCheckbox=new a.default({appendTo:e,owner:this.grid,listeners:{change:({checked:e})=>{t.trigger("toggleAll",{checked:e})}}})):n=t.headerText,n=t.externalHeaderRenderer?t.externalHeaderRenderer.call(this,...arguments):n,t.showCheckAll?void 0:n}updateCheckAllState(e){this.suspendEvents(),this.headerCheckbox.checked=e,this.resumeEvents()}internalRenderer({value:e,isExport:t}){return t?null==e?"":e:super.internalRenderer(...arguments)}onBeforeWidgetCreate(e,t){e.cls=this.checkCls}onAfterWidgetCreate(e,t){t.cellElement.widget=e,e.on({beforeChange:"onBeforeCheckboxChange",change:"onCheckboxChange",thisObj:this})}internalOnBeforeWidgetSetValue(e){var t;e.record=e.cellInfo.record,this.isInitialSet=!0,null===(t=this.externalOnBeforeWidgetSetValue)||void 0===t||t.call(this,...arguments)}internalOnAfterWidgetSetValue(e){var t;this.isInitialSet=!1,null===(t=this.externalOnAfterWidgetSetValue)||void 0===t||t.call(this,...arguments)}onBeforeCheckboxChange({source:e,checked:t}){if(!this.isInitialSet)return this.trigger("beforeToggle",{record:e.cellInfo.record,checked:t})}onCheckboxChange({source:e,checked:t}){if(!this.isInitialSet){const n=e.cellInfo.record,i=this.field;if(i){const e="set"+r.default.capitalize(i);n[e]?n[e](t):n.set(i,t)}this.trigger("toggle",{record:n,checked:t})}}onCellKeyDown({event:e,cellElement:t}){if(" "===e.key){const n=t.widget;null===n||void 0===n||n.toggle(),e.preventDefault()}}}i.default.registerColumnType(s,!0),s._$name="CheckColumn"},"./lib/Grid/column/Column.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Core/localization/Localizable.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/mixin/Events.js"),s=n("./lib/Core/widget/Widget.js"),l=n("./lib/Core/helper/ObjectHelper.js"),c=n("./lib/Core/helper/StringHelper.js");const d=e=>"number"===typeof e||(null===e||void 0===e?void 0:e.endsWith("px"));class u extends(Object(a.default)(Object(i.default)(r.default))){static get fields(){return["text","field","renderer","width","flex","autoWidth","autoHeight",{name:"fitMode",defaultValue:"exact"},{name:"editor",defaultValue:{}},"finalizeCellEdit",{name:"revertOnEscape",defaultValue:!0},{name:"invalidAction",defaultValue:"block"},{name:"sortable",defaultValue:!0,convert(e,t){if(!e)return!1;const n={};return"function"===typeof e?n.sortFn=e.bind(t):"object"===typeof e&&(Object.assign(n,e),n.fn&&(n.sortFn=n.fn,delete n.fn)),n}},{name:"searchable",defaultValue:!0},{name:"filterable",defaultValue:!0,convert(e){if(!e)return!1;const t={columnOwned:!0};return"function"===typeof e?t.filterFn=e:"object"===typeof e&&Object.assign(t,e),t}},{name:"hideable",defaultValue:!0},{name:"draggable",defaultValue:!0},{name:"groupable",defaultValue:!0},{name:"resizable",defaultValue:!0},"groupRenderer","headerRenderer","tooltip","tooltipRenderer","cellCls","cls","icon","align",{name:"minWidth",defaultValue:60},{name:"hidden",defaultValue:!1},{name:"locked"},{name:"region"},{name:"showColumnPicker",defaultValue:!0},{name:"enableHeaderContextMenu",defaultValue:!0},{name:"enableCellContextMenu",defaultValue:!0},"headerMenuItems","cellMenuItems","sum","summaries","summaryRenderer","responsiveLevels","tags","touchConfig","tree","filterType",{name:"htmlEncode",defaultValue:!0},{name:"htmlEncodeHeaderText",defaultValue:!0},{name:"autoSyncHtml",defaultValue:!1},"type",{name:"instantUpdate",defaultValue:!1},{name:"repaintOnResize",defaultValue:!1},"editTargetSelector",{name:"exportable",defaultValue:!0},{name:"exportedType"}]}static get autoExposeFields(){return!1}construct(e,t){const n=this;n.masterStore=t,t&&(n._grid=Array.isArray(t)?t[0].grid:t.grid),n.localizableProperties=e.localizableProperties||["text"],e.localeClass&&(n.localeClass=e.localeClass),super.construct(e,t,null,!1),"field"in n.data||(n.field="_"+(n.type||"")+ ++u.emptyCount,n.noFieldSpecified=!0),n.hasComplexMapping=n.field&&n.field.includes("."),n.width||n.flex||n.children||n.set({width:u.defaultWidth,flex:null},null,!0)}doDestroy(){var e,t,n;null===(e=this.data)||void 0===e||null===(t=e.editor)||void 0===t||null===(n=t.destroy)||void 0===n||n.call(t),super.doDestroy()}remove(){const{subGrid:e,grid:t}=this,n=e&&t&&t.focusedCell;n&&n.columnId===this.id&&(t.owns(o.default.getActiveElement(t))?t.navigateRight():n.columnId=e.columns.getAdjacentVisibleLeafColumn(this.id,!0,!0).id),super.remove()}getRawValue(e){const t=this;return t.hasComplexMapping?l.default.getPath(e,t.field):e[t.field]}get owner(){return this._owner||this.subGrid}set owner(e){this._owner=e}get nextVisibleSibling(){const e=this.region;let t=this.nextSibling;for(;t&&(t.hidden||t.region!==e);)t=t.nextSibling;return t}get isLastInSubGrid(){return!this.nextVisibleSibling&&(!this.parent||this.parent.isLastInSubGrid)}get element(){return this.grid.getHeaderElement(this)}get textWrapper(){return o.default.getChild(this.element,".b-grid-header-text")}get textElement(){return o.default.down(this.element,".b-grid-header-text-content")}get contentElement(){return o.default.down(this.element,".b-grid-header-children")}get editor(){let e=this.data.editor;if(e&&!(e instanceof s.default)){const t=this.grid.processCellEditor({editor:e,field:this.field});t?e=this.data.editor=t.editor:("string"===typeof e&&(e={type:e}),e=this.data.editor=s.default.create(l.default.merge(this.defaultEditor,e,{owner:this.grid})))}return e}set editor(e){this.data.editor=e}get defaultEditor(){return{type:"textfield",name:this.field}}get isFocusable(){return this.isLeaf}static get type(){return"column"}static get text(){return this.$meta.fields.defaults.text}get grid(){return this._grid||this.parent&&this.parent.grid}get locked(){return"locked"===this.data.region}set locked(e){this.region=e?"locked":"normal"}get sortable(){return this.isLeaf&&this.data.sortable}set sortable(e){this.set("sortable",e)}get groupable(){return this.isLeaf&&this.data.groupable}set groupable(e){this.set("groupable",e)}get headerText(){return this.htmlEncodeHeaderText?c.default.encodeHtml(this.text):this.text}hide(e=!1){const t=this,n=t.parent;t.hidden||(t.hidden=!0,n&&!n.isRoot&&(n.children.some(e=>!0!==e.hidden)||n.hidden||(e=!0,n.hide())),t.children&&t.children.forEach(e=>e.hide(!0)),e||t.stores.forEach(e=>e.trigger("columnHide",{column:t})))}show(e=!1){const t=this,n=t.parent;t.hidden&&(t.hidden=!1,n&&n.hidden&&n.show(),t.children&&t.children.forEach(e=>e.show(!0)),e||t.stores.forEach(e=>e.trigger("columnShow",{column:t})))}toggle(e=null){return this.hidden&&void 0===e||!0===e?this.show():!this.hidden&&void 0===e||!1===e?this.hide():void 0}generateId(){return u.generatedIdIndex||(u.generatedIdIndex=0),(this.field?this.field.replace(/\./g,"-"):"col")+ ++u.generatedIdIndex}get allIndex(){return this.masterStore.indexOf(this)}get calcMinWidth(){const{width:e,minWidth:t}=this.data;return d(e)&&d(t)?Math.max(parseInt(e)||0,parseInt(t)||0):e}get width(){return this.data.width}set width(e){const t={width:e};e&&"flex"in this.data&&(t.flex=null),this.set(t)}set flex(e){const t={flex:e};e&&"width"in this.data&&(t.width=null),this.set(t)}get flex(){return this.data.flex}set subGrid(e){this._subGrid=e}get subGrid(){return this._subGrid||(this.grid?this.grid.getSubGridFromColumn(this):void 0)}get subGridElement(){return this.subGrid.element}measureSize(e){return o.default.measureSize(e,this.subGrid?this.subGrid.element:void 0)}calculateMinWidth(){const e=this,t=e.measureSize(e.width),n=e.measureSize(e.minWidth);let r=0;return e.children&&(r=e.children.reduce((e,t)=>e+t.calculateMinWidth(),0)),Math.max(t,n,r)}resizeToFitContent(e,t,n=!1){const r=this,{grid:i,element:o,fitMode:a}=r,{rowManager:s,store:l}=i,{count:c}=l;if(c<=0||"none"===r.fitMode||!r.fitMode)return;const[d]=s.rows,{rowElement:u,cellElement:h}=i.beginGridMeasuring();let f,g,m,p,v,b,y=0,C={length:0,record:null};if(h._domData={columnId:r.id,row:d,rowElement:u},h.innerHTML="",i.resizeToFitIncludesHeader){if(!i.$headerPadding){const e=window.getComputedStyle(o);i.$headerPadding=parseInt(e.paddingLeft)}const e=o.querySelector(".b-grid-header-text-content");e.style.cssText="flex: none; width: auto",y=e.offsetWidth+2*i.$headerPadding+2,e.style.cssText=""}for(c>1e3?(f=Math.max(Math.min(s.topIndex+Math.round(s.rowCount/2)-500,c-1e3),0),g=f+1e3):(f=0,g=c),m=f;m<g;m++){if(p=l.getAt(m),v=r.getRawValue(p),"value"===a)b=String(v).length;else if(d.renderCell({cellElement:h,record:p,updatingSingleRow:!0,isMeasuring:!0}),"textContent"===a)b=h.textContent.length;else{const e=h.offsetWidth;e>y&&(y=e)}b>C.length&&(C={record:p,length:b})}return"value"!==a&&"textContent"!==a||(d.renderCell({cellElement:h,record:C.record,updatingSingleRow:!0,isMeasuring:!0}),y=Math.max(y,h.offsetWidth)),Array.isArray(e)&&([e,t]=e),y=Math.max(y,e||0),y=Math.min(y,t||1e6),n||i.endGridMeasuring(),r.width=y,y}getState(){const e=this,t={id:e.id,[e.flex?"flex":"width"]:e.flex?e.flex:e.width,hidden:e.hidden,region:e.region,locked:e.locked};return e.children&&(t.children=e.children.map(e=>e.getState())),t}applyState(e){const t=this;t.beginBatch(),"locked"in e&&(t.locked=e.locked),"width"in e&&(t.width=e.width),"flex"in e&&(t.flex=e.flex),"width"in e&&t.flex?t.flex=void 0:"flex"in e&&t.width&&(t.width=void 0),"region"in e&&(t.region=e.region),t.endBatch(),"hidden"in e&&t.toggle(!0!==e.hidden)}refreshCell(e){this.grid.rowManager.refreshCell(e,this.id)}clearCell(e){e.innerHTML="",delete e._content}canEdit(e){if(e.isEditable){const t=e.isEditable(this.field);if(void 0!==t)return t}return!0}}u.emptyCount=0,u.defaultWidth=100,u.exposeProperties(),u._$name="Column"},"./lib/Grid/column/DateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends r.default{static get $name(){return"DateColumn"}static get type(){return"date"}static get fieldType(){return"date"}static get fields(){return["format","pickerFormat","step"]}static get defaults(){return{format:"L",step:1,minWidth:85,filterType:"date"}}constructor(e,t){super(...arguments),this.internalCellCls="b-date-cell"}defaultRenderer({value:e}){return e?this.formatValue(e):""}groupRenderer({cellElement:e,groupRowFor:t}){e.innerHTML=this.formatValue(t)}formatValue(e){return"string"===typeof e&&(e=o.default.parse(e,this.format||void 0)),o.default.format(e,this.format||void 0)}set format(e){const t=this,n=t.data.editor;t.set("format",e),n&&(n.format=t.format)}get format(){return this.get("format")}get defaultEditor(){return{name:this.field,type:"date",calendarContainerCls:"b-grid-cell-editor-related",weekStartDay:this.grid.weekStartDay,format:this.format,step:this.step}}}i.default.registerColumnType(a,!0),a.exposeProperties(),a._$name="DateColumn"},"./lib/Grid/column/NumberColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/util/NumberFormat.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends r.default{static get type(){return"number"}static get fieldType(){return"number"}static get fields(){return["format","min","max","step","largeStep","unit"]}static get defaults(){return{filterType:"number",format:""}}constructor(e,t){super(...arguments),this.internalCellCls="b-number-cell"}get defaultEditor(){const{format:e,name:t,max:n,min:r,step:i,largeStep:o,align:s}=this;return a.default.cleanupProperties({type:"numberfield",format:e,name:t,max:n,min:r,step:i,largeStep:o,textAlign:s})}get formatter(){const e=this,{format:t}=e;let n=e._formatter;return n&&e._lastFormat===t||(e._formatter=n=o.default.get(e._lastFormat=t)),n}defaultRenderer({value:e}){return null!=e&&(e=this.formatter.format(e),this.unit&&(e=`${e}${this.unit}`)),e}}i.default.registerColumnType(s,!0),s.exposeProperties(),s._$name="NumberColumn"},"./lib/Grid/column/PercentColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get type(){return"percent"}static get fieldType(){return"number"}static get fields(){return["showValue","lowThreshold"]}static get defaults(){return{editor:{type:"number",min:0,max:100},showValue:!1,lowThreshold:20,filterType:"number",htmlEncode:!1,searchable:!1,summaryRenderer:e=>e+"%",fitMode:!1}}constructor(e,t){super(...arguments),this.internalCellCls="b-percent-bar-cell"}defaultRenderer({value:e}){return{className:"b-percent-bar-outer",children:[{tag:"div",className:{"b-percent-bar":1,"b-zero":0===(e=e||0),"b-low":e<this.lowThreshold},style:{width:e+"%"},children:[this.showValue?{tag:"span",text:e+"%"}:void 0]}]}}resizeToFitContent(){}}o.sum="average",i.default.registerColumnType(o,!0),o._$name="PercentColumn"},"./lib/Grid/column/RatingColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/NumberColumn.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/ArrayHelper.js");class a extends r.default{static get type(){return"rating"}static get fieldType(){return"number"}static get fields(){return["emptyIcon","filledIcon","editable"]}static get defaults(){return{min:0,max:5,emptyIcon:"b-icon b-icon-star",filledIcon:"b-icon b-icon-star",editable:!0,filterType:"number",searchable:!1,width:"11.2em",htmlEncode:!1,minWidth:"11.2em",editor:!1,fitMode:"value"}}constructor(e,t){super(...arguments),this.internalCellCls="b-rating-cell"}renderer({value:e}){return{className:{"b-rating-cell-inner":1,"b-not-editable":!this.editable},children:o.default.populate(this.max,t=>{const n=t<e;return{tag:"i",className:{"b-rating-icon":!0,"b-filled":n,"b-empty":!n,[n?this.filledIcon:this.emptyIcon]:!0}}})}}onCellClick({grid:e,column:t,record:n,target:r,event:i}){if(r.classList.contains("b-rating-icon")&&!e.readOnly&&t.editable){let e=[].indexOf.call(r.parentNode.childNodes,r);r.classList.contains("b-filled")&&(i.metaKey||i.shiftKey)&&(e-=1),1===n.get(t.field)&&0===e&&(e=-1),n.set(t.field,e+1)}}}i.default.registerColumnType(a,!0),a.exposeProperties(),a._$name="RatingColumn"},"./lib/Grid/column/RowNumberColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/DomHelper.js");class a extends r.default{static get defaults(){return{groupable:!1,sortable:!1,filterable:!1,searchable:!1,resizable:!1,minWidth:50,width:50,align:"right",text:"#",editor:!1}}construct(e){super.construct(...arguments);const t=this,{grid:n}=t;t.internalCellCls="b-row-number-cell",n&&(n.on({bindStore:"bindStore",thisObj:t}),t.bindStore({store:n.store,initial:!0}),n.store.count&&!n.rendered&&n.on({paint:"resizeToFitContent",thisObj:t,once:!0}))}static get type(){return"rownumber"}get groupHeaderReserved(){return!0}bindStore({store:e,initial:t}){const n=this;n.detachListeners("grid"),e.on({name:"grid",["change"+n.grid.asyncEventSuffix]:"onStoreChange",thisObj:n}),t||n.resizeToFitContent()}onStoreChange({action:e}){"dataset"!==e&&"add"!==e&&"remove"!==e&&"removeall"!==e||this.resizeToFitContent()}renderer({record:e,grid:t}){return e.isSpecialRow?"":t.store.indexOf(e,!0)+1}resizeToFitContent(){const{grid:e}=this,{store:t}=e,{count:n}=t;if(n&&!this.hidden){const t=e.element.querySelector(`.b-grid-cell[data-column-id="${this.id}"]`);if(t){const e=parseInt(o.default.getStyleValue(t,"padding-left")),r=o.default.measureText(n,t);this.width=Math.max(this.minWidth,r+2*e)}}}set flex(e){}}i.default.registerColumnType(a,!0),a._$name="RowNumberColumn"},"./lib/Grid/column/TemplateColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");class o extends r.default{static get fields(){return["template"]}static get defaults(){return{htmlEncode:!1}}constructor(e,t){if(super(...arguments),!this.template)throw new Error("TemplateColumn needs a template");if("function"!==typeof this.template)throw new Error("TemplateColumn.template must be a function")}static get type(){return"template"}renderer(e){if(!e.record.isSpecialRow)return this.template({value:e.value,record:e.record,field:e.column.field})}}i.default.registerColumnType(o,!0),o.exposeProperties(),o._$name="TemplateColumn"},"./lib/Grid/column/TimeColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends r.default{static get type(){return"time"}static get fieldType(){return"date"}static get fields(){return["format"]}static get defaults(){return{format:"LT",minWidth:140,filterType:"time"}}constructor(e,t){super(...arguments),this.internalCellCls="b-time-cell"}defaultRenderer({value:e}){return e?this.formatValue(e):""}groupRenderer({cellElement:e,groupRowFor:t}){e.innerHTML=this.formatValue(t)}formatValue(e){const t=this;return"string"===typeof e&&(e=o.default.parse(e,t.format)),o.default.format(e,t.format)}set format(e){const t=this,n=t.editor;t.set("format",e),n&&(n.format=t.format)}get format(){return this.get("format")}get defaultEditor(){return{name:this.field,type:"time",format:this.format}}}i.default.registerColumnType(a,!0),a.exposeProperties(),a._$name="TimeColumn"},"./lib/Grid/column/TreeColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js");let o=!1;class a extends r.default{static get defaults(){return{tree:!0,hideable:!1,minWidth:150}}static get fields(){return[{name:"expandIconCls",defaultValue:"b-icon b-icon-tree-expand"},{name:"collapseIconCls",defaultValue:"b-icon b-icon-tree-collapse"},{name:"collapsedFolderIconCls"},{name:"expandedFolderIconCls"},{name:"indentSize",defaultValue:1.7},{name:"leafIconCls",defaultValue:"b-icon b-icon-tree-leaf"},{name:"editTargetSelector",defaultValue:".b-tree-cell-value"}]}static get type(){return"tree"}constructor(e,t){super(...arguments);const n=this;n.internalCellCls="b-tree-cell",n.shouldHtmlEncode=n.htmlEncode,n.setData("htmlEncode",!1),n.renderer&&(n.originalRenderer=n.renderer),n.renderer=n.treeRenderer.bind(n)}treeRenderer(e){const t=this,{grid:n,column:r,cellElement:i,row:a,record:s,isExport:l}=e,c=s.instanceMeta(n.store),d={className:"b-tree-cell-value"},u=[d],h={className:"b-tree-cell-inner",tag:s.href?"a":"div",href:s.href,target:s.target,children:u},f={"b-tree-parent-row":0,"b-tree-collapsed":0,"b-tree-expanded":0,"b-loading-children":0};let g,m,{value:p}=e;if(t.originalRenderer){var v;const o=t.originalRenderer(e),a=null===(v=n.hasFrameworkRenderer)||void 0===v?void 0:v.call(n,{cellContent:o,column:r});g="object"===typeof o&&!a,p=a?"":!1===o?i.innerHTML:o,e.rendererHtml=o}var b;if(g||(p=String(null!==(b=p)&&void 0!==b?b:"")),l)return p;if(s.isLeaf)i.classList.add("b-tree-leaf-cell"),m=e.iconCls||s.iconCls||t.leafIconCls;else{const n=c.collapsed,r=n?t.expandIconCls:t.collapseIconCls,a=n?t.collapsedFolderIconCls:t.expandedFolderIconCls;f["b-tree-parent-row"]=1,f["b-tree-collapsed"]=n,f["b-tree-expanded"]=!n,f["b-loading-children"]=c.isLoadingChildren,i.classList.add("b-tree-parent-cell"),u.unshift({className:"b-tree-expander",children:r?[{tag:"i",className:{[r]:1}}]:null}),o=m=e.iconCls||s.iconCls||a}a.isRow&&a.assignCls(f),g||t.shouldHtmlEncode||!p.includes("<")?(g&&Object.assign(d,p),d.children=d.children||[],d.children.unshift(m?{tag:"i",className:{"b-tree-icon":1,[m]:1}}:null,g?null:p)):d.html=`${m?`<i class="b-tree-icon ${m}"></i>`:""}${p}`;const y=s.childLevel*t.indentSize+(s.isLeaf?o?2:m?.5:.4:0);return h.style=`padding-left:${y}em`,h}}i.default.registerColumnType(a,!0),a.exposeProperties(),a._$name="TreeColumn"},"./lib/Grid/column/WidgetColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/WidgetHelper.js"),i=n("./lib/Grid/column/Column.js"),o=n("./lib/Grid/data/ColumnStore.js");class a extends i.default{static get type(){return"widget"}static get fields(){return["widgets"]}static get defaults(){return{filterable:!1,sortable:!1,editor:!1,searchable:!1,fitMode:!1}}construct(e,t){const n=this;n.widgetMap={},n.internalCellCls="b-widget-cell",super.construct(...arguments),n.externalRenderer=n.renderer,n.renderer=n.internalRenderer}doDestroy(){for(const e of Object.values(this.widgetMap))e.destroy&&e.destroy();super.doDestroy()}internalRenderer(e){var t;const n=this,{cellElement:i,column:o,value:a,record:s,isExport:l}=e,c=o.widgets;if(!l&&c&&(i.widgets||n.clearCell(i),i.widgets=e.widgets=c.map((t,l)=>{var c,d;let u,h;if(i.widgets&&(u=i.widgets[l],h=u.element.nextElementSibling,t.recreate&&u&&(delete n.widgetMap[u.id],u.destroy(),i.widgets[l]=null)),u||(n.onBeforeWidgetCreate(t,e),t.recomposeAsync=!1,u=r.default.append(t,h?{insertBefore:h}:i)[0],n.widgetMap[u.id]=u,n.onAfterWidgetCreate(u,e)),u.cellInfo={cellElement:i,value:a,record:s,column:o},n.grid&&!n.isSelectionColumn&&(u.readOnly=n.grid.readOnly),!1!==(null===(c=n.onBeforeWidgetSetValue)||void 0===c?void 0:c.call(n,u,e))&&!t.noValueOnRender){const e=t.valueProperty||"value"in u&&"value";e?u[e]=a:u.defaultBindProperty?u[u.defaultBindProperty]=a:u.text=u.value=a}return null===(d=n.onAfterWidgetSetValue)||void 0===d||d.call(n,u,e),u})),null===(t=this.externalRenderer)||void 0===t||t.call(this,e),l)return null}onBeforeWidgetCreate(e,t){}onAfterWidgetCreate(e,t){}clearCell(e){e.widgets&&(e.widgets.forEach(e=>{delete this.widgetMap[e.id],e.destroy()}),e.widgets=null),super.clearCell(e)}resizeToFitContent(){}}o.default.registerColumnType(a),a.exposeProperties(),a._$name="WidgetColumn"},"./lib/Grid/data/ColumnStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c})),n.d(t,"columnResizeEvent",(function(){return d}));var r=n("./lib/Core/data/Store.js"),i=n("./lib/Grid/column/Column.js"),o=n("./lib/Core/localization/Localizable.js"),a=n("./lib/Core/helper/StringHelper.js"),s=n("./lib/Core/helper/util/Objects.js");const l={boolean:{type:"check"},date:{type:"date"},integer:{type:"number",format:{maximumFractionDigits:0}},number:{type:"number"}};class c extends(Object(o.default)(r.default)){static get defaultConfig(){return{modelClass:i.default,tree:!0,autoAddField:!1}}construct(e){const t=this;e.grid&&(e.grid._columnStore=t,t.id=e.grid.id+"-columns",e.grid.on({subGridCollapse:"clearSubGridCaches",subGridExpand:"clearSubGridCaches",thisObj:t})),super.construct(e),t.on({change:t.clearCaches,thisObj:t,prio:1})}get modelClass(){return this._modelClass}set modelClass(e){this._modelClass=e}doDestroy(){const e=[];this.isChained||this.traverse(t=>e.push(t)),super.doDestroy(),this.isChained||e.forEach(e=>e.destroy())}getById(e){return super.getById(e)||this.idRegister[e]}forEach(e,t=this){this.traverseWhile((n,r)=>e.call(t,n,r),!0)}get totalFixedWidth(){let e=0;for(const t of this)t.hidden||(t.children?t.children.forEach(t=>e+=this.calculateFixedWidth(t)):e+=this.calculateFixedWidth(t));return e}calculateFixedWidth(e){return e.flex?e.measureSize(i.default.defaultWidth):Math.max(e.measureSize(e.width),e.measureSize(e.minWidth))}get topColumns(){return this.isChained?this.masterStore.rootNode.children.filter(this.chainedFilterFn):this.rootNode.children}get visibleColumns(){const e=this;return e._visibleColumns||(e._visibleColumns=e.leaves.filter(e=>!e.hidden&&(!e.subGrid||!e.subGrid.collapsed))),e._visibleColumns}clearSubGridCaches(e){e.columns.clearCaches(),this.clearCaches()}clearCaches(){var e;this._visibleColumns=null,null===(e=this.masterStore)||void 0===e||e.clearCaches()}onMasterDataChanged(e){super.onMasterDataChanged(e),this.clearCaches()}getAdjacentVisibleLeafColumn(e,t=!0,n=!1){const r=this.visibleColumns,o=e instanceof i.default?e:this.getById(e);let a=r.indexOf(o)+(t?1:-1);if(!r[a]){if(!n)return null;a=t?0:r.length-1}return r[a]}get bottomColumns(){return this.leaves}get(e){return this.findRecord("field",e,!0)}createRecord(e){var t,n;const{grid:r={}}=this,{store:i}=r,o=null===i||void 0===i||null===(t=i.modelClass)||void 0===t||null===(n=t.fieldMap)||void 0===n?void 0:n[e.field];let a=this.modelClass;if(null!==o&&void 0!==o&&o.column&&(e=s.default.merge({},o.column,e)),e.type&&(a=c.getColumnClass(e.type),!a))throw new Error(`Column type '${e.type}' not registered`);e.locked&&(e.region="locked",delete e.locked);const l=new a(e,this);if(l.data.region||(l.data.region=r.defaultRegion||"normal"),this.autoAddField&&!l.noFieldSpecified&&i&&!o){let e=l.field;l.constructor.fieldType&&(e={name:l.field,type:l.constructor.fieldType}),i.modelClass.addField(e)}return l}indexOf(e){const t=super.indexOf(e);return t>-1?t:this.records.findIndex(t=>t.field===e)}get usesAutoHeight(){return this.find(e=>e.autoHeight)}get usesFlexAutoHeight(){return this.find(e=>e.autoHeight&&null!=e.flex)}static registerColumnType(e,t=!1){c.columnTypes||(c.columnTypes={}),e.simpleRenderer=t,c.columnTypes[e.type]=e}static getColumnClass(e){return c.columnTypes&&c.columnTypes[e]}generateColumnForField(e,t){var n;"string"===typeof e&&this.grid&&(e=null===(n=this.grid.store)||void 0===n?void 0:n.modelClass.fieldMap[e]);let r=e.column||l[e.type]||{};return"string"===typeof r&&(r={type:r}),r=Object.assign({text:e.text||a.default.separate(e.name),field:e.name},t,r),null!=e.precision&&(r.format.maximumFractionDigits=e.precision),e.columnType&&(r.type=e.columnType),this.createRecord(r)}}const d=(e,t)=>({update:({store:n,record:r,changes:i})=>{let o=!0;return("width"in i||"minWidth"in i||"flex"in i)&&(o=e.call(t,{store:n,record:r,changes:i})),o}});c.registerColumnType(i.default,!0),c._$name="ColumnStore"},"./lib/Grid/data/GridRowModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/data/Model.js");class i extends r.default{static get fields(){return[{name:"iconCls",internal:!0},{name:"expanded",internal:!0},{name:"cls",internal:!0},{name:"rowHeight",internal:!0},{name:"href",internal:!0},{name:"target",internal:!0}]}}i.exposeProperties(),i._$name="GridRowModel"},"./lib/Grid/feature/CellEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/mixin/Delayable.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=n("./lib/Core/widget/Editor.js"),c=n("./lib/Core/GlobalEvents.js"),d=n("./lib/Core/widget/MessageDialog.js");n("./lib/Core/widget/NumberField.js"),n("./lib/Core/widget/Combo.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/TimeField.js");const u={Enter:1,F2:1},h={ArrowUp:1,ArrowDown:1,ArrowLeft:1,ArrowRight:1};class f extends(Object(a.default)(i.default)){static get $name(){return"CellEdit"}static get defaultConfig(){return{autoSelect:!0,blurAction:"complete",addNewAtEnd:null,autoEdit:!1,editorClass:l.default,triggerEvent:"celldblclick",focusCellAnimationDuration:!1}}static get pluginConfig(){return{assign:["startEditing"],before:["onElementKeyDown","onElementMouseDown"],chain:["onElementClick","bindStore"]}}construct(e,t){super.construct(e,t);const n=this,r={renderRows:"onGridRefreshed",cellClick:"onCellClick",thisObj:n};n.grid=e,"cellclick"!==n.triggerEvent&&(r[n.triggerEvent]="onTriggerEditEvent"),e.on(r),e.rowManager.on({changeTotalHeight:"onGridRefreshed",thisObj:n}),n.bindStore(e.store)}bindStore(e){this.detachListeners("store"),e.on({name:"store",update:"onStoreUpdate",thisObj:this})}async confirm(e){let t=!0;return this.editorContext&&(d.default.owner=this.editorContext.editor.inputField,e.rootElement=this.grid.rootElement,t=await d.default.confirm(e),d.default.owner=null),t===d.default.yesButton}doDestroy(){this.grid.columns.allRecords.forEach(e=>{e._cellEditor&&e._cellEditor.destroy()}),super.doDestroy()}doDisable(e){e&&this.cancelEditing(!0),super.doDisable(e)}set disabled(e){super.disabled=e}get disabled(){const{grid:e}=this;return Boolean(super.disabled||e.disabled||e.readOnly)}get isEditing(){return Boolean(this.editorContext)}get activeRecord(){var e;return(null===(e=this.editorContext)||void 0===e?void 0:e.record)||null}getEditorForCell({cell:e,column:t,selector:n,editor:r}){const i=this,{grid:o}=i;let a=t._cellEditor,l=0;return t.editTargetSelector&&(l=e.querySelector(t.editTargetSelector).offsetLeft),r.autoSelect=i.autoSelect,a?(a.inputField!==r&&(a.remove(a.items[0]),a.add(r)),a.align.offset[0]=l):a=t._cellEditor=new i.editorClass({constrainTo:null,cls:"b-cell-editor",inputField:r,blurAction:"none",invalidAction:t.invalidAction,completeKey:!1,cancelKey:!1,owner:o,align:{align:"t0-t0",offset:[l,0]},listeners:i.getEditorListeners()}),t.instantUpdate&&!r.cellEditValueSetter&&(s.default.wrapProperty(r,"value",null,e=>{const{editorContext:t}=i;null!==t&&void 0!==t&&t.editor.isValid&&!s.default.isEqual(t.record[t.column.field],e)&&(t.record[t.column.field]=e)}),r.cellEditValueSetter=!0),Object.assign(a.element.dataset,{rowId:n.id,columnId:n.columnId,field:t.field}),a.inputField.revertOnEscape=t.revertOnEscape,i.editor=a}getEditorListeners(){return{focusOut:"onEditorFocusOut",focusIn:"onEditorFocusIn",start:"onEditorStart",beforeComplete:"onEditorBeforeComplete",complete:"onEditorComplete",cancel:"onEditorCancel",thisObj:this}}onEditorStart({source:e}){const t=this,n=t.editorContext=e.cellEditorContext;if(n){const{grid:e}=t,{cell:r}=n;r.classList.add("b-editing"),"cellclick"!==t.triggerEvent&&e.on({cellclick:"onCellClickWhileEditing"},t),t.removeEditingListeners=c.default.addListener({globaltap:"onTapOut",thisObj:t}),e.trigger("startCellEdit",{grid:e,editorContext:n})}}onEditorBeforeComplete(e){const{grid:t}=this,n=e.source.cellEditorContext;return e.grid=t,e.editorContext=n,t.trigger("beforeFinishCellEdit",e)}onEditorComplete({source:e}){const{grid:t}=this,n=e.cellEditorContext;n.value=e.inputField.value,t.trigger("finishCellEdit",{grid:t,editorContext:n}),this.cleanupAfterEdit(n)}onEditorCancel({event:e}){const{editorContext:t,muteEvents:n,grid:r}=this;t&&this.cleanupAfterEdit(t),n||r.trigger("cancelCellEdit",{grid:r,event:e})}cleanupAfterEdit(e){const{editor:t}=e;e.cell.classList.remove("b-editing"),t.cellEditorContext=this.editorContext=null,this.grid.un({cellclick:"onCellClickWhileEditing",viewportResize:"onViewportResizeWhileEditing"},this),this.removeEditingListeners(),c.default.suspendFocusEvents(),t.element.remove(),c.default.resumeFocusEvents()}getAdjacentEditableCell(e,t){const{grid:n}=this,{store:r,columns:i}=n;let o=e.id,a=e.columnId,s=i.getAdjacentLeaf(a,t);for(;o;){const n=r.getById(o);if(s){if(a=s.id,!s.hidden&&s.editor&&s.canEdit(n))return{id:o,columnId:s.id};s=i.getAdjacentLeaf(a,t)}else{const n=r.getAdjacent(e.id,t,!1,!0);o=null===n||void 0===n?void 0:n.id,n&&(s=t?i.first:i.leaves[i.leaves.length-1])}}return null}doAddNewAtEnd(){const e="object"===typeof this.addNewAtEnd?s.default.clone(this.addNewAtEnd):{},{grid:t}=this,n=t.store.add(e)[0];return t.rowManager.getRowFor(n)||t.rowManager.displayRecordAtBottom(),n}getEditingContext(e){e=this.grid.normalizeCellContext(e);const{grid:t}=this,n=t.columns.getById(e.columnId),r=t.store.getById(e.id);if(n&&!n.hidden&&n.editor&&r&&!r.isSpecialRow&&n.canEdit(r)){const t=null===r||void 0===r?void 0:r[n.field];return{column:n,record:r,value:void 0===t?null:t,selector:e,editor:n.editor}}return!1}startEditing(e={}){const t=this;if(!t.disabled){const{grid:n}=t,i=n.normalizeCellContext(e),o=t.getEditingContext(i);if(!o)return!1;if(t.editorContext&&t.cancelEditing(),n.focusCell(e),o.cell=n.getCell(e),!1===n.trigger("beforeCellEditStart",{grid:n,editorContext:o}))return!1;r.default.focusWithoutScrolling(n.focusElement);const a=o.editor=t.getEditorForCell(o),{cell:s,record:l,column:c}=o;return a.inputField.highlightExternalChange=!1,a.cellEditorContext=o,a.render(t.grid.getSubGridFromColumn(c).element),a.startEdit({target:s,record:l,field:a.inputField.name||o.column.field}),!0}return!1}cancelEditing(e=!1,t){const n=this,{editorContext:i,editor:o,grid:a}=n;i&&(o.containsFocus&&(n.editorContext=null,!a.isDestroying&&o.inputField.owns(r.default.getActiveElement(a))&&r.default.focusWithoutScrolling(a.focusElement),n.editorContext=i),n.muteEvents=e,o.cancelEdit(t),n.muteEvents=!1)}async finishEditing(){const e=this,{editorContext:t}=e;let n=!1;if(t){var r,i;const{column:o}=t;e.finishEditingPromise=t.editor.completeEdit(o.bindCallback(o.finalizeCellEdit)),n=await e.finishEditingPromise,await(null===(r=(i=e.grid).waitForTransition)||void 0===r?void 0:r.call(i)),e.finishEditingPromise=null}return n}async onCellClickWhileEditing({event:e,cellSelector:t}){const n=this;n.finishEditingPromise||n.editorContext&&!n.editorContext.editor.owns(e.target)&&(n.getEditingContext(t)?await n.finishEditing()?n.startEditing(t):(n.grid.focusCell(n.editorContext.selector),n.editor.inputField.focus()):n.finishEditing())}onCellClick({source:e,record:t,cellSelector:n,cellElement:i,target:o,event:a}){const s=e.focusedCell||{},l=e.columns.getById(n.columnId);if(l.onCellClick)l.onCellClick({grid:e,column:l,record:t,cellSelector:n,cellElement:i,target:o,event:a});else{if(o.closest(".b-tree-expander"))return this.cancelEditing(void 0,a),!1;r.default.isTouchEvent&&n.id==s.id&&n.columnId==s.columnId?this.startEditing(n):"cellclick"===this.triggerEvent&&this.onTriggerEditEvent({cellSelector:n,target:o})}}async onTriggerEditEvent({cellSelector:e,target:t}){t.closest(".b-tree-expander")||this.editorContext&&!await this.finishEditing()||this.startEditing(e)}onStoreUpdate({changes:e,record:t}){const{editorContext:n}=this;null!==n&&void 0!==n&&n.editor.isVisible&&t===n.record&&n.editor.dataField in e&&n.editor.refreshEdit()}onGridRefreshed(){const e=this,{grid:t}=e;if(e.editorContext&&t.focusedCell){const n=t.getCell(t.focusedCell);n?e.editorContext.editor.showBy(n):e.cancelEditing()}}async onElementKeyDown(e){const t=this;if(!e.handled&&t.grid.focusElement.contains(e.target))if(t.editorContext){switch(e.key){case"Enter":t.onEnterKeyPress(e);break;case"F2":e.preventDefault(),t.finishEditing();break;case"Escape":e.stopPropagation(),e.preventDefault(),t.cancelEditing(void 0,e);break;case"Tab":t.onTabKeyPress(e)}h[e.key]&&(e.handled=!0)}else{const{key:n}=e,r="Backspace"===n,i=t.autoEdit&&(1===n.length||r);if((i||u[n])&&t.grid.focusedCell){if(t.startEditing(t.grid.focusedCell)){const{inputField:o}=t.editor,{input:a}=o;i&&a&&(o.internalOnKeyEvent(e),e.defaultPrevented||(a.value=r?"":n,o.internalOnInput(e),o.moveCaretToEnd()))}e.preventDefault()}}}async onEnterKeyPress(e){const t=this,{grid:n}=t;if(e.preventDefault(),e.stopPropagation(),await t.finishEditing()){if(t.isDestroyed)return;if(!t.isEditing){if(e.ctrlKey||e.metaKey||e.altKey||n.touch)return;if(e.shiftKey)n.internalNextPrevRow(!1,!0,e,!1)&&t.startEditing(n.focusedCell);else{var r;if(t.addNewAtEnd)n.store.getById(null===(r=n.focusedCell)||void 0===r?void 0:r.id)===n.store.last&&await t.doAddNewAtEnd();n.internalNextPrevRow(!0,!0)&&t.startEditing(n.focusedCell)}}}}async onTabKeyPress(e){e.preventDefault();const t=this,{focusedCell:n}=t.grid;if(n){const r=!e.shiftKey;let i=t.getAdjacentEditableCell(n,r);if(!i&&r&&t.addNewAtEnd&&!0===await t.finishEditing()&&(await this.doAddNewAtEnd(),i=t.getAdjacentEditableCell(n,r)),i){let e=!0;t.isEditing&&(e=await t.finishEditing()),e&&(t.grid.focusCell(i,{animate:t.focusCellAnimationDuration}),t.startEditing(i))}}}onElementMouseDown(e){2===e.button&&this.editorContext&&e.preventDefault()}onEditorFocusOut(e){const t=this,{grid:n}=t;t.editorContext&&!t.editor.isFinishing&&t.editor.inputField.owns(e._target)&&(e.toWidget!==n||n.isLocationEqual(n.focusedCell,t.editorContext.selector))&&("cancel"===t.blurAction?t.cancelEditing(void 0,e):t.finishEditingPromise||t.finishEditing())}onEditorFocusIn(e){const t=e.toWidget;t===this.editor.inputField&&this.autoSelect&&t.selectAll&&!t.readOnly&&!t.disabled&&t.selectAll()}onTapOut({event:e}){const t=this;t.grid.bodyContainer.contains(e.target)||t.editor.owns(e.target)||("cancel"===t.blurAction?t.cancelEditing(void 0,e):t.finishEditing())}onElementClick(e){e.target.classList.contains("b-grid-body-container")&&this.editorContext&&this.finishEditing()}}f._$name="CellEdit",o.default.registerFeature(f,!0)},"./lib/Grid/feature/CellMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/base/ContextMenuBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/VersionHelper.js");class s extends r.default{static get $name(){return"CellMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"cell"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateCellMenu"),e}showContextMenu(e){const{cellSelector:t,id:n,event:r}=e;this.client.focusCell(t,{doSelect:!this.client.isSelected(n),event:r}),super.showContextMenu(e)}shouldShowMenu({column:e}){return e&&!1!==e.enableCellContextMenu}getDataFromEvent(e){return o.default.assign(super.getDataFromEvent(e),this.client.getCellDataFromEvent(e))}beforeContextMenuShow(e){e.record&&!e.record.isSpecialRow||(e.items.removeRow=!1)}populateCellMenu({items:e,column:t}){const{client:n}=this;null!==t&&void 0!==t&&t.cellMenuItems&&(Array.isArray(t.cellMenuItems)&&a.default.deprecate("Grid","5.0.0","`cellMenuItems` column config specified as an array is deprecated, need to specify the config as a named object. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."),o.default.merge(e,t.cellMenuItems)),n.readOnly||(e.removeRow={text:n.selectedRecords.length>1?"L{removeRows}":"L{removeRow}",localeClass:this,icon:"b-fw-icon b-icon-trash",name:"removeRow",cls:"b-separator",weight:100,onItem:()=>n.store.remove(n.selectedRecords)},n.showRemoveRowInContextMenu||(a.default.deprecate("Grid","5.0.0","`showRemoveRowInContextMenu` config is deprecated, in favor of `CellMenu` feature configuration. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."),e.removeRow=!1))}get showMenu(){return!0}}s.featureClass="",s._$name="CellMenu",i.default.registerFeature(s,!0,["Grid","Scheduler"]),i.default.registerFeature(s,!1,["Gantt"])},"./lib/Grid/feature/CellTooltip.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/widget/Tooltip.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=(n("./lib/Core/data/DomDataStore.js"),n("./lib/Core/helper/VersionHelper.js"));class s extends i.default{static get $name(){return"CellTooltip"}static get defaultConfig(){return{tooltipRenderer:null}}construct(e,t){super.construct(e,this.processConfig(t))}initTip(){const e=this;e.tip=r.default.new({forElement:e.client.element,forSelector:".b-grid-row:not(.b-group-row) .b-grid-cell",hoverDelay:1e3,trackMouse:!1,cls:"b-celltooltip-tip",getHtml:e.getTooltipContent.bind(e),listeners:{pointerOver:"onPointerOver",thisObj:e}},e.initialConfig),e.relayEvents(e.tip,["beforeshow","show"])}onPointerOver({target:e}){return!1!==this.client.getColumnFromElement(e).tooltipRenderer}processConfig(e){return"function"===typeof e?{tooltipRenderer:e}:e}setConfig(e){super.setConfig(this.processConfig(e))}doDestroy(){this.tip&&this.tip.destroy(),super.doDestroy()}doDisable(e){e?this.tip&&(this.tip.destroy(),this.tip=null):this.initTip(),super.doDisable(e)}getTooltipContent({tip:e,activeTarget:t,event:n}){const r=this,i=r.client.getRecordFromElement(t),o=r.client.getColumnFromElement(t);let s;return r.forSelector||i!==r.lastRecord||o!==r.lastColumn?(r.lastRecord=i,r.lastColumn=o,o.tooltipRenderer?(s=o.tooltipRenderer({cellElement:t,record:i,column:o,event:n,tip:e,cellTooltip:r}),!1===s&&a.default.deprecate("Grid","5.0.0","Returning false to indicate loading is deprecated. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/3.0.1.md for more information")):r.tooltipRenderer&&!1!==o.tooltipRenderer&&(s=r.tooltipRenderer({cellElement:t,record:i,column:o,event:n,tip:e,cellTooltip:r}),!1===s&&a.default.deprecate("Grid","5.0.0","Returning false to indicate loading is deprecated. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/3.0.1.md for more information")),s):r.tip._html}}s._$name="CellTooltip",o.default.registerFeature(s)},"./lib/Grid/feature/ColumnAutoWidth.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/mixin/Delayable.js");class a extends(Object(o.default)(r.default)){static get $name(){return"ColumnAutoWidth"}construct(e){var t;super.construct(e);const n=null===(t=this.client)||void 0===t?void 0:t.store;n&&this.bindStore(n)}static get defaultConfig(){return{default:null,delay:0}}static get pluginConfig(){return{after:{bindStore:"bindStore",unbindStore:"unbindStore",renderRows:"syncAutoWidthColumns"},assign:["columnAutoWidthPending","syncAutoWidthColumns"]}}doDestroy(){this.unbindStore(),super.doDestroy()}bindStore(e){this.lastSync=null,e.on({name:"store",["change"+this.client.asyncEventSuffix]:"onStoreChange"},this)}unbindStore(){this.detachListeners("store")}get columnAutoWidthPending(){return null===this.lastSync||this.hasTimeout("syncAutoWidthColumns")}onStoreChange({action:e}){if("move"!==e){var t;const e=this;++e.storeGeneration,null!==(t=e.client.features.cellEdit)&&void 0!==t&&t.isEditing?e.syncAutoWidthColumns():e.hasTimeout("syncAutoWidthColumns")||e.setTimeout("syncAutoWidthColumns",e.delay)}}syncAutoWidthColumns(){const e=this,t=e.client,n=e.storeGeneration;if(e.lastSync!==n){let r,i;e.lastSync=n;for(const n of t.columns.visibleColumns)r=n.autoWidth,r&&(!0===r&&(r=e.default),t.resizingColumns=i=!0,n.resizeToFitContent(r));i&&(t.resizingColumns=!1,t.afterColumnsResized())}e.hasTimeout("syncAutoWidthColumns")&&e.clearTimeout("syncAutoWidthColumns")}}a.prototype.storeGeneration=0,a._$name="ColumnAutoWidth",i.default.registerFeature(a,!0)},"./lib/Grid/feature/ColumnDragToolbar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/TemplateHelper.js"),s=n("./lib/Core/mixin/Delayable.js"),l=n("./lib/Core/helper/BrowserHelper.js");class c extends(Object(s.default)(r.default)){static get $name(){return"ColumnDragToolbar"}static get pluginConfig(){return{after:["render"]}}construct(e,t){e.features.columnReorder&&e.features.columnReorder.on("beforedestroy",this.onColumnReorderBeforeDestroy,this),this.grid=e,super.construct(e,t)}doDestroy(){const e=this;e.grid.features.columnReorder&&!e.grid.features.columnReorder.isDestroyed&&e.detachFromColumnReorder(),e.element&&e.element.remove(),e.element=null,super.doDestroy()}doDisable(e){this.initialized&&(e?this.detachFromColumnReorder():this.init()),super.doDisable(e)}init(){const e=this,t=e.grid;t.features.columnReorder&&(e.reorderDetacher=t.features.columnReorder.on({gridheaderdragstart({context:n}){const r=t.columns.getById(n.element.dataset.columnId);e.showToolbar(r)},gridheaderdrag:({context:t})=>e.onDrag(t),gridheaderabort:()=>{e.hideToolbar()},gridheaderdrop:({context:t})=>{t.valid?e.hideToolbar():e.onDrop(t)},thisObj:e}),e.initialized=!0)}onColumnReorderBeforeDestroy(){this.detachFromColumnReorder()}detachFromColumnReorder(){const e=this;e.grid.features.columnReorder.un("beforedestroy",e.onColumnReorderBeforeDestroy,e),e.reorderDetacher&&e.reorderDetacher(),e.reorderDetacher=null}render(){this.initialized||this.init()}showToolbar(e){const t=this,n=t.grid.getColumnDragToolbarItems(e,[]),r=[];t.clearTimeout(t.buttonHideTimer),t.clearTimeout(t.toolbarHideTimer),n.forEach(e=>{e.text=e.localeClass.L(e.text);let t=r.find(t=>t.text===e.group);t||(t={text:e.localeClass.L(e.group),buttons:[]},r.push(t)),t.buttons.push(e)}),t.element=o.default.append(t.grid.element,t.template(r)),t.groups=r,t.buttons=n,t.column=e}hideToolbar(){const e=this;return new Promise(t=>{e.element&&!e.toolbarHideTimer&&(e.element.classList.add("b-remove"),e.toolbarHideTimer=e.setTimeout(()=>{e.toolbarHideTimer=null,e.element&&e.element.remove(),e.element=null,t()},200))})}onDrag(e){const t=this;if(e.dragProxy.getBoundingClientRect().top-t.grid.element.getBoundingClientRect().top>100?t.element.classList.add("b-closer"):t.element.classList.remove("b-closer"),t.hoveringButton&&(t.hoveringButton.classList.remove("b-hover"),t.hoveringButton=null),e.targetElement&&e.targetElement.closest(".b-columndragtoolbar")){t.element.classList.add("b-hover");const n=e.targetElement.closest(".b-columndragtoolbar  .b-target-button:not([data-disabled=true])");n&&(n.classList.add("b-hover"),t.hoveringButton=n)}else t.element.classList.remove("b-hover")}onDrop(e){const t=this;if(e.targetElement&&e.targetElement.matches(".b-columndragtoolbar .b-target-button:not([data-disabled=true])")){const n=e.targetElement,r=t.buttons.find(e=>e.name===n.dataset.name);r&&(n.classList.add("b-activate"),t.buttonHideTimer=t.setTimeout(()=>{t.hideToolbar(),r.onDrop({column:t.column})},100))}else t.hideToolbar()}template(e){return a.default.tpl`
            <div class="b-columndragtoolbar">     
            <div class="b-title"></div>          
            ${e.map(e=>a.default.tpl`
                <div class="b-group">
                    <div class="b-buttons">
                    ${e.buttons.map(e=>a.default.tpl`
                        <div class="b-target-button" data-name="${e.name}" data-disabled="${e.disabled}">
                            <i class="${e.icon}"></i>
                            ${e.text}
                        </div>
                    `)}
                    </div>
                    <div class="b-title">${e.text}</div>
                </div>
            `)}
            </div>`}}c.featureClass="b-hascolumndragtoolbar",c._$name="ColumnDragToolbar",i.default.registerFeature(c,l.default.isTouchDevice)},"./lib/Grid/feature/ColumnPicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/helper/ObjectHelper.js");class s extends r.default{static get $name(){return"ColumnPicker"}static get configurable(){return{groupByRegion:!1,groupByTag:!1,createColumnsFromModel:!1,menuCls:"b-column-picker-menu b-sub-menu"}}static get pluginConfig(){return{chain:["populateHeaderMenu","getColumnDragToolbarItems"]}}construct(e,t){this.grid=e,super.construct(e,t)}getColumnPickerItems(e){const t=this,{createColumnsFromModel:n}=t;let r;if(t.groupByRegion)r=t.grid.regions.map(e=>{const n=t.grid.getSubGrid(e).columns.topColumns;return{text:i.default.capitalize(e),menu:t.buildColumnMenu(n),disabled:0===n.length,region:e}}),n&&r.push({text:t.L("L{newColumns}"),menu:t.createAutoColumnItems()});else if(t.groupByTag){const o={};e.topColumns.forEach(e=>{e.tags&&e.hideable&&e.tags.forEach(e=>{o[e]||(o[e]=1)})}),r=Object.keys(o).sort().map(e=>({text:i.default.capitalize(e),menu:t.buildColumnMenu(t.getColumnsForTag(e)),tag:e,onBeforeSubMenu:({item:e,itemEl:n})=>{t.refreshTagMenu(e,n)}})),n&&r.push({text:t.L("L{newColumns}"),menu:t.createAutoColumnItems()})}else r=t.buildColumnMenu(e.topColumns),n&&r.items.push(...a.default.transformNamedObjectToArray(t.createAutoColumnItems()));return r}createAutoColumnItems(){const e=this,{grid:t}=e,{columns:n,store:r}=t,{modelClass:o}=r,{allFields:a}=o,s={};for(let l=0,{length:c}=a;l<c;l++){const t=a[l],r=t.name;n.get(r)||t.internal||(s[r]={text:t.text||i.default.separate(t.name),checked:!1,onToggle:i=>{const o=n.get(r);o?o[i.checked?"show":"hide"]():n.add(n.generateColumnForField(t,{region:e.forColumn.region})),i.bubbles=!1}})}return s}getColumnsForTag(e){return this.grid.columns.records.filter(t=>t.tags&&t.tags.includes(e)&&!1!==t.hideable)}refreshTagMenu(e,t){this.getColumnsForTag(e.tag).forEach(t=>{const n=e.items.find(e=>e.column===t);n&&(n.checked=!0!==t.hidden)})}buildColumnMenu(e){let t=e.length>0&&e[0].region;const{grid:n}=this,r=e.reduce((e,r)=>{const i=n.columns.visibleColumns.filter(e=>e.region===r.region);if(!1!==r.hideable){const o={grid:n,text:r.headerText,column:r,name:r.id,checked:!0!==r.hidden,disabled:!0!==r.hidden&&1===i.length,cls:r.region!==t?"b-separator":""};t=r.region,r.children&&(o.menu=this.buildColumnMenu(r.children)),e.push(o)}return e},[]);return{cls:this.menuCls,items:r}}populateHeaderMenu({column:e,items:t}){const n=this,{columns:r}=n.grid;if(n.forColumn=e,!1!==e.showColumnPicker&&r.some(e=>e.hideable)&&(t.columnPicker={text:"L{columnsMenu}",localeClass:n,name:"columnPicker",icon:"b-fw-icon b-icon-columns",cls:"b-separator",weight:200,menu:n.getColumnPickerItems(r),onToggle:n.onColumnToggle,disabled:n.disabled}),!1!==e.hideable){const i=r.visibleColumns.filter(t=>t.region===e.region);t.hideColumn={text:"L{hideColumn}",localeClass:n,icon:"b-fw-icon b-icon-hide-column",weight:210,name:"hideColumn",disabled:1===i.length||n.disabled,onItem:()=>e.hide()}}}onColumnToggle({menu:e,item:t,checked:n}){if(!!t.column.hidden!==!n){t.column[n?"show":"hide"]();const{grid:r,column:i}=t,{columns:o,features:a}=r,s=e.items,l=o.visibleColumns.filter(e=>e.region===t.column.region),{contextMenu:c,headerMenu:d}=a,u=c&&!c.disabled,h=u?c:d,f=h&&h[u?"currentMenu":"menu"],g=u?f.items.find(e=>"hideColumn"===e.name):f.widgetMap.hideColumn;if(1===l.length){const e=s.find(e=>e.name===l[0].id);e&&(e.disabled=!0),g&&i.region===t.column.region&&(g.disabled=!0)}else l.forEach(e=>{const t=s.find(t=>t.column===e);t&&(t.disabled=!1)}),g&&i.region===t.column.region&&(g.disabled=!1);t.menu&&t.menu.eachWidget(e=>{e.checked=n});const m=e.owner;m&&m.column===i.parent&&(m.checked=s.some(e=>!0===e.checked))}}getColumnDragToolbarItems(e,t){const n=this.grid.columns.visibleColumns.filter(t=>t.region===e.region);return!1!==e.hideable&&n.length>1&&t.push({text:"L{hideColumnShort}",group:"L{column}",localeClass:this,icon:"b-fw-icon b-icon-hide-column",weight:101,name:"hideColumn",onDrop:({column:e})=>e.hide()}),t}}s._$name="ColumnPicker",o.default.registerFeature(s,!0)},"./lib/Grid/feature/ColumnReorder.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/DragHelper.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Grid/feature/GridFeatureManager.js"),s=n("./lib/Core/mixin/Delayable.js"),l=n("./lib/Core/widget/Widget.js");class c extends(Object(s.default)(o.default)){static get $name(){return"ColumnReorder"}construct(e,t){this.ignoreSelectors=[".b-grid-header-resize-handle",".b-field"],this.grid=e,super.construct(e,t)}doDestroy(){this.dragHelper&&this.dragHelper.destroy(),super.doDestroy()}init(){const e=this,{grid:t}=e,n=t.element,o=r.default.children(n,".b-grid-headers");o.push(...r.default.children(n,".b-grid-header-children")),e.dragHelper?e.dragHelper.containers=o:(e.dragHelper=new i.default({name:"columnReorder",mode:"container",dragThreshold:10,targetSelector:".b-grid-header",floatRootOwner:t,outerElement:n.querySelector("header.b-grid-header-container"),containers:o,isElementDraggable(n){if(Boolean(r.default.up(n,e.ignoreSelectors.join(",")))||e.disabled)return!1;const i=r.default.up(n,this.targetSelector),o=i&&t.columns.getById(i.dataset.columnId),a=o&&0===o.childLevel&&1===t.subGrids[o.region].columns.count;return Boolean(o)&&!1!==o.draggable&&!a},ignoreSelector:".b-filter-icon,.b-grid-header-resize-handle",listeners:{dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,thisObj:e}}),e.relayEvents(e.dragHelper,["dragStart","drag","drop","abort"],"gridHeader"))}static get pluginConfig(){return{after:["onPaint","renderContents"]}}onDrag({context:e,event:t}){const n=l.default.fromElement(t.target,"gridheader");n&&n.subGrid.sealedColumns?e.valid=!1:this.grid.features.columnDragToolbar||(e.valid=Boolean(t.target.closest(".b-grid-headers")))}onDragStart(){const e=this;if(!e.grid.features.columnDragToolbar){const t=e.grid.element.querySelector(".b-grid-header-container").getBoundingClientRect();e.dragHelper.minY=t.top,e.dragHelper.maxY=t.bottom}this.grid.headerContainer.classList.add("b-dragging-header")}onDrop({context:e}){if(!e.valid)return this.onInvalidDrop({context:e});const t=this,n=t.grid,i=e.dragging,o=r.default.up(e.target,".b-grid-header"),a=n.columns.get(o.dataset.column),s=e.draggedTo.dataset.region||a.region,l=e.insertBefore,c=n.columns.getById(i.dataset.columnId),d=l?n.columns.getById(l.dataset.columnId):n.subGrids[s].columns.last.nextSibling;let u;if(d)u=d.parent;else{const e=r.default.up(o.parentElement,".b-grid-header");u=e?n.columns.getById(e.dataset.columnId):n.columns.rootNode}if(n.headerContainer.classList.remove("b-dragging-header"),s===c.region&&(a===c.previousSibling||d===c.nextSibling))return void t.dragHelper.abort();const h=c.parent&&1===c.parent.children.length&&c.parent;h&&h.parent.removeChild(h),i.remove(),c.region=s,u.insertChild(c,d)}onInvalidDrop(){this.grid.headerContainer.classList.remove("b-dragging-header")}renderContents(){this.init()}onPaint(){this.init()}}c.featureClass="b-column-reorder",c._$name="ColumnReorder",a.default.registerFeature(c,!0)},"./lib/Grid/feature/ColumnResize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/ResizeHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/helper/BrowserHelper.js");class s extends i.default{static get $name(){return"ColumnResize"}static get defaultConfig(){return{liveResize:"auto"}}construct(e,t){const n=this;n.grid=e,super.construct(e,t),n.resizer=new r.default({name:"columnResize",targetSelector:".b-grid-header",handleSelector:".b-grid-header-resize-handle",outerElement:e.element,listeners:{beforeresizestart:n.onBeforeResizeStart,resizestart:n.onResizeStart,resizing:n.onResizing,resize:n.onResize,thisObj:n}})}static get pluginConfig(){return[]}set liveResize(e){"auto"===e&&(e=!a.default.isMobileSafari),this._liveResize=e}get liveResize(){return this._liveResize}doDestroy(){this.resizer&&this.resizer.destroy(),super.doDestroy()}onBeforeResizeStart(){return!this.disabled}onResizeStart({context:e}){const{grid:t,resizer:n}=this,r=e.column=t.columns.getById(e.element.dataset.columnId),{scrollable:i}=t.subGrids[r.region];n.minWidth=r.minWidth,i.scrollWidth=i.scrollWidth,e.element.style.minWidth="",t.element.classList.add("b-column-resizing")}onResizing({context:e}){e.valid&&this.liveResize&&(this.grid.resizingColumns=!0,e.column.width=e.newWidth)}onResize({context:e}){const{grid:t}=this,{column:n}=e;if(t.element.classList.remove("b-column-resizing"),e.valid&&(this.liveResize?(t.resizingColumns=!1,t.afterColumnsResized()):n.width=e.newWidth,a.default.isIE11&&n.parent&&n.parent.flex)){const e=n.parent;t.getHeaderElement(e.id).style.flexBasis=e.children.reduce((e,n)=>e+t.getHeaderElement(n.id).offsetWidth,0)+"px"}}}s._$name="ColumnResize",o.default.registerFeature(s,!0)},"./lib/Grid/feature/ContextMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/helper/VersionHelper.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/WidgetHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/mixin/InstancePlugin.js"),l=n("./lib/Grid/feature/GridFeatureManager.js"),c=n("./lib/Core/widget/MenuItem.js");class d extends s.default{static get $name(){return"ContextMenu"}static get defaultConfig(){return{headerItems:[],processHeaderItems:null,cellItems:[],processCellItems:null,triggerEvent:null,disableCellContextMenu:null}}construct(e,t){super.construct(e,t),this.grid=e,r.default.deprecate("Grid","5.0.0","`ContextMenu` feature is deprecated, in favor of `CellMenu` and `HeaderMenu` features. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/3.1.0.md for more information."),e.features.cellMenu&&(e.features.cellMenu.disabled=!0),e.features.headerMenu&&(e.features.headerMenu.disabled=!0)}doDestroy(){this.currentMenu&&this.currentMenu.destroy(),super.doDestroy()}static get pluginConfig(){return{assign:["showContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onElementKeyDown"]}}onElementContextMenu(e){"contextmenu"===this.triggerEvent&&this.showContextMenu(e)}onElementClick(e){"click"===this.triggerEvent&&this.showContextMenu(e)}onElementDblClick(e){"dblclick"===this.triggerEvent&&this.showContextMenu(e)}onElementKeyDown(e){if(!e.handled&&e.target.matches(".b-grid-header.b-depth-0"))switch(e.key){case" ":case"ArrowDown":this.showContextMenu(e)}}showContextMenu(e){if(!this.disabled){const t=i.default.up(e.target,".b-grid-header"),n=this.grid.getCellDataFromEvent(e);t?this.handleHeaderContextMenu(t,e):n&&!this.disableCellContextMenu&&this.handleCellContextMenu(n,e)}}handleHeaderContextMenu(e,t){if(e.dataset.column){const n=this,r=n.grid,i=r.columns.getById(e.dataset.columnId);if(!1!==i.enableHeaderContextMenu){const s=[...n.headerItems,...i.headerMenuItems||[]],l=a.default.transformArrayToNamedObject(s),d={owner:n.client,constrainTo:document,cls:"b-context-menu",scrollAction:"hide",onItem({item:e,element:t}){r.trigger("contextMenuItem",{source:r,item:e,column:i,element:t})},onToggle({item:e,checked:t,element:n}){r.trigger("contextMenuToggleItem",{source:r,item:e,column:i,checked:t,element:n})},onDestroy(){n.currentMenu=null},listeners:{show({source:e}){f.menu=e,r.trigger("headerContextMenuShow",f)}}};r.populateHeaderMenu({column:i,items:l,menu:d});const u=a.default.transformNamedObjectToArray(l),{processHeaderItems:h}=n,f={items:u,column:i,event:t,element:e};a.default.merge(d,{items:u}),(!h||!1!==h(f))&&u.length>0&&(t.preventDefault(),u.sort((e,t)=>(e.weight||150)-(t.weight||150)),!1!==r.trigger("headerContextMenuBeforeShow",f)&&(n.currentMenu=o.default.showContextMenu("keydown"===t.type?e:[t.clientX+1,t.clientY+1],d),n.currentMenu.eachWidget(e=>{!e.column&&e instanceof c.default&&(e.column=i)},!0)))}}}handleCellContextMenu(e,t){const n=this,r=n.grid,i=r.columns.getById(e.columnId);if(!1!==i.enableCellContextMenu){r.focusCell(e.cellSelector,{doSelect:!r.isSelected(e.id),event:t});const s=e.record,l=[...n.cellItems||[],...i.cellMenuItems||[]],c=a.default.transformArrayToNamedObject(l);r.populateCellMenu({column:i,record:s,items:c});const d=a.default.transformNamedObjectToArray(c),{processCellItems:u}=n,h=e.cellElement,f={items:d,column:i,event:t,record:s,element:h},g={owner:n.client,items:d,onBeforeItem:e=>{Object.assign(e,f)},onItem({item:e}){r.trigger("contextMenuItem",{source:r,item:e,column:i,record:s,cell:h})},onClose({reason:e}){"outside"!==e&&r.focus()},onDestroy(){n.currentMenu=null},listeners:{show({source:e}){f.menu=e,r.trigger("cellContextMenuShow",f)}}};(!u||!1!==u(f))&&d.length>0&&(d.forEach(e=>{e.column=i,e.record=s}),t.preventDefault(),d.sort((e,t)=>(e.weight||150)-(t.weight||150)),!1!==r.trigger("cellContextMenuBeforeShow",f)&&(n.currentMenu=o.default.showContextMenu([t.clientX+1,t.clientY+1],g)))}}hideContextMenu(e){this.currentMenu&&this.currentMenu.hide(e)}get triggerEvent(){return this._triggerEvent||this.client.contextMenuTriggerEvent}set triggerEvent(e){this._triggerEvent=e}}d.featureClass="",d._$name="ContextMenu",l.default.registerFeature(d)},"./lib/Grid/feature/Filter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/WidgetHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/widget/Tooltip.js"),s=n("./lib/Core/mixin/InstancePlugin.js"),l=n("./lib/Core/util/CollectionFilter.js"),c=(n("./lib/Core/widget/NumberField.js"),n("./lib/Core/widget/Combo.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/TimeField.js"),n("./lib/Grid/feature/GridFeatureManager.js"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={date:"date",integer:"number",number:"number",string:"text",duration:"duration"};class g extends s.default{static get $name(){return"Filter"}static get configurable(){return{prioritizeColumns:!1}}construct(e,t){if(e.features.filterBar)throw new Error("Grid.feature.Filter feature may not be used together with Grid.feature.FilterBar. These features are mutually exclusive.");const n=this;if(n.grid=e,n.closeFilterEditor=n.closeFilterEditor.bind(n),super.construct(e,t),n.bindStore(e.store),t&&"object"===typeof t){const n=o.default.clone(t);delete n.prioritizeColumns,o.default.isEmpty(n)||e.store.filter(n,null,e.isConfiguring)}}doDestroy(){var e,t;null===(e=this.filterTip)||void 0===e||e.destroy(),null===(t=this.filterEditorPopup)||void 0===t||t.destroy(),super.doDestroy()}get store(){return this.grid.store}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeFilter:"onStoreBeforeFilter",filter:"onStoreFilter",thisObj:this})}static get pluginConfig(){return{chain:["renderHeader","populateCellMenu","populateHeaderMenu","onElementClick","bindStore"]}}refreshHeaders(e){const t=this,n=t.grid,i=n.headerContainer;if(i){r.default.children(i,".b-filter-icon.b-latest").forEach(e=>e.classList.remove("b-latest")),t.filterTip||(t.filterTip=new a.default({forElement:i,forSelector:".b-filter-icon",getHtml:({activeTarget:e})=>e.dataset.filterText})),n.store.isFiltered||t.filterTip.hide();for(const e of n.columns)if(!1!==e.filterable){const n=t.store.filters.getBy("property",e.field),i=e.element;if(i){const o=e.textWrapper;let a,s=null===o||void 0===o?void 0:o.querySelector(".b-filter-icon");if(n){let r=n.displayValue||n.value||"";e.formatValue&&(r=e.formatValue(r)),a=t.L("L{filter}")+": "+("string"===typeof n?n:`${n.operator} ${r}`)}else a=t.L("L{applyFilter}");s?s.dataset.filterText=a:(s=r.default.createElement({parent:o,tag:"div",className:"b-filter-icon",dataset:{filterText:a}}),i.classList.add("b-filterable")),e.field===t.store.latestFilterField&&s.classList.add("b-latest"),i.classList[n?"add":"remove"]("b-filter")}e.meta.isFiltered=!!n}e&&n.refreshRows()}}applyFilter(e,t){this.store.filter(u(u(u({},e.filterable),t),{},{property:e.field}))}removeFilter(e){this.store.removeFilter(e.field)}getPopupDateItems(e,t,n,r,i,a,s,l){const c=this,d=a;function u(){c.removeFilter(e)}function h({event:e}){"Enter"===e.key&&a()}function f({source:t,value:n}){null==n?u():(c.clearSiblingsFields(t),c.applyFilter(e,{operator:t.operator,value:n,displayValue:t._value,type:"date"}))}return[o.default.assign({type:"date",ref:"on",placeholder:"L{on}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null===n||void 0===n?void 0:n.operator)?n.value:r,operator:"=",onKeydown:h,onChange:f,onClose:d,onClear:u},l),o.default.assign({type:"date",ref:"before",placeholder:"L{before}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-before"></i>',value:"<"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:"<",onKeydown:h,onChange:f,onClose:d,onClear:u},l),o.default.assign({type:"date",ref:"after",cls:"b-last-row",placeholder:"L{after}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-after"></i>',value:">"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:">",onKeydown:h,onChange:f,onClose:d,onClear:u},l)]}getPopupNumberItems(e,t,n,r,i,a,s,l){const c=this,d=a;function u(){c.removeFilter(e)}function h({event:e}){"Enter"===e.key&&a()}function f({source:t,value:n}){null==n?u():(c.clearSiblingsFields(t),c.applyFilter(e,{operator:t.operator,value:n}))}return[o.default.assign({type:"number",placeholder:"L{Filter.equals}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null===n||void 0===n?void 0:n.operator)?n.value:r,operator:"=",onKeydown:h,onChange:f,onEsc:d,onClear:u},l),o.default.assign({type:"number",placeholder:"L{lessThan}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-less"></i>',value:"<"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:"<",onKeydown:h,onChange:f,onEsc:d,onClear:u},l),o.default.assign({type:"number",cls:"b-last-row",placeholder:"L{moreThan}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-more"></i>',value:">"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:">",onKeydown:h,onChange:f,onEsc:d,onClear:u},l)]}clearSiblingsFields(e){var t;null===(t=this.filterEditorPopup)||void 0===t||t.items.forEach(t=>{t!==e&&(null===t||void 0===t||t.clear())})}getPopupDurationItems(e,t,n,r,i,a,s,l){const c=this,d=a,u=s;function h({source:t,value:n}){null==n?s():(c.applyFilter(e,{operator:t.operator,value:n}),a())}return[o.default.assign({type:"duration",placeholder:"L{Filter.equals}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null===n||void 0===n?void 0:n.operator)?n.value:r,operator:"=",onChange:h,onEsc:d,onClear:u},l),o.default.assign({type:"duration",placeholder:"L{lessThan}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-less"></i>',value:"<"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:"<",onChange:h,onEsc:d,onClear:u},l),o.default.assign({type:"duration",cls:"b-last-row",placeholder:"L{moreThan}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-more"></i>',value:">"===(null===n||void 0===n?void 0:n.operator)?n.value:null,operator:">",onChange:h,onEsc:d,onClear:u},l)]}getPopupStringItems(e,t,n,r,i,a,s,l){const c=this;return[o.default.assign({type:t,cls:"b-last-row",placeholder:"L{filter}",localeClass:c,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:n?n.value||n:r,operator:"*",onChange({source:t,value:n}){""===n?s():(c.applyFilter(e,{operator:t.operator,value:n,displayValue:t.displayField&&t.records?t.records.map(e=>e[t.displayField]).join(", "):void 0}),t.multiSelect||a())},onClose:a,onClear:s},l)]}getPopupItems(e,t,n,r,i,o,a,s){switch(t){case"date":return this.getPopupDateItems(...arguments);case"number":return this.getPopupNumberItems(...arguments);case"duration":return this.getPopupDurationItems(...arguments);default:return this.getPopupStringItems(...arguments)}}showFilterEditor(e,t){const n=this,{store:r}=n,o="string"===typeof e?n.grid.columns.getById(e):e,a=o.element,s=r.modelClass.fieldMap[o.field],l=r.filters.getBy("property",o.field),c=o.filterType,d=c?f[c]:f[o.type]||s&&f[s.type]||"text";if(!1===o.filterable)return;n.closeFilterEditor();const u=n.getPopupItems(o,d,l,t,r,n.closeFilterEditor,()=>{n.removeFilter(o),n.closeFilterEditor()},o.filterable.filterField);u.forEach(e=>e.placeholder=this.L(e.placeholder)),n.filterEditorPopup=i.default.openPopup(a,{owner:n.grid,width:"16em",cls:"b-filter-popup",scrollAction:"realign",items:u})}closeFilterEditor(){var e;null===(e=this.filterEditorPopup)||void 0===e||e.setTimeout(this.filterEditorPopup.destroy),this.filterEditorPopup=null}populateCellMenuWithDateItems({column:e,record:t,items:n}){const r=e.field,i=t.getFieldDefinition(r);if("date"===(e.filterType||(null===i||void 0===i?void 0:i.type)||e.type)){const i=this,o=t[r],a=t=>{i.applyFilter(e,{operator:t,value:o,displayValue:e.formatValue?e.formatValue(o):o,type:"date"})};n.filterDateEquals={text:"L{on}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterDateEquals",weight:300,disabled:i.disabled,onItem:()=>a("=")},n.filterDateBefore={text:"L{before}",localeClass:i,icon:"b-fw-icon b-icon-filter-before",name:"filterDateBefore",weight:310,disabled:i.disabled,onItem:()=>a("<")},n.filterDateAfter={text:"L{after}",localeClass:i,icon:"b-fw-icon b-icon-filter-after",name:"filterDateAfter",weight:320,disabled:i.disabled,onItem:()=>a(">")}}}populateCellMenuWithNumberItems({column:e,record:t,items:n}){const r=e.field,i=t.getFieldDefinition(r);if("number"===(e.filterType||e.type||(null===i||void 0===i?void 0:i.type))){const i=this,o=t[r],a=t=>{i.applyFilter(e,{operator:t,value:o})};n.filterNumberEquals={text:"L{equals}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterNumberEquals",weight:300,disabled:i.disabled,onItem:()=>a("=")},n.filterNumberLess={text:"L{lessThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-less",name:"filterNumberLess",weight:310,disabled:i.disabled,onItem:()=>a("<")},n.filterNumberMore={text:"L{moreThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-more",name:"filterNumberMore",weight:320,disabled:i.disabled,onItem:()=>a(">")}}}populateCellMenuWithDurationItems({column:e,record:t,items:n}){const r=e.field,i=t.getFieldDefinition(r);if("duration"===(e.filterType||(null===i||void 0===i?void 0:i.type)||e.type)){const i=this,o=t[r],a=t=>{i.applyFilter(e,{operator:t,value:o})};n.filterDurationEquals={text:"L{equals}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterDurationEquals",weight:300,disabled:i.disabled,onItem:()=>a("=")},n.filterDurationLess={text:"L{lessThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-less",name:"filterDurationLess",weight:310,disabled:i.disabled,onItem:()=>a("<")},n.filterDurationMore={text:"L{moreThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-more",name:"filterDurationMore",weight:320,disabled:i.disabled,onItem:()=>a(">")}}}populateCellMenuWithStringItems({column:e,record:t,items:n}){const r=e.field,i=t.getFieldDefinition(r),o=e.filterType||(null===i||void 0===i?void 0:i.type)||e.type;if(!/(date|number|duration)/.test(o)){var a,s;const i=this,o=t[r],l=null!==(a=null===(s=e.filterable.filterField)||void 0===s?void 0:s.operator)&&void 0!==a?a:"*";n.filterStringEquals={text:"L{equals}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterStringEquals",weight:300,disabled:i.disabled,onItem:()=>i.applyFilter(e,{value:o,operator:l})}}}populateCellMenu({column:e,record:t,items:n}){const r=this;!1!==e.filterable&&(r.populateCellMenuWithDateItems(...arguments),r.populateCellMenuWithNumberItems(...arguments),r.populateCellMenuWithDurationItems(...arguments),r.populateCellMenuWithStringItems(...arguments),e.meta.isFiltered&&(n.filterRemove={text:"L{removeFilter}",localeClass:r,icon:"b-fw-icon b-icon-clear",cls:"b-separator",weight:400,name:"filterRemove",disabled:r.disabled,onItem:()=>r.removeFilter(e)}))}populateHeaderMenu({column:e,items:t}){const n=this;e.meta.isFiltered?(t.editFilter={text:"L{editFilter}",localeClass:n,name:"editFilter",weight:100,icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:n.disabled,onItem:()=>n.showFilterEditor(e)},t.removeFilter={text:"L{removeFilter}",localeClass:n,name:"removeFilter",weight:110,icon:"b-fw-icon b-icon-remove",disabled:n.disabled,onItem:()=>n.removeFilter(e)}):!1!==e.filterable&&(t.filter={text:"L{filter}",localeClass:n,name:"filter",weight:100,icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:n.disabled,onItem:()=>n.showFilterEditor(e)})}onStoreBeforeFilter({filters:e}){const{columns:t}=this.client;for(let r=0;r<e.count;r++){var n;const i=e.getAt(r),o=(i.columnOwned||this.prioritizeColumns)&&t.get(i.property);null!==o&&void 0!==o&&null!==(n=o.filterable)&&void 0!==n&&n.filterFn&&(o.$filter||(o.$filter=new l.default({columnOwned:!0,property:i.property,operator:i.operator,value:i.value,filterBy(e){return o.filterable.filterFn({value:this.value,record:e,operator:this.operator,property:this.property})}})),o.$filter.value=i.value,o.$filter.displayValue=i.displayValue,o.$filter.operator=i.operator,e.splice(r,1,o.$filter))}}onStoreFilter(){this.refreshHeaders(!1)}renderHeader(){this.refreshHeaders(!1)}onElementClick(e){const t=e.target;if(this.filterEditorPopup&&this.closeFilterEditor(),t.classList.contains("b-filter-icon")){const e=r.default.up(t,".b-grid-header");return this.showFilterEditor(e.dataset.columnId),!1}}}g._$name="Filter",c.default.registerFeature(g)},"./lib/Grid/feature/FilterBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/helper/ObjectHelper.js"),i=n("./lib/Core/helper/WidgetHelper.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=(n("./lib/Core/widget/NumberField.js"),n("./lib/Core/widget/Combo.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/TimeField.js"),n("./lib/Grid/feature/GridFeatureManager.js")),s=n("./lib/Core/util/CollectionFilter.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.default{static get $name(){return"FilterBar"}static get configurable(){return{prioritizeColumns:!1,keyStrokeFilterDelay:300,compactMode:!1,clearStoreFiltersOnHide:!0}}static get properties(){return{filterFieldCls:"b-filter-bar-field",filterFieldInputCls:"b-filter-bar-field-input",filterableColumnCls:"b-filter-bar-enabled",filterFieldInputSelector:".b-filter-bar-field-input",filterableColumnSelector:".b-filter-bar-enabled",filterParseRegExp:/^\s*([<>=*])?(.*)$/,storeTrackingSuspended:0}}construct(e,t){if(e.features.filter)throw new Error("Grid.feature.FilterBar feature may not be used together with Grid.feature.Filter, These features are mutually exclusive.");const n=this;n.grid=e,n.onColumnFilterFieldChange=n.onColumnFilterFieldChange.bind(n),super.construct(e,Array.isArray(t)?{filter:t}:t),n.bindStore(e.store),n.filter&&e.store.filter(n.filter),n.gridDetacher=e.on("beforeelementclick",n.onBeforeElementClick,n)}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeFilter:"onStoreBeforeFilter",filter:"onStoreFilter",thisObj:this})}doDestroy(){var e;this.destroyFilterBar(),null===(e=this.gridDetacher)||void 0===e||e.call(this),super.doDestroy()}doDisable(e){const{columns:t}=this.grid;null===t||void 0===t||t.forEach(t=>{const n=this.getColumnFilterField(t);n&&(n.disabled=e)}),super.doDisable(e)}static get pluginConfig(){return{before:["onElementKeyDown"],chain:["renderHeader","populateHeaderMenu","bindStore"]}}updateCompactMode(e){this.client.headerContainer.classList[e?"add":"remove"]("b-filter-bar-compact");for(const t in this._columnFilters){const n=this._columnFilters[t];n.placeholder=e?n.column.headerText:null}}destroyFilterBar(){var e;null===(e=this.grid.columns)||void 0===e||e.forEach(this.destroyColumnFilterField,this)}hideFilterBar(){var e;const t=this;t.clearStoreFiltersOnHide&&t.suspendStoreTracking(),null===(e=t.grid.columns)||void 0===e||e.forEach(e=>t.hideColumnFilterField(e,!0)),t.grid.store.filter(),t.clearStoreFiltersOnHide&&t.resumeStoreTracking(),t.hidden=!0}showFilterBar(){this.renderFilterBar(),this.hidden=!1}toggleFilterBar(){this.hidden?this.showFilterBar():this.hideFilterBar()}renderFilterBar(){this.grid.columns.visibleColumns.forEach(e=>this.renderColumnFilterField(e)),this.rendered=!0}renderColumnFilterField(e){const t=this,n=t.grid,o=t.getColumnFilterable(e);if(o&&!e.hidden){const a=e.element,s=n.store.filters.getBy("property",e.field);let l=t.getColumnFilterField(e);if(l)t.onColumnFilterFieldChange({source:l,value:l.value}),l.render(a),l.show();else{const n=(e.filterType||"text")+"field";l=i.default.append(r.default.assign({type:n,column:e,owner:t.grid,clearable:!0,name:e.field,value:s&&!s._filterBy&&t.buildFilterString(s),cls:t.filterFieldCls,inputCls:t.filterFieldInputCls,keyStrokeChangeDelay:t.keyStrokeFilterDelay,onChange:t.onColumnFilterFieldChange,onClear:t.onColumnFilterFieldChange,disabled:t.disabled,placeholder:t.compactMode?e.headerText:null},o.filterField),a)[0],t.setColumnFilterField(e,l)}a.classList.add(t.filterableColumnCls)}}updateColumnFilterFields(){const{columns:e,store:t}=this.grid;let n,r;for(const i of e.visibleColumns)n=this.getColumnFilterField(i),n&&(r=t.filters.getBy("property",i.field),r?r._filterBy?n.value=r.value:n.value=this.buildFilterString(r):n.value="")}getColumnFilterable(e){if(!e.isRoot&&!1!==e.filterable&&e.field)return"function"===typeof e.filterable&&(e.filterable={filterFn:e.filterable}),e.filterable}destroyColumnFilterField(e){const t=this.getColumnFilterField(e);t&&(this.hideColumnFilterField(e,!0),t.destroy(),this.setColumnFilterField(e,void 0))}hideColumnFilterField(e,t){const n=this,{store:r}=n.grid,i=e.element,o=n.getColumnFilterField(e);o&&(n.isDestroying||o.hide(),n.clearStoreFiltersOnHide&&e.field&&r.removeFilter(e.field,t),null===i||void 0===i||i.classList.remove(n.filterableColumnCls))}getColumnFilterField(e){var t;return null===(t=this._columnFilters)||void 0===t?void 0:t[e.data.id]}setColumnFilterField(e,t){this._columnFilters=this._columnFilters||{},this._columnFilters[e.data.id]=t}parseFilterValue(e){if(Array.isArray(e))return{value:e};const t=String(e).match(this.filterParseRegExp);return{operator:t[1]||"*",value:t[2]}}buildFilterString(e){return("*"===e.operator?"":e.operator)+e.value}onStoreBeforeFilter({filters:e}){const{columns:t}=this.client;for(let r=0;r<e.count;r++){var n;const i=e.getAt(r),o=(i.columnOwned||this.prioritizeColumns)&&t.get(i.property);null!==(n=o.filterable)&&void 0!==n&&n.filterFn&&(o.$filter||(o.$filter=new s.default({columnOwned:!0,property:i.property,filterBy(e){return o.filterable.filterFn({value:this.value,record:e,property:this.property})}})),o.$filter.value=i.value,e.splice(r,1,o.$filter))}}onStoreFilter(){!this.storeTrackingSuspended&&this.rendered&&this.updateColumnFilterFields()}suspendStoreTracking(){this.storeTrackingSuspended++}resumeStoreTracking(){this.storeTrackingSuspended--}renderHeader(){this.hidden||this.renderFilterBar()}onElementKeyDown(e){if(!e.handled&&e.target.matches(this.filterFieldInputSelector))switch(e.key){case"ArrowLeft":case"ArrowRight":e.handled=!0}}onBeforeElementClick({event:e}){if(e.target.closest("."+this.filterFieldCls))return!1}onColumnFilterFieldChange({source:e,value:t}){const n=this,{store:r}=n.grid;n.suspendStoreTracking(),null==t||""===t||Array.isArray(t)&&0===t.length?r.removeFilter(e.name):r.filter(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({columnOwned:!0,property:e.name},n.parseFilterValue(t))),n.resumeStoreTracking()}populateHeaderMenu({items:e}){e.toggleFilterBar={text:this.hidden?"L{enableFilterBar}":"L{disableFilterBar}",localeClass:this,name:"toggleFilterBar",weight:120,icon:"b-fw-icon b-icon-filter",cls:"b-separator",onItem:()=>this.toggleFilterBar()}}}d.featureClass="b-filter-bar",d._$name="FilterBar",a.default.registerFeature(d)},"./lib/Grid/feature/GridFeatureManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/StringHelper.js");const i=new Map,o=new Map,a={Grid:"GridBase",Scheduler:"SchedulerBase",Gantt:"GanttBase"},s=/\$\d+$/;class l{static registerFeature(e,t=!1,n=null,l=null){l=(l=r.default.uncapitalize(l||Object.prototype.hasOwnProperty.call(e,"$name")&&e.$$name||e.name)).replace(s,""),Array.isArray(n)||(n=[n||"Grid"]),n.forEach(n=>{const r=a[n]||n,s=i.get(r)||new Map,c=o.get(r)||new Map;s.set(l,e),c.set(e,t),i.set(r,s),o.set(r,c)})}static getTypeNameFeatures(e="Grid"){const t=a[e]||e,n=i.get(t),r={};return n&&n.forEach((e,t)=>r[t]=e),r}static getTypeNameDefaultFeatures(e="Grid"){const t=a[e]||e,n=i.get(t),r=o.get(t),s={};return n&&r&&n.forEach((e,t)=>{r.get(e)&&(s[t]=e)}),s}static getInstanceFeatures(e){return e.$meta.names.reduce((e,t)=>Object.assign(e,this.getTypeNameFeatures(t)),{})}static getInstanceDefaultFeatures(e){return e.$meta.names.reduce((e,t)=>Object.entries(this.getTypeNameFeatures(t)).reduce((e,[n,r])=>(this.isDefaultFeatureForTypeName(r,t)?e[n]=r:delete e[n],e),e),{})}static isDefaultFeatureForTypeName(e,t="Grid"){const n=a[t]||t,r=o.get(n);return r&&r.get(e)||!1}static isDefaultFeatureForInstance(e,t){const n=t.$meta.names.slice().reverse();let r=null;for(let i=0,a=n.length;i<a&&null===r;++i){const t=o.get(n[i]);t&&t.has(e)&&(r=t.get(e))}return r||!1}static reset(){i.clear(),o.clear()}}l._$name="GridFeatureManager"},"./lib/Grid/feature/Group.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/data/DomDataStore.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Grid/feature/GridFeatureManager.js"),s=n("./lib/Core/helper/DomSync.js"),l=n("./lib/Core/helper/StringHelper.js");class c extends o.default{static get $name(){return"Group"}static get defaultConfig(){return{field:null,renderer:null}}construct(e,t){const n=this;e.features.tree||(n._thisIsAUsedExpression(e.features.groupSummary),t=n.processConfig(t),n.grid=e,n.rowManager=e.rowManager,super.construct(e,t),n.bindStore(e.store),n.rowManager.on({beforeRenderRow:"onBeforeRenderRow",renderCell:"renderCell",prio:1100,thisObj:n}))}processConfig(e){return"string"===typeof e?{field:e,ascending:null}:e}setConfig(e){null===e?this.store.clearGroupers():super.setConfig(this.processConfig(e))}bindStore(e){this.detachListeners("store"),e.on({name:"store",group:"onStoreGroup",thisObj:this})}set renderer(e){this.groupRenderer=e}set field(e){this._field=e,this.store.group(e,this.ascending)}get field(){return this._field}doDestroy(){super.doDestroy()}doDisable(e){const{store:t}=this;if(e&&t.isGrouped){const{sorters:e}=t;e.unshift(...t.groupers),t.clearGroupers(),t.sort(e)}super.doDisable(e)}get store(){return this.grid.store}static get pluginConfig(){return{assign:["collapseAll","expandAll"],chain:["renderHeader","populateHeaderMenu","getColumnDragToolbarItems","onElementTouchStart","onElementClick","onElementKeyDown","bindStore"]}}toggleCollapse(e,t){this.internalToggleCollapse(e,t)}internalToggleCollapse(e,t,n=!1){const r=this,i=r.store,o=i.getById(e),a=o.meta;void 0!==a.groupRowFor&&((t=void 0===t?!a.collapsed:t)?i.excludeGroupRecords(o):i.includeGroupRecords(o),a.collapsed=t,r.grid.trigger("toggleGroup",{groupRecord:o,collapse:t}),n||r.rowManager.renderFromRecord(o))}collapseAll(){const e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach(t=>e.internalToggleCollapse(t,!0,!0)),e.grid.refreshRows(!0))}expandAll(){const e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach(t=>e.internalToggleCollapse(t,!1,!0)),e.grid.refreshRows())}onBeforeRenderRow({row:e,record:t}){const n=e.grid.store.getById(e.id);e.forceInnerHTML=e.forceInnerHTML||n&&"groupRowFor"in n.meta}renderCell(e){const t=this,{cellElement:n,row:r,column:i}=e,o=e.record.meta,a={"b-group-row":0,"b-grid-group-collapsed":0};if(!t.disabled&&t.store.isGrouped)if("groupRowFor"in o){if("action"===i.type)return;i.clearCell(n),a["b-grid-group-collapsed"]=o.collapsed,a["b-group-row"]=1,i===t.groupHeaderColumn&&n.classList.add("b-group-title"),t.buildGroupHeader(e)}else n.classList.remove("b-group-title");r.assignCls(a)}buildGroupHeader(e){const t=this,{record:n,cellElement:r,column:i,persist:o}=e,a=t.grid,c=n.meta,d=c.childCount-(a.features.groupSummary?1:0);let u=null,h=!0;if(o||i){const o=a.columns.get(c.groupField),s=e.isFirstColumn=i===t.groupHeaderColumn;null!==o&&void 0!==o&&o.groupRenderer?s&&(u=o.groupRenderer(Object.assign({},e,{groupRowFor:c.groupRowFor,groupRecords:n.groupChildren,groupColumn:o,count:d})),h=!1):t.groupRenderer&&(u=t.groupRenderer(Object.assign({},e,{groupRowFor:c.groupRowFor,groupRecords:n.groupChildren,groupColumn:o,count:d,isFirstColumn:s}))),s&&null==u&&h&&0===r.childElementCount&&(u=l.default.encodeHtml(`${"__novalue__"===c.groupRowFor?"":c.groupRowFor} (${d})`))}else t.groupRenderer&&(u=t.groupRenderer(e));return"string"===typeof u?r.innerHTML=u:"object"===typeof u&&s.default.sync({targetElement:r,domConfig:{onlyChildren:!0,children:Array.isArray(u)?u:[u]}}),r.childElementCount>0&&(r._hasHtml=!0),r.innerHTML}get groupHeaderColumn(){return this.grid.columns.visibleColumns.find(e=>!e.groupHeaderReserved)}renderHeader(e){const{store:t,grid:n}=this;if(t.isGrouped)for(const r of t.groupers){const e=n.columns.get(r.field),t=e&&n.getHeaderElement(e.id);t&&(t.classList.add("b-group"),t.classList.add(r.ascending?"b-asc":"b-desc"))}}populateHeaderMenu({column:e,items:t}){const n=this;!1!==e.groupable&&(t.groupAsc={text:"L{groupAscending}",localeClass:n,icon:"b-fw-icon b-icon-group-asc",name:"groupAsc",cls:"b-separator",weight:400,disabled:n.disabled,onItem:()=>n.store.group(e.field,!0)},t.groupDesc={text:"L{groupDescending}",localeClass:n,icon:"b-fw-icon b-icon-group-desc",name:"groupDesc",weight:410,disabled:n.disabled,onItem:()=>n.store.group(e.field,!1)}),n.store.isGrouped&&(t.groupRemove={text:"L{stopGrouping}",localeClass:n,icon:"b-fw-icon b-icon-clear",name:"groupRemove",cls:e.groupable?"":"b-separator",weight:420,disabled:n.disabled,onItem:()=>n.store.clearGroupers()})}getColumnDragToolbarItems(e,t){var n;const r=this,i=r.store;t.push({text:"L{groupAscendingShort}",group:"L{group}",localeClass:r,icon:"b-icon b-icon-group-asc",name:"groupAsc",cls:"b-separator",weight:110,disabled:r.disabled,onDrop:({column:e})=>i.group(e.field,!0)}),t.push({text:"L{groupDescendingShort}",group:"L{group}",localeClass:r,icon:"b-icon b-icon-group-desc",name:"groupDesc",weight:110,disabled:r.disabled,onDrop:({column:e})=>i.group(e.field,!1)});const o=(null===(n=i.groupers)||void 0===n?void 0:n.some(t=>t.field===e.field))&&!r.disabled;return t.push({text:"L{stopGroupingShort}",group:"L{group}",localeClass:r,icon:"b-icon b-icon-clear",name:"groupRemove",disabled:!o,weight:110,onDrop:({column:e})=>i.removeGrouper(e.field)}),t}onStoreGroup({groupers:e}){const{grid:t}=this,{element:n}=t,r=n&&i.default.children(n,".b-grid-header.b-group");if(n){for(const e of r)i.default.removeClasses(e,["b-group","b-asc","b-desc"]);if(e)for(const n of e){const e=t.getHeaderElementByField(n.field);e&&i.default.addClasses(e,["b-group",n.ascending?"b-asc":"b-desc"])}}}onElementTouchStart(e){const t=this,n=e.target,r=i.default.up(n,".b-grid-header"),o=r&&t.grid.getColumnFromElement(r);e.touches.length>1&&o&&!1!==o.groupable&&!t.disabled&&t.store.group(o.field)}onElementClick(e){const t=this,{store:n}=t,{target:o}=e,a=i.default.up(o,".b-group-row"),s=i.default.up(o,".b-grid-header"),l=null===s||void 0===s?void 0:s.dataset.column;if(!(o.classList.contains("b-resizer")||t.disabled||o.classList.contains("b-action-item"))){if(s&&l){var c;const r=null===(c=n.groupers)||void 0===c?void 0:c.find(e=>e.field===l);if(r&&!e.shiftKey)return n.group(l,!r.ascending),!1;e.shiftKey&&!1!==t.grid.columns.get(l).groupable&&(e.altKey?n.removeGrouper(l):n.group(l))}return a?(t.internalToggleCollapse(r.default.get(a).id),!1):void 0}}onElementKeyDown(e){const t=this;!t.disabled&&t.store.isGrouped&&e.target===t.grid.focusElement&&" "===e.key&&t.grid.focusedCell&&(e.preventDefault(),t.internalToggleCollapse(t.grid.focusedCell.id))}}c._$name="Group",a.default.registerFeature(c,!0,["Grid","Scheduler"])},"./lib/Grid/feature/GroupSummary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Grid/feature/mixin/SummaryFormatter.js"),a=n("./lib/Core/helper/DomHelper.js");class s extends(Object(o.default)(r.default)){static get $name(){return"GroupSummary"}static get configurable(){return{collapseToHeader:null}}construct(e,t){if(this.grid=e,super.construct(e,t),!e.features.group)throw new Error("Requires Group feature to work, please enable");this.bindStore(e.store),e.rowManager.on({beforeRenderRow:"onBeforeRenderRow",renderCell:"renderCell",prio:1e3,thisObj:this})}bindStore(e){this.detachListeners("store"),e.on({name:"store",update:"onStoreUpdate",prio:1,thisObj:this})}get store(){return this.grid.store}doDisable(e){this.store.useGroupFooters=!e,this.isConfiguring||this.store.group(),super.doDisable(e)}static get pluginConfig(){return{chain:["bindStore"]}}onBeforeRenderRow({row:e,record:t}){e.isGroupFooter&&!("groupFooterFor"in t.meta)?(e.isGroupFooter=!1,e.forceInnerHTML=!0):e.isGroupHeader&&!t.meta.collapsed&&e.eachElement(this.removeSummaryElements)}removeSummaryElements(e){}renderCell({column:e,cellElement:t,row:n,record:r,size:i,isFirstColumn:o}){const a=this,{meta:s}=r,l="groupRowFor"in s,c="groupFooterFor"in s,d={"b-group-footer":0,"b-header-summary":0};if(a.store.isGrouped&&(c||a.collapseToHeader&&l&&s.collapsed&&!o)){const o=l?r:s.groupRecord;n.isGroupFooter=c,n.isGroupHeader=l,c?d["b-group-footer"]=1:d["b-header-summary"]=1;const u=a.updateSummaryHtml(t,e,o),h="number"===typeof u?u:u.count;h>1&&(i.height=a.grid.rowHeight+h*a.grid.rowHeight*.1),u.height&&(i.height+=u.height)}n.assignCls(d)}updateSummaryHtml(e,t,n){const r=n.groupChildren.slice();r.pop();const i=this.generateHtml(t,r,"b-grid-group-summary",n,n.meta.groupField,n.meta.groupRowFor);return e.children.length?a.default.sync(i,e.firstElementChild):e.innerHTML=i,t.summaries?t.summaries.length:t.sum?1:0}onStoreUpdate({source:e,changes:t}){if(!this.disabled&&e.isGrouped){if(t&&e.groupers.find(e=>e.field in t))return;Object.keys(t).some(e=>{const t=this.grid.columns.get(e);return Boolean(t)&&(Boolean(t.sum)||Boolean(t.summaries))})&&(this.grid.forceFullRefresh=!0)}}refresh(){this.grid.columns.visibleColumns.forEach(e=>{this.hasSummary(e)&&this.grid.refreshColumn(e)})}hasSummary(e){return e.sum||e.summaries}}s.featureClass="b-group-summary",s._$name="GroupSummary",i.default.registerFeature(s)},"./lib/Grid/feature/HeaderMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/base/ContextMenuBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/VersionHelper.js");class s extends r.default{static get $name(){return"HeaderMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"header",_showForTimeAxis:!1}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateHeaderMenu"),e}onElementKeyDown(e){if(!e.handled&&e.target.matches(".b-grid-header.b-depth-0"))switch(e.key){case" ":this.internalShowContextMenu(this.createContextMenuEventForElement(e.target))}}shouldShowMenu(e){const{column:t}=e;return t&&!1!==t.enableHeaderContextMenu&&(this._showForTimeAxis||t!==this.client.timeAxisColumn)}showContextMenu({column:e}){super.showContextMenu(...arguments),e===this.client.timeAxisColumn&&this.menu&&(this.menu.scrollAction="realign")}getDataFromEvent(e){return o.default.assign(super.getDataFromEvent(e),this.client.getHeaderDataFromEvent(e))}populateHeaderMenu({items:e,column:t}){return null!==t&&void 0!==t&&t.headerMenuItems&&(Array.isArray(t.headerMenuItems)&&a.default.deprecate("Grid","5.0.0","`headerMenuItems` column config specified as an array is deprecated, need to specify the config as a named object. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."),o.default.merge(e,t.headerMenuItems)),e}}s.featureClass="",s._$name="HeaderMenu",i.default.registerFeature(s,!0)},"./lib/Grid/feature/QuickFind.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/DomDataStore.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Grid/feature/GridFeatureManager.js"),s=n("./lib/Core/helper/BrowserHelper.js");class l extends o.default{static get $name(){return"QuickFind"}static get defaultConfig(){return{mode:"header",find:""}}static get pluginConfig(){return{chain:["onElementKeyDown","onElementKeyPress","onCellNavigate"]}}construct(e,t){this.grid=e,super.construct(e,t)}doDisable(e){e&&this.clear(),super.doDisable(e)}get store(){return this.grid.store}showQuickFind(){const e=this,t=e.grid.getHeaderElement(e.columnId);if(t){if(!e.headerField){const[n,r,o]=i.default.createElement({tag:"div",className:"b-quick-hit-header",children:[{tag:"div",className:"b-quick-hit-field"},{tag:"div",className:"b-quick-hit-badge"}]},!0);"header"===e.mode?t.appendChild(n):(n.className+=" b-quick-hit-mode-grid",e.grid.element.appendChild(n)),e.headerField={header:n,field:r,badge:o,colHeader:t}}e.headerField.field.innerHTML=e.find,e.headerField.badge.innerHTML=e.found.length,t.classList.add("b-quick-find-header"),e.renderListenerInitialized||(e.grid.rowManager.on({rendercell:e.renderCell,thisObj:e}),e.renderListenerInitialized=!0)}}hideQuickFind(){const e=this,{grid:t,headerField:n}=e;for(const r of e.prevFound||e.found){const n=t.getRowById(r.id);if(n){n.forceInnerHTML=!0;const t=n.getCell(e.columnId);t._content=null,n.renderCell({cellElement:t,record:r.data}),n.forceInnerHTML=!1}}n&&(n.header.parentNode.removeChild(n.header),n.colHeader.classList.remove("b-quick-find-header"),e.headerField=null),e.renderListenerInitialized&&(t.rowManager.un({rendercell:e.renderCell},e),e.renderListenerInitialized=!1),t.trigger("hideQuickFind")}search(e,t=this.columnId){const n=this,{grid:o}=n,a=o.columns.getById(t)||o.columns.get(t),s=n.store.findByField(a.field,e);let l=1;Object.assign(n,{foundMap:{},prevFound:n.found,found:s,find:e,columnId:a.id}),e?n.showQuickFind():n.hideQuickFind();for(const c of i.default.children(o.element,".b-quick-hit")){c.classList.remove("b-quick-hit"),c.classList.remove("b-quick-hit-cell");const e=r.default.get(c).row;c._content=c.lastDomConfig=null,c.innerHTML="",e.renderCell({cellElement:c})}if(s){s.length>0&&n.gotoClosestHit(o.focusedCell,s);for(const e of s){n.foundMap[e.id]=l++;const t=o.getRowById(e.data.id);if(null===t||void 0===t||t.renderCell({cellElement:t.getCell(a.id)}),l>1e3)break}o.trigger("quickFind",{find:e,found:s})}}clear(){var e;null!==(e=this.found)&&void 0!==e&&e.length&&this.search("")}get foundCount(){var e,t;return null!==(e=null===(t=this.found)||void 0===t?void 0:t.length)&&void 0!==e?e:0}gotoHit(e){const t=this.found[e];return t&&this.grid.focusCell({columnId:this.columnId,id:t.id}),!!t}gotoClosestHit(e,t){const n=e?this.grid.store.indexOf(e.id):0,r=t.slice().sort((e,t)=>Math.abs(e.index-n)-Math.abs(t.index-n));this.gotoHit(t.indexOf(r[0]))}gotoFirstHit(){this.gotoHit(0)}gotoLastHit(){this.gotoHit(this.found.length-1)}gotoNextHit(){var e;const t=this,{grid:n}=t,r=n._focusedCell?n._focusedCell.id:null===(e=n.lastFocusedCell)||void 0===e?void 0:e.id,i=n.store.indexOf(r)||0,o=t.found.find(e=>e.index>i);o?n.focusCell({columnId:t.columnId,id:o.id}):t.gotoFirstHit()}gotoPrevHit(){var e;const t=this,{grid:n,found:r}=t,i=n._focusedCell?n._focusedCell.id:null===(e=n.lastFocusedCell)||void 0===e?void 0:e.id,o=n.store.indexOf(i)||0;let a;if(r.length){for(let e=r.length-1;e--;e>=0)if(r[e].index<o){a=r[e];break}a?n.focusCell({columnId:t.columnId,id:a.id}):t.gotoLastHit()}}renderCell(e){var t;const n=this,r=e.cellElement,o=n.columnId===e.column.id&&(null===(t=n.foundMap)||void 0===t?void 0:t[e.record.id]);if(o){const t=e.column.htmlEncode||e.column.shouldHtmlEncode;if(r.classList.add("b-quick-hit"),t){var a;let e=i.default.down(r,".b-grid-cell-value,.b-tree-cell-value")||r,t=e.innerText,s=null===(a=t)||void 0===a?void 0:a.toLowerCase().indexOf(n.find.toLowerCase());if(s>-1){const r=s+n.find.length,i=t.slice(s,r);let a="";" "===t[s-1]&&(a="&nbsp;"),t=t.slice(0,s)+`<span class="b-quick-hit-text">${a}${i}</span>`+t.slice(r),e.innerHTML=t+`<div class="b-quick-hit-cell-badge">${o}</div>`}else r.classList.add("b-quick-hit-cell")}else r.classList.add("b-quick-hit-cell")}}onElementKeyDown(e){const t=this,n=t.grid.features.filter;t.disabled||i.default.up(e.target,s.default.isIE11?".b-widget:not(.b-grid-subgrid):not(.b-grid)":".b-widget:not(.b-grid)")||t.find.length>0&&("Backspace"===e.key?(e.preventDefault(),t.find=t.find.substr(0,t.find.length-1),t.search(t.find)):"Escape"===e.key?(e.preventDefault(),t.find="",t.search(t.find)):"F3"===e.key||"g"===e.key.toLowerCase()&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),e.shiftKey?t.gotoPrevHit():t.gotoNextHit()):n&&t.columnId&&t.foundCount&&e.ctrlKey&&e.shiftKey&&"F"===e.key&&(t.clear(),n.showFilterEditor(t.grid.columns.getById(t.columnId),t.find)))}onElementKeyPress(e){const t=this,{grid:n}=t;if(!t.disabled&&!i.default.up(e.target,s.default.isIE11?".b-widget:not(.b-grid-subgrid):not(.b-grid)":".b-widget:not(.b-grid)")&&"Enter"!==e.key&&n._focusedCell){const i=n.columns.getById(n._focusedCell.columnId);var r;i&&!1!==i.searchable&&(t.columnId=n._focusedCell.columnId,1===(null===(r=e.key)||void 0===r?void 0:r.length)&&(t.find+=e.key,t.search(t.find)))}}onCellNavigate(e,t,n){const r=this;!r.prevFound&&!r.found||n&&n.columnId===r.columnId||r.clear()}}l._$name="QuickFind",a.default.registerFeature(l)},"./lib/Grid/feature/RegionResize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js");class a extends i.default{static get $name(){return"RegionResize"}construct(e,t){this.grid=e,super.construct(e,t)}doDestroy(){super.doDestroy()}static get pluginConfig(){return{chain:["onElementTouchStart","onElementTouchMove","onElementTouchEnd","onElementMouseDown","onElementMouseMove","onElementDblClick","onElementMouseUp","onSubGridCollapse","onSubGridExpand","render"]}}onElementDblClick(e){const t=this,n=t.grid,i=r.default.up(e.target,".b-grid-splitter-collapsed");if(i&&!t.expanding){t.expanding=!0;let e=i.dataset.region,r=n.getSubGrid(e);r.collapsed||(e=n.getLastRegions()[1],r=n.getSubGrid(e)),r.expand().then(()=>t.expanding=!1)}}startMove(e,t){const{grid:n}=this,r=e.dataset.region,i=n.element,o=n.regions[n.regions.indexOf(r)+1],a=n.getSubGrid(o),s=n.getSubGrid(r);let l=s,c=1;if(null!=l.flex&&null==a.flex&&(l=a,c=-1),e.classList.contains("b-grid-splitter-collapsed"))return;const d=l.element.offsetWidth+a.element.offsetWidth;this.dragContext={element:e,headerEl:l.header.element,subGridEl:l.element,subGrid:l,splitterSubGrid:s,originalWidth:l.element.offsetWidth,originalX:t,minWidth:l.minWidth||0,maxWidth:Math.min(d,l.maxWidth||d),flip:c},i.classList.add("b-moving-splitter"),s.toggleSplitterCls("b-moving")}endMove(){const e=this.dragContext;e&&(this.grid.element.classList.remove("b-moving-splitter"),e.splitterSubGrid.toggleSplitterCls("b-moving",!1),this.dragContext=null)}onCollapseClick(e,t){const n=this.grid,r=t.dataset.region,i=n.getLastRegions();if(i[0]===r){const e=n.getSubGrid(i[1]);if(e.collapsed)return void e.expand()}e.collapse()}onExpandClick(e,t){const n=this.grid,r=t.dataset.region,i=n.getLastRegions();i[0]!==r||e.collapsed?e.expand():n.getSubGrid(i[1]).collapse()}updateMove(e){const{dragContext:t}=this;if(t){const n=e-t.originalX,r=Math.min(t.maxWidth,t.originalWidth+n*t.flip);t.subGrid.width=Math.max(r,t.minWidth)}}onElementTouchStart(e){const t=e.target.closest(".b-grid-splitter");t&&this.startMove(t,e.touches[0].clientX)}onElementTouchMove(e){this.dragContext&&(this.updateMove(e.touches[0].clientX),e.preventDefault())}onElementTouchEnd(e){this.dragContext&&(this.endMove(),e.preventDefault())}onElementMouseDown(e){const t=this,n=e.target,r=n.closest(":not(.b-row-reordering):not(.b-dragging-event):not(.b-dragging-task):not(.b-dragging-header):not(.b-dragselecting) .b-grid-splitter"),i=r&&t.grid.getSubGrid(r.dataset.region);0===e.button&&(n.classList.contains("b-grid-splitter")||n.classList.contains("b-grid-splitter-inner")?t.startMove(r,e.clientX):n.classList.contains("b-icon-collapse-gridregion")?t.onCollapseClick(i,r):n.classList.contains("b-icon-expand-gridregion")&&t.onExpandClick(i,r))}onElementMouseMove(e){this.dragContext&&(this.updateMove(e.clientX),e.preventDefault())}onElementMouseUp(e){this.dragContext&&(this.endMove(),e.preventDefault())}onSubGridCollapse(e){const t=this.grid.resolveSplitter(e);this.grid.getLastRegions()[1]===e.region&&t.classList.add("b-grid-splitter-allow-collapse")}onSubGridExpand(e){this.grid.resolveSplitter(e).classList.remove("b-grid-splitter-allow-collapse")}render(){const{regions:e,subGrids:t}=this.grid;e.length>2&&(t[e[0]].splitterElement.classList.add("b-left-only"),t[e[1]].splitterElement.classList.add("b-right-only"))}}a.featureClass="b-split",a._$name="RegionResize",o.default.registerFeature(a)},"./lib/Grid/feature/RowReorder.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Core/helper/DragHelper.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/mixin/Delayable.js");class c extends(Object(l.default)(o.default)){static get $name(){return"RowReorder"}static get defaultConfig(){return{hoverExpandTimeout:1e3}}construct(e,t){this.grid=e,super.construct(...arguments)}doDestroy(){var e;null===(e=this.dragHelper)||void 0===e||e.destroy(),super.doDestroy()}init(){const e=this,{grid:t}=e;e.dragHelper=new i.default({name:"rowReorder",mode:"translateXY",cloneTarget:!0,dragThreshold:10,targetSelector:".b-grid-row",lockX:!0,transitionDuration:t.transitionDuration,scrollManager:t.scrollManager,dragWithin:t.element,outerElement:t.verticalScroller,ignoreSamePositionDrop:!1,createProxy(e){const n=e.cloneNode(!0),r=document.createElement("div");if(n.removeAttribute("id"),n.style.transform="",r.appendChild(n),t.selectedRecords.length>1){const e=n.cloneNode(!0);e.classList.add("b-row-dragging-multiple"),r.appendChild(e)}return a.default.removeClsGlobally(r,"b-selected","b-hover","b-focused"),r},listeners:{beforedragstart:e.onBeforeDragStart,dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,reset:e.onReset,prio:1e4,thisObj:e}}),e.dropIndicator=a.default.createElement({parent:t.bodyContainer,className:"b-row-drop-indicator"}),e.relayEvents(e.dragHelper,["beforeDragStart","dragStart","drag","abort"],"gridRow")}static get pluginConfig(){return{after:["onPaint"]}}onBeforeDragStart({context:e}){const t=this.grid,n=t.regions[0],r=t.subGrids[n].element;if(this.disabled||t.readOnly||!r.contains(e.element))return!1;const i=e.records=t.selectedRecords.slice().sort((e,n)=>t.store.indexOf(e)-t.store.indexOf(n));return e.startRecord=t.getRecordFromElement(e.element),e.originalRowTop=t.rowManager.getRowFor(e.startRecord).top,e.record=e.startRecord,i.length>0&&!i.some(e=>e.isSpecialRow)}onDragStart({context:e}){var t,n,r;const i=this,{cellEdit:o,contextMenu:s,cellMenu:l,headerMenu:c}=i.grid.features;o&&(i.cellEditDisabledState=o.disabled,o.disabled=!0),null===s||void 0===s||null===(t=s.hideContextMenu)||void 0===t||t.call(s,!1),null===l||void 0===l||null===(n=l.hideContextMenu)||void 0===n||n.call(l,!1),null===c||void 0===c||null===(r=c.hideContextMenu)||void 0===r||r.call(c,!1),i.grid.element.classList.add("b-row-reordering");const d=e.element.querySelector(".b-focused");null===d||void 0===d||d.classList.remove("b-focused"),a.default.removeClasses(e.element.firstElementChild,["b-selected","b-hover"])}onDrag({context:e,event:t}){const n=this,{grid:r}=n,{store:i,rowManager:o}=r,{dragWithin:s}=n.dragHelper;if(!s.contains(t.target))return void(e.valid=!1);let l,c,d,u,h=e.valid,f=r.rowManager.getRowAt(t.clientY);if(f){const e=f.top+r._bodyRectangle.y-r.scrollable.y+f.height/2;c=f.dataIndex,l=i.getAt(c),d=t.clientY>e}else t.clientY<r._bodyRectangle.y?(c=0,l=i.first,d=!1):(c=i.count-1,l=i.last,d=!0),f=r.rowManager.getRow(c);if(l!==n.overRecord||n.after!==d){if(n.overRecord=l,n.after=d,l===e.startRecord&&(h=!1),i.tree){if(u=d?l.nextSibling:l,e.records.some(e=>e.contains(l))&&(h=!1),e.parent){const t=o.getRowById(e.parent);null===t||void 0===t||t.removeCls("b-row-reordering-target-parent")}if(e.parent=l.parent,!e.parent.isRoot){const t=o.getRowById(e.parent);null===t||void 0===t||t.addCls("b-row-reordering-target-parent")}n.clearTimeout(n.hoverTimer),l&&l.isParent&&!l.isExpanded(i)&&(n.hoverTimer=n.setTimeout(()=>r.expand(l),n.hoverExpandTimeout))}else u=d?i.getAt(c+1):l;a.default.setTranslateY(n.dropIndicator,f.top+(d?f.height:0)),e.insertBefore=u,e.valid=n.reorderValid=h}else e.valid=n.reorderValid}async onDrop(e){const t=this,n=e.context;n.valid=n.valid&&t.reorderValid,n.valid&&(n.asyncCleanup=n.async=!0,!1===await t.trigger("gridRowBeforeDropFinalize",e)&&(n.valid=!1),n.valid,n.element.classList.add("b-dropping"),await s.default.waitForTransitionEnd({element:n.element.firstElementChild,property:"transform",thisObj:t.client}),await t.finalizeReorder(n)),t.trigger("gridRowDrop",e)}async finalizeReorder(e){const{grid:t}=this,{store:n}=t;let r=e.records;if(e.valid=e.valid&&!r.some(e=>!n.includes(e)),e.valid){let i;n.tree?(r=r.filter(e=>!e.parent||!r.includes(e.parent)),i=await e.parent.tryInsertChild(r,e.insertBefore),t.rowManager.forEach(e=>e.removeCls("b-row-reordering-target-parent")),e.valid=!1!==i):n.move(r,e.insertBefore),n.clearSorters()}e.finalize(e.valid),t.element.classList.remove("b-row-reordering")}onReset(){const e=this,t=e.grid.features.cellEdit;e.grid.element.classList.remove("b-row-reordering"),t&&(t.disabled=e.cellEditDisabledState),a.default.removeClsGlobally(e.grid.element,"b-row-reordering-target-parent")}onPaint(){this.init()}}c.featureClass="",c._$name="RowReorder",r.default.registerFeature(c,!1),r.default.registerFeature(c,!0,"Gantt")},"./lib/Grid/feature/Search.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Core/data/DomDataStore.js"),a=n("./lib/Grid/feature/GridFeatureManager.js");class s extends i.default{static get $name(){return"Search"}static get configurable(){return{limit:1e3}}static get properties(){return{hitCls:"b-search-hit",hitCellCls:"b-search-hit-cell",hitCellBadgeCls:"b-search-hit-cell-badge",hitTextCls:"b-search-hit-text",hitColumns:new Set}}construct(e,t){super.construct(e,t),Object.assign(this,{grid:e,find:"",hitEls:[]})}doDestroy(){this.clear(!0),super.doDestroy()}doDisable(e){e&&this.clear(),super.doDisable(e)}get store(){return this.grid.store}static get pluginConfig(){return{chain:["populateCellMenu","onElementKeyDown"]}}search(e,t=!0,n=!1){const r=this;if(!e)return r.clear();if(!n&&e===r.find||r.disabled)return;const{grid:i,store:o}=r,a=i.columns.visibleColumns.filter(e=>!1!==e.searchable).map(e=>e.field),s=o.search(e,a);let l=1;if(Object.assign(r,{foundMap:{},prevFound:r.found,found:s,find:e}),r.clearHits(),s){r.hitColumns.forEach(e=>{e.disableHtmlEncode=!1}),r.hitColumns.clear();for(const e of s){r.foundMap[e.field+"-"+e.id]=l++;const t=i.columns.get(e.field);if(t&&!r.hitColumns.has(t)&&(t.disableHtmlEncode=!0,r.hitColumns.add(t)),l>r.limit)break}return r.listenersInitialized||(i.rowManager.on({name:"renderCell",renderCell:"renderCell",thisObj:r}),o.on({name:"storeRefresh",["refresh"+i.asyncEventSuffix]:"onStoreRefresh",thisObj:r}),r.listenersInitialized=!0),i.refreshRows(),i.trigger("search",{grid:i,find:e,found:s}),t&&!r.isHitFocused&&r.gotoNextHit(!0),s}}clearHits(){for(const e of r.default.children(this.grid.element,"."+this.hitCls)){e.classList.remove(this.hitCls),e.classList.remove(this.hitCellCls);const t=o.default.get(e).row;t.forceInnerHTML=!0,t.renderCell({cellElement:e}),t.forceInnerHTML=!1}}clear(e=!1){const t=this,{grid:n}=t;t.foundMap&&delete t.foundMap,delete t.find,t.clearHits(),t.listenersInitialized&&(this.detachListeners("renderCell"),this.detachListeners("storeRefresh"),t.listenersInitialized=!1),e||n.trigger("clearSearch",{grid:n})}get foundCount(){var e,t;return null!==(e=null===(t=this.found)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get isHitFocused(){const{grid:e}=this,t=e.focusedCell?e.store.indexOf(e.focusedCell.id):-1,n=e.focusedCell?e.columns.getById(e.focusedCell.columnId):null;return-1!==t&&this.found.some(e=>e.index===t&&n&&e.field===n.field)}gotoNextHit(e=!1){var t;const n=this;if(null===(t=n.found)||void 0===t||!t.length)return;const{grid:r}=n,i=r.focusedCell||r.lastFocusedCell,o=i&&!e?r.store.indexOf(i.id):-1,a=n.found.findIndex(e=>e.index>o);-1!==a&&n.gotoHit(a)}gotoPrevHit(){var e;const t=this;if(null===(e=t.found)||void 0===e||!e.length)return;const{grid:n,found:r}=t,i=n.focusedCell||n.lastFocusedCell,o=i?n.store.indexOf(i.id):0;for(let a=r.length-1;a--;a>=0)if(r[a].index<o){t.gotoHit(a);break}}gotoHit(e){const{grid:t}=this,n=this.found[e];return n&&t.focusCell({field:n.field,id:n.id}),Boolean(n)}gotoFirstHit(){this.gotoHit(0)}gotoLastHit(){this.gotoHit(this.found.length-1)}renderCell({cellElement:e,column:t,record:n,value:i}){var o;const a=this,s=null===(o=a.foundMap)||void 0===o?void 0:o[t.field+"-"+n.id];if(s){e.classList.add(a.hitCls);const t=e.innerHTML,n=r.default.down(e,".b-grid-cell-value")||e,o=String(a.find).toLowerCase();if(String(i).toLowerCase()===o)n.innerHTML=`<span class="${a.hitTextCls}">${t}</span><div class="${a.hitCellBadgeCls}">${s}</div>`;else{const r=null===t||void 0===t?void 0:t.toLowerCase().indexOf(o);if(t&&r>-1){const e=r+o.length,i=t.slice(r,e);n.innerHTML=`${t.slice(0,r)}<span class="${a.hitTextCls}">${i}</span>${t.slice(e)}<div class="${a.hitCellBadgeCls}">${s}</div>`}else e.classList.add(a.hitCellCls)}a.hitEls.push(e)}}populateCellMenu({column:e,record:t,items:n}){const r=this;e.searchable&&(n.search={text:"L{searchForValue}",localeClass:r,icon:"b-fw-icon b-icon-search",cls:"b-separator",name:"search",weight:200,disabled:r.disabled,onItem:()=>{let n=window.getSelection().toString();n||(n=t[e.field]),r.search(n)}})}onElementKeyDown(e){const t=this;t.find&&""!==t.find&&("F3"===e.key||"g"===e.key.toLowerCase()&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),e.shiftKey?t.gotoPrevHit():t.gotoNextHit())}onStoreRefresh(){this.search(this.find,!1,!0)}}s.featureClass="b-search",s._$name="Search",a.default.registerFeature(s)},"./lib/Grid/feature/Sort.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/util/DomClassList.js"),a=n("./lib/Core/mixin/InstancePlugin.js"),s=n("./lib/Grid/feature/GridFeatureManager.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.default{static get $name(){return"Sort"}static get configurable(){return{multiSort:!0,prioritizeColumns:!1}}static get properties(){return{ignoreRe:new RegExp(["b-grid-header-resize-handle","b-filter-icon"].join("|")),sortableCls:"b-sortable",sortedCls:"b-sort",sortedAscCls:"b-asc",sortedDescCls:"b-desc"}}construct(e,t){t=this.processConfig(t),this.grid=e,this.bindStore(e.store),super.construct(e,t)}processConfig(e){return"string"===typeof e||Array.isArray(e)?{field:e,ascending:null}:e}setConfig(e){super.setConfig(this.processConfig(e))}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeSort:"onStoreBeforeSort",sort:"syncHeaderSortState",thisObj:this})}set field(e){const t=this.grid.columns.get(e);t&&"object"===typeof t.sortable&&(t.sortable.field=t.sortable.property||e,e=t.sortable),this.store.sort(e,this.ascending)}get store(){return this.grid.store}static get pluginConfig(){return{chain:["onElementClick","populateHeaderMenu","getColumnDragToolbarItems","renderHeader","bindStore"]}}syncHeaderSortState(){const e=this;if(!e.grid.isConfiguring){const n=e.store.sorters,i=n.length,a=new o.default;let s;for(const o of e.grid.columns.bottomColumns){const l=o.element;if(l){var t;const c=null===(t=o.textWrapper)||void 0===t?void 0:t.dataset;(null===c||void 0===c?void 0:c.sortIndex)&&delete c.sortIndex,a.value=l.classList,!1!==o.sortable?(a.add(e.sortableCls),s=n.find(e=>e.field===o.field||e.sortFn&&e.sortFn===o.sortable.sortFn),s?(i>1&&c&&(c.sortIndex=n.indexOf(s)+1),a.add(e.sortedCls),s.ascending?(a.add(e.sortedAscCls),a.remove(e.sortedDescCls)):(a.add(e.sortedDescCls),a.remove(e.sortedAscCls))):(a.remove(e.sortedCls),a["b-group"]||(a.remove(e.sortedAscCls),a.remove(e.sortedDescCls)))):a.remove(e.sortableCls),r.default.syncClassList(l,a)}}}}populateHeaderMenu({column:e,items:t}){const n=this,{store:r}=n,i=c(c({},e.sortable),{},{field:e.field,columnOwned:!0});if(!1!==e.sortable&&(t.sortAsc={text:"L{sortAscending}",localeClass:n,icon:"b-fw-icon b-icon-sort-asc",name:"sortAsc",cls:"b-separator",weight:300,disabled:n.disabled,onItem:()=>r.sort(i,!0)},t.sortDesc={text:"L{sortDescending}",localeClass:n,icon:"b-fw-icon b-icon-sort-desc",name:"sortDesc",weight:310,disabled:n.disabled,onItem:()=>r.sort(i,!1)},n.multiSort&&n.grid.columns.records.some(e=>e.sortable))){const o=r.sorters.find(t=>t.field===e.field||e.sortable.sortFn&&e.sortable.sortFn===t.sortFn);t.multiSort={text:"L{multiSort}",localeClass:n,icon:"b-fw-icon b-icon-sort",name:"multiSort",weight:320,disabled:n.disabled,menu:{addSortAsc:{text:o?"L{toggleSortAscending}":"L{addSortAscending}",localeClass:n,icon:"b-fw-icon b-icon-sort-asc",name:"addSortAsc",disabled:o&&(null===o||void 0===o?void 0:o.ascending),weight:330,onItem:()=>r.addSorter(i,!0)},addSortDesc:{text:o?"L{toggleSortDescending}":"L{addSortDescending}",localeClass:n,icon:"b-fw-icon b-icon-sort-desc",name:"addSortDesc",disabled:o&&!o.ascending,weight:340,onItem:()=>r.addSorter(i,!1)},removeSorter:{text:"L{removeSorter}",localeClass:n,icon:"b-fw-icon b-icon-remove",name:"removeSorter",weight:350,disabled:!o,onItem:()=>{r.removeSorter(i.field)}}}}}}getColumnDragToolbarItems(e,t){const n=this,{store:r,disabled:i}=n;if(!1!==e.sortable){t.push({text:"L{sortAscendingShort}",group:"L{sort}",localeClass:n,icon:"b-icon b-icon-sort-asc",name:"sortAsc",cls:"b-separator",weight:105,disabled:i,onDrop:({column:e})=>r.sort(e.field,!0)}),t.push({text:"L{sortDescendingShort}",group:"L{sort}",localeClass:n,icon:"b-icon b-icon-sort-desc",name:"sortDesc",weight:105,disabled:i,onDrop:({column:e})=>r.sort(e.field,!1)});const o=r.sorters.find(t=>t.field===e.field);Array.prototype.push.apply(t,[{text:"L{addSortAscendingShort}",group:"L{multiSort}",localeClass:n,icon:"b-icon b-icon-sort-asc",name:"multisortAddAsc",disabled:i||o&&o.ascending,weight:105,onDrop:({column:e})=>r.addSorter(e.field,!0)},{text:"L{addSortDescendingShort}",group:"L{multiSort}",localeClass:n,icon:"b-icon b-icon-sort-desc",name:"multisortAddDesc",disabled:i||o&&!o.ascending,weight:105,onDrop:({column:e})=>r.addSorter(e.field,!1)},{text:"L{removeSorterShort}",group:"L{multiSort}",localeClass:n,icon:"b-icon b-icon-remove",name:"multisortRemove",weight:105,disabled:i||!o,onDrop:({column:e})=>r.removeSorter(e.field)}])}return t}onStoreBeforeSort({sorters:e}){const{columns:t}=this.client;for(let r=0;r<e.length;r++){var n;const i=e[r],o=(i.columnOwned||this.prioritizeColumns)&&t.get(i.field);null!==o&&void 0!==o&&null!==(n=o.sortable)&&void 0!==n&&n.sortFn&&(e[r]=c(c(c({},i),o.sortable),{},{columnOwned:!0}))}}onElementClick(e){const t=this,n=t.store,o=e.target,a=r.default.up(o,".b-grid-header.b-sortable"),s=null===a||void 0===a?void 0:a.dataset.column;if(!t.ignoreRe.test(o.className)&&!t.disabled&&a&&s){const r=t.grid.columns.getById(a.dataset.columnId);if(n.isGrouped&&n.groupers.find(e=>e.field===s)&&!e.shiftKey)return;if(r.sortable&&!e.shiftKey)if(e.ctrlKey&&e.altKey)n.removeSorter(r.field);else{const t={columnOwned:!0,field:r.field};"object"===typeof r.sortable&&i.default.assign(t,r.sortable),n.sort(t,null,e.ctrlKey)}}}renderHeader(){this.syncHeaderSortState()}}u.featureClass="b-sort",u._$name="Sort",s.default.registerFeature(u,!0)},"./lib/Grid/feature/Stripe.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js");class o extends r.default{static get $name(){return"Stripe"}construct(e,t){super.construct(e,t),e.rowManager.on({renderrow:"onRenderRow",thisObj:this})}doDisable(e){this.isConfiguring||this.client.refreshRows(),super.doDisable(e)}onRenderRow({row:e}){const{disabled:t}=this,n=e.dataIndex%2===0;e.assignCls({"b-even":!t&&n,"b-odd":!t&&!n})}}o._$name="Stripe",i.default.registerFeature(o)},"./lib/Grid/feature/Summary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Grid/feature/mixin/SummaryFormatter.js");class s extends(Object(a.default)(i.default)){static get configurable(){return{selectedOnly:null,hideFooters:!1}}static get pluginConfig(){return{chain:["renderRows","bindStore"]}}static get $name(){return"Summary"}construct(e,t){this.grid=e,super.construct(e,t),this.bindStore(e.store),e.hideFooters=this.hideFooters}bindStore(e){this.detachListeners("store"),e.on({name:"store",change:"onStoreChange",thisObj:this})}get store(){return this.grid.store}doDestroy(){super.doDestroy()}doDisable(e){super.doDisable(e),e?this.grid.element.classList.add("b-summary-disabled"):(this.updateSummaries(),this.grid.element.classList.remove("b-summary-disabled"))}renderRows(){this.updateSummaries()}updateSummaries(){const e=this,{grid:t,store:n}=e,i=r.default.children(t.element,".b-grid-footer"),o=e.selectedOnly&&t.selectedRecords.length>0,a=n.storage.values.filter(e=>!e.isSpecialRow&&(!o||t.isSelected(e)));t.columns.forEach(e=>{e.summaries&&e.summaries.forEach(e=>{"seed"in e&&("initialSeed"in e||(e.initialSeed=e.seed),["number","string","date"].includes(typeof e.initialSeed)?e.seed=e.initialSeed:e.seed=Object.assign({},e.initialSeed))})}),i.forEach(n=>{if(!n.dataset.column)return;const i=t.columns.get(n.dataset.column),o=e.generateHtml(i,a,"b-grid-footer-summary");(i.summaries?i.summaries.length:i.sum)&&(n.children.length?r.default.sync(o,n.firstElementChild):n.innerHTML=o)})}onStoreChange({action:e,changes:t}){let n=!0;this.disabled||("update"===e&&(n=Object.keys(t).some(e=>{const t=this.grid.columns.get(e);return Boolean(t)&&(Boolean(t.sum)||Boolean(t.summaries))})),n&&this.updateSummaries())}updateSelectedOnly(e){const t=this;t.detachListeners("selectionChange"),e&&t.grid.on({name:"selectionChange",selectionChange:t.refresh,thisObj:t}),t.refresh()}refresh(){this.updateSummaries()}}s.featureClass="b-summary",s._$name="Summary",o.default.registerFeature(s)},"./lib/Grid/feature/Tree.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/column/TreeColumn.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/mixin/Delayable.js");const s=Promise.resolve();class l extends(i.default.mixin(a.default)){static get $name(){return"Tree"}static get defaultConfig(){return{expandOnCellClick:!1}}static get pluginConfig(){return{assign:["collapseAll","expandAll","collapse","expand","expandTo","toggleCollapse"],before:["navigateRight","navigateLeft"],chain:["onElementClick","onElementKeyDown","bindStore"]}}construct(e,t){super.construct(e,t);const n=e.columns.find(e=>e instanceof r.default);Object.assign(this,{grid:e,rowManager:e.rowManager,treeColumn:n}),e.store&&this.bindStore(e.store)}doDisable(e){}get store(){return this.grid.store}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeLoadChildren:"onBeforeLoadChildren",loadChildren:"onLoadChildren",loadChildrenException:"onLoadChildrenException",beforeToggleNode:"onBeforeToggleNode",thisObj:this})}async toggleCollapse(e,t,n=!1){const r=this,{store:i,grid:o}=r,{rowManager:a}=o,s=i.getById(e),l=s.instanceMeta(i);if(await i.toggleCollapse(s,t)){const e=a.getRowFor(s);if(e){const t=e.getCell(r.treeColumn.id);t&&e.renderCell({cellElement:t,record:s})}r.isTogglingNode||(o.element.classList.add("b-toggling-node"),r.isTogglingNode=!0,r.requestAnimationFrame(()=>{o.element.classList.remove("b-toggling-node"),r.isTogglingNode=!1})),o.trigger(l.collapsed?"collapseNode":"expandNode",{source:o,record:s}),o.trigger("toggleNode",{source:o,record:s,collapse:l.collapsed})}}async collapse(e){return this.toggleCollapse(e,!0)}async expand(e){return this.toggleCollapse(e,!1)}onBeforeToggleNode({record:e,collapse:t}){this.grid.trigger("beforeToggleNode",{record:e,collapse:t})}onBeforeLoadChildren({source:e,params:t}){const n=e.getById(t[e.modelClass.idField]),r=this.grid.rowManager.getRowFor(n);r&&r.addCls("b-loading-children")}onLoadChildren({source:e,params:t}){const n=e.getById(t[e.modelClass.idField]),r=this.grid.rowManager.getRowFor(n);r&&r.removeCls("b-loading-children")}onLoadChildrenException({record:e}){const t=this.grid.rowManager.getRowFor(e);t&&t.removeCls("b-loading-children")}expandOrCollapseAll(e=!0,t=this.store.rootNode){const{grid:n,store:r}=this,i=[],o=[];return n.trigger("beforeToggleAllNodes",{source:n,collapse:e}),r.suspendEvents(),r.traverse(t=>{const n=t.instanceMeta(r);t.isLeaf||(e&&!n.collapsed?(this.toggleCollapse(t,!0,!0),o.push(...t.children)):!e&&n.collapsed&&(Array.isArray(t.children)&&o.push(...t.children),i.push(this.toggleCollapse(t,!1,!0))))},t,t===r.rootNode),r.resumeEvents(),(e?s:Promise.all(i)).then(()=>{n.refreshRows(e),o.length&&(e?r.trigger("remove",{records:o,isCollapse:!0,isCollapseAll:!0}):r.trigger("add",{records:o,isExpand:!0,isExpandAll:!0})),n.trigger("toggleAllNodes",{source:n,collapse:e})})}async collapseAll(){return this.expandOrCollapseAll(!0)}async expandAll(){return this.expandOrCollapseAll(!1)}async expandTo(e){const t=this,n=t.store.getById(e);if(!1===n.instanceMeta(t.store).hiddenByCollapse)return;let r=!1,i=n.parent;const o=[];for(;i&&!i.isRoot;)o.push(i),i=i.parent;await o.reverse().forEach(async e=>{e.instanceMeta(t.store).collapsed&&(r=!0),await t.toggleCollapse(e,!1,!0)}),r&&t.grid.refreshRows(),await t.grid.scrollRowIntoView(n)}onElementClick(e){const t=this,n=e.target,r=t.grid.getCellDataFromEvent(e),i=n.closest(".b-tree-expander");(i||t.expandOnCellClick&&r&&r.record.isParent)&&(i&&e.preventDefault(),t.toggleCollapse(r.record))}onElementKeyDown(e){const t=this.grid;e.target===t.focusElement&&" "===e.key&&t.focusedCell&&(e.preventDefault(),this.toggleCollapse(t.focusedCell.id))}navigateRight(e){const t=this,n=t.grid,r=n.focusedCell;if(r){const i=n.store.getById(r.id);if(n.columns.getById(r.columnId).tree&&(e.shiftKey||1===n.columns.count))return i.isParent&&i.instanceMeta(n.store).collapsed?t.expand(i):n.navigateDown(e),!1}}navigateLeft(e){const t=this,n=t.grid,r=n.focusedCell;if(r){const i=n.store.getById(r.id);if(n.columns.getById(r.columnId).tree&&(e.shiftKey||1===n.columns.count))return i.isParent&&!i.instanceMeta(n.store).collapsed?t.collapse(i):i.parent&&n.focusCell({id:i.parent.id,columnId:r.columnId}),!1}}}l.featureClass="b-tree",l._$name="Tree",o.default.registerFeature(l,!1,"Grid"),o.default.registerFeature(l,!0,"TreeGrid")},"./lib/Grid/feature/base/ContextMenuBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/widget/Menu.js"),o=n("./lib/Core/helper/util/Objects.js"),a=n("./lib/Core/helper/StringHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Core/helper/VersionHelper.js");class c extends r.default{static get $name(){return"ContextMenuBase"}static get configurable(){return{type:null,menu:{$config:["lazy","nullify"],value:{type:"menu",autoShow:!1,closeAction:"hide",scrollAction:"hide",constrainTo:window}},menuConfig:null,items:{},triggerEvent:!1}}static get pluginConfig(){return{assign:["showContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onElementKeyDown"]}}construct(...e){var t;const n=e[1===e.length?0:1];if(n&&"menuConfig"in n&&(l.default.deprecate("Grid","5.0.0","`menuConfig` attribute deprecated, in favour of `menu`"),n.menu=n.menuConfig),super.construct(...e),null===(t=this.type)||void 0===t||!t.length)throw new Error("Config 'type' is required to be specified for context menu")}onElementContextMenu(e){this.onElementEvent(e)}onElementClick(e){this.onElementEvent(e)}onElementDblClick(e){this.onElementEvent(e)}onElementEvent(e){this.triggerEvent===e.type&&this.internalShowContextMenu(e)}onElementKeyDown(e){}internalShowContextMenu(e){const t=this;if(t.disabled)return;const n=t.getDataFromEvent(e);t.shouldShowMenu(n)&&t.showContextMenu(n)}getDataFromEvent(e){return{event:e,targetElement:this.getTargetElementFromEvent(e)}}getTargetElementFromEvent(e){return e.target}showContextMenu(e,t){var n;const r=this,i=e instanceof Event?r.getDataFromEvent(e):e;if(null===(n=r._menu)||void 0===n||n.hide(),r.disabled)return;r.menuContext=i;const{type:a,client:l,processItems:c}=r,{event:d}=i,u=null!==d&&void 0!==d?d:s.default.from(i.targetElement).center;o.default.assign(i,{point:d?[d.clientX+1,d.clientY+1]:[u.x,u.y],items:{},selection:r.client.selectedRecords}),r.callChainablePopulateMenuMethod(i),o.default.merge(i.items,r.baseItems),c&&!1===c(i)||!r.hasActiveMenuItems(i)||(r.populateItemsWithData(i),r.preventDefaultEvent(i),!1!==r.beforeContextMenuShow(i)&&!1!==l.trigger(a+"MenuBeforeShow",i)&&!1!==l.trigger(a+"ContextMenuBeforeShow",i)&&(r.menu.items=i.items,t?r.menu.showBy(t):r.menu.showByPoint(i.point)))}get baseItems(){if(!this._baseItems){const e=this,{namedItems:t}=e,n=e._baseItems=o.default.assign({},e.items);for(const r in n){const e=n[r];e&&(t&&r in t?n[r]="object"===typeof e?o.default.merge(o.default.clone(t[r]),e):t[r]:!0===e&&delete n[r])}}return this._baseItems}hideContextMenu(e){var t;null===(t=this.menu)||void 0===t||t.hide(e)}callChainablePopulateMenuMethod(e){var t,n;null===(t=(n=this.client)[`populate${a.default.capitalize(this.type)}Menu`])||void 0===t||t.call(n,e)}createContextMenuEventForElement(e){const t=s.default.from(e).center,n=new MouseEvent(this.triggerEvent,{clientX:t.x,clientY:t.y});return Object.defineProperty(n,"target",{get:()=>e}),n}hasActiveMenuItems(e){return Object.values(e.items).some(e=>e)}shouldShowMenu(){return!0}beforeContextMenuShow(e){}populateItemsWithData(e){}preventDefaultEvent(e){var t;null===(t=e.event)||void 0===t||t.preventDefault()}changeTriggerEvent(e){return e||this.client.contextMenuTriggerEvent}changeMenu(e,t){const n=this,{client:r,type:o}=n;if(e)return i.default.reconfigure(t,e?i.default.mergeConfigs({owner:r,rootElement:r.rootElement,onItem(e){r.trigger(o+"MenuItem",e),r.trigger("contextMenuItem",e),r.trigger(o+"ContextMenuItem",e)},onToggle(e){r.trigger(o+"MenuToggleItem",e),r.trigger("contextMenuToggleItem",e)},onDestroy(){n.menu=null},onBeforeItem(e){Object.assign(e,n.menuContext)},onShow({source:e}){n.menuContext.menu=e,r.trigger(o+"MenuShow",n.menuContext),r.trigger(o+"ContextMenuShow",n.menuContext)}},e):null,n);null!==t&&void 0!==t&&t.isWidget&&t.destroy()}}c._$name="ContextMenuBase"},"./lib/Grid/feature/experimental/ExcelExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/util/TableExporter.js"),a=n("./lib/Grid/util/BooleanUnicodeSymbol.js"),s=n("./lib/Core/helper/DateHelper.js"),l=n("./lib/Core/helper/ObjectHelper.js");class c extends i.default{static get $name(){return"ExcelExporter"}static get defaultConfig(){return{filename:null,dateFormat:"YYYY-MM-DD",exporterClass:o.default,exporterConfig:null,zipcelx:null,convertEmptyValueToEmptyString:!0}}processValue(e){return void 0===e||null===e||Number.isNaN(e)||"function"===typeof e||"object"===typeof e&&"[object Object]"===String(e)?"":e}generateExportData(e){const t=this,{rows:n,columns:r}=t.exporter.export(e.exporterConfig);return{rows:n.map(n=>n.map((n,i)=>{var o;return n instanceof Date?n=s.default.format(n,e.dateFormat):"boolean"===typeof n&&(n=new a.default(n)),t.convertEmptyValueToEmptyString&&(n=t.processValue(n)),{value:n,type:"number"===(null===(o=r[i])||void 0===o?void 0:o.type)?"number":"string"}})),columns:r.map(e=>{let{field:t,value:n,width:r,type:i}=e;return i="string",{field:t,value:n,width:r,type:i}})}}export(e={}){const t=this,n=t.zipcelx||window.zipcelx;if(!n)throw new Error('ExcelExporter: "zipcelx" library is required');if(t.disabled)return;(e=l.default.assign({},t.config,e)).filename||(e.filename=t.client.$$name);const{filename:r}=e,{rows:i,columns:o}=t.generateExportData(e);n({filename:r,sheet:{data:[o].concat(i),cols:o}})}construct(e,t){super.construct(e,t),this.zipcelx||"undefined"!==typeof zipcelx&&(this.zipcelx=window.zipcelx)}get exporter(){const e=this;return e._exporter||(e._exporter=e.exporterClass.new({target:e.client},e.exporterConfig))}}c._$name="ExcelExporter",r.default.registerFeature(c,!1,"Grid")},"./lib/Grid/feature/export/PdfExport.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/helper/AjaxHelper.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/feature/export/exporter/MultiPageExporter.js"),a=n("./lib/Grid/feature/export/exporter/MultiPageVerticalExporter.js"),s=n("./lib/Grid/feature/export/exporter/SinglePageExporter.js"),l=n("./lib/Core/helper/BrowserHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Grid/view/export/ExportDialog.js"),u=n("./lib/Grid/feature/GridFeatureManager.js"),h=n("./lib/Core/widget/Toast.js"),f=n("./lib/Core/widget/Mask.js"),g=n("./lib/Grid/feature/export/Utils.js");class m extends i.default{static get $name(){return"PdfExport"}static get defaultConfig(){return{exportServer:void 0,fileName:null,fileFormat:"pdf",clientURL:null,paperFormat:"A4",orientation:"portrait",rowsRange:"all",alignRows:!1,repeatHeader:!1,keepRegionSizes:null,pagesPerRequest:0,exporterConfig:null,exporterType:"singlepage",exporters:[s.default,o.default,a.default],translateURLsToAbsolute:!0,keepPathName:!0,openAfterExport:!0,sendAsBinary:!1,openInNewTab:!1,headerTpl:null,footerTpl:null,fetchOptions:null,exportMask:"L{Generating pages}",exportProgressMask:"L{Waiting for response from server}",localizableProperties:["exportMask","exportProgressMask"]}}doDestroy(){this.exportDialog&&this.exportDialog.destroy(),super.doDestroy()}get currentExportPromise(){return this._currentExportPromise}set currentExportPromise(e){this._currentExportPromise=e}get exportersMap(){return this._exportersMap||(this._exportersMap=new Map)}getExporter(e={}){const t=this,{exportersMap:n}=t,{type:r}=e;let i;if(n.has(r))i=n.get(r);else{const o=this.exporters.find(e=>e.type===r);if(!o)throw new Error(`Exporter type ${r} is not found. Make sure you've configured it`);delete(e=c.default.clone(e)).type,i=new o(e),i.relayAll(t),n.set(r,i)}return i}buildRequest(e,t){return{html:JSON.stringify(e),fileFormat:t.fileFormat,format:t.paperFormat,orientation:t.orientation}}buildExportConfig(e={}){const{client:t,exportServer:n,clientURL:r,fileFormat:i,fileName:o,paperFormat:a,rowsRange:s,alignRows:l,repeatHeader:d,keepRegionSizes:u,orientation:h,exporters:f,translateURLsToAbsolute:g,keepPathName:m,sendAsBinary:p,headerTpl:v,footerTpl:b}=this;e.columns||(e.columns=t.columns.visibleColumns.map(e=>e.id));const y=c.default.assign({client:t,exportServer:n,clientURL:r,fileFormat:i,paperFormat:a,rowsRange:s,alignRows:l,repeatHeader:d,keepRegionSizes:u,orientation:h,translateURLsToAbsolute:g,keepPathName:m,sendAsBinary:p,headerTpl:v,footerTpl:b,exporterType:f[0].type,fileName:o||t.$$name},e);if("multipagevertical"!==y.exporterType&&(y.repeatHeader=!1),!("alignRows"in e)&&e.repeatHeader&&(y.alignRows=!0),!("keepRegionSizes"in e)&&!y.keepRegionSizes){const e=[],n={};t.eachSubGrid(t=>t.collapsed&&e.push(t.region)),e.length&&(t.eachSubGrid(t=>{e.includes(t.region)||(n[t.region]=!0)}),y.keepRegionSizes=n)}return y}async export(e={}){const t=this,{client:n,pagesPerRequest:r}=t;let i;if((e=t.buildExportConfig(e)).exporterConfig=c.default.assign({type:e.exporterType,translateURLsToAbsolute:e.translateURLsToAbsolute,keepPathName:e.keepPathName},e.exporterConfig||{}),!1!==n.trigger("beforeExport",e)){n.mask(t.exportMask);try{const o=t.getExporter(e.exporterConfig);if(0===r){const n=await o.export(e);t.trigger("exportStep",{progress:90,text:t.exportProgressMask});const r=await t.receiveExportContent(n,e);i={response:r},await t.processExportContent(r,e)}}catch(o){throw i=o instanceof Response?{response:o}:{error:o},o}finally{t.exportDialog&&t.exportDialog.close(),n.unmask(),t.trigger("export",i),i.error?h.default.show({html:t.L("L{Export failed}"),rootElement:this.rootElement}):i.response.ok||h.default.show({html:t.L("L{Server error}"),rootElement:this.rootElement}),n.trigger("export",i)}}return i}async receiveExportContent(e,t){return r.default.post(t.exportServer,{html:e,orientation:t.orientation,format:t.paperFormat,fileFormat:t.fileFormat,fileName:t.fileName,clientURL:t.clientURL,sendAsBinary:t.sendAsBinary},Object.assign({credentials:"omit"},this.fetchOptions))}async processExportContent(e,t){const n=this;if(e.ok&&n.openAfterExport){const r=(e=e.clone()).headers.get("content-type");if(r.match(/application\/octet-stream/)){const r=g.FileMIMEType[t.fileFormat],i=await n.responseBlobToObjectURL(e,r);n.getDownloadLink(t.fileName,i).click()}else if(r.match(/application\/json/)){const r=await e.json();r.success?l.default.isIE11?window.open(r.url,"ExportedPanel"):n.getDownloadLink(t.fileName,r.url).click():h.default.show({html:r.msg,rootElement:this.rootElement})}}}async responseBlobToObjectURL(e,t){const n=await e.blob();return URL.createObjectURL(n.slice(0,n.size,t))}getDownloadLink(e,t){const n=document.createElement("a");return n.download=e,n.href=t,this.openInNewTab&&(n.target="_blank"),n}get defaultExportDialogConfig(){return c.default.copyProperties({},this,["client","exporters","exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"])}showExportDialog(){const e=this;return e.exportDialog||(e.exportDialog=d.default.new({rootElement:e.rootElement,listeners:{export:e.onExportDialogExport,thisObj:e}},e.defaultExportDialogConfig)),e.exportDialog.show()}onExportDialogExport({values:e}){const t=this;t.mask=new f.default({progress:0,maxProgress:100,text:t.exportMask,target:t.exportDialog.element});const n=t.on({export(){t.mask.close(),n()},exportstep({progress:e,text:n}){t.mask.progress=e,null!=n&&(t.mask.text=n)}});t.currentExportPromise=t.export(e),t.currentExportPromise.then(()=>t.currentExportPromise=null)}}m._$name="PdfExport",u.default.registerFeature(m,!1,"Grid")},"./lib/Grid/feature/export/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RowsRange",(function(){return r})),n.d(t,"PaperFormat",(function(){return i})),n.d(t,"Orientation",(function(){return o})),n.d(t,"FileFormat",(function(){return a})),n.d(t,"FileMIMEType",(function(){return s}));const r={all:"all",visible:"visible"},i={A6:{width:4.13,height:5.81},A5:{width:5.81,height:8.25},A4:{width:8.25,height:11.69},A3:{width:11.69,height:16.49},Legal:{width:8.5,height:14},Letter:{width:8.5,height:11}},o={portrait:"portrait",landscape:"landscape"},a={pdf:"pdf",png:"png"},s={pdf:"application/pdf",png:"image/png"}},"./lib/Grid/feature/export/exporter/Exporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/helper/TemplateHelper.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Core/Base.js"),a=n("./lib/Core/localization/Localizable.js"),s=n("./lib/Core/helper/IdHelper.js"),l=n("./lib/Core/helper/DomHelper.js"),c=n("./lib/Grid/feature/export/Utils.js"),d=n("./lib/Core/mixin/Events.js"),u=n("./lib/Core/mixin/Delayable.js");class h extends(Object(u.default)(Object(d.default)(Object(a.default)(o.default)))){static get defaultConfig(){return{translateURLsToAbsolute:!0,keepPathName:!0}}pageTpl(e){const{title:t,header:n,footer:o,styles:a,htmlClasses:s,bodyStyle:c,bodyClasses:d=[],paperHeight:u,paperWidth:h,html:f}=e;return d.push("b-"+this.constructor.type),l.default.scrollBarWidth?d.push("b-visible-scrollbar"):d.push("b-overlay-scrollbar"),i.default.isChrome?d.push("b-chrome"):i.default.isSafari?d.push("b-safari"):i.default.isFirefox?d.push("b-firefox"):i.default.isIE11?d.push("b-ie"):i.default.isEdge&&d.push("b-edge"),r.default.tpl`
            <!DOCTYPE html>
            <html class="${s}" style="width: ${h}in; height: ${u}in;">
                <head>
                    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
                    <title>${t}</title>
                    ${a.join("")}
                </head>
                <body class="b-export ${d.join(" ")}" style="width: ${h}in; height: ${u}in; ${c}">
                    <div class="b-export-content">
                        ${n&&`<div class="b-export-header" style="width: 100%">${n}</div>`}
                        <div class="b-export-body"><div class="b-export-viewport">${f}</div></div>
                        ${o&&`<div class="b-export-footer" style="width: 100%">${o}</div>`}
                    </div>
                </body>
            </html>`}get stylesheets(){const e=this;if(e._stylesheets)return e._stylesheets;const t=e.translateURLsToAbsolute,n=window.origin,r=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')),o=[];return r.forEach(r=>{if(r=r.cloneNode(!0),t&&r.href){let e;e=!0===t?r.href:this.keepPathName?r.href.replace(n,t):new URL(r.getAttribute("href"),t),r.setAttribute("href",e)}let a;if(a=i.default.isIE11&&r.styleSheet&&/style/i.test(r.tagName)?`<style type="text/css">${r.styleSheet.cssText}</style>`:r.outerHTML,t&&/style/i.test(r.tagName)){const n=e.getStyleTagURLConverter(t);a=a.replace(/url\(['"]?(.+?)['"]?\)/g,n)}o.push(a)}),o.push("<style>\n                body, html {\n                    overflow: auto;\n                }\n\n                body {\n                    position: relative;\n                    margin: 0;\n                }\n            </style>"),e._stylesheets=o}set stylesheets(e){this._stylesheets=e}getStyleTagURLConverter(e){return function(t,n){let r;try{let i;/^#/.test(n)?r=t:(i=!0===e?window.location.href:this.keepPathName?window.location.href.replace(window.location.origin,e):e,r=`url('${new URL(n,i).href}')`)}catch(i){r=t}return r}.bind(this)}saveState({client:e}){this.state=e.state;const{tbar:t,bbar:n}=e;t&&(this.state.tbar_hidden=t.hidden,t.hide(!1)),n&&(this.state.bbar_hidden=n.hidden,n.hide(!1))}async restoreState({client:e}){const t=[],n=new Set,{tbar:r,bbar:i}=e;n.add(e.scrollable.on({scroll(){t.push(e.scrollable.await("scrollEnd"))}})),e.eachSubGrid(({header:e,scrollable:r})=>{n.add(r.on({scroll(){t.push(r.await("scrollEnd"))}})),n.add(e.scrollable.on({scroll(){t.push(e.scrollable.await("scrollEnd"))}}))}),r&&(r.hidden=this.state.tbar_hidden,delete this.state.tbar_hidden),i&&(i.hidden=this.state.bbar_hidden,delete this.state.bbar_hidden),e.state=this.state,await Promise.all(t),n.forEach(e=>e())}beforeExport(){this.element=document.createElement("div")}cloneElement(e,t=this.element,n=!0){n&&(t.innerHTML=""),i.default.isChrome?t.appendChild(e.cloneNode(!0)):t.innerHTML=e.outerHTML,l.default.removeEachSelector(t,".b-grid-row");const r=t.querySelector(".b-gridbase > .b-mask");r&&r.remove()}measureElement(e=""){e instanceof HTMLElement&&(e=e.outerHTML);const t=l.default.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:`<div style="height: 1px"></div>${e}<div style="height: 1px"></div>`}),n=t.offsetHeight-2;return t.remove(),n}prepareHTML(e){e instanceof HTMLElement&&(e=e.outerHTML);const t=l.default.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:e}),n=t.querySelectorAll("img");for(let i=0,o=n.length;i<o;i++)n[i].setAttribute("src",n[i].src);const r=t.innerHTML;return t.remove(),r}createPlaceholder(e,t=!0){return t&&(e.innerHTML=""),l.default.createElement({parent:e,id:s.default.generateId("export")})}getVirtualScrollerHeight(e){let t=0;return e.eachSubGrid(e=>{e.overflowingHorizontally&&(t=l.default.scrollBarWidth)}),0===t?t:t+1}inchToPx(e){return 96*e}getScaleValue(e,t){return Math.floor(1e4*e/t)/1e4}getVisibleRowsCount(e){const t=e.rowManager,n=t.rows.indexOf(t.firstVisibleRow),r=t.rows.indexOf(t.lastVisibleRow);let i;return i=-1!==n?-1===r?e.store.count-n:r-n+1:e.store.count,i}async export(e){const t=this;let n;t.beforeExport(),t.saveState(e),await t.prepareComponent(e);try{n=await t.getPages(e)}finally{await t.restoreComponent(e),t.stylesheets=null,await new Promise(e=>t.requestAnimationFrame(e)),await t.restoreState(e)}return n}async getPages(e){const t=this.pagesExtractor(e),n=[];let r;for(;(r=await t.next())&&!r.done;)n.push(r.value);return n}adjustRowBuffer(e){const{contentHeight:t}=this.exportMeta,{rowManager:n}=e;this.oldRowManagerConfig={prependRowBuffer:n.prependRowBuffer,appendRowBuffer:n.appendRowBuffer};const r=Math.ceil(t/n.rowOffsetHeight);n.prependRowBuffer=r,n.appendRowBuffer=r,e.renderRows(),e.rowManager.jumpToPosition(e.scrollable.y)}restoreRowBuffer(e){e.rowManager.prependRowBuffer=this.oldRowManagerConfig.prependRowBuffer,e.rowManager.appendRowBuffer=this.oldRowManagerConfig.appendRowBuffer}async prepareComponent(e){const t=this,{client:n,columns:r,rowsRange:i,keepRegionSizes:o}=e,{rowManager:a}=n,s=t.exportMeta={totalWidth:0,totalHeight:0-t.getVirtualScrollerHeight(n),subGrids:{}};if(n.columns.forEach(e=>{r.includes(e.id)?e.show():e.hide()}),n.rowManager.rowCount>0)if(i===c.RowsRange.all)s.firstVisibleDataIndex=a.rows[0].dataIndex,await n.scrollRowIntoView(n.store.first,{block:"start"});else{const t=s.firstVisibleDataIndex=a.firstVisibleRow.dataIndex;await n.scrollRowIntoView(n.store.getAt(t),{block:"start"}),e.alignRows=!0}this.cloneElement(n.element);const{element:l}=t;n.eachSubGrid(e=>{var r;const i=t.createPlaceholder(l.querySelector(`[id="${e.id}"]`),!1);let a;a=null!==o&&void 0!==o&&o[e.region]?e.element.offsetWidth:e.columns.visibleColumns.reduce((e,t)=>("number"===typeof t.width?e+=t.width:e+=n.getHeaderElement(t.id).offsetWidth,e),0),s.totalWidth+=a;const c=(null===(r=e.splitterElement)||void 0===r?void 0:r.offsetWidth)||0;s.totalWidth+=c,s.subGrids[e.region]={id:e.id,headerId:e.header&&e.header.id||null,footerId:e.footer&&e.footer.id||null,rows:[],splitterWidth:c,placeHolder:i,width:a}})}prepareExportElement(){const{element:e,exportMeta:t}=this;return Object.values(t.subGrids).forEach(({width:t,id:n,headerId:r,footerId:i})=>{[n,r,i].forEach(n=>{if(n){const r=e.querySelector(`[id="${n}"]`);r&&(r.style.width=t+"px",r.style.flex="")}})}),e.innerHTML}async restoreComponent(e){}async scrollRowIntoView(e,t){await e.scrollRowIntoView(e.store.getAt(t),{block:"start"}),await new Promise(e=>this.requestAnimationFrame(e))}}h.prototype.pagesExtractor=async function*(){yield""},h._$name="Exporter"},"./lib/Grid/feature/export/exporter/MultiPageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/exporter/Exporter.js"),i=n("./lib/Grid/feature/export/Utils.js");class o extends r.default{static get $name(){return"MultiPageExporter"}static get type(){return"multipage"}static get title(){return this.L("L{multipage}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e}){const{exportMeta:t}=this;++t.currentPage,++t.verticalPosition,delete t.lastExportedRowBottom,t.verticalPosition>=t.verticalPages&&(t.verticalPosition=t.currentPageTopMargin=0,++t.horizontalPosition,await this.scrollRowIntoView(e,t.firstVisibleDataIndex,{block:"start"}))}async prepareComponent(e){await super.prepareComponent(e);const t=this,{exportMeta:n}=t,{client:r,headerTpl:o,footerTpl:a,alignRows:s,rowsRange:l}=e,c=i.PaperFormat[e.paperFormat],d=e.orientation===i.Orientation.portrait,u=d?c.width:c.height,h=d?c.height:c.width,f=t.inchToPx(u),g=t.inchToPx(h),m=Math.ceil(n.totalWidth/f);let p=n.totalHeight+r.height-r.bodyHeight+r.scrollable.scrollHeight,v=g;o&&(v-=t.measureElement(o({totalWidth:n.totalWidth,totalPages:-1,currentPage:-1}))),a&&(v-=t.measureElement(a({totalWidth:n.totalWidth,totalPages:-1,currentPage:-1})));let b,y=r.store.count;if(l===i.RowsRange.visible){y=t.getVisibleRowsCount(r);const e=r.rowManager.rows[y-1].bottom;p=p-r.scrollable.scrollHeight+e}if(s&&l!==i.RowsRange.visible){const e=r.rowManager.rowOffsetHeight,t=Math.floor((v-r.headerHeight)/e),n=Math.floor(v/e),i=y-t;b=1+Math.ceil(i/n)}else b=Math.ceil(p/v);Object.assign(n,{paperWidth:u,paperHeight:h,pageWidth:f,pageHeight:g,horizontalPages:m,verticalPages:b,totalHeight:p,contentHeight:v,totalRows:y,totalPages:m*b,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0}),this.adjustRowBuffer(r)}async restoreComponent(e){await super.restoreComponent(e),this.restoreRowBuffer(e.client)}async buildPage(e){const t=this,{exportMeta:n}=t,{client:r,headerTpl:o,footerTpl:a,alignRows:s}=e,{totalWidth:l,totalPages:c,currentPage:d,subGrids:u,currentPageTopMargin:h,verticalPosition:f,totalRows:g}=n,{rowManager:m}=r,{rows:p}=m;Object.values(u).forEach(e=>e.rows=[]),e.rowsRange===i.RowsRange.all&&(n.totalHeight=r.height-r.bodyHeight+r.scrollable.scrollHeight-t.getVirtualScrollerHeight(r));let v,b,y,C=0,S=0,w=e.rowsRange===i.RowsRange.visible?p.findIndex(e=>e.bottom>r.scrollable.y):p.findIndex(e=>e.bottom+h+r.headerHeight>0);const E=w,D=0===f?0:p[w].top+h+r.headerHeight;o&&(b=t.prepareHTML(o({totalWidth:l,totalPages:c,currentPage:d})),C=t.measureElement(b)),a&&(y=t.prepareHTML(a({totalWidth:l,totalPages:c,currentPage:d})),S=t.measureElement(y)),v=n.pageHeight-C-S-D,0===f&&(v-=r.headerHeight);let x,j=0;for(;v>0;){const n=p[w];s&&v<n.offsetHeight?(j=-v,v=0,t.exportMeta.lastExportedRowBottom=p[w-1].bottom):(t.collectRow(n),v-=n.offsetHeight,x=n.dataIndex,(++w===p.length&&v>0||e.rowsRange===i.RowsRange.visible&&w-E===g)&&(v=0))}const T=p[w-1];if(T&&(n.exactGridHeight=T.bottom+r.footerContainer.offsetHeight+r.headerContainer.offsetHeight),await t.onRowsCollected(p.slice(E,w),e),e.rowsRange===i.RowsRange.visible)n.exactGridHeight-=n.scrollableTopMargin=r.scrollable.y;else{const e=m.on("offsetrows",({offset:e})=>j+=e);await t.scrollRowIntoView(r,x+1),e()}return{html:t.buildPageHtml(),header:b,footer:y,offset:j}}async onRowsCollected(){}collectRow(e){const t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(([e,n])=>{t[e].rows.push(n.outerHTML)})}buildPageHtml(){const{subGrids:e}=this.exportMeta;let t=this.prepareExportElement();return Object.values(e).forEach(({placeHolder:e,rows:n})=>{const r=e.outerHTML;t=t.replace(r,n.join(""))}),t}prepareExportElement(){const{element:e,exportMeta:t}=this;return t.scrollableTopMargin&&(e.querySelector(".b-grid-vertical-scroller").style.marginTop=`-${t.scrollableTopMargin}px`),super.prepareExportElement()}}o.prototype.pagesExtractor=async function*(e){const t=this,{exportMeta:n,stylesheets:r}=t,{totalWidth:i,totalPages:a,paperWidth:s,paperHeight:l,contentHeight:c}=n;let d;for(;(d=n.currentPage)<a;){t.trigger("exportStep",{text:t.L(o.exportingPageText,{currentPage:d,totalPages:a}),progress:Math.round((d+1)/a*90)});const{html:u,header:h,footer:f,offset:g}=await t.buildPage(e),m=[...r,`\n                <style>\n                    #${e.client.id} {\n                        height: ${n.exactGridHeight}px !important;\n                        width: ${i}px !important;\n                    }\n                    \n                    .b-export-body .b-export-viewport {\n                        margin-left : ${-s*n.horizontalPosition}in;\n                        margin-top  : ${n.currentPageTopMargin}px;\n                    }\n                </style>\n            `];n.currentPageTopMargin-=c+g,await t.stateNextPage(e),yield{html:t.pageTpl({html:u,header:h,footer:f,styles:m,paperWidth:s,paperHeight:l})}}},o._$name="MultiPageExporter"},"./lib/Grid/feature/export/exporter/MultiPageVerticalExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/exporter/Exporter.js"),i=n("./lib/Grid/feature/export/Utils.js");class o extends r.default{static get $name(){return"MultiPageVerticalExporter"}static get type(){return"multipagevertical"}static get title(){return this.L("L{multipagevertical}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e}){const{exportMeta:t}=this,{totalRows:n,processedRows:r,totalPages:i}=t;++t.currentPage,++t.verticalPosition,t.currentPage===i&&r.size!==n&&(++t.totalPages,++t.verticalPages)}estimateTotalPages(e){const t=this,{exportMeta:n}=t,{client:r,headerTpl:o,footerTpl:a,alignRows:s,rowsRange:l,repeatHeader:c}=e,{pageWidth:d,pageHeight:u,totalWidth:h}=n,f=t.getScaleValue(d,h);let g,m=0-t.getVirtualScrollerHeight(r)+r.height-r.bodyHeight+r.scrollable.scrollHeight,p=u/f,v=r.store.count,b=0;if(o&&(p-=t.measureElement(o({totalWidth:h,totalPages:-1,currentPage:-1}))),a&&(p-=t.measureElement(a({totalWidth:h,totalPages:-1,currentPage:-1}))),c&&(p-=r.headerHeight,m-=r.headerHeight),l===i.RowsRange.visible){const e=r.rowManager,n=e.firstVisibleRow,i=e.lastVisibleRow;b=n.top,v=t.getVisibleRowsCount(r),m=m-r.scrollable.scrollHeight+i.bottom-n.top}if(s&&!c&&l!==i.RowsRange.visible){const e=r.rowManager.rowOffsetHeight,t=Math.floor((p-r.headerHeight)/e),n=Math.floor(p/e),i=v-t;g=1+Math.ceil(i/n)}else g=Math.ceil(m/p);Object.assign(n,{scale:f,contentHeight:p,totalRows:v,totalHeight:m,verticalPages:g,initialScroll:b,horizontalPages:1,totalPages:g})}async prepareComponent(e){await super.prepareComponent(e);const t=this,{exportMeta:n}=t,{client:r}=e,o=i.PaperFormat[e.paperFormat],a=e.orientation===i.Orientation.portrait,s=a?o.width:o.height,l=a?o.height:o.width,c=t.inchToPx(s),d=t.inchToPx(l);Object.assign(n,{paperWidth:s,paperHeight:l,pageWidth:c,pageHeight:d,horizontalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0,processedRows:new Set}),t.estimateTotalPages(e),t.adjustRowBuffer(r)}async restoreComponent(e){await super.restoreComponent(e),this.restoreRowBuffer(e.client)}async buildPage(e){const t=this,{exportMeta:n}=t,{client:r,headerTpl:o,footerTpl:a,alignRows:s,repeatHeader:l}=e,{totalWidth:c,totalPages:d,currentPage:u,subGrids:h,currentPageTopMargin:f,verticalPosition:g,totalRows:m,contentHeight:p}=n,v=l?0:r.headerHeight,{rowManager:b}=r,{rows:y}=b;Object.values(h).forEach(e=>e.rows=[]),e.rowsRange===i.RowsRange.all&&(n.totalHeight=r.height-r.bodyHeight+r.scrollable.scrollHeight-t.getVirtualScrollerHeight(r));let C,S,w,E=e.rowsRange===i.RowsRange.visible?y.findIndex(e=>e.bottom>r.scrollable.y):y.findIndex(e=>e.bottom+f+v>0);const D=E,x=0===g?0:y[E].top+f+v;o&&(S=t.prepareHTML(o({totalWidth:c,totalPages:d,currentPage:u}))),a&&(w=t.prepareHTML(a({totalWidth:c,totalPages:d,currentPage:u}))),C=p-x,0===g&&(C-=v);let j,T=0;for(;C>0;){const r=y[E];s&&C<r.offsetHeight?(T=-C,C=0):(t.collectRow(r),C-=r.offsetHeight,C>0&&n.processedRows.add(r.dataIndex),j=r.dataIndex,(++E===y.length&&C>0||e.rowsRange===i.RowsRange.visible&&E-D===m)&&(C=0))}const R=y[E-1];if(R&&(n.exactGridHeight=R.bottom+r.footerContainer.offsetHeight+r.headerContainer.offsetHeight),await t.onRowsCollected(y.slice(D,E),e),e.rowsRange===i.RowsRange.visible)n.scrollableTopMargin=r.scrollable.y;else{const e=b.on("offsetrows",({offset:e})=>T+=e);await t.scrollRowIntoView(r,j+1),e()}return{html:t.buildPageHtml(),header:S,footer:w,offset:T}}async onRowsCollected(){}collectRow(e){const t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(([e,n])=>{t[e].rows.push(n.outerHTML)})}buildPageHtml(){const{subGrids:e}=this.exportMeta;let t=this.prepareExportElement();return Object.values(e).forEach(({placeHolder:e,rows:n})=>{const r=e.outerHTML;t=t.replace(r,n.join(""))}),t}}o.prototype.pagesExtractor=async function*(e){const t=this,{exportMeta:n,stylesheets:r}=t,{totalWidth:i,paperWidth:a,paperHeight:s,contentHeight:l,scale:c,initialScroll:d}=n;let u,{totalPages:h}=n;for(;(u=n.currentPage)<h;){t.trigger("exportStep",{text:t.L(o.exportingPageText,{currentPage:u,totalPages:h}),progress:Math.round((u+1)/h*90)});const{html:f,header:g,footer:m,offset:p}=await t.buildPage(e),v=[...r,`\n                <style>\n                    #${e.client.id} {\n                        width: ${i}px !important;\n                    }\n                    \n                    .b-export .b-export-content {\n                        transform: scale(${c});\n                        transform-origin: top left;\n                        height: auto;\n                    }\n                </style>\n            `];if(e.repeatHeader){const t=n.exactGridHeight?n.exactGridHeight+n.currentPageTopMargin+"px":"100%";v.push(`\n                <style>\n                    #${e.client.id} {\n                        height: ${t} !important;\n                    }\n                    \n                    .b-export .b-export-content {\n                        height: ${100/c}%;\n                    }\n                    \n                    .b-export-body {\n                        height: 100%;\n                        display: flex;\n                    }\n                \n                    .b-export-viewport {\n                        height: 100%;\n                    }\n                    \n                    .b-grid-vertical-scroller {\n                        margin-top: ${n.currentPageTopMargin-d}px;\n                    }\n                </style>\n                `)}else{const t=n.exactGridHeight||l-n.currentPageTopMargin;v.push(`\n                <style>\n                    #${e.client.id} {\n                        height: ${t}px !important;\n                    }\n                    \n                    .b-export-body {\n                        overflow: hidden;\n                    }\n                    \n                    .b-export .b-export-content {\n                        height: ${100/c}%;\n                    }\n                    \n                    .b-export-body .b-export-viewport {\n                        margin-top: ${n.currentPageTopMargin}px;\n                    }\n                    \n                    .b-grid-vertical-scroller {\n                        margin-top: -${d}px;\n                    }\n                </style>\n                `)}n.currentPageTopMargin-=l+p,await t.stateNextPage(e),({totalPages:h}=n),yield{html:t.pageTpl({html:f,header:g,footer:m,styles:v,paperWidth:a,paperHeight:s})}}},o._$name="MultiPageVerticalExporter"},"./lib/Grid/feature/export/exporter/SinglePageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Grid/feature/export/exporter/Exporter.js"),o=n("./lib/Grid/feature/export/Utils.js");class a extends i.default{static get $name(){return"SinglePageExporter"}static get type(){return"singlepage"}static get title(){return this.localize("L{singlepage}")}static get defaultConfig(){return{centerContentHorizontally:!1}}async prepareComponent(e){await super.prepareComponent(e),Object.assign(this.exportMeta,{verticalPages:1,horizontalPages:1,totalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0})}async onRowsCollected(){}positionRows(e){let t=0;return e.map(([e,n])=>{const r=e.replace(/translate\(\d+px, \d+px\)/,`translate(0px, ${t}px)`);return t+=n,r})}collectRow(e){const t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(([n,r])=>{t[n].rows.push([r.outerHTML,e.offsetHeight])})}buildPageHtml(){const e=this,{subGrids:t}=e.exportMeta;let n=e.prepareExportElement();return Object.values(t).forEach(({placeHolder:t,rows:r})=>{const i=t.outerHTML;n=n.replace(i,e.positionRows(r).join(""))}),n}}a.prototype.pagesExtractor=async function*(e){const t=this,{client:n}=e,{rowManager:i,store:a}=n,s=t.stylesheets,l=e.orientation===o.Orientation.portrait,c=o.PaperFormat[e.paperFormat],d=l?c.width:c.height,u=l?c.height:c.width,h=e.rowsRange===o.RowsRange.visible&&a.count?t.getVisibleRowsCount(n):a.count;let f,g,{totalHeight:m,totalWidth:p}=t.exportMeta,v=0,b=-1;if(i.rows.length>0)for(e.rowsRange===o.RowsRange.visible&&(b=i.firstVisibleRow.dataIndex-1);v<h;){const r=i.rows,o=r[r.length-1],a=v;r.forEach(e=>{e.dataIndex>b&&v<h&&(++v,m+=e.offsetHeight,t.collectRow(e))});const s=r.findIndex(e=>e.dataIndex===b+1),l=s+(v-a);await t.onRowsCollected(r.slice(s,l),e),v<h&&(b=o.dataIndex,await t.scrollRowIntoView(n,b+1))}const y=t.buildPageHtml();m+=n.height-n.bodyHeight;const C=m;if(e.headerTpl){f=t.prepareHTML(e.headerTpl({totalWidth:p}));const n=t.measureElement(f);m+=n}if(e.footerTpl){g=t.prepareHTML(e.footerTpl({totalWidth:p}));const n=t.measureElement(g);m+=n}const S=Math.min(1,t.getScaleValue(t.inchToPx(d),p)),w=Math.min(1,t.getScaleValue(t.inchToPx(u),m)),E=Math.min(S,w);s.push(`<style>\n                #${n.id} {\n                    height: ${C}px !important;\n                    width: ${p}px !important;\n                }\n                \n                .b-export-content {\n                    ${t.centerContentHorizontally?"left: 50%;":""}\n                    transform: scale(${E}) ${t.centerContentHorizontally?"translateX(-50%)":""};\n                    transform-origin: top left;\n                    height: ${1===E?"inherit":"auto !important"};\n                }\n            </style>`),r.default.isIE11&&s.push(`<style>\n                .b-export-body {\n                   min-height: ${C}px !important;\n                }\n         </style>`),yield{html:t.pageTpl({html:y,header:f,footer:g,styles:s,paperWidth:d,paperHeight:u})}},a._$name="SinglePageExporter"},"./lib/Grid/feature/mixin/SummaryFormatter.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"SummaryFormatter"}generateHtml(e,t,n,r,i,o){const a=this.store,s=e.summaries||(e.sum?[{sum:e.sum,renderer:e.summaryRenderer}]:[]);let l=`<table class="${n}">`;return s.forEach(n=>{let r=n.sum,i=null;switch(!0===r&&(r="sum"),r){case"sum":case"add":i=a.sum(e.field,t);break;case"max":i=a.max(e.field,t);break;case"min":i=a.min(e.field,t);break;case"average":case"avg":i=a.average(e.field,t);break;case"count":i=t.length;break;case"countNotEmpty":i=t.reduce((t,n)=>t+(null!=n[e.field]?1:0),0)}if("function"===typeof r&&(i=t.reduce(r,"seed"in n?n.seed:0)),null!==i){const e="b-grid-summary-value",t=n.label?`<td class="b-grid-summary-label">${n.label}</td>`:"";let r,o=n.renderer?n.renderer({config:n,sum:i}):i;null==o&&(o=""),r=String(o).includes("<td>")?o:t?`${t}<td class="${e}">${o}</td>`:`<td colspan="2" class="${e}">${o}</td>`,l+=`<tr>${r}</tr>`}}),l+"</table>"}}},"./lib/Grid/localization/En.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/localization/LocaleManager.js"),i=n("./lib/Core/localization/En.js");const o=n("./lib/Core/localization/LocaleHelper.js").default.mergeLocales(i.default,{ColumnPicker:{column:"Column",columnsMenu:"Columns",hideColumn:"Hide column",hideColumnShort:"Hide",newColumns:"New columns"},Filter:{applyFilter:"Apply filter",filter:"Filter",editFilter:"Edit filter",on:"On",before:"Before",after:"After",equals:"Equals",lessThan:"Less than",moreThan:"More than",removeFilter:"Remove filter"},FilterBar:{enableFilterBar:"Show filter bar",disableFilterBar:"Hide filter bar"},Group:{group:"Group",groupAscending:"Group ascending",groupDescending:"Group descending",groupAscendingShort:"Ascending",groupDescendingShort:"Descending",stopGrouping:"Stop grouping",stopGroupingShort:"Stop"},Search:{searchForValue:"Search for value"},Sort:{sort:"Sort",sortAscending:"Sort ascending",sortDescending:"Sort descending",multiSort:"Multi sort",removeSorter:"Remove sorter",addSortAscending:"Add ascending sorter",addSortDescending:"Add descending sorter",toggleSortAscending:"Change to ascending",toggleSortDescending:"Change to descending",sortAscendingShort:"Ascending",sortDescendingShort:"Descending",removeSorterShort:"Remove",addSortAscendingShort:"+ Ascending",addSortDescendingShort:"+ Descending"},GridBase:{loadFailedMessage:"Data loading failed!",syncFailedMessage:"Data synchronization failed!",unspecifiedFailure:"Unspecified failure",networkFailure:"Network error",parseFailure:"Failed to parse server response",noRows:"No records to display",moveColumnLeft:"Move to left section",moveColumnRight:"Move to right section",removeRow:"Delete record",removeRows:"Delete records",moveColumnTo:e=>"Move column to "+e},CellMenu:{removeRow:"Delete record",removeRows:"Delete records"},PdfExport:{"Waiting for response from server":"Waiting for response from server...","Export failed":"Export failed","Server error":"Server error","Generating pages":"Generating pages..."},ExportDialog:{width:"40em",labelWidth:"12em",exportSettings:"Export settings",export:"Export",exporterType:"Control pagination",cancel:"Cancel",fileFormat:"File format",rows:"Rows",alignRows:"Align rows",columns:"Columns",paperFormat:"Paper format",orientation:"Orientation",repeatHeader:"Repeat header"},ExportRowsCombo:{all:"All rows",visible:"Visible rows"},ExportOrientationCombo:{portrait:"Portrait",landscape:"Landscape"},SinglePageExporter:{singlepage:"Single page"},MultiPageExporter:{multipage:"Multiple pages",exportingPage:({currentPage:e,totalPages:t})=>`Exporting page ${e}/${t}`},MultiPageVerticalExporter:{multipagevertical:"Multiple pages (vertical)",exportingPage:({currentPage:e,totalPages:t})=>`Exporting page ${e}/${t}`}});t.default=o,r.default.registerLocale("En",{desc:"English",locale:o})},"./lib/Grid/row/Row.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/DomDataStore.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/DomSync.js"),l=n("./lib/Core/mixin/Delayable.js"),c=n("./lib/Core/helper/util/DomClassList.js");class d extends(Object(l.default)(r.default)){static get configurable(){return{cls:{$config:{equal:(e,t)=>(null===e||void 0===e?void 0:e.isDomClassList)&&(null===t||void 0===t?void 0:t.isDomClassList)&&e.isEqual(t)},value:"b-grid-row"}}}construct(e){Object.assign(this,{_elements:{},_elementsArray:[],_cells:{},_allCells:[],_regions:[],lastHeight:0,lastTop:-1,_dataIndex:0,_top:0,_height:0,_id:null,forceInnerHTML:!1,isGroupFooter:!1},e),super.construct()}doDestroy(){const e=this;e.rowManager.isDestroying||(e.removeElements(),e.rowManager.idMap[e.id]===e&&delete e.rowManager.idMap[e.id]),super.doDestroy()}get index(){return this._index}set index(e){this._index=e}get dataIndex(){return this._dataIndex}set dataIndex(e){this._dataIndex!==e&&(this._dataIndex=e,this.eachElement(t=>t.dataset.index=e))}get id(){return this._id}set id(e){const t=this,n={id:e},r=t.rowManager.idMap;t._id===e&&r[e]===t||(r[t._id]===t&&delete r[t._id],r[e]=t,t._id=e,t.eachElement(t=>{i.default.assign(t,n),t.dataset.id=e}),t.eachCell(e=>i.default.assign(e,n)))}addElement(e,t){const n=this;let r=t.firstElementChild;for(n._elements[e]=t,n._elementsArray.push(t),n._regions.push(e),i.default.assign(t,{index:n.index}),n._cells[e]=[];r;)n._cells[e].push(r),n._allCells.push(r),i.default.set(r,{column:r.dataset.column,columnId:r.dataset.columnId,rowElement:r.parentNode,row:n}),r=r.nextElementSibling;t.dataset.index=n.index}getElement(e){return this._elements[e]}eachElement(e){this._elementsArray.forEach(e)}eachCell(e){this._allCells.forEach(e)}get elements(){return this._elements}get cells(){return this._allCells}getCells(e){return this._cells[e]}getCell(e){return this._allCells.find(t=>{const n=i.default.get(t);return n.columnId===e||n.column===e})}removeElements(e=!1){const t=this;t.rowManager.trigger("removeRow",{row:t}),e||t.eachElement(e=>e.remove()),t._elements={},t._cells={},t._elementsArray.length=t._regions.length=t._allCells.length=t.lastHeight=t.height=0,t.lastTop=-1}get height(){return this._height}set height(e){this._height=e}get offsetHeight(){return this.height+this.grid._rowBorderHeight}updateElementsHeight(){const e=this;e.rowManager.storeKnownHeight(e.id,e.height),e.lastHeight!==e.height&&(this.eachElement(t=>t.style.height=e.offsetHeight+"px"),e.lastHeight=e.height)}addCls(e){this.updateCls(this.cls.add(e))}removeCls(e){this.updateCls(this.cls.remove(e))}assignCls(e){this.updateCls(this.cls.assign(e))}changeCls(e){return null!==e&&void 0!==e&&e.isDomClassList?e:new c.default(e)}updateCls(e){this.eachElement(t=>a.default.syncClassList(t,e))}get isFirst(){return 0===this.dataIndex}get top(){return this._top}get bottom(){return this._top+this._height+this.grid._rowBorderHeight}setTop(e,t){this._top!==e&&(this._top=e,this.translateElements(t))}setBottom(e,t){this.setTop(e-this.offsetHeight,t)}translateElements(e){const t=this,n=t.grid.positionMode;t.lastTop!==t.top&&(t.eachElement(e=>{const r=e.style;"translate"===n?r.transform=`translate(0,${t.top}px)`:"translate3d"===n?r.transform=`translate3d(0,${t.top}px,0)`:"position"===n&&(r.top=t.top+"px")}),e||t.rowManager.trigger("translateRow",{row:t}),t.lastTop=t.top)}offset(e){let t=this._top+e;return t<0&&(e-=t,t=0),this.setTop(t),e}render(e,t,n=!0,r=!1){var o,a,s;const l=this,{cls:d,cells:u,grid:h,rowManager:f,height:g,_id:m}=l,p=i.default.get(l._elementsArray[0]),v=f._rowHeight;let b,y,C=0;t||!1===t||(t=h.store.getById(p.id),e=h.store.indexOf(t));const S=null===(o=t)||void 0===o?void 0:o.cls,w=S?S.isDomClassList?S:new c.default(S):null;d.assign({"b-grid-row-updating":n&&h.transitionDuration,"b-selected":h.isSelected(null===(a=t)||void 0===a?void 0:a.id)}),l.lastRecordCls&&d.remove(l.lastRecordCls),w?(d.add(w),l.lastRecordCls=Object.assign({},w)):l.lastRecordCls=null,l.updateCls(d),f.trigger("beforeRenderRow",{row:l,record:t,recordIndex:e,oldId:m}),n&&h.transitionDuration&&l.setTimeout(()=>{d.remove("b-grid-row-updating"),l.updateCls(d)},h.transitionDuration),l.id=t.id,l.dataIndex=e;const E=!h.fixedRowHeight&&h.getRowHeight(t)||v;let D=l.maxRequestedHeight=null;for(C=0;C<u.length;C++)b=u[C],y=l.renderCell({cellElement:b,record:t,height:E,maxRequestedHeight:D,updatingSingleRow:n}),f.fixedRowHeight||null!=y.height&&(l.maxRequestedHeight=D=Math.max(D,y.height));l.height=null!==(s=D)&&void 0!==s?s:E,l.updateElementsHeight(),n&&(g!==l.height&&f.translateFromRow(l,r),f.trigger("updateRow",{row:l,record:t,recordIndex:e,oldId:m}),f.trigger("renderDone")),f.trigger("renderRow",{row:l,record:t,recordIndex:e,oldId:m}),l.forceInnerHTML=!1}renderCell({cellElement:e,record:t,height:n,maxRequestedHeight:r,updatingSingleRow:l=!0,isMeasuring:c=!1}){var d;const u=this,{grid:h}=u,f=i.default.get(e),g=h.columns.getById(f.columnId),m=f.rowElement,p=i.default.get(m),{internalCellCls:v,cellCls:b,align:y,renderer:C,defaultRenderer:S,id:w}=g,E={columnId:w,id:p.id};if(!t){if(null===p.id)return void(e.className="b-grid-cell");if(!(t=h.store.getById(p.id)))return}let D=g.getRawValue(t);const x=t.fieldMap[g.field],j={configuredHeight:n,height:null,maxRequestedHeight:r},T={cellElement:e,dataField:x,rowElement:m,value:D,record:t,column:g,size:j,grid:h,row:f.row,updatingSingleRow:l,isMeasuring:c},R={"b-grid-cell":1,[v]:v,[b]:t.isSpecialRow&&"b-check-cell"===g.internalCellCls?void 0:b,"b-cell-dirty":t.isFieldModified(g.field),["b-grid-cell-align-"+y]:y,"b-selected":h.isSelected(E),"b-focused":h.isFocused(E),"b-auto-height":g.autoHeight},M=C||S;a.default.syncClassList(e,R);let k=!0;M?(D=M.call(g,T),void 0===D&&(k=!1)):x&&(D=x.print(D));const P=null===(d=h.hasFrameworkRenderer)||void 0===d?void 0:d.call(h,{cellContent:D,column:g});P&&t.isSpecialRow&&(D="");const O=P&&!g.data.tree&&!t.isSpecialRow;if(k&&!O){const t=null!=D&&"object"===typeof D,n="string"===typeof D,r=t||null==D?"":String(D);u.forceInnerHTML&&(e.innerHTML="",delete e._content,e.lastDomConfig=null),t||!g.htmlEncode||g.disableHtmlEncode?!g.autoSyncHtml||n&&!e.childElementCount?t?s.default.sync({targetElement:e,domConfig:{onlyChildren:!0,children:Array.isArray(D)?D:[D]}}):e._content!==r&&(e.innerHTML=e._content=r):n?a.default.sync(r,e.firstElementChild):t&&s.default.sync({domConfig:D,targetElement:e}):o.default.isLinux||e._hasHtml?(e.innerText=r,e._hasHtml=!1):a.default.setInnerText(e,r)}var F;return t.isSpecialRow||null===(F=h.processCellContent)||void 0===F||F.call(h,{cellElementData:f,rendererData:T,rendererHtml:T.rendererHtml||D}),g.autoHeight&&null==j.height&&(e.classList.add("b-measuring-auto-height"),j.height=e.offsetHeight,e.classList.remove("b-measuring-auto-height")),c||u.rowManager.trigger("renderCell",T),j}}d._$name="Row"},"./lib/Grid/row/RowManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/util/Rectangle.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Grid/row/Row.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/helper/ArrayHelper.js");class c extends i.default{static get pluginConfig(){return{chain:["getRowById","getRecordCoords","getRow","getRowFor","getRowFromElement","destroy"],assign:["rowHeight","topRow","bottomRow","firstVisibleRow","lastVisibleRow","firstFullyVisibleRow"]}}static get defaultConfig(){return{prependRowBuffer:5,appendRowBuffer:5,rowHeight:null,fixedRowHeight:null,autoHeight:!1}}static get properties(){return{idMap:{},topIndex:0,lastScrollTop:0,_rows:[],heightMap:new Map,totalKnownHeight:0,_totalHeight:0,averageRowHeight:0,scrollTargetRecordId:null,refreshDetails:{topRowIndex:0,topRowTop:0}}}construct(e){e.grid._rowManager=this,super.construct(e.grid,e)}doDestroy(){this._rows.forEach(e=>e.destroy()),super.doDestroy()}initWithHeight(e,t=!1){const n=this;return n.autoHeight&&(e=n.store.allCount*n.preciseRowOffsetHeight),n.viewHeight=e,n.calculateRowCount(t),e}reinitialize(e=!1){const t=this;t.calculateRowCount(!1,!0,!0),t.topIndex+t.rowCount-1>t.store.count&&(e=!0);const n=t.topRow&&!e?t.topRow.top:0;t.scrollTargetRecordId=null,e&&(t.topIndex=t.lastScrollTop=0);const{topRow:r}=t;r&&(r.dataIndex=t.topIndex,r.setTop(n,!0)),t.estimateTotalHeight(),t.renderFromRow(r)}matchRowCount(e=!1){const t=this,{rows:n,grid:r}=t,i=n.length,a=i-t.rowCount;if(a)if(a<0){const a=[];for(let e=i,s=i?n[i-1].dataIndex+1:0;e<t.rowCount;e++,s++)a.push(new o.default({rowManager:t,grid:r,index:e,dataIndex:s}));n.push.apply(n,a),t.trigger("addRows",{rows:a}),e||t.renderFromRow(n[Math.max(0,i-1)])}else{const e=n.splice(i-a,a);t.trigger("removeRows",{rows:e}),e.forEach(e=>e.destroy())}}calculateRowCount(e=!1,t=!0,n=!1){var r;const i=this,{store:o}=i,a=Math.ceil(i.viewHeight/i.minRowOffsetHeight),s=a+i.prependRowBuffer+i.appendRowBuffer;return null===(r=i.grid.columns)||void 0===r||!r.count||isNaN(a)?(i.rowCount=0,0):(s<i.rowCount&&!t||(i.visibleRowCount=a,i.rowCount=Math.min(o.count,s),e||(i.rows&&i.rowCount!==i.rows.length?i.matchRowCount(n):i.rowCount||i.trigger("changeTotalHeight",{totalHeight:i.totalHeight}),i.grid.toggleEmptyText())),i.rowCount)}removeAllRows(){const e=this,{topRow:t}=e,n=t?e.refreshDetails={topRowIndex:t.dataIndex,topRowTop:t.top}:e.refreshDetails,r=e.rows.slice();return e.trigger("removeRows",{rows:r}),e.rows.forEach(e=>e.destroy()),e.rows.length=0,e.idMap={},n}setPosition(e){const{topRow:t}=this,{topRowIndex:n,topRowTop:r}=e;t.setTop(r),t.dataIndex=n}get store(){return this.client.store}get rows(){return this._rows}getRow(e){return this.rowCount&&this.rows[e-this.topIndex]}getRowById(e){return e&&e.isModel&&(e=e.id),this.idMap[e]}getRowFromElement(e){return(e=e.closest(".b-grid-row"))&&this.getRow(e.dataset.index)}getRowAt(e,t=!1){return t||(e-=r.default.from(this.grid.bodyContainer,null,!0).roundPx(1).top,e+=this.grid.scrollable.y),e=s.default.roundPx(e),this.rows.find(t=>e>=t.top&&e<t.bottom)}getRowFor(e){return e instanceof HTMLElement?this.getRowFromElement(e):this.getRowById(e)}getNextRow(e){const t="number"===typeof e?e:e.index;return this.getRow((t+1)%this.rowCount)}get topRow(){return this.rows[0]}get bottomRow(){const e=Math.min(this.rowCount,this.store.count);return this.rows[e-1]}get firstVisibleRow(){return this.rows.find(e=>e.bottom>this.grid.scrollable.y)}get firstFullyVisibleRow(){return this.rows.find(e=>e.top>=this.grid.scrollable.y)}get lastVisibleRow(){const e=this.grid;return l.default.findLast(this.rows,t=>t.top<e.scrollable.y+e.bodyHeight)}offsetRows(e){if(0!==e){const{rows:t}=this,{length:n}=t;for(let r=0;r<n;r++)t[r].offset(e)}this.trigger("offsetRows",{offset:e})}get prependBufferHeight(){return this.prependRowBuffer*this.rowOffsetHeight}get appendBufferHeight(){return this.appendRowBuffer*this.rowOffsetHeight}get rowHeight(){return this._rowHeight}set rowHeight(e){const t=this,{grid:n,fixedRowHeight:r}=t,i=t.rowHeight;if(a.default.assertNumber(e,"rowHeight"),e<10&&(e=10),t.trigger("beforeRowHeight",{height:e}),t.minRowHeight=t._rowHeight=e,r&&(t.averageRowHeight=e),t.rows.length){const o=n.scrollable.y,a=t.getRowAt(o,!0),s=a?a.top-o:0;let l,c;r?(l=e,c=i):(c=l=t.averageRowHeight,t.clearKnownHeights(),l*=e/i),t.calculateRowCount(!1,!0,!0),t.topRow.setTop(t.topRow.dataIndex*(l+n._rowBorderHeight),!0),t.refresh(),o*(l/c)!==o&&n.scrollRowIntoView(a.id,{block:"start",edgeOffset:s})}t.trigger("rowHeight",{height:e})}get rowOffsetHeight(){return Math.floor(this.preciseRowOffsetHeight)}get preciseRowOffsetHeight(){return(this.averageRowHeight||this._rowHeight)+this.grid._rowBorderHeight}get minRowOffsetHeight(){return(this.minRowHeight||this._rowHeight)+this.grid._rowBorderHeight}get allHeightsKnown(){return this.fixedRowHeight||this.heightMap.size>=this.store.count}storeKnownHeight(e,t){const n=this,{heightMap:r}=n;n.fixedRowHeight||(r.has(e)&&(n.totalKnownHeight-=r.get(e)),r.set(e,t),n.totalKnownHeight+=t,t<n.minRowHeight&&(n.minRowHeight=t),n.averageRowHeight=n.totalKnownHeight/r.size)}getOffsetHeight(e){const t=this;return(t.heightMap.get(e.id)||t.grid.getRowHeight(e)||t.averageRowHeight||t.rowHeight)+t.grid._rowBorderHeight}invalidateKnownHeight(e){const t=this;if(!t.fixedRowHeight){const{heightMap:n}=t;Array.isArray(e)||(e=[e]),e.forEach(e=>{e&&n.has(e.id)&&(t.totalKnownHeight-=n.get(e.id),n.delete(e.id))}),t.averageRowHeight=t.totalKnownHeight/n.size}}clearKnownHeights(){this.heightMap.clear(),this.averageRowHeight=this.totalKnownHeight=0}calculateTop(e){if(this.fixedRowHeight)return e*this.rowOffsetHeight;const{store:t}=this;let n=0;for(let r=0;r<e;r++){const e=t.getAt(r);n+=this.getOffsetHeight(e)}return Math.floor(n)}getRecordCoords(e,t=!1,n=!1){const i=this,o="string"===typeof e||"number"===typeof e?e:e.id,a=i.getRowById(e);let s=i.client._bodyRectangle;return t||(s=i.client._bodyRectangle=r.default.client(i.client.bodyContainer)),a?new r.default(s.x,t?Math.round(a.top):Math.round(a.top+s.y-i.client.scrollable.y),s.width,a.offsetHeight):i.getRecordCoordsByIndex(i.store.indexOf(o),t,n)}getRecordCoordsByIndex(e,t=!1,n=!1){const i=this,{topRow:o,bottomRow:a}=i,s=i.client._bodyRectangle,{id:l}=i.store.getAt(e),c=i.preciseRowOffsetHeight,d=o.dataIndex,u=a.dataIndex,h=e>u?{index:e-u-1,y:a.bottom,from:"bottomRow"}:e>d/2?{index:e-d,y:o.top,from:"topRow"}:{index:e,y:0,from:"top"},f=i.allHeightsKnown&&!n?i.calculateTop(e):Math.floor(h.y+h.index*c),g=new r.default(s.x,t?f:f+s.y-i.client.scrollable.y,s.width,Math.floor(i.heightMap.get(l)||c));return g.virtual=!0,g.block=g.bottom<s.y?"start":g.y>s.bottom?"end":"nearest",g}get totalHeight(){return this._totalHeight}forEach(e){this.rows.forEach(e)}[Symbol.iterator](){return this.rows[Symbol.iterator]()}refreshCell(e,t){const n=this.getRowFor(e);if(n){const e=n.getCell(t);if(e)return n.renderCell({cellElement:e}),!0}return!1}returnToTop(){const e=this;e.topIndex=0,e.lastScrollTop=0,e.topRow&&(e.topRow.dataIndex=0,e.topRow.setTop(0,!0)),e.refresh(),e.grid.scrollable.y=0}renderFromRecord(e){const t=this.getRowById(e.id);t&&this.renderFromRow(t)}renderFromRow(e=null){const t=this,{rows:n,store:r}=t,i=r.count;if(0===t.calculateRowCount(!1,i<n.length,!0))return;let o,a=e?n.indexOf(e):0,s=e?e.dataIndex:n[0].dataIndex,l=i-s-1,c=Math.min(n.length-1,a+l),d=n.length-c-1,u=a>0?n[a-1].bottom:n[a].top;for(let h=a;h<=c;h++)o=n[h],o.dataIndex=s,o.setTop(u,!0),o.render(s,r.getAt(s++),!1),u+=o.offsetHeight;for(;d-- >0;)t.displayRecordAtTop();t.bottomRow.bottom<t.viewHeight&&t.calculateRowCount(),t.estimateTotalHeight(!0),t.trigger("renderDone")}renderRows(e){let t,n=!1;(e=Array.from(e)).sort((e,t)=>e.dataIndex-t.dataIndex);for(const r of e)t=r.height,r.render(null,null,!1),n|=r.height!==t;n&&this.translateFromRow(e[0]),this.trigger("renderDone")}translateFromRow(e,t=!1){const n=this;let r,i,o=e.bottom;for(i=e.dataIndex+1,r=n.getRow(i);r;r=n.getRow(++i))r.setTop(o),o+=r.offsetHeight;t||n.estimateTotalHeight(!0)}refresh(){const{topRow:e}=this;e&&(this.idMap={},this.renderFromRow(e),this.trigger("refresh"))}jumpToPosition(e,t){const n=this,{store:i,heightMap:o}=n,a=i.count;if(n.allHeightsKnown&&!n.fixedRowHeight){const t=e-n.prependBufferHeight,r=n.grid._rowBorderHeight;let s=0,l=0;for(;s<t;){const e=i.getAt(l);s+=o.get(e.id)+r,l++}const c=Math.max(Math.min(l,a-n.rowCount),0);n.lastScrollTop=e,n.topRow.dataIndex=n.topIndex=c,n.topRow.setTop(n.calculateTop(c),!1),n.refresh()}else{const r=n.preciseRowOffsetHeight,i=null==t?Math.floor(e/r)-n.prependRowBuffer:t-Math.floor(n.rowCount/2),o=Math.max(Math.min(i,a-n.rowCount),0),s=n.client.scrollable.y,l=Math.min(n.client._bodyRectangle.height+s+n.appendBufferHeight,n.totalHeight);if(n.lastScrollTop=e,n.topRow.dataIndex=n.topIndex=o,n.topRow.setTop(Math.floor(o*r),!1),n.refresh(),n.bottomRow.bottom<l)for(n.calculateRowCount(!1,!1,!1);n.bottomRow.bottom<l&&n._rows[n.prependRowBuffer].top<s&&n.bottomRow.dataIndex<a-1;)n.displayRecordAtBottom();n.estimateTotalHeight()}if(null!=t){const{scrollable:i}=n.grid,o=n.getRow(t),a=o&&r.default.from(o._elementsArray[0]).center.y,s=i.viewport.center.y;o&&(i.y=e=Math.floor(i.y+(a-s)))}return e}warpIfNeeded(e){const t=this,n={newScrollTop:e,deltaTop:e-t.lastScrollTop};if(Math.abs(n.deltaTop)>t.rowCount*t.rowOffsetHeight*3){let r;t.scrollTargetRecordId&&(r=t.store.indexOf(t.scrollTargetRecordId)),n.newScrollTop=t.jumpToPosition(e,r),n.deltaTop=0}return n}updateRenderedRows(e,t,n=!1){const r=this,i=r.client._bodyRectangle;if(0===r.rowCount)return 0;let o=r.totalHeight;if(t||Math.abs(e-r.lastScrollTop)>=r.rowOffsetHeight||r.topRow.top>e||r.bottomRow.bottom<e+i.height){const t=r.warpIfNeeded(e);r.scrollTargetRecordId=null,r.lastScrollTop=t.newScrollTop,t.deltaTop>0?r.fillBelow(t.newScrollTop):t.deltaTop<0&&r.fillAbove(t.newScrollTop),r.fixedRowHeight||n||r.correctError(t,i,e),o=r.estimateTotalHeight()}return o}correctError(e,t,n){const r=this;let i=0;(r.allHeightsKnown||e.deltaTop<0&&n<2*t.height||e.deltaTop>0&&n>r.totalHeight-2*t.height-3)&&(i=r.topRow.top-r.calculateTop(r.topRow.dataIndex)),i&&(r.offsetRows(-i),r.grid.scrollable.y=r.lastScrollTop=r.grid.scrollable.y-i)}fillAbove(e){const t=this,n=e-t.topRow.top-t.prependBufferHeight;let r=0;for(;r>n&&t.topIndex>0;)r-=t.displayRecordAtTop();t.trigger("renderDone")}fillBelow(e){const t=this,n=e-t.topRow.top-t.prependBufferHeight,r=t.store.count,i=t.rowCount;let o=0;for(;o<n&&t.topIndex+i<r&&t.topRow.top+t.topRow.offsetHeight<e;)o+=t.displayRecordAtBottom();t.trigger("renderDone")}estimateTotalHeight(e=!1){const t=this;if(t.grid.renderingRows)return;const n=t.store.count,r=n-t.heightMap.size,{bottomRow:i}=t;let o;if(t.fixedRowHeight)o=n*t.rowOffsetHeight;else{if(o=t.totalKnownHeight+t.heightMap.size*t.grid._rowBorderHeight+r*t.preciseRowOffsetHeight,i&&r){const e=i.bottom;(e>o||t.topIndex+t.rowCount>=n&&o>e&&e>0)&&(o=e,i.dataIndex<n-1&&(o+=(n-1-i.dataIndex)*t.preciseRowOffsetHeight))}o=Math.floor(o)}return o!==t.totalHeight&&!1!==t.trigger("changeTotalHeight",{totalHeight:o,immediate:e})&&(t._totalHeight=o),o}displayRecordAtTop(){const e=this,t=e.topIndex-1,n=e.store.getAt(t),r=e.bottomRow,i=r.top;return e.trigger("beforeTranslateRow",{row:r,newRecord:n}),r._top=e.topRow.top-e.getOffsetHeight(n),r.estimatedTop=!e.fixedRowHeight,r.render(t,n,!1),r._top=i,r.setBottom(e.topRow.top),r.estimatedTop=!1,e.topIndex--,e._rows.unshift(e._rows.pop()),r.offsetHeight}displayRecordAtBottom(){const e=this,t=e.topIndex+e.rowCount,n=e.store.getAt(t),r=e.topRow;return e.trigger("beforeTranslateRow",{row:r,newRecord:n}),r.dataIndex=t,r.setTop(e.bottomRow.bottom),r.render(t,n,!1),e.topIndex++,e._rows.push(e._rows.shift()),r.offsetHeight}get widgetClass(){}}c._$name="RowManager"},"./lib/Grid/util/BooleanUnicodeSymbol.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{constructor(e){this._value=e}get value(){return this._value}toString(){return Boolean(this.value)?"\u2713":""}}r._$name="BooleanUnicodeSymbol"},"./lib/Grid/util/GridScroller.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/util/Scroller.js");const i={x:1};class o extends r.default{addScroller(e){(this.xScrollers||(this.xScrollers=[])).push(e)}addPartner(e,t=i){"string"===typeof t&&(t={[t]:1}),t.x&&this.xScrollers.forEach((t,n)=>t.addPartner(e.xScrollers[n],"x")),t.y&&super.addPartner(e,"y")}removePartner(e){this.xScrollers.forEach((t,n)=>{t.isDestroyed||t.removePartner(e.xScrollers[n])}),super.removePartner(e)}updateOverflowX(e){this.xScrollers&&this.xScrollers.forEach(t=>t.overflowX=e),this.widget.virtualScrollers.classList[!1===e?"add":"remove"]("b-hide-display")}scrollIntoView(e,t){if(e.nodeType!==Element.ELEMENT_NODE)return super.scrollIntoView(e,t);for(const n of this.xScrollers)if(n.element.contains(e))return n.scrollIntoView(e,t)}set x(e){this.xScrollers&&(this.xScrollers[0].x=e)}get x(){return this.xScrollers?this.xScrollers[0].x:0}}o._$name="GridScroller"},"./lib/Grid/util/ScrollManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/helper/EventHelper.js");class a extends(Object(i.default)(r.default)){static get defaultConfig(){return{zoneWidth:50,scrollSpeed:5,verticalElement:null,direction:"both",monitoring:[],startScrollDelay:500,testConfig:{scrollSpeed:2,startScrollDelay:0}}}startMonitoring(e){const t=this,n=e instanceof HTMLElement?{element:e}:e,r=n.element,i=n.verticalElement||t.verticalElement||r;if(r&&(r.scrollWidth>r.offsetWidth||i.scrollHeight>i.offsetHeight)){if(t.monitoring.find(e=>e.element===r))return;n.direction=n.direction||t.direction,Object.assign(n,{verticalElement:i,scrollManager:t,startScrollLeft:r.scrollLeft,startScrollTop:i.scrollTop,scrollLeft:r.scrollLeft,scrollTop:i.scrollTop,scrollRelativeLeft:0,scrollRelativeTop:0});const e=t.onMouseMove.bind(n);t.mouseMoveDetacher=o.default.on({element:r,mousemove:e,touchmove:e});const a=t.onVerticalElementScroll.bind(n);t.mouseWheelDetacher=o.default.on({element:i,scroll:a}),n.scrollWidth=r.scrollWidth,t.monitoring.push(n)}}stopMonitoring(e){var t,n;const r=this;if(!e)return void r.monitoring.forEach(e=>r.stopMonitoring(e.element));const i=r.monitoring.find(t=>t.element===e);i&&(r.stopScroll(i),null===(t=r.mouseMoveDetacher)||void 0===t||t.call(r),null===(n=r.mouseWheelDetacher)||void 0===n||n.call(r),r.monitoring.splice(r.monitoring.indexOf(i),1))}startScroll(e){e.scrolling=!0,this.performScroll(e)}stopScroll(e){const t=this;e.scrolling=!1,e.scrollRequested&&(t.cancelAnimationFrame(e.frameId),e.scrollRequested=!1),t.clearTimeout(t.scrollTimeout),t.scrollTimeout=null}performScroll(e){if(e.scrolling&&!e.scrollRequested){const t=e.element,n=e.verticalElement;0!==e.scrollDeltaX&&(e.scrollLeft+=e.scrollDeltaX,e.scrollLeft=Math.max(Math.min(e.scrollLeft,e.scrollWidth-t.clientWidth),0),e.scrollRelativeLeft=e.scrollLeft-e.startScrollLeft,t.scrollLeft=e.scrollLeft),0!==e.scrollDeltaY&&(e.scrollTop+=e.scrollDeltaY,e.scrollTop=Math.max(Math.min(e.scrollTop,n.scrollHeight-n.clientHeight),0),e.scrollRelativeTop=e.scrollTop-e.startScrollTop,n.scrollTop=e.scrollTop),0===e.scrollRelativeLeft&&0===e.scrollRelativeTop||!e.callback||e.callback.call(e.thisObj||this,e),e.scrollRequested=!0,e.frameId=this.requestAnimationFrame(()=>{e.scrollRequested=!1,this.performScroll(e)})}}onVerticalElementScroll(){const e=this,t=e.verticalElement;e.callback&&!e.scrolling&&(e.scrollRelativeTop=t.scrollTop-e.startScrollTop,e.callback.call(e.thisObj||this,e))}onMouseMove(e){const t=this,n=t.scrollManager,r=t.element,i=t.verticalElement,o=r.getBoundingClientRect(),a=i.getBoundingClientRect(),s=n.zoneWidth,l=n.scrollSpeed;t.scrollDeltaX=0,"vertical"!==t.direction&&(e.clientX>o.right-s?t.scrollDeltaX=Math.round((s-(o.right-e.clientX))/l)+1:e.clientX<o.left+s&&(t.scrollDeltaX=-Math.round((s+(o.left-e.clientX))/l)-1)),t.scrollDeltaY=0,"horizontal"!==t.direction&&(e.clientY>a.bottom-s?t.scrollDeltaY=Math.round((s-(a.bottom-e.clientY))/l)+1:e.clientY<a.top+s&&(t.scrollDeltaY=-Math.round((s+(a.top-e.clientY))/l)-1)),0===t.scrollDeltaX&&0===t.scrollDeltaY?n.stopScroll(t):n.scrollTimeout||(n.scrollTimeout=n.setTimeout(()=>n.startScroll(t),n.startScrollDelay))}}a._$name="ScrollManager"},"./lib/Grid/util/SubGridScroller.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/util/Scroller.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/helper/DomHelper.js");const a=Promise.resolve(),s={block:"nearest"};class l extends r.default{scrollIntoView(e,t=s){const{xDelta:n,yDelta:r}=this.getDeltaTo(e,t),l=n||r?this.scrollBy(n,r,t):a;return(t.highlight||t.focus)&&l.then(()=>{t.highlight&&(e instanceof i.default?e.translate(-n,-r).highlight():o.default.highlight(e)),t.focus&&e.focus&&e.focus()}),l}scrollBy(e,t,n){const r=t&&this.yScroller.scrollBy(0,t,n),i=e&&super.scrollBy(e,0,n);if(i&&i.cancel&&r&&r.cancel){const e=i.cancel,t=r.cancel;return i.cancel=r.cancel=()=>{e(),t()},Promise.all([i,r])}return i||r||a}scrollTo(e,t,n){const r=null!=t&&this.yScroller.scrollTo(null,t,n),i=null!=e&&super.scrollTo(e,null,n);if(n&&n.animate||this.syncPartners(),i&&i.cancel&&r&&r.cancel){const e=i.cancel,t=r.cancel;return i.cancel=r.cancel=()=>{e(),t()},Promise.all([i,r])}return i||r||a}get viewport(){const e=i.default.from(this.element);return e.intersect(i.default.from(this.yScroller.element))||new i.default(e.x,e.y,e.width,0)}set y(e){this.yScroller&&(this.yScroller.y=e)}get y(){return this.yScroller?this.yScroller.y:0}get maxY(){return this.yScroller?this.yScroller.maxY:0}get scrollHeight(){return this.yScroller?this.yScroller.scrollHeight:0}get clientHeight(){return this.yScroller?this.yScroller.clientHeight:0}}l._$name="SubGridScroller"},"./lib/Grid/util/TableExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/Base.js"),o=n("./lib/Core/helper/ObjectHelper.js");class a extends i.default{static get defaultConfig(){return{target:null,defaultColumnWidth:100,exportDateAsInstance:!0,showGroupHeader:!0,columns:null,indent:!0,indentationSymbol:"\xa0\xa0\xa0\xa0"}}export(e={}){return e=o.default.assign({},this.config,e),this.normalizeColumns(e),this.generateExportData(e)}generateExportData(e){const t=this.generateColumns(e);return{rows:this.generateRows(e),columns:t}}normalizeColumns(e){const t=e.columns||this.target.columns.visibleColumns.filter(e=>!1!==e.exportable);e.columns=t.map(e=>"string"===typeof e?this.target.columns.find(t=>t.field===e)||{field:e}:e)}generateColumns(e){return e.columns.map(t=>this.processColumn(t,e))}generateRows(e){const{columns:t}=e;if(!t.length)return[];const n=this,{target:r}=n;return r.store.map(r=>n.processRecord(r,t,e)).filter(e=>null===e||void 0===e?void 0:e.length)}getColumnType(e,t=this.target.store){let n=e.exportedType||"object";if(void 0===e.exportedType&&e.field){const r=t.modelClass.getFieldDefinition(e.field);r&&"auto"!==r.type&&(n=r.type)}return n}processColumn(e,t){const{target:n}=this,{defaultColumnWidth:r}=t;let{field:i,text:o,width:a,minWidth:s}=e;if(i in n.store.modelClass.fieldMap||(i=""),!o||!a){const e=n.columns.find(e=>e.field===i);o||(o=e&&e.text||i),null==a&&(a=e&&e.width||r)}return a=Math.max(a||r,s||r),{field:i,value:o,width:a,type:this.getColumnType(e)}}processRecord(e,t,n){const{target:i}=this,{showGroupHeader:o,indent:a,indentationSymbol:s}=n;let l;return e?e.isSpecialRow?o&&e.meta.groupRowFor&&(l=t.map(t=>i.features.group.buildGroupHeader({cellElement:r.default.createElement(),grid:i,record:e,column:t}))):l=t.map(t=>{var r;let o=null!==(r=t.field)&&void 0!==r&&r.includes(".")?e.get(t.field):e[t.field],l=t.renderer||t.defaultRenderer;return!l||o&&t.isDateColumn&&n.exportDateAsInstance||(o=l.call(t,{value:o,record:e,column:t,grid:i,isExport:!0})),a&&t.tree&&(o=`${s.repeat(e.childLevel)}${o}`),o}):l=t.map(()=>""),l}}a._$name="TableExporter"},"./lib/Grid/view/Bar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js");class a extends r.default{static get $name(){return"Bar"}static get type(){return"gridbar"}static get defaultConfig(){return{htmlCls:"",scrollable:{}}}get columns(){return this._columns||this.subGrid.columns}set columns(e){this._columns=e}fixCellWidths(){const e=this;let t,n=!1;e.columns.traverse(r=>{const a=e.getBarCellElement(r.id),s=i.default.setLength(r.width),l=i.default.setLength(r.minWidth);if(a){if(t=o.default.isIE11?`calc(${s} - ${e.getLrPadding(a)}px)`:s,n=n||Boolean(r.flex),r.isParent&&null==r.width&&null==r.flex){const e=r.children.reduce((e,t)=>e+(!t.hidden&&t.flex||0),0);a.style.flex=e>0?e+" 0 auto":"",e>0&&r.traverse(e=>e.data.minWidth=null)}else if(parseInt(r.minWidth)>=0&&(a.style.minWidth=l),a.style.flex=a.style.flexBasis=a.style.width="",r.flex)!isNaN(parseInt(r.flex))&&r.children?a.style.flex=r.flex+" 0 auto":a.style.flex=r.flex;else if(parseInt(r.width)>=0){const n=r.parent;!e.isHeader||n.isRoot||n.width?a.style.flexBasis=t:a.style.width=s}r.height>=0&&(a.style.height=i.default.setLength(r.height))}}),e.element.classList[n?"add":"remove"]("b-has-flex")}getLrPadding(e){if(!this.cellLrPadding){const t=e.ownerDocument.defaultView.getComputedStyle(e);this.cellLrPadding=parseInt(t.getPropertyValue("padding-left"))+parseInt(t.getPropertyValue("padding-right"))+parseInt(t.getPropertyValue("border-left-width"))+parseInt(t.getPropertyValue("border-right-width"))}return this.cellLrPadding}getBarCellElement(e){return this.element.querySelector(`[data-column-id="${e}"]`)}}a.initClass(),a._$name="Bar"},"./lib/Grid/view/Footer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/TemplateHelper.js"),i=n("./lib/Grid/view/Bar.js");class o extends i.default{static get $name(){return"Footer"}static get type(){return"gridfooter"}startConfigure(e){e.scrollable.overflowX="hidden-scroll",super.startConfigure(e)}get subGrid(){return this._subGrid}set subGrid(e){this._subGrid=this.owner=e}refreshContent(){this.element.firstElementChild.innerHTML=this.contentTemplate(),this.fixFooterWidths()}onPaint({firstPaint:e}){e&&this.refreshContent()}template(){const e=this.subGrid.region;return r.default.tpl`
            <div class="b-grid-footer-scroller b-grid-footer-scroller-${e}">
                <div data-reference="footersElement" class="b-grid-footers b-grid-footers-${e}" data-region="${e}"></div>
            </div>
        `}get overflowElement(){return this.footersElement}getFooter(e){return this.getBarCellElement(e)}contentTemplate(){return this.columns.visibleColumns.map(e=>e.hidden?"":r.default.tpl`
                <div
                    class="b-grid-footer ${e.align?"b-grid-footer-align-"+e.align:""} ${e.cls||""}"
                    data-column="${e.field||""}" data-column-id="${e.id}" data-all-index="${e.allIndex}"
                    >
                    ${e.footerText||""}
                </div>`).join("")}fixFooterWidths(){this.fixCellWidths()}}o.initClass(),o._$name="Footer"},"./lib/Grid/view/Grid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Grid/view/GridBase.js");n("./lib/Grid/feature/CellEdit.js"),n("./lib/Grid/feature/CellMenu.js"),n("./lib/Grid/feature/ColumnAutoWidth.js"),n("./lib/Grid/feature/ColumnDragToolbar.js"),n("./lib/Grid/feature/ColumnPicker.js"),n("./lib/Grid/feature/ColumnReorder.js"),n("./lib/Grid/feature/ColumnResize.js"),n("./lib/Grid/feature/ContextMenu.js"),n("./lib/Grid/feature/Filter.js"),n("./lib/Grid/feature/FilterBar.js"),n("./lib/Grid/feature/Group.js"),n("./lib/Grid/feature/HeaderMenu.js"),n("./lib/Grid/feature/Sort.js"),n("./lib/Grid/feature/Stripe.js"),n("./lib/Grid/column/CheckColumn.js");class i extends r.default{static get $name(){return"Grid"}static get type(){return"grid"}}i.initClass(),i._$name="Grid"},"./lib/Grid/view/GridBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/AjaxStore.js"),o=n("./lib/Core/data/DomDataStore.js"),a=n("./lib/Core/data/Store.js"),s=n("./lib/Core/helper/ArrayHelper.js"),l=n("./lib/Core/helper/BrowserHelper.js"),c=n("./lib/Core/helper/DomHelper.js"),d=n("./lib/Core/helper/EventHelper.js"),u=n("./lib/Core/helper/ObjectHelper.js"),h=n("./lib/Core/helper/util/Rectangle.js"),f=n("./lib/Core/helper/VersionHelper.js"),g=n("./lib/Core/widget/Mask.js"),m=n("./lib/Core/widget/Panel.js"),p=n("./lib/Core/GlobalEvents.js"),v=n("./lib/Core/localization/LocaleManager.js"),b=n("./lib/Core/mixin/Pluggable.js"),y=n("./lib/Core/mixin/State.js"),C=n("./lib/Grid/data/ColumnStore.js"),S=n("./lib/Grid/data/GridRowModel.js"),w=n("./lib/Grid/row/RowManager.js"),E=n("./lib/Grid/util/ScrollManager.js"),D=n("./lib/Grid/util/GridScroller.js"),x=n("./lib/Grid/view/Header.js"),j=n("./lib/Grid/view/Footer.js"),T=n("./lib/Grid/view/mixin/GridElementEvents.js"),R=n("./lib/Grid/view/mixin/GridFeatures.js"),M=n("./lib/Grid/view/mixin/GridNavigation.js"),k=n("./lib/Grid/view/mixin/GridResponsive.js"),P=n("./lib/Grid/view/mixin/GridSelection.js"),O=n("./lib/Grid/view/mixin/GridState.js"),F=n("./lib/Grid/view/mixin/GridSubGrids.js"),A=n("./lib/Core/mixin/LoadMaskable.js"),I=n("./lib/Grid/column/Column.js");n("./lib/Grid/localization/En.js");const L=new Promise(e=>e()),H={block:"nearest",inline:"nearest"},_={dataset:1,pageLoad:1,filter:1};class B extends(m.default.mixin(b.default,y.default,T.default,R.default,M.default,k.default,P.default,O.default,F.default,A.default)){static get $name(){return"GridBase"}static get type(){return"gridbase"}static get delayable(){return{onGridScroll:{type:"raf"},bufferedAfterColumnsResized:250,bufferedElementResize:250}}static get configurable(){return{autoHeight:null,enableSticky:null,enableTextSelection:null,fillLastColumn:!0,positionMode:"translate",showDirty:null,subGridConfigs:{normal:{flex:1}},store:{value:{},$config:"nullify"},rowManager:{value:{},$config:["nullify","lazy"]},columns:{value:[],$config:"nullify"},hideFooters:!0,contentElMutationObserver:!1}}static get defaultConfig(){return{rowHeight:null,fixedRowHeight:null,defaultRowHeight:45,emptyText:"L{noRows}",fullRowRefresh:!0,hideHeaders:null,preserveScrollOnDatasetChange:null,preserveFocusOnDatasetChange:!0,showRemoveRowInContextMenu:!0,data:null,defaultRegion:"normal",destroyStore:null,maskDefaults:{cover:"body",target:"element"},columnLines:!0,resizeToFitIncludesHeader:!0,animateRemovingRows:!l.default.isIE11,disableGridRowModelWarning:null,headerClass:x.default,footerClass:j.default,testPerformance:!1,rowScrollMode:"move",monitorResize:!0,features:!0,scrollable:{overflowY:!0},scrollerClass:D.default,scrollManager:null,refreshSuspended:0,transitionDuration:500,contextMenuTriggerEvent:"contextmenu",localizableProperties:["emptyText"],asyncEventSuffix:""}}static getLKey(){return"597fc517-c472-11eb-b8b7-d094663d5c88"}static get properties(){return{_selectedRecords:[],_verticalScrollHeight:0,virtualScrollHeight:0,_scrollTop:null}}static get deprecatedEvents(){return{cellContextMenuBeforeShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`cellContextMenuBeforeShow` event is deprecated, in favor of `cellMenuBeforeShow` event. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."},cellContextMenuShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`cellContextMenuShow` event is deprecated, in favor of `cellMenuShow` event. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."},headerContextMenuBeforeShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`headerContextMenuBeforeShow` event is deprecated, in favor of `headerMenuBeforeShow` event. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."},headerContextMenuShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`headerContextMenuShow` event is deprecated, in favor of `headerMenuShow` event. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."},contextMenuItem:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`contextMenuItem` event is deprecated, in favor of `cellMenuItem` and `headerMenuItem` events. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."},contextMenuToggleItem:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`contextMenuToggleItem` event is deprecated, in favor of `cellMenuToggleItem` and `headerMenuToggleItem` events. Please see https://bryntum.com/docs/grid/#Grid/guides/upgrades/4.0.0.md for more information."}}}finishConfigure(e){const t=this;super.finishConfigure(e),t.scrollManager=E.default.new({grid:t,verticalElement:t.scrollable.element},t.scrollManager),v.default.on({locale:"onBeforeLocaleChange",prio:1,thisObj:t}),v.default.on({locale:"onLocaleChange",prio:-1,thisObj:t}),p.default.on({theme:"onThemeChange",thisObj:t}),t.on({subGridExpand:"onSubGridExpand",prio:-1,thisObj:t}),t.bufferedFixElementHeights=t.buffer("fixElementHeights",350,t),t.setGridClassList(t.element.classList)}onSubGridExpand(){this.renderContents()}onBeforeLocaleChange(){this._suspendRenderContentsOnColumnsChanged=!0}onLocaleChange(){this._suspendRenderContentsOnColumnsChanged=!1,this.isPainted&&this.renderContents()}finalizeInit(){super.finalizeInit(),this.store.isLoading&&this.onStoreBeforeRequest()}doDestroy(){const e=this;e.detachListeners("GridBase:store"),e.scrollManager.destroy();for(const n of Object.values(e.features)){var t;null===(t=n.destroy)||void 0===t||t.call(n)}e.columns.destroy(),super.doDestroy()}setGridClassList(e){Object.values(this.features).forEach(t=>{if(t.disabled)return;let n;n=Object.prototype.hasOwnProperty.call(t.constructor,"featureClass")?t.constructor.featureClass:"b-"+(t instanceof r.default?t.$$name:t.constructor.name),n&&e.add(n.toLowerCase())})}compose(){const{autoHeight:e,enableSticky:t,enableTextSelection:n,fillLastColumn:r,positionMode:i,showDirty:o}=this;return{class:{["b-grid-"+i]:1,"b-enable-sticky":t,"b-grid-notextselection":!n,"b-autoheight":e,"b-fill-last-column":r,"b-show-dirty":o}}}get bodyConfig(){const{autoHeight:e,hideFooters:t,hideHeaders:n}=this;return{reference:"bodyElement",className:{"b-autoheight":e,"b-grid-panel-body":1},children:{headerContainer:{tag:"header",className:{"b-grid-header-container":1,"b-hidden":n}},bodyContainer:{className:"b-grid-body-container",tabIndex:-1,children:{verticalScroller:{className:"b-grid-vertical-scroller"}}},virtualScrollers:{className:"b-virtual-scrollers b-hide-display",style:l.default.isFirefox?{height:c.default.scrollBarWidth+"px"}:void 0},footerContainer:{tag:"footer",className:{"b-grid-footer-container":1,"b-hidden":t}}}}}get contentElement(){return this.verticalScroller}get overflowElement(){return this.bodyContainer}get focusElement(){return this.bodyContainer}updateHideFooters(e){var t;null===(t=this.footerContainer)||void 0===t||t.classList[e?"add":"remove"]("b-hidden")}changeColumns(e,t){const n=this;if(!e&&t)return n.isDestroying?t.owner===n&&t.destroy():t.removeAll(),t;if(e.isStore)return(null===t||void 0===t?void 0:t.owner)===n&&t.destroy(),e.grid=n,e;if(Array.isArray(e)){if(t)return t.data=e,t;e={data:e}}if(t)throw new Error("Replacing ColumnStore is not supported");return C.default.new({grid:n,owner:n},e)}updateColumns(e){const t=this;e.on("change",t.onColumnsChanged,t),e.on(Object(C.columnResizeEvent)(t.onColumnsResized,t)),l.default.isTouchDevice&&(t.touch=!0,e.forEach(e=>{const{touchConfig:t}=e;t&&e.applyState(t)}))}onColumnsChanged({action:e,changes:t,record:n}){const r=this;if(r.isPainted){if("update"===e){if("width"in t||"minWidth"in t||"flex"in t){const e=n.region;return void r.columns.visibleColumns.forEach(t=>{t.region===e&&t.repaintOnResize&&r.refreshColumn(t)})}if("hidden"in t){const e=r.getSubGridFromColumn(n.id);e.header.fixHeaderWidths(),e.footer.fixFooterWidths(),e.updateHasFlex()}}if("dataset"===e||"update"===e&&"region"in t){const e=r.columns.getDistinctValues("region"),{toRemove:t,toAdd:n}=s.default.delta(e,r.regions,!0);r.remove(t.map(e=>r.getSubGrid(e))),r.add(n.map(e=>r.createSubGrid(e)))}r._suspendRenderContentsOnColumnsChanged||r.renderContents()}}onColumnsResized({changes:e,record:t}){const n=this;if(n.isConfiguring)return;const r=c.default.setLength(t.width),i=c.default.setLength(t.minWidth),o=n.getSubGridFromColumn(t.id);o.header.fixHeaderWidths(),o.footer.fixFooterWidths(),o.updateHasFlex(),n.cellEls&&t===n.lastColumnResized||(n.cellEls=c.default.children(n.element,`.b-grid-cell[data-column-id="${t.id}"]`),n.lastColumnResized=t);for(const s of n.cellEls){var a;"width"in e&&(s.style.width=r,l.default.isIE11&&(s.style.flex="",s.style.minWidth=c.default.setLength(t.calcMinWidth))),"minWidth"in e&&(s.style.minWidth=i),"flex"in e&&(s.style.flex=null!==(a=t.flex)&&void 0!==a?a:null)}n.resizingColumns||n.afterColumnsResized()}afterColumnsResized(){const e=this;e.eachSubGrid(e=>{e.collapsed||(e.fixWidths(),e.fixRowWidthsInSafariEdge())}),e.lastColumnResized=e.cellEls=null,e.bufferedAfterColumnsResized(),e.onHeightChange()}bufferedAfterColumnsResized(){this.columns.usesAutoHeight&&this.refreshRows(),this.refreshVirtualScrollbars(),this.eachSubGrid(e=>{e.collapsed||e.refreshFakeScroll()})}processCellEditor(e){}bufferedElementResize(e,t,n,r){this.isPainted&&t!==r&&this.columns.usesFlexAutoHeight&&this.refreshRows()}onInternalResize(...e){super.onInternalResize(...e),this.bufferedElementResize(...e)}changeRowManager(e,t){const n=this;if(n._isRowMeasured||n.measureRowHeight(),null===t||void 0===t||t.destroy(),e){const t=w.default.new({grid:n,rowHeight:n.rowHeight,rowScrollMode:n.rowScrollMode||"move",autoHeight:n.autoHeight,fixedRowHeight:n.fixedRowHeight,listeners:{changeTotalHeight:n.onRowManagerChangeTotalHeight,requestScrollChange:n.onRowManagerRequestScrollChange,thisObj:n}},e);return n._rowManager=null,t}}getRowHeight(e){return e.rowHeight}bindStore(e){const t=this.asyncEventSuffix;e.on({name:"GridBase:store",["refresh"+t]:"onStoreDataChange",["add"+t]:"onStoreAdd",["remove"+t]:"onStoreRemove",["move"+t]:"onStoreMove",["replace"+t]:"onStoreReplace",["removeAll"+t]:"onStoreRemoveAll",idChange:"onStoreRecordIdChange",update:"onStoreUpdateRecord",beforeRequest:"onStoreBeforeRequest",afterRequest:"onStoreAfterRequest",clearChanges:"onStoreDataChange",exception:"onStoreException",commit:"onStoreCommit",thisObj:this}),super.bindStore(e)}unbindStore(e){this.detachListeners("GridBase:store"),this.destroyStore&&e.destroy()}changeStore(e){return null==e?null:("string"===typeof e&&(e=a.default.getStore(e)),e instanceof a.default||((e=u.default.assign({data:this.data,tree:Boolean(null===(t=this.initialConfig.features)||void 0===t?void 0:t.tree)},e)).data||delete e.data,e.modelClass||(e.modelClass=class extends S.default{}),e=new(e.readUrl?i.default:a.default)(e)),e);var t}updateStore(e,t){const n=this;var r;t&&n.unbindStore(t),e&&(t&&n.deselectAll(),n.bindStore(e)),n.trigger("bindStore",{store:e,oldStore:t}),n.isDestroying||!n.isPainted||n.refreshSuspended||null===(r=n._rowManager)||void 0===r||r.reinitialize()}onStoreUpdateRecord({source:e,record:t,changes:n}){const r=this;if(r.forceFullRefresh)r.rowManager.refresh(),r.forceFullRefresh=!1;else{let i;if(t.isFieldModified("id")&&(i=r.getRowFor(t.meta.modified.id)),i=i||r.getRowFor(t),!i)return;if(r.fullRowRefresh||t.isSpecialRow){const n=e.indexOf(t);-1!==n&&i.render(n,t)}else r.columns.visibleColumns.forEach(e=>{const r=e.field;if(!e.constructor.simpleRenderer||Object.prototype.hasOwnProperty.call(e.data,"renderer")||n[r]){const e=i.getCell(r);e&&i.renderCell({cellElement:e,record:t})}})}}refreshFromRowOnStoreAdd(e,t){const n=this,{rowManager:r}=n;r.renderFromRow(e),r.trigger("changeTotalHeight",{totalHeight:r.totalHeight}),1===n.store.count&&n.callEachSubGrid("refreshFakeScroll")}onMaskAutoClose(e){super.onMaskAutoClose(e),this.toggleEmptyText()}onStoreAdd({source:e,records:t,index:n,oldIndex:r,isChild:i,oldParent:o,isMove:a,isExpandAll:s}){if(!this.isPainted||s)return;if(i&&!t[0].ancestorsExpanded(e))return;this.rowManager.calculateRowCount(!1,!0,!0),e.isFiltered&&(n=e.indexOf(t[0]));const l=this,{rowManager:c}=l,{topIndex:d,rows:u,rowCount:h}=c,f=c.topIndex+c.rowCount-1,g=n,m=n+t.length-1,p=f>=e.count-t.length-1;if(o||r>-1||i&&a)c.refresh();else if(g>=d&&g<d+h)l.refreshFromRowOnStoreAdd(u[g-d],...arguments);else if(m>=d&&m<d+h)c.refresh();else{const{totalHeight:e}=c;p&&n>f&&c.fillBelow(l._scrollTop||0),e!==c.totalHeight&&c.trigger("changeTotalHeight",{totalHeight:c.totalHeight})}}onStoreException({action:e,type:t,response:n,exceptionType:r,error:i}){const o=this;let a;switch(t){case"server":a=n.message||o.L("L{unspecifiedFailure}");break;case"exception":a="network"===r?o.L("L{networkFailure}"):i&&i.message||o.L("L{parseFailure}")}o.applyMaskError(`<div class="b-grid-load-failure">\n                <div class="b-grid-load-fail">${o.L("read"===e?"L{loadFailedMessage}":"L{syncFailedMessage}")}</div>\n                <div class="b-grid-load-fail">${n&&n.url?n.url+" responded with":""}</div>\n                <div class="b-grid-load-fail">${a}</div>\n            </div>`)}onStoreDataChange({action:e,changes:t,source:n}){if(this.suspendRendering)return;super.onStoreDataChange&&super.onStoreDataChange(...arguments);const r=this,i=n.isGrouped&&t&&n.groupers.some(e=>e.field in t);"dataset"===e&&r.rowManager.clearKnownHeights(),r.isPainted&&!i&&r.renderRows(Boolean(!(e in _)||r.preserveScrollOnDatasetChange)),r.toggleEmptyText()}onStoreRecordIdChange(){super.onStoreRecordIdChange&&super.onStoreRecordIdChange(...arguments)}onStoreBeforeRequest(){this.applyLoadMask()}onStoreAfterRequest(e){this.loadMask&&!e.exception&&(this.masked=null,this.toggleEmptyText())}needsFullRefreshOnStoreRemove(){const e=this._features;return(null===e||void 0===e?void 0:e.group)&&!e.group.disabled||(null===e||void 0===e?void 0:e.groupSummary)&&!e.groupSummary.disabled}onStoreRemove({records:e,isCollapse:t,isChild:n,isMove:r,isCollapseAll:i}){if(!this.isPainted||r||i)return;super.onStoreRemove&&super.onStoreRemove(...arguments);let o=2**53-1;const a=this,{rowManager:s}=a,l=e.reduce((e,t)=>{const n=s.getRowById(t.id);return n&&(e.push(n),o=Math.min(o,s.rows.indexOf(n))),e},[]);if(s.invalidateKnownHeight(e),a.animateRemovingRows&&l.length&&!t&&!n){const e=l[0];a.isAnimating=!0,d.default.onTransitionEnd({element:e._elementsArray[0],property:"left",duration:a.transitionDuration,thisObj:a,handler(){a.isAnimating=!1,l.forEach(e=>!e.isDestroyed&&e.removeCls("b-removing")),s.refresh(),a.trigger("rowRemove")}}),l.forEach(e=>e.addCls("b-removing"))}else a.needsFullRefreshOnStoreRemove(...arguments)?s.refresh():(s.calculateRowCount(!1,!0,!0),s.rows[o]?s.renderFromRow(s.rows[o]):s.trigger("changeTotalHeight",{totalHeight:s.totalHeight}),a.trigger("rowRemove",{isCollapse:t}))}onStoreMove({from:e,to:t}){const{rowManager:n}=this,{topIndex:r,rowCount:i}=n,[o,a]=[e,t].sort();o>=r&&o<r+i?n.renderFromRow(n.rows[o-r]):a>=r&&a<r+i&&n.refresh()}onStoreReplace({records:e,all:t}){const{rowManager:n}=this;if(t)n.clearKnownHeights(),n.refresh();else{const t=e.reduce((e,[,t])=>{const n=this.getRowFor(t);return n&&e.push(n),e},[]);n.invalidateKnownHeight(e),n.renderRows(t)}}onStoreRemoveAll(){super.onStoreRemoveAll&&super.onStoreRemoveAll(...arguments),this.isPainted&&(this.rowManager.clearKnownHeights(),this.renderRows(),this.toggleEmptyText())}onStoreCommit({changes:e}){if(this.showDirty&&e.modified.length){const t=[];e.modified.forEach(e=>{const n=this.rowManager.getRowFor(e);n&&t.push(n)}),this.rowManager.renderRows(t)}}get data(){return this._store?this._store.records:this._data}set data(e){this._store?this._store.data=e:this._data=e}get emptyText(){return this._emptyText}set emptyText(e){this._emptyText=e,this.eachSubGrid(t=>t.emptyText=e)}populateHeaderMenu({column:e,items:t}){const n=this,{subGrids:r,regions:i}=n;let o=!0;Object.entries(r).forEach(([a,s])=>{if(!s.sealedColumns&&e.draggable&&a!==e.region&&(!e.parent&&r[e.region].columns.count>1||e.parent&&e.parent.children.length>1)){const l=s.element.compareDocumentPosition(r[e.region].element)===document.DOCUMENT_POSITION_PRECEDING,c=i.length>2?n.L("L{moveColumnTo}",n.optionalL(a)):n.L(l?"L{moveColumnRight}":"L{moveColumnLeft}");t[a+"Region"]={targetSubGrid:a,text:c,icon:"b-fw-icon "+(l?"b-icon-column-move-right":"b-icon-column-move-left"),name:"moveColumn",cls:o?"b-separator":"",onItem:({item:t})=>{e.traverse(e=>e.region=a),n.columns.insert(n.columns.indexOf(r[t.targetSubGrid].columns.last)+1,e),n.scrollColumnIntoView(e)}},o=!1}})}populateCellMenu({record:e,items:t}){var n;const r=this;if((null===(n=r.features)||void 0===n?void 0:n.contextMenu)&&!r.features.contextMenu.disabled&&r.showRemoveRowInContextMenu&&!r.readOnly&&e&&!e.isSpecialRow){const n=r.selectedRecords.length>1;t.removeRow={text:n?"L{removeRows}":"L{removeRow}",localeClass:this,icon:"b-fw-icon b-icon-trash",name:n?"removeRows":"removeRow",onItem:()=>r.store.remove(n?r.selectedRecords:e)}}}getColumnDragToolbarItems(e,t){return t}normalizeCellContext(e){const{columns:t,store:n}=this;if(e instanceof n.modelClass)return{record:e,id:e.id,columnId:t.bottomColumns[0].id};if(!("columnId"in e)){if("field"in e){const n=t.get(e.field);e.columnId=n&&n.id}else if("column"in e){const n="number"===typeof e.column?t.bottomColumns[e.column]:e.column;e.columnId=n&&n.id}"columnId"in e||(e.columnId=t.bottomColumns[0].id)}if("id"in e){if(e.element&&!n.getById(e.id)){const t=this.getRecordFromElement(e.element);t&&(e.id=t.id)}}else{const t="row"in e?n.getAt(e.row):e.record;t&&(e.id=t.id)}return e}getCell(e){let t,n=null;return"id"in(e=this.normalizeCellContext(e))&&(t=this.getRowById(e.id)),t&&"columnId"in e&&(n=t.getCell(e.columnId)),n}getHeaderElement(e){return"string"!==typeof e&&(e=e.id),this.fromCache(`.b-grid-header[data-column-id="${e}"]`)}getHeaderElementByField(e){const t=this.columns.get(e);return t?this.getHeaderElement(t):null}get bodyHeight(){return this._bodyHeight}get headerHeight(){const e=this;return e.isPainted&&!e._headerHeight&&(e._headerHeight=e.headerContainer.offsetHeight),e._headerHeight}getRecordFromElement(e){const t=e.closest(".b-grid-row");return t?this.store.getAt(t.dataset.index):null}getColumnFromElement(e){const t=c.default.up(e,".b-grid-cell, .b-grid-header");if(!t)return null;if(t.matches(".b-grid-header"))return this.columns.getById(t.dataset.columnId);const n=o.default.get(t);return this.columns.getById(n.columnId)}updateAutoHeight(e){u.default.assertBoolean(e,"autoHeight")}get columnLines(){return this._columnLines}set columnLines(e){u.default.assertBoolean(e,"columnLines"),c.default.toggleClasses(this.element,"b-no-column-lines",!e),this._columnLines=e}fixSizes(){this.callEachSubGrid("fixWidths")}onRowManagerChangeTotalHeight({totalHeight:e,immediate:t}){return this.refreshTotalHeight(e,t)}refreshTotalHeight(e=this.rowManager.totalHeight,t=!1){const n=this;if(n.renderingRows||!n.isVisible)return!1;n.rowManager.bottomRow&&(e=Math.max(e,n.rowManager.bottomRow.bottom));const r=n.scrollable,i=Math.abs(n.virtualScrollHeight-e),o=n._bodyRectangle.height;if(i){const a=e-o-n._scrollTop<2*o||n._verticalScrollHeight&&n._verticalScrollHeight-o<n._scrollTop;r.scrollHeight=n.virtualScrollHeight=e,n.isPainted&&(n.scrolling&&!a||i<100)&&!t?n.bufferedFixElementHeights():(n.virtualScrollHeightDirty&&n.virtualScrollHeightDirty(),n.bufferedFixElementHeights.cancel(),n.fixElementHeights())}}fixElementHeights(){const e=this,t=e.virtualScrollHeight,n=t+"px";e._verticalScrollHeight=t,e.verticalScroller.style.height=n,e.virtualScrollHeightDirty=!1,e.autoHeight&&(e.bodyContainer.style.height=n,e._bodyHeight=t,e._bodyRectangle=h.default.client(e.bodyContainer)),e.refreshVirtualScrollbars()}set scrolling(e){this._scrolling=e}get scrolling(){return this._scrolling}enableScrollingCloseToEdges(e){"string"===typeof e&&(e=this.subGrids[e]),this.scrollManager.startMonitoring({element:e.element})}disableScrollingCloseToEdges(e){"string"===typeof e&&(e=this.subGrids[e]),this.scrollManager.stopMonitoring(e.element)}onRowManagerRequestScrollChange({bottom:e}){this.scrollable.y=e-this.bodyHeight}initScroll(){const e=this;if(!e.scrollInitialized){let t;const n=e.createOnFrame(()=>{t=e.scrollable.y,t!==e._scrollTop&&(e._scrollTop=t,e.scrolling||(e.scrolling=!0,e.eachSubGrid(e=>e.suspendResizeMonitor=!0)),e.rowManager.updateRenderedRows(t),e.trigger("scroll",{scrollTop:t}))});e.scrollInitialized=!0,e.scrollable.on({scroll:n,scrollend(){e.scrolling=!1,e.eachSubGrid(e=>e.suspendResizeMonitor=!1)}}),e.callEachSubGrid("initScroll")}}scrollRowIntoView(e,t=H){const n=this,r=t.block||"nearest",{rowManager:i}=n;if(e=n.store.getById(e)){if(-1===n.store.indexOf(e))return L;let o=n.scrollable,a=n.getRecordCoords(e);const s=h.default.from(o.element);if(a.virtual){const l=a.block;if(o.scrollIntoView(a,{block:"center"}),i.scrollTargetRecordId=e,i.updateRenderedRows(o.y,!0),a=n.getRecordCoords(e),i.lastScrollTop=o.y,a.virtual)return L;const c="nearest"!==r?t:{block:l};return t.animate?(o.suspendEvents(),"end"===r||"nearest"===r&&"end"===l?o.y-=s.bottom-a.bottom:("start"===r||"nearest"===r&&"start"===l)&&(o.y+=a.y-s.y),i.updateRenderedRows(o.y,!1,!0),"end"===l?o.y-=i.appendRowBuffer*i.rowHeight-1:o.y+=i.prependRowBuffer*i.rowHeight-1,o.scrollIntoView(n.getRecordCoords(e),Object.assign({},t,c)).then(()=>o.resumeEvents())):n.scrollRowIntoView(e,Object.assign({},t,c))}{let{column:r}=t;if(r){if("string"===typeof r&&(r=n.columns.getById(r)||n.columns.get(r)),r){o=n.getSubGridFromColumn(r).scrollable;const t=h.default.from(i.getRowFor(e).getCell(r.id));a.x=t.x,a.width=t.width}}else t.x=!1;return o.scrollIntoView(a,t)}}}scrollColumnIntoView(e,t){return e=e instanceof I.default?e:this.columns.get(e)||this.columns.getById(e)||this.columns.getAt(e),this.getSubGridFromColumn(e).scrollColumnIntoView(e,t)}scrollCellIntoView(e,t){return this.scrollRowIntoView(e.id,Object.assign({column:e.columnId},"boolean"===typeof t?{animate:t}:t))}scrollToBottom(e){return this.scrollRowIntoView(this.store.last,e)}scrollToTop(e){return this.scrollable.scrollBy(0,-this.scrollable.y,e)}storeScroll(){const e=this.storedScrollState={scrollTop:this.scrollable.y,scrollLeft:{}};return this.eachSubGrid(t=>{e.scrollLeft[t.region]=t.scrollable.x}),e}restoreScroll(e=this.storedScrollState){this.eachSubGrid(t=>{var n;const r=e.scrollLeft[t.region];t.scrollable.updateX(r),t.header.scrollable.updateX(r),t.footer.scrollable.updateX(r),null===(n=t.fakeScroller)||void 0===n||n.updateX(r)}),this.scrollable.updateY(e.scrollTop)}beginGridMeasuring(){const e=this;if(e.$measureCellElements||(e.$measureCellElements=c.default.createElement({className:"b-grid-subgrid "+(!e._isRowMeasured&&e.hasFeature("stripe")?"b-stripe":""),reference:"subGridElement",style:{position:"absolute",top:"-10000px",left:"-100000px",visibility:"hidden",contain:"strict"},children:[{className:"b-grid-row",reference:"rowElement",children:[{className:"b-grid-cell",reference:"cellElement",style:{width:"auto",contain:l.default.isFirefox?"layout paint":"layout style paint"}}]}]})),e.getConfig("element"),e.verticalScroller.appendChild(e.$measureCellElements.subGridElement),!e.rendered){const t=e.appendTo||e.insertBefore||document.body,n=c.default.getRootElement("string"===typeof t?document.getElementById(t):t);e.adopt&&n.contains(e.element)||(n.appendChild(e.element),e.$removeAfterMeasuring=!0)}return e.$measureCellElements}endGridMeasuring(){this.$removeAfterMeasuring&&(this.element.remove(),this.$removeAfterMeasuring=!1),this.$measureCellElements.subGridElement.remove()}measureRowHeight(){const e=this,{rowElement:t}=e.beginGridMeasuring(),n=c.default.getStyleValue(t,["height","border-top-width","border-bottom-width"]),r=parseInt(n.height),i=l.default.isFirefox?devicePixelRatio:1,o=n["border-top-width"]?Math.round(i*parseFloat(n["border-top-width"])):0,a=n["border-bottom-width"]?Math.round(i*parseFloat(n["border-bottom-width"])):0;null!=e.rowHeight&&e.rowHeight!==e._rowHeightFromStyle||(e.rowHeight=!isNaN(r)&&r?r:e.defaultRowHeight,e._rowHeightFromStyle=e.rowHeight),e._rowBorderHeight=o+a,e._isRowMeasured=!0,e.endGridMeasuring()}onThemeChange({theme:e}){this.measureRowHeight(),this.trigger("theme",{theme:e})}refreshRows(e=!1){const{element:t,rowManager:n}=this;t.classList.add("b-notransition"),e?n.returnToTop():n.refresh(),t.classList.remove("b-notransition")}refreshColumn(e){if(!e.hidden){const{field:t}=e;this.rowManager.forEach(e=>{const n=e.getCell(t);e.renderCell({cellElement:n})})}}refreshVirtualScrollbars(){const e=this,{headerContainer:t,footerContainer:n,virtualScrollers:r,hasVerticalOverflow:i}=e,{classList:o}=r,a=!o.contains("b-hide-display"),s=Object.values(e.subGrids).some(e=>e.overflowingHorizontally),l=s!==a,d=i?"add":"remove";l&&r.classList[s?"remove":"add"]("b-hide-display"),c.default.scrollBarWidth&&(t.classList[d]("b-show-yscroll-padding"),n.classList[d]("b-show-yscroll-padding"),r.classList[d]("b-show-yscroll-padding"),l&&(s&&e.callEachSubGrid("refreshFakeScroll"),e.onHeightChange()))}get hasVerticalOverflow(){const{scrollable:e}=this;return l.default.isEdge||l.default.isIE11?Math.abs(e.scrollHeight-e.clientHeight)>1:e.scrollHeight>e.clientHeight}get contentHeight(){const e=this.rowManager;return Math.max(e.totalHeight,e.bottomRow?e.bottomRow.bottom:0)}onContentChange(){const e=this,t=e.rowManager;e.isVisible?(t.estimateTotalHeight(),e.paintListener=null,e.refreshTotalHeight(e.contentHeight),e.callEachSubGrid("refreshFakeScroll"),e.onHeightChange()):e.paintListener||(e.paintListener=e.on({paint:"onContentChange",once:!0,thisObj:e}))}onHeightChange(){const e=this;e._bodyRectangle=h.default.client(e.bodyContainer),e._bodyHeight=e.autoHeight?e.contentHeight:e.bodyContainer.offsetHeight}renderHeader(e,t){}renderFooter(e,t){}suspendRefresh(){this.refreshSuspended++}resumeRefresh(e){this.refreshSuspended&&!--this.refreshSuspended&&(e&&this.refreshRows(),this.trigger("resumeRefresh"))}renderRows(e=!0){const t=this,n=e&&t.storeScroll();t.refreshSuspended||(t.trigger("beforeRenderRows"),t.renderingRows=!0,t.element.classList.add("b-grid-refreshing"),e||(t.scrollable.y=t._scrollTop=0),t.rowManager.reinitialize(!e),t.trigger("renderRows"),t.renderingRows=!1,t.onContentChange(),e&&t.restoreScroll(n),t.element.classList.remove("b-grid-refreshing"))}renderContents(){const e=this,{element:t,headerContainer:n,footerContainer:r,rowManager:i}=e;if(e.emptyCache(),e.isPainted){e._headerHeight=null,e.callEachSubGrid("refreshHeader",n),e.callEachSubGrid("refreshFooter",r),e.renderHeader(n,t),e.renderFooter(r,t),e.fixSizes();const o=i.removeAllRows();i.calculateRowCount(!1,!0,!0),i.rowCount&&(i.setPosition(o),e.renderRows())}}onPaintOverride(){}onPaint(){const e=this;if(e.onPaintOverride())return;const{rowManager:t,store:n,element:r,headerContainer:i,bodyContainer:o,footerContainer:a}=e,s=c.default.scrollBarPadElement;if(e.isPainted)return;let l,d=0;e.columns.on({change:()=>l=!0,once:!0}),e.updateResponsive(e.width,0),l&&(e.callEachSubGrid("refreshHeader",i),e.callEachSubGrid("refreshFooter",a)),e.renderHeader(i,r),e.renderFooter(a,r),c.default.append(i,s),c.default.append(a,s),c.default.append(e.virtualScrollers,s),e._bodyRectangle=h.default.client(e.bodyContainer);const u=e.bodyContainer.offsetHeight;if(e.autoHeight?(e._bodyHeight=t.initWithHeight(r.offsetHeight-i.offsetHeight-a.offsetHeight,!0),o.style.height=e.bodyHeight+"px"):(e._bodyHeight=u,t.initWithHeight(e._bodyHeight,!0)),e.eachSubGrid(e=>{e.header.maxDepth>d&&(d=e.header.maxDepth)}),i.dataset.maxDepth=d,e.fixSizes(),!n.count&&n.isLoading||e.renderRows(),e.columns.usesAutoHeight){const{fonts:t}=document;"loaded"!==(null===t||void 0===t?void 0:t.status)&&t.ready.then(()=>!e.isDestroyed&&e.refreshRows())}e.initScroll(),e.initInternalEvents()}render(){const e=this;e.requireSize=Boolean(e.owner),super.render(...arguments),e.autoHeight||!e.headerContainer.offsetHeight||e.bodyContainer.offsetHeight||console.warn("Grid element not sized correctly, please check your CSS styles and review how you size the widget")}maskBody(e){const t=this;if(t.bodyContainer){t.unmaskBody();const{maskElement:n}=t.activeMask=g.default.mask(e,t.element);return n.style.marginTop=t.bodyContainer.offsetTop+"px",n.style.height=t.virtualScrollers.offsetTop+t.virtualScrollers.offsetHeight-t.bodyContainer.offsetTop+"px",t.activeMask}}unmaskBody(){const e=this;e.loadmaskHideTimer&&e.clearTimeout(e.loadmaskHideTimer),e.loadmaskHideTimer=null,e.activeMask&&e.activeMask.destroy(),e.activeMask=null}toggleEmptyText(){this.bodyContainer&&c.default.toggleClasses(this.bodyContainer,"b-grid-empty",!(this.rowManager.rowCount>0||this.store.isLoading||this.store.isCommitting))}}B.initClass(),f.default.setVersion("grid","4.1.4"),B._$name="GridBase"},"./lib/Grid/view/Header.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/view/Bar.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/helper/TemplateHelper.js"),a=n("./lib/Core/helper/util/DomClassList.js");class s extends r.default{static get $name(){return"Header"}static get type(){return"gridheader"}startConfigure(e){e.scrollable.overflowX="hidden-scroll",super.startConfigure(e)}get subGrid(){return this._subGrid}set subGrid(e){this._subGrid=this.owner=e}get region(){return this.subGrid&&this.subGrid.region}template(){const e=this.region;return o.default.tpl`
            <div class="b-grid-header-scroller b-grid-header-scroller-${e}">
                <div data-reference="headersElement" class="b-grid-headers b-grid-headers-${e}" data-region="${e}" data-max-depth="${this.maxDepth}" data-reference="headersElement"></div>
            </div>
        `}get overflowElement(){return this.headersElement}contentTemplate(e){const t=this;return e.hidden?"":o.default.tpl`
                <div class="b-grid-header" data-column="${e.field||""}" data-column-id="${e.id}" ${e.isFocusable?'tabindex="0"':""} ${e.tooltip?`data-btip="${e.tooltip}"`:""}>
                    <div class="b-grid-header-text">
                        <div class="b-grid-header-text-content"></div>
                    </div>
                    ${e.children?`\n                    <div class="b-grid-header-children">\n                            ${e.children.map(e=>t.contentTemplate(e)).join("")}\n                    </div>\n                    `:""}
                    <div class="b-grid-header-resize-handle"></div>
                </div>
            `}calculateMinWidthForSafari(){let e=0;return this.columns.visibleColumns.forEach(t=>{e+=t.calculateMinWidth()}),e}fixHeaderWidths(){this.fixCellWidths()}refreshHeaders(){const e=this;e.columns.traverse(t=>{const n=e.getBarCellElement(t.id);if(n){const r=new a.default({"b-grid-header":1,"b-grid-header-parent":t.isParent,["b-level-"+t.childLevel]:1,["b-depth-"+t.meta.depth]:1,["b-grid-header-align-"+t.align]:t.align,"b-grid-header-resizable":t.resizable&&t.isLeaf,[t.cls]:t.cls,"b-last-parent":t.isParent&&t.isLastInSubGrid,"b-last-leaf":t.isLeaf&&t.isLastInSubGrid});let o=t.headerText;n.className=r,t.headerRenderer&&(o=t.headerRenderer.call(t.thisObj||e,{column:t,headerElement:n})),t.icon&&(o=`<i class="${i.default.encodeHtml(t.icon)}"></i>`+(o||""));const s=n.querySelector(".b-grid-header-text-content");s&&(s.innerHTML=o||"")}}),e.fixHeaderWidths()}get columns(){const e=this,t=super.columns;return e.columnsDetacher||(e.columnsDetacher=t.on({change(){e.initDepths()},thisObj:e}),e.initDepths()),t}set columns(e){super.columns=e}initDepths(e=this.columns.topColumns,t=null){let n=this,r=0;t&&t.meta&&t.meta.depth++;for(const i of e)i.meta.depth=0,i.children&&(n.initDepths(i.children.filter(n.columns.chainedFilterFn),i),i.meta.depth&&t&&(t.meta.depth+=i.meta.depth)),i.meta.depth>r&&(r=i.meta.depth);return t||(n.maxDepth=r),r}getHeader(e){return this.getBarCellElement(e)}get contentElement(){return this.element.firstElementChild}refreshContent(){const e=this;e.content=e.columns.topColumns.map(t=>e.contentTemplate(t)).join(""),e.refreshHeaders()}onPaint({firstPaint:e}){e&&this.refreshContent()}}s.initClass(),s._$name="Header"},"./lib/Grid/view/SubGrid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/widget/Widget.js"),s=n("./lib/Grid/column/Column.js"),l=n("./lib/Grid/util/SubGridScroller.js"),c=n("./lib/Core/helper/util/Rectangle.js"),d=n("./lib/Core/helper/util/Scroller.js"),u=n("./lib/Core/helper/EventHelper.js");class h extends a.default{static get $name(){return"SubGrid"}static get type(){return"subgrid"}static get defaultConfig(){return{localizableProperties:["emptyText"],insertRowsBefore:null,appendTo:null,monitorResize:!0,headerClass:null,footerClass:null,collapsed:null,scrollable:{overflowX:!0},scrollerClass:l.default,hasCalculatedWidth:null,sealedColumns:null,emptyText:null}}static get configurable(){return{element:!0,header:{},footer:{},virtualScrollerElement:!0,splitterElement:!0,headerSplitter:!0,scrollerSplitter:!0,footerSplitter:!0,resizable:null}}construct(e){super.construct(e),this.rowManager.on("addrows",this.onAddRow,this)}doDestroy(){var e;const t=this;t.header.destroy(),t.footer.destroy(),null===(e=t.fakeScroller)||void 0===e||e.destroy(),t.virtualScrollerElement.remove(),t.splitterElement.remove(),t.headerSplitter.remove(),t.scrollerSplitter.remove(),t.footerSplitter.remove(),super.doDestroy()}get barConfig(){const{width:e,flex:t}=this.element.style,n={subGrid:this,parent:this};return t?n.flex=t:e&&(n.width=e),n}changeHeader(e){return new this.headerClass(i.default.assign({id:this.id+"-header"},this.barConfig,e))}changeFooter(e){return new this.footerClass(i.default.assign({id:this.id+"-footer"},this.barConfig,e))}toggleSplitterCls(e,t=!0){[this.splitterElement,this.headerSplitter,this.footerSplitter,this.scrollerSplitter].forEach(n=>null===n||void 0===n?void 0:n.classList[t?"add":"remove"](e))}changeElement(e,t){const{region:n}=this;return super.changeElement({className:{"b-grid-subgrid":1,["b-grid-subgrid-"+n]:n,"b-grid-horizontal-scroller":1,"b-grid-subgrid-collapsed":this.collapsed},dataset:{region:n}},t)}get rowElementConfig(){return{className:"b-grid-row",children:this.columns.visibleColumns.map(e=>({className:"b-grid-cell",dataset:{column:e.field||"",columnId:e.id}}))}}changeVirtualScrollerElement(){const e=o.default.createElement({reference:"virtualScrollerElement",className:"b-virtual-scroller",dataset:{region:this.region},children:[{reference:"virtualScrollerWidth",className:"b-virtual-width"}]});return this.virtualScrollerWidth=e.virtualScrollerWidth,e.virtualScrollerElement}changeSplitterElement(){const e=o.default.createElement({reference:"splitterElement",className:{"b-grid-splitter":1,"b-grid-splitter-collapsed":this.collapsed,"b-hide-display":1},dataset:{region:this.region},children:[{className:"b-grid-splitter-inner b-grid-splitter-main",children:[{className:"b-grid-splitter-buttons",reference:"splitterButtons",children:[{tag:"i",className:"b-icon b-icon-collapse-gridregion"},{tag:"i",className:"b-icon b-icon-expand-gridregion"}]}]}]});return this.splitterButtons=e.splitterButtons,e.splitterElement}get splitterConfig(){return{className:this.splitterElement.className.trim(),children:[{className:"b-grid-splitter-inner"}],dataset:{region:this.region}}}changeHeaderSplitter(){return o.default.createElement(this.splitterConfig)}changeScrollerSplitter(){return o.default.createElement(this.splitterConfig)}changeFooterSplitter(){return o.default.createElement(this.splitterConfig)}hideSplitter(){this.splitterElement.classList.add("b-hide-display"),this.headerSplitter.classList.add("b-hide-display"),this.scrollerSplitter.classList.add("b-hide-display"),this.footerSplitter.classList.add("b-hide-display"),this.$showingSplitter=!1}showSplitter(){this.splitterElement.classList.remove("b-hide-display"),this.headerSplitter.classList.remove("b-hide-display"),this.scrollerSplitter.classList.remove("b-hide-display"),this.footerSplitter.classList.remove("b-hide-display"),this.$showingSplitter=!0}render(...e){const t=this;super.render(...e),t.grid&&(t.updateHasFlex(),t.element.parentNode.insertBefore(t.splitterElement,t.element.nextElementSibling),u.default.on({element:t.grid.element,delegate:`.b-grid-splitter[data-region=${t.region}]`,mouseover:"onSplitterMouseOver",mouseout:"onSplitterMouseOut",thisObj:t}),t._collapsed&&t.collapse())}refreshHeader(){this.header.refreshContent()}refreshFooter(){var e;null===(e=this.footer)||void 0===e||e.refreshContent()}eachWidget(e,t=!0){const n=[this.header,this.footer];for(let r=0;r<n.length;r++){const i=n[r];if(!1===e(i))return;t&&i.eachWidget&&i.eachWidget(e,t)}}fixCellWidths(e,t=null){t||(t=this.columns.bottomColumns.filter(e=>!e.hidden));let n=e.firstElementChild,i=0;for(;n;){const e=t[i];e.minWidth&&(n.style.minWidth=o.default.setLength(e.minWidth)),e.flex?(n.style.flex=e.flex,n.style.width=""):e.width?(n.style.width=o.default.setLength(e.width),r.default.isIE11&&(n.style.flex="",n.style.minWidth=o.default.setLength(e.calcMinWidth))):n.style.flex=n.style.width=n.style.minWidth="",n=n.nextElementSibling,i++}}get totalFixedWidth(){return this.columns.totalFixedWidth}fixWidths(){const e=this,{element:t,header:n,footer:r}=e;if(!e.collapsed){if(e.flex)n.flex=e.flex,r&&(r.flex=e.flex),t.style.flex=e.flex;else{if(e.hasCalculatedWidth&&!e.columns.some(e=>!e.hidden&&e.flex)&&e.totalFixedWidth!==e.width)return e.width=e.totalFixedWidth,void(e.hasCalculatedWidth=!0);let i=e.width;if(!i){i=0;for(const t of e.columns)t.flex||t.hidden||(i+=t.width)}t.style.width=i+"px",n.width=i,r&&(r.width=i)}e.syncScrollingPartners(!1)}}fixRowWidthsInSafariEdge(){if(r.default.isSafari||r.default.isEdge){const e=this,{region:t,header:n}=e,r=n.calculateMinWidthForSafari();e.rowManager.forEach(e=>{const n=e.getElement(t);n&&(n.style.width=r+"px")}),n.headersElement.style.width=r+"px"}}set width(e){const t=this;t.hasCalculatedWidth=!1,super.width=e,t.header.width=e,t.footer.width=e,t.isPainted&&t.onElementResize()}get width(){return super.width}set flex(e){const t=this;t.hasCalculatedWidth=!1,t.header.flex=e,t.footer.flex=e,super.flex=e,t.isPainted&&t.onElementResize()}get flex(){return super.flex}onInternalResize(e,t,n,r,i){const o=this,{grid:a}=o;super.onInternalResize(e,t,n,r,i),a&&(o.syncSplitterButtonPosition(),t!==r&&(a.trigger("horizontalScroll",{subGrid:o,grid:a,scrollLeft:o.scrollable.x}),o.refreshFakeScroll(),o.fixRowWidthsInSafariEdge()),o.trigger("afterInternalResize",o))}syncParallelSplitters(e){const t=this,{grid:n}=t;if(t.splitterElement&&t.$showingSplitter)t.toggleSplitterCls("b-grid-splitter-collapsed",e);else{const r=n.getSubGrid(n.getPreviousRegion(t.region));r&&r.splitterElement&&r.syncParallelSplitters(e)}}onSplitterMouseOver(){const e=this,{nextSibling:t}=e;e.collapsed||t&&t.collapsed||e.toggleSplitterCls("b-hover"),e.startSplitterButtonSyncing()}onSplitterMouseOut(){const e=this,{nextSibling:t}=e;e.toggleSplitterCls("b-hover",!1),e.collapsed||t&&t.collapsed||e.stopSplitterButtonSyncing()}startSplitterButtonSyncing(){const e=this;e.splitterElement&&(e.syncSplitterButtonPosition(),e.splitterSyncScrollListener||(e.splitterSyncScrollListener=e.grid.scrollable.on({scroll:"syncSplitterButtonPosition",thisObj:e})))}stopSplitterButtonSyncing(){this.splitterSyncScrollListener&&(this.splitterSyncScrollListener(),this.splitterSyncScrollListener=null)}syncSplitterButtonPosition(){const e=this;e.splitterButtons.style.transform=`translateY(${e.grid.scrollable.y+e.grid.bodyHeight/2-(e.headerSplitter?e.grid.headerHeight:0)}px)`}get viewRectangle(){return new c.default(this.scrollable.x,this.scrollable.y,this._width||0,this.rowManager.viewHeight)}updateHasFlex(){const e=this.columns.visibleColumns.some(e=>e.flex);o.default.toggleClasses(this.element,["b-has-flex"],e)}updateResizable(e){[this.splitterElement,this.headerSplitter,this.scrollerSplitter,this.footerSplitter].forEach(t=>o.default.toggleClasses(t,["b-disabled"],!e))}resizeColumnsToFitContent(){this.grid.beginGridMeasuring(),this.columns.bottomColumns.forEach(e=>{e.resizeToFitContent(null,null,!0)}),this.grid.endGridMeasuring()}get overflowingHorizontally(){const{scrollable:e}=this;return e.scrollWidth>e.clientWidth+(r.default.isEdge?1:0)}get overflowingVertically(){const{scrollable:e}=this;return e.scrollHeight>e.clientHeight+(r.default.isEdge?1:0)}refreshFakeScroll(){const e=this,{element:t,virtualScrollerElement:n,virtualScrollerWidth:r,totalFixedWidth:i,store:o,header:a,footer:s,scrollable:l}=e;l.scrollWidth=null!==o&&void 0!==o&&o.count?null:i,n.style.width=t.style.width,n.style.flex=t.style.flex,e.collapsed||(e.overflowingHorizontally?(r.style.width=((null===l||void 0===l?void 0:l.scrollWidth)||0)+"px",a.element.classList.add("b-overflowing"),s.element.classList.add("b-overflowing"),e.grid.virtualScrollers.classList.remove("b-hide-display")):(r.style.width=0,a.element.classList.remove("b-overflowing"),s.element.classList.remove("b-overflowing")))}initScroll(){const e=this,{scrollable:t,virtualScrollerElement:n}=e;e.syncPartnersOnFrame=e.createOnFrame(e.syncScrollingPartners),r.default.isFirefox&&t.element.addEventListener("wheel",e=>{e.deltaX&&(t.x+=e.deltaX,e.preventDefault())}),t.yScroller=e.grid.scrollable,t.yScroller.addScroller(t),e.fakeScroller=new d.default({element:n,overflowX:!0}),t.on({scroll:"onSubGridScroll",scrollend:"onSubGridScrollEnd",thisObj:e}),t.addPartner(e.fakeScroller,"x"),t.addPartner(e.header.scrollable,"x"),t.addPartner(e.footer.scrollable,"x")}onSubGridScrollEnd(){this.forceScrollUpdate||this.syncScrollingPartners(),this.scrolling=!1}onSubGridScroll(){this.forceScrollUpdate?(this.syncScrollingPartners(),this.forceScrollUpdate=!1):this.syncPartnersOnFrame()}set scrolling(e){this._scrolling=e}get scrolling(){return this._scrolling}syncScrollingPartners(e=!0){const t=this,{grid:n}=t;!t.scrolling&&e&&(t.scrolling=!0),n.trigger("horizontalScroll",{subGrid:t,grid:n,scrollLeft:t.scrollable.x})}scrollColumnIntoView(e,t){const n=this,r=n.header.scrollable;if(e=e instanceof s.default?e:n.columns.get(e)||n.columns.getById(e)||n.columns.getAt(e)){const i=n.header.getHeader(e.id);if(i)return r.scrollIntoView(c.default.from(i,null,!0),t)}}onAddRow({rows:e}){const t=this,n=t.rowElementConfig,r=t.columns.bottomColumns.filter(e=>!e.hidden),i=document.createDocumentFragment();e.forEach(e=>{const a=o.default.createElement(n);i.appendChild(a),e.addElement(t.region,a),t.fixCellWidths(a,r)}),t.fixRowWidthsInSafariEdge(),t.element.insertBefore(i,t.insertRowsBefore)}get rowElements(){return this.fromCache(".b-grid-row",!0)}clearRows(){this.emptyCache();const e=this.element.querySelectorAll(".b-grid-row"),t=document.createRange();e.length&&(t.setStartBefore(e[0]),t.setEndAfter(e[e.length-1]),t.deleteContents())}addNewRowElement(){const e=o.default.append(this.element,this.rowElementConfig);return this.fixCellWidths(e),e}get emptyText(){return this._emptyText}set emptyText(e){this._emptyText=e,this.element.dataset.emptyText=e}get store(){return this.grid.store}get rowManager(){var e;return null===(e=this.grid)||void 0===e?void 0:e.rowManager}toggleTransitionClasses(e=!1){const t=this.grid,n=t.getSubGrid(t.getNextRegion(this.region)),r=t.resolveSplitter(n);n.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),n.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),this.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),this.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),r.classList[e?"remove":"add"]("b-grid-splitter-animate")}get collapsed(){return this._collapsed}set collapsed(e){this.isConfiguring?this._collapsed=e:e?this.collapse():this.expand()}async collapse(){const e=this,t=e.grid,n=t.getSubGrid(t.getNextRegion(e.region)),r=e.splitterElement?e:e.previousSibling;let i=0;return t.eachSubGrid(t=>{t!==e&&!t._collapsed&&++i}),0===i&&await n.expand(),new Promise(t=>{if(!e._beforeCollapseState){e._beforeCollapseState={};let r=!1;e.width&&(r=!0,e.on({afterinternalresize:()=>{t(e)},thisObj:e,once:!0})),e._beforeCollapseState.width=e.width,e._beforeCollapseState.elementWidth=e.element.style.width,""===n.element.style.flex&&(e._beforeCollapseState.nextRegionWidth=n.width,n.width+=e._beforeCollapseState.width),""!==e.element.style.flex&&(e._beforeCollapseState.flex=e.element.style.flex,e.header.element.style.flex=e.element.style.flex=""),e.element.classList.add("b-grid-subgrid-collapsed"),e.virtualScrollerElement.classList.add("b-collapsed"),e.header.element.classList.add("b-collapsed"),e.footer.element.classList.add("b-collapsed"),e.width="",e._collapsed=!0,r||(e.syncParallelSplitters(!0),t(!1))}}).then(t=>{var n;e.isDestroyed||(!1!==t&&(e.syncParallelSplitters(!0),null===(n=r.startSplitterButtonSyncing)||void 0===n||n.call(r)),e.grid.trigger("subGridCollapse",e))})}async expand(){const e=this,t=e.grid,n=t.getSubGrid(t.getNextRegion(e.region)),r=e.splitterElement?e:e.previousSibling;return new Promise(t=>{if(null!=e._beforeCollapseState){let r=!1;e.width!==e._beforeCollapseState.elementWidth&&(r=!0,e.on({afterinternalresize:()=>{e.setTimeout(()=>t(e),10)},thisObj:e,once:!0})),""===n.element.style.flex&&(n.width=e._beforeCollapseState.nextRegionWidth),e.element.classList.remove("b-grid-subgrid-collapsed"),e._collapsed=!1,e.virtualScrollerElement.classList.remove("b-collapsed"),e.header.element.classList.remove("b-collapsed"),e.footer.element.classList.remove("b-collapsed"),e._beforeCollapseState.flex?(e.width=e._beforeCollapseState.width,e.header.flex=e.flex=e._beforeCollapseState.flex,e.footer.flex=e._beforeCollapseState.flex,e._width=null):e.width=e._beforeCollapseState.elementWidth,e.element.classList.remove("b-grid-subgrid-collapsed"),e._collapsed=!1,r||t(!1),delete e._beforeCollapseState}}).then(t=>{!1!==t&&(r.stopSplitterButtonSyncing(),e.syncParallelSplitters(!1),e.grid.trigger("subGridExpand",e))})}}h.initClass(),h._$name="SubGrid"},"./lib/Grid/view/TreeGrid.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Grid/view/Grid.js");n("./lib/Grid/feature/Tree.js"),n("./lib/Grid/column/TreeColumn.js");class i extends r.default{static get $name(){return"TreeGrid"}static get type(){return"treegrid"}static get configurable(){return{store:{tree:!0}}}updateStore(e,t){if(e&&!e.tree)throw new Error("TreeGrid requires a Store configured with tree : true");super.updateStore(e,t)}}i.initClass(),i._$name="TreeGrid"},"./lib/Grid/view/export/ExportDialog.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/widget/Popup.js"),i=n("./lib/Core/localization/LocaleManager.js"),o=(n("./lib/Grid/view/export/field/ExportRowsCombo.js"),n("./lib/Grid/view/export/field/ExportOrientationCombo.js"),n("./lib/Grid/view/export/field/LocalizableCombo.js"),n("./lib/Grid/feature/export/Utils.js")),a=n("./lib/Core/widget/Checkbox.js"),s=n("./lib/Core/widget/Field.js"),l=n("./lib/Core/helper/ObjectHelper.js");class c extends r.default{static get $name(){return"ExportDialog"}static get type(){return"exportdialog"}static get defaultConfig(){return{autoShow:!1,autoClose:!1,closable:!0,centered:!0,client:null,hidePNGMultipageOption:!0,exporterType:"singlepage",orientation:"portrait",paperFormat:"A4",fileFormat:"pdf",alignRows:!1,rowsRange:"all",title:"L{exportSettings}",defaults:{localeClass:this},bbar:{defaults:{type:"button",localeClass:this},items:{exportButton:{color:"b-green",text:"L{ExportDialog.export}",weight:100},cancelButton:{color:"b-gray",text:"L{ExportDialog.cancel}",weight:200}}}}}construct(e={}){const t=this,{client:n}=e;if(!n)throw new Error("`client` config is required");const r=t.buildDialogItems(e);e.items?Array.isArray(e.items)?e.items.push(...r):r.forEach(t=>{e.items[t.ref]=t,delete t.ref}):e.items=r,e.width=e.width||t.L("L{width}"),super.construct(e),t.widgetMap.exportButton.on("click",t.onExportClick,t),t.widgetMap.cancelButton.on("click",t.onCancelClick,t),i.default.on({locale:"onLocaleChange",prio:-1,thisObj:t})}get fieldProperties(){return["exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"]}getDefaultFieldValues(e){const t=l.default.copyProperties({},e,this.fieldProperties);return l.default.copyPropertiesIf(t,this.getDefaultConfiguration(),this.fieldProperties)}buildDialogItems(e){const t=this,{exporters:n,client:r}=e,{exporterType:i,orientation:a,paperFormat:s,fileFormat:l,alignRows:c,rowsRange:d,repeatHeader:u}=t.getDefaultFieldValues(e),h=t.L("L{ExportDialog.labelWidth}");function f(e,t=(e=>e)){return Object.keys(e).map(e=>({id:e,text:t(e)}))}return t.columnsStore=r.columns.chain(e=>e.isLeaf&&e.exportable),[{labelWidth:h,type:"combo",ref:"columnsField",label:"L{ExportDialog.columns}",store:t.columnsStore,value:t.columnsStore.allRecords,valueField:"id",displayField:"text",multiSelect:!0},{labelWidth:h,type:"exportrowscombo",ref:"rowsRangeField",label:"L{ExportDialog.rows}",value:d},{labelWidth:h,type:"localizablecombo",ref:"exporterTypeField",label:"L{ExportDialog.exporterType}",editable:!1,value:i,buildLocalizedItems:()=>n.map(e=>({id:e.type,text:t.optionalL(e.title,this)})),onChange({value:e}){this.owner.widgetMap.alignRowsField.hidden="singlepage"===e,this.owner.widgetMap.repeatHeaderField.hidden="multipagevertical"!==e}},{labelWidth:h,type:"checkbox",ref:"alignRowsField",label:"L{ExportDialog.alignRows}",checked:c,hidden:"singlepage"===i},{labelWidth:h,type:"checkbox",ref:"repeatHeaderField",label:"L{ExportDialog.repeatHeader}",localeClass:this,value:u,hidden:"multipagevertical"!==i},{labelWidth:h,type:"combo",ref:"fileFormatField",label:"L{ExportDialog.fileFormat}",localeClass:this,editable:!1,value:l,items:f(o.FileFormat,e=>e.toUpperCase()),onChange({value:e,oldValue:n}){if(t.hidePNGMultipageOption){const r=t.widgetMap.exporterTypeField,i=r.store.find(e=>"singlepage"===e.id);e===o.FileFormat.png&&i?(this._previousDisabled=r.disabled,r.disabled=!0,this._previousValue=r.value,r.value="singlepage"):n===o.FileFormat.png&&this._previousValue&&(r.disabled=this._previousDisabled,r.value=this._previousValue)}}},{labelWidth:h,type:"combo",ref:"paperFormatField",label:"L{ExportDialog.paperFormat}",editable:!1,value:s,items:f(o.PaperFormat)},{labelWidth:h,type:"exportorientationcombo",ref:"orientationField",label:"L{ExportDialog.orientation}",value:a}]}onLocaleChange(){const e=this.L("L{labelWidth}");this.width=this.L("L{width}"),this.eachWidget(t=>{t instanceof s.default&&(t.labelWidth=e)})}onExportClick(){const e=this.values;this.trigger("export",{values:e})}onCancelClick(){this.trigger("cancel"),this.hide()}get values(){const e=/field/i,t={};return this.eachWidget(n=>{e.test(n.ref)&&(t[n.ref.replace(e,"")]=n instanceof a.default?n.checked:n.value)}),t}}c._$name="ExportDialog"},"./lib/Grid/view/export/field/ExportOrientationCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/Utils.js"),i=n("./lib/Grid/view/export/field/LocalizableCombo.js");class o extends i.default{static get $name(){return"ExportOrientationCombo"}static get type(){return"exportorientationcombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return[{id:r.Orientation.portrait,text:this.L("L{portrait}")},{id:r.Orientation.landscape,text:this.L("L{landscape}")}]}}o.initClass(),o._$name="ExportOrientationCombo"},"./lib/Grid/view/export/field/ExportRowsCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/Utils.js"),i=n("./lib/Grid/view/export/field/LocalizableCombo.js");class o extends i.default{static get $name(){return"ExportRowsCombo"}static get type(){return"exportrowscombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return[{id:r.RowsRange.all,text:this.L("L{all}")},{id:r.RowsRange.visible,text:this.L("L{visible}")}]}}o.initClass(),o._$name="ExportRowsCombo"},"./lib/Grid/view/export/field/LocalizableCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/mixin/LocalizableComboItems.js"),i=n("./lib/Core/widget/Combo.js");class o extends(Object(r.default)(i.default)){static get $name(){return"LocalizableCombo"}static get type(){return"localizablecombo"}}o.initClass(),o._$name="LocalizableCombo"},"./lib/Grid/view/mixin/GridElementEvents.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/DomDataStore.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/helper/StringHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Core/helper/BrowserHelper.js");const u={touchstart:"onElementTouchStart",touchmove:"onElementTouchMove",touchend:"onElementTouchEnd",mouseover:"onElementMouseOver",mouseout:"onElementMouseOut",mousedown:"onElementMouseDown",mousemove:"onElementMouseMove",mouseup:"onElementMouseUp",click:"onHandleElementClick",dblclick:"onElementDblClick",keydown:"onElementKeyDown",keyup:"onElementKeyUp",keypress:"onElementKeyPress",contextmenu:"onElementContextMenu"};t.default=e=>class extends(e||r.default){static get $name(){return"GridElementEvents"}static get configurable(){return{longPressTime:400,enableUndoRedoKeys:!0}}initInternalEvents(){const e=Object.keys(u),t=e.length,n={element:this.bodyElement,thisObj:this};for(let r=0;r<t;r++)n[e[r]]="handleEvent";s.default.on(n),s.default.on({focus:"onGridElementFocus",element:this.focusElement,thisObj:this})}getCellDataFromEvent(e){const t=this,n=o.default.up(e.target,".b-grid-cell");if(n){const e=i.default.get(n),{id:r,columnId:o}=e,a=t.store.getById(r),s=t.columns.getById(o);return a?{cellElement:n,cellData:e,columnId:o,id:r,record:a,column:s,cellSelector:{id:r,columnId:o}}:null}}getHeaderDataFromEvent(e){const t=o.default.up(e.target,".b-grid-header");if(t){const e=c.default.assign({},t.dataset),{columnId:n}=e,r=this.columns.getById(n);return r?{headerElement:t,headerData:e,columnId:n,column:r}:null}}handleEvent(e){this.disabled||u[e.type]&&this[u[e.type]](e)}onElementTouchStart(e){const t=this,n=t.getCellDataFromEvent(e);o.default.isTouchEvent=!0,1===e.touches.length&&(t.longPressTimeout=t.setTimeout(()=>{t.onElementLongPress(e),e.preventDefault(),t.longPressPerformed=!0},t.longPressTime)),n&&!e.defaultPrevented&&t.onFocusGesture(n,e)}onElementTouchMove(e){const t=this;t.longPressTimeout&&(t.clearTimeout(t.longPressTimeout),t.longPressTimeout=null)}onElementTouchEnd(e){const t=this;t.longPressPerformed&&(e.cancelable&&e.preventDefault(),t.longPressPerformed=!1),t.longPressTimeout&&(t.clearTimeout(t.longPressTimeout),t.longPressTimeout=null)}onElementLongPress(e){}triggerCellMouseEvent(e,t){const n=this,r=n.getCellDataFromEvent(t);if(r){const i=n.columns.getById(r.columnId);n.trigger("cell"+l.default.capitalize(e),{grid:this,record:r.record,column:i,cellSelector:r.cellSelector,cellElement:r.cellElement,target:t.target,event:t})}}onElementMouseDown(e){const t=this,n=t.getCellDataFromEvent(e);t.skipFocusSelection=!0,t.isScrollbarClick(e)?e.preventDefault():(t.triggerCellMouseEvent("mousedown",e),n&&!e.defaultPrevented&&t.onFocusGesture(n,e))}isScrollbarClick({target:e,x:t,y:n}){return e.matches(".b-vertical-overflow")?t>e.getBoundingClientRect().right-o.default.scrollBarWidth:e.matches(".b-horizontal-overflow")?n>e.getBoundingClientRect().bottom-o.default.scrollBarWidth:void 0}onElementMouseMove(e){this.mouseMoveEvent=e}onElementMouseUp(e){}onHandleElementClick(e){!1!==this.trigger("beforeElementClick",{event:e})&&this.onElementClick(e)}onElementClick(e){const t=this,n=t.getCellDataFromEvent(e);n&&(t.triggerCellMouseEvent("click",e),i.default.get(n.cellElement).row.removeCls("b-hover"))}onFocusGesture(e,t){e&&!t.target.matches(".b-icon-tree-expand, .b-icon-tree-collapse")&&this.focusCell(e.cellSelector,{scroll:!1,doSelect:!0,event:t})}onElementDblClick(e){const{target:t}=e;if(this.triggerCellMouseEvent("dblClick",e),t.classList.contains("b-grid-header-resize-handle")){const e=o.default.up(t,".b-grid-header");this.columns.getById(e.dataset.columnId).resizeToFitContent()}}onElementMouseOver(e){if(!this.scrolling){const t=o.default.up(e.target,".b-grid-cell");if(t){const n=i.default.get(t).row;!n||"number"===typeof e.buttons&&0!==e.buttons||(this.hoveredRow=n),this.triggerCellMouseEvent("mouseOver",e)}this.trigger("mouseOver",{event:e})}}onElementMouseOut(e){this.hoveredRow=null,this.scrolling||(o.default.up(e.target,".b-grid-cell")&&this.triggerCellMouseEvent("mouseOut",e),this.trigger("mouseOut",{event:e}))}set hoveredRow(e){const t=this;t._hoveredRow&&!t._hoveredRow.isDestroyed&&(t._hoveredRow.removeCls("b-hover"),t._hoveredRow=null),e&&!t.scrolling&&(t._hoveredRow=e,e.addCls("b-hover"))}onElementKeyDown(e){var t;const n=this;if(e.handled)return;const r=n.focusedCell,i=n.store.stm;if(i&&e.ctrlKey&&"z"===e.key.toLowerCase()&&n.enableUndoRedoKeys&&(null===(t=n.features.cellEdit)||void 0===t||!t.isEditing)&&i.onUndoKeyPress(e),e.target.matches(".b-grid-header.b-depth-0"))n.handleHeaderKeyDown(e);else if(e.target===n.focusElement||d.default.isIE11&&e.currentTarget===n.focusElement){if(n.handleViewKeyDown(e),r){var a;const t=r.element,i=n.columns.getById(t.dataset.columnId);null===(a=i.onCellKeyDown)||void 0===a||a.call(i,{event:e,cellElement:t})}}else if("Escape"===e.key&&n.isActionableLocation){const e=c.default.clone(r);e.element=null,n.focusCell(e),o.default.focusWithoutScrolling(n.element)}}handleViewKeyDown(e){const t=this;switch(e.key){case"ArrowLeft":return e.preventDefault(),t.navigateLeft(e);case"ArrowRight":return e.preventDefault(),t.navigateRight(e);case"ArrowUp":return e.preventDefault(),t.navigateUp(e);case"ArrowDown":return e.preventDefault(),t.navigateDown(e)}}handleHeaderKeyDown(e){const t=this,n=t.columns.getById(e.target.dataset.columnId);switch(n.onKeyDown&&n.onKeyDown(e),e.key){case"ArrowLeft":t.onHeaderLeftKey(n);break;case"ArrowRight":t.onHeaderRightKey(n);break;case"ArrowDown":e.preventDefault(),t.onHeaderDownKey(n);break;case"Enter":t.onHeaderEnterKey(n)}}onHeaderLeftKey(e){const t=this.columns.getAdjacentVisibleLeafColumn(e,!1);t&&this.getHeaderElement(t.id).focus()}onHeaderRightKey(e){const t=this.columns.getAdjacentVisibleLeafColumn(e,!0);t&&this.getHeaderElement(t.id).focus()}onHeaderDownKey(e){const t=this.firstFullyVisibleRow;t&&this.focusCell({columnId:e.id,id:t.id})}onHeaderEnterKey(e){this.getHeaderElement(e.id).click()}onElementKeyPress(e){}onElementKeyUp(e){}onElementContextMenu(e){const t=this,n=t.getCellDataFromEvent(e);n&&(t.triggerCellMouseEvent("contextMenu",e),o.default.isTouchEvent&&t.onFocusGesture(n,e))}onInternalResize(e,t,n,r,i){const s=this;s._devicePixelRatio&&s._devicePixelRatio!==window.devicePixelRatio&&o.default.resetScrollBarWidth(),s._devicePixelRatio=window.devicePixelRatio,s._bodyRectangle=a.default.client(s.bodyContainer),super.onInternalResize(...arguments),n!==i&&(s._bodyHeight=s.bodyContainer.offsetHeight,s.isPainted&&s.rowManager.initWithHeight(s._bodyHeight)),s.refreshVirtualScrollbars(),t!==r&&s.setTimeout(()=>{s.isDestroyed||s.updateResponsive(t,r)},0)}get widgetClass(){}}},"./lib/Grid/view/mixin/GridFeatures.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/helper/ObjectHelper.js");const s={string:1,object:1,function:1};t.default=e=>class extends(e||r.default){static get $name(){return"GridFeatures"}set features(e){const t=this,n=o.default.getInstanceDefaultFeatures(this);e=t._features=a.default.assign({},e),n&&Object.keys(n).forEach(t=>{t in e||(e[t]=!0)});const r=o.default.getInstanceFeatures(this);for(const o of Object.keys(e)){const n=e[o];if(n){if(i.default.uncapitalize(o)!==o)throw new Error(`Invalid feature name '${o}', must start with a lowercase letter`);const a=r[o];if(!a)throw new Error(`Feature '${o}' not available, make sure you have imported it`);Reflect.defineProperty(e,o,t.createFeatureInitializer(e,o,a,n))}}}get features(){return this._features}createFeatureInitializer(e,t,n,r){const i=[this],o=n.prototype.construct;return s[typeof r]&&(i[1]=r),{configurable:!0,get:()=>(delete e[t],n.prototype.construct=function(...r){e[t]=this,o.apply(this,r),n.prototype.construct=o},new n(...i))}}hasFeature(e){const{features:t}=this;if(t){const t=Object.getOwnPropertyDescriptor(this.features,e);if(t)return Boolean(t.value||t.get)}return!1}get widgetClass(){}}},"./lib/Grid/view/mixin/GridNavigation.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/widget/Widget.js");const l=Object.freeze({doSelect:!0}),c=Object.freeze({x:!1,y:!1});t.default=e=>class extends(e||r.default){static get $name(){return"GridNavigation"}get focusedCell(){const e=this._focusedCell;if(e&&this.getCell(e))return e;this.clearFocus()}get isActionableLocation(){const e=this._focusedCell;return Boolean(e&&e.element&&this.getCell(e).contains(e.element))}set focusedCell(e){this.focusCell(e,{doSelect:!1})}get focusedRecord(){if(this._focusedCell)return this.store.getById(this._focusedCell.id)}get cellCSSSelector(){const e=this._focusedCell,t=e&&this.getRowById(e.id);return e&&t?`[data-index=${t.index}] [data-column-id=${e.columnId}]`:""}onGridElementFocus(e){const t=this,n={doSelect:!1,event:e};if(t._initialFocusedCellContext){const{cellSelector:e,options:n}=t._initialFocusedCellContext;t._focusedCell=null,t.focusCell(e,n),t._initialFocusedCellContext=null}else if(t._focusedCell)t.focusCell(t._focusedCell,n);else{const r=t.element.contains(e.relatedTarget)?null:t.lastFocusedCell;if(r){const e=t.getCell(r);if(!e||!i.default.isVisible(e)||!t.store.getById(r.id))return void t.revertFocus();t.returningFocus=!0,t.focusCell(r,n),t.returningFocus=!1}else if(!t.scrolling&&!t.skipFocusSelection&&t.store.first){const{mouseMoveEvent:e,rowManager:r,_bodyRectangle:i}=t,o=e&&r.getRowAt(Math.min(Math.max(e.clientY,i.y),i.bottom))||t.firstFullyVisibleRow,a=e&&t.getCellDataFromEvent(e)||{id:o.id,columnId:t.columns.visibleColumns[0].id};t.getCell(a)&&t.focusCell(a,n)}}t.skipFocusSelection=!1}onFocusOut(e){super.onFocusOut(e),this.clearFocus()}afterHide(){super.afterHide(...arguments),this.lastFocusedCell=this.mouseMoveEvent=null}isFocused(e){return Boolean(this._focusedCell)&&this.isLocationEqual(e,this._focusedCell)}focusCell(e,t=l){var n,r,d;if(!document.hasFocus()&&o.default.isMac&&2===(null===(n=t)||void 0===n||null===(r=n.event)||void 0===r?void 0:r.button))return;const u=this,h=i.default.getActiveElement(u);e=u.normalizeCellContext(e===Object?Object.assign({},e):e);const f=!1!==t.doSelect,{event:g,scroll:m}=t,p=u.lastFocusedCell=u._focusedCell,v=u.isLocationEqual(e,p),b=p&&u.getCell(p),y=u.getSubGridFromColumn(e.columnId);let C=u.getCell(e);if(g&&"mousedown"===g.type)for(let o=g.target;o!==C;o=o.parentElement)if(i.default.isFocusable(o))return void(e.element=o);if(v)return g&&u.onCellNavigate&&u.onCellNavigate(u,null,u._focusedCell,g,f),e;b&&b.classList.remove("b-focused");const S=C||u.getCell({row:u.rowManager.topIndex,columnId:e.columnId}),w=a.default.from(y.element),E=a.default.from(u.bodyContainer),D=a.default.from(S).moveTo(null,w.y);return!1===m?t=Object.assign({},t,c):(t=Object.assign({},t,m),D.width>w.width||D.height>E.height?t.x=t.y=!1:t.column=e.columnId,u.scrollRowIntoView(e.id,t)),h===u.focusElement||u.focusElement.contains(h)||(null===(d=s.default.fromElement(h))||void 0===d?void 0:d.owner)===u?(C=u.getCell(e),C&&(e.element=C,C.classList.add("b-focused")),u._focusedCell=e,u.onCellNavigate&&u.onCellNavigate(u,p,u._focusedCell,g,f),u.trigger("navigate",{lastFocusedCell:p,focusedCell:u._focusedCell,event:g}),e):(u._initialFocusedCellContext={cellSelector:e,options:t},i.default.focusWithoutScrolling(u.focusElement),void(u.isLocationEqual(e,u._focusedCell)||o.default.isIE11||(u._initialFocusedCellContext=null)))}isLocationEqual(e,t){return e&&t&&e.id===t.id&&e.columnId===t.columnId&&(!e.element||!t.element||e.element===t.element)}blurCell(e){const t=this.getCell(e);t&&t.classList.remove("b-focused")}clearFocus(e){const t=this;t._focusedCell&&(t.lastFocusedCell=e?null:t._focusedCell,t.blurCell(t._focusedCell),t._focusedCell=null)}internalNextPrevCell(e=!0,t){const n=this,r=n._focusedCell;return r?n.focusCell({id:r.id,columnId:n.columns.getAdjacentVisibleLeafColumn(r.columnId,e,!0).id},{doSelect:!0,event:t}):null}navigateRight(e){return this.internalNextPrevCell(!0,e)}navigateLeft(e){return this.internalNextPrevCell(!1,e)}internalNextPrevRow(e,t=!0,n,r=!0){const i=this,o=i._focusedCell;if(!o)return!1;const a=i.store["get"+(e?"Next":"Prev")](o.id,!1,t);return a?i.focusCell({id:a.id,columnId:o.columnId,scroll:{x:!1}},{doSelect:!0,event:n}):!e&&r?(this.clearFocus(),this.getHeaderElement(o.columnId).focus()):void 0}navigateDown(e){return this.internalNextPrevRow(!0,!1,e)}navigateUp(e){return this.internalNextPrevRow(!1,!1,e)}get widgetClass(){}}},"./lib/Grid/view/mixin/GridResponsive.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"GridResponsive"}static get defaultConfig(){return{responsiveLevels:Object.freeze({small:400,medium:600,large:"*"})}}getClosestBiggerLevel(e){const t=this,n=Object.keys(i.default.assign({},t.responsiveLevels));let r=null,o=99995,a=null;return n.forEach(n=>{let i=t.responsiveLevels[n];if(["number","string"].includes(typeof i)||(i=i.levelWidth),"*"===i)a=n;else if(e<i){const t=i-e;t<o&&(o=t,r=n)}}),r||a}get responsiveLevel(){return this.getClosestBiggerLevel(this.width)}updateResponsive(e,t){const n=this,r=n.getClosestBiggerLevel(t),i=n.getClosestBiggerLevel(e);if(0===t||r!==i){const o=n.responsiveLevels[i];["number","string"].includes(typeof o)||n.applyState(o),n.columns.forEach(e=>{const t=e.responsiveLevels;t&&(t[i]?e.applyState(t[i]):t["*"]&&e.applyState(t["*"]))}),n.element.classList.remove("b-responsive-"+r),n.element.classList.add("b-responsive-"+i),n.trigger("responsive",{level:i,width:e,oldLevel:r,oldWidth:t})}}get widgetClass(){}}},"./lib/Grid/view/mixin/GridSelection.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/util/Collection.js"),o=n("./lib/Grid/data/ColumnStore.js");const a={string:1,number:1},s={dataset:1,batch:1};t.default=e=>class extends(e||r.default){static get $name(){return"GridSelection"}static get defaultConfig(){return{selectionMode:{row:!0,cell:!0,rowCheckboxSelection:!1,multiSelect:!0,checkbox:!1,showCheckAll:!1,deselectFilteredOutRecords:!1,includeChildren:!1,preserveSelectionOnDatasetChange:!0},selectedRecordCollection:{}}}afterConfigure(){const e=this;if(e.selectionMode.checkbox){const t=o.default.getColumnClass("check");if(!t)throw new Error("CheckColumn must be imported for checkbox selection mode to work");const n=e.checkboxColumn=new t({id:e.id+"-selection-column",width:"4em",minWidth:"4em",field:null,cellCls:"b-checkbox-selection",region:e.items[0].region,showCheckAll:e.selectionMode.showCheckAll},e.columns);n.isSelectionColumn=!0,n.meta.depth=0,n._grid=e;const r=n.renderer;n.renderer=t=>{t.value=e.isSelected(t.record),r.call(n,t)},n.on({toggle:"onCheckChange",toggleAll:"onCheckAllChange",thisObj:e});const i=e.columns.indexOf(e.columns.findRecord("type","rownumber"))+1;e.columns.insert(i,n)}super.afterConfigure()}bindStore(e){var t;this.detachListeners("selectionStoreFilter"),e.on({name:"selectionStoreFilter",filter:"onStoreFilter",thisObj:this}),null===(t=super.bindStore)||void 0===t||t.call(this,e)}unbindStore(e){this.detachListeners("selectionStoreFilter"),super.unbindStore(e)}onStoreFilter({records:e}){if(this.selectionMode.deselectFilteredOutRecords){const{filtersFunction:e}=this.store,t=this.selectedRecordCollection.values.filter(t=>!e(t));this.selectedRecordCollection.remove(t)}}onStoreRecordIdChange({record:e,oldValue:t}){super.onStoreRecordIdChange&&super.onStoreRecordIdChange(...arguments),this.selectedRecordCollection.get(t)===e&&this.selectedRecordCollection.rebuildIndices()}onSelectedRecordCollectionChange({source:e,action:t,added:n=[],removed:r}){const i=this;i._selectedCell&&!i.isSelectable(i._selectedCell)&&i.deselectCell(i._selectedCell),n=n.filter(e=>i.isSelectable(e)),i.triggerChangeEvent({mode:"row",action:n.length?"select":"deselect",selection:i.selectedRecords,selected:n,deselected:r},i.silent)}onCheckChange({source:e,checked:t,record:n}){const r=this,{selectionMode:i,store:o}=r,a=[n,...i.includeChildren&&!1!==i.multiSelect&&!n.isLeaf&&n.allChildren||[]];t?(r.selectRows(a,!1!==i.multiSelect),e.headerCheckbox&&r.selectedRecords.length===o.count-(o.groupRecords?o.groupRecords.length:0)&&(e.suspendEvents(),e.headerCheckbox.checked=!0,e.resumeEvents())):(r.deselectRows(a),e.headerCheckbox&&(e.suspendEvents(),e.headerCheckbox.checked=!1,e.resumeEvents()))}onCheckAllChange({checked:e}){this[e?"selectAll":"deselectAll"]()}set selectedRecordCollection(e){e instanceof i.default||(e=new i.default(e)),this._selectedRecordCollection=e,e.on({change:"onSelectedRecordCollectionChange",thisObj:this})}get selectedRecordCollection(){return this._selectedRecordCollection}spliceSelectedRecords(e,t,n){this._selectedRecordCollection.splice(e,t,n)}isSelected(e){var t;const n=this;return null!==(t=e)&&void 0!==t&&t.isModel&&(e=e.id),a[typeof e]?n.selectedRecordCollection.includes(e):n._selectedCell&&n._selectedCell.id==e.id&&n._selectedCell.columnId===e.columnId}isSelectable(e){if(!e)return!1;const t=this.store.getById(e.id||e);return t&&!(t.meta&&t.isSpecialRow)}get selectedCell(){return this._selectedCell}set selectedCell(e){this.selectCell(e)}set selectionMode(e){e&&e.rowCheckboxSelection&&(e.row=e.checkbox=!0,e.cell=!1),this._selectionMode=e}get selectionMode(){return this._selectionMode}get selectedRecord(){return this.selectedRecordCollection.last||null}set selectedRecord(e){this.selectRow({record:e})}get selectedRecords(){return this.selectedRecordCollection.values}set selectedRecords(e){this.selectRows(e)}get selectedCellCSSSelector(){const e=this._selectedCell,t=e&&this.getRowById(e.id);return e&&t?`[data-index=${t.dataIndex}] [data-column-id=${e.columnId}]`:""}selectRow({record:e,column:t=this.columns.visibleColumns[0],scrollIntoView:n=!0,addToSelection:r=!1}){const i=this;(e=arguments[0].isModel?arguments[0]:i.store.getById(e))?i.selectCell({id:e.id,column:t},n,r):i.deselectAll()}selectCell(e,t=!1,n=!1,r=!1){const i=this,{selectedRecordCollection:o,selectionMode:a}=i,s=i.normalizeCellContext(e),l=s.record||i.store.getById(s.id);if(i.isSelectable(l)){if(t&&i.scrollRowIntoView(s.id,{column:s.columnId}),a.row&&(r&&(i.silent=(i.silent||0)+1),n?o.add(l):o.splice(0,o.count,l),r&&i.silent--,1===i.selectedRecordCollection.count&&(i.startCell=s,i.lastRange=null)),a.cell&&(s.columnId||s.column)&&!i.isSelected(s)){const e=i._selectedCell?[i._selectedCell]:[];i._selectedCell=s,i.triggerChangeEvent({mode:"cell",action:"select",selected:[s],deselected:e,selection:[s]},r)}return s}i.deselectAll()}selectAll(){const e=this;e.store.isFiltered&&!e.selectionMode.deselectFilteredOutRecords?e.selectedRecordCollection.add(...e.store.records.filter(e=>!e.isSpecialRow)):e.selectedRecords=e.store.allRecords.filter(e=>!e.isSpecialRow)}deselectAll(e=!1){const t=this;e?t.selectedRecordCollection.remove(...t.store.records):t.selectedRecordCollection.clear(),t._selectedCell&&t.deselectCell(t._selectedCell)}deselectRow(e){this.deselectRows(e)}selectRows(e,t=!1){const{store:n}=this,r=[];e=Array.isArray(e)?e:null==e?[]:[e];for(let i of e)i=n.getById(i),i&&r.push(i);t?this.selectedRecordCollection.add(r):this.selectedRecordCollection.splice(0,this.selectedRecordCollection.count,r)}deselectRows(e){const t=(e=Array.isArray(e)?e:[e]).map(e=>this.store.getById(e));this.selectedRecordCollection.remove(t)}deselectCell(e){const t=this,n=t.normalizeCellContext(e),r=t.selectionMode,i=n.record||t.store.getById(n.id),o=t._selectedCell;return r.row&&t.selectedRecordCollection.remove(i),r.cell&&n.columnId&&o&&o.id===n.id&&o.columnId===n.columnId&&(t._selectedCell=null,t.triggerChangeEvent({mode:"cell",action:"deselect",selected:[],deselected:[n],selection:[]})),n}selectRange(e,t){const{store:n,selectedRecordCollection:r}=this,i=n.indexOf(e),o=n.indexOf(t),a=Math.min(i,o),s=Math.max(i,o);if(-1===a||-1===s)throw new Error("Record not found in selectRange");r.splice(0,r.count,n.getRange(a,s+1,!1))}onStoreRemove(e){super.onStoreRemove&&super.onStoreRemove(e),e.isCollapse||this.selectedRecordCollection.remove(e.records)}onStoreDataChange({action:e,source:t}){const n=this;if(super.onStoreDataChange&&super.onStoreDataChange(...arguments),s[e]){const e=n.selectedRecordCollection,r=[];!1===n.selectionMode.preserveSelectionOnDatasetChange?n.deselectAll():(e.forEach(n=>{const i=t.getById(n.id);if(i){const t=e.indexOf(n);e.splice(t,1,i)}else r.push(n)}),e.remove(r))}else"pageLoad"===e&&n.checkboxColumn&&n.selectionMode.showCheckAll&&(n.deselectAll(),n.checkboxColumn.updateCheckAllState(!1))}onStoreRemoveAll(){super.onStoreRemoveAll&&super.onStoreRemoveAll(),this.deselectAll()}handleMouseMultiSelect(e,t){const n=this,r=e.id;(t.metaKey||t.ctrlKey)&&n.isSelected(r)?n.deselectRow(r):n.selectionMode.multiSelect&&(t.shiftKey&&n.startCell?function(e,t){const{store:r,selectedRecordCollection:i}=n,o=r.indexOf(e),a=r.indexOf(t),s=Math.min(o,a),l=Math.max(o,a);if(-1===s||-1===l)throw new Error("Record not found in selectRange");const c=r.getRange(s,l+1,!1).filter(e=>n.isSelectable(e));i.splice(0,n.lastRange||0,c),n.lastRange=c}(n.startCell.id,r):(t.ctrlKey||t.metaKey)&&n.selectRow({record:r,scrollIntoView:!1,addToSelection:!0}))}onCellNavigate(e,t,n,r,i=!0){if(e.columns.getById(n.columnId)===e.checkboxColumn||e.selectionMode.rowCheckboxSelection)return;if(!i||e.returningFocus||r&&r.target.closest(".b-tree-expander"))return;const o=t&&n.id===t.id,a=r&&"mousedown"===r.type&&r.ctrlKey;if(!r||r.button&&2!==r.button||!r.shiftKey&&!a){const t=o&&(!r||r.shiftKey||r.ctrlKey),i=r&&e.isSelected(n.id),s=a;e.selectCell(n,!1,t||s||i)}else e.handleMouseMultiSelect(n,r);e.startCell&&!a||(e.startCell=n,e.lastRange=null)}triggerChangeEvent(e,t){const n=this,{mode:r,selected:i,deselected:o}=e;let a,s,l,c;if("row"===r){for(a=0,s=i.length;a<s;a++)l=n.getRowFor(i[a]),l&&(l.addCls("b-selected"),!n.checkboxColumn||n.checkboxColumn.hidden||i[a].isSpecialRow||(l.getCell(n.checkboxColumn.id).widget.checked=!0));for(a=0,s=o.length;a<s;a++)l=n.getRowFor(o[a]),l&&(l.removeCls("b-selected"),!n.checkboxColumn||n.checkboxColumn.hidden||o[a].isSpecialRow||(l.getCell(n.checkboxColumn.id).widget.checked=!1))}else if("cell"===r){for(a=0,s=i.length;a<s;a++)c=n.getCell(i[a]),c&&c.classList.add("b-selected");for(a=0,s=o.length;a<s;a++)c=n.getCell(o[a]),c&&c.classList.remove("b-selected")}t||n.trigger("selectionChange",e)}onCellClick({event:e,record:t}){const n=this;n.selectionMode.checkbox||!n.selectionMode.multiSelect||e.shiftKey||e.metaKey||e.ctrlKey||n.deselectRows(n.selectedRecords.filter(e=>e!==t))}doDestroy(){var e;null===(e=this.selectedRecordCollection)||void 0===e||e.destroy(),super.doDestroy()}get widgetClass(){}}},"./lib/Grid/view/mixin/GridState.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=e=>e.columns.suspendEvents(),o=e=>e.columns.resumeEvents(),a=e=>{e.columns.clearCaches(),e.columns.fillFromMaster()},s=(e,t)=>e.stateSortIndex-t.stateSortIndex;t.default=e=>class extends(e||r.default){static get $name(){return"GridState"}getState(){const e=this,t=e.element.style.cssText,n={rowHeight:e.rowHeight,readOnly:e.readOnly};if(t&&(n.style=t),e.selectedCell){const{id:t,columnId:r}=e.selectedCell;n.selectedCell={id:t,columnId:r}}return n.selectedRecords=e.selectedRecords.map(e=>e.id),n.columns=e.columns.map(e=>e.getState()),n.store=e.store.state,n.scroll=e.storeScroll(),n.subGrids={},e.eachSubGrid(e=>{var t;const r=n.subGrids[e.region]=n.subGrids[e.region]||{};null==e.flex&&(r.width=e.width),r.collapsed=null!==(t=e.collapsed)&&void 0!==t&&t,r.collapsed&&(r._beforeCollapseState=e._beforeCollapseState)}),n}applyState(e){const t=this;if("columns"in e){let n=!1,r=!1;t.columns.suspendEvents(),t.eachSubGrid(i),e.columns.forEach((e,i)=>{const o=t.columns.getById(e.id);if(o){const t=o.generation;o.applyState(e),n=n||o.generation!==t,o.stateSortIndex=i,o.allIndex!==i&&(r=n=!0)}}),n&&t.eachSubGrid(a),r&&(t.eachSubGrid(e=>{e.columns.records.sort(s),e.columns.allRecords.sort(s)}),t.columns.sort({fn:s,ascending:!0})),t.isPainted&&n&&t.renderContents(),t.columns.resumeEvents(),t.eachSubGrid(o)}"subGrids"in e&&t.eachSubGrid(t=>{if(t.region in e.subGrids){const n=e.subGrids[t.region];"width"in n&&(t.width=n.width),"collapsed"in n&&(t.collapsed=n.collapsed,t._beforeCollapseState=n._beforeCollapseState)}}),"readOnly"in e&&(t.readOnly=e.readOnly),"rowHeight"in e&&(t.rowHeight=e.rowHeight),"style"in e&&(t.style=e.style),"selectedCell"in e&&(t.selectedCell=e.selectedCell),"store"in e&&(t.store.state=e.store),"selectedRecords"in e&&(t.selectedRecords=e.selectedRecords),"scroll"in e&&t.restoreScroll(e.scroll)}get widgetClass(){}}},"./lib/Grid/view/mixin/GridSubGrids.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Grid/column/Column.js"),o=n("./lib/Grid/view/GridBase.js"),a=n("./lib/Grid/view/SubGrid.js"),s=n("./lib/Core/helper/ArrayHelper.js"),l=n("./lib/Core/helper/DomHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"GridSubGrids"}static get properties(){return{subGrids:{}}}changeSubGridConfigs(e){const t=this,n=new Set;for(const r of t.columns)r.region&&!e[r.region]&&(e[r.region]={}),n.add(r.region);e.normal&&c.default.isEmpty(e.normal)&&(e.normal=o.default.defaultConfig.subGridConfigs.normal);for(const r of n)t.createSubGrid(r,e[r]);return t.items=t.subGrids,e}createSubGrid(e,t=null){const n=this,r=n.columns.makeChained(t=>t.region===e,["region"]),i=c.default.assign({id:`${n.id}-${e}Subgrid`,grid:n,region:e,headerClass:n.headerClass,footerClass:n.footerClass,columns:r,weight:e},t||n.subGridConfigs[e]);let o=!1;i.flex||i.width||(i.width=r.totalFixedWidth,o=!0);const s=n.subGrids[e]=new a.default(i);return s.hasCalculatedWidth=o,e===n.regions[0]&&(s.isFirstRegion=!0),s}onChildAdd(e){if(e.isSubGrid){const t=this,{items:n,headerContainer:r,virtualScrollers:i,footerContainer:o}=t,a=2*n.indexOf(e);t.hideHeaders||(l.default.insertAt(r,e.headerSplitter,a),l.default.insertAt(r,e.header.element,a)),l.default.insertAt(i,e.scrollerSplitter,a),l.default.insertAt(i,e.virtualScrollerElement,a),l.default.insertAt(o,e.footerSplitter,a),l.default.insertAt(o,e.footer.element,a),n.forEach((e,t)=>{t<n.length-1&&e.showSplitter()})}return super.onChildAdd(e)}onChildRemove(e){if(super.onChildRemove(e),e.isSubGrid){const{items:t}=this;delete this.subGrids[e.region],s.default.remove(this.regions,e.region),e.destroy(),t.length&&t[t.length-1].hideSplitter()}}doDestroy(){this.eachSubGrid(e=>e.destroy()),super.doDestroy()}eachSubGrid(e,t=null){this.items.forEach((n,r)=>{n.isSubGrid&&e.call(t||n,n,r++)})}callEachSubGrid(e,...t){let n=null;return this.items.forEach((r,i)=>{if(r[e]){const o=r[e](...t);0===i&&(n=o)}}),n}get regions(){return this.items.map(e=>e.region)}getLastRegions(){const e=this.regions.slice(-2);return 2===e.length?e:[e[0],e[0]]}getNextRegion(e){const t=this.regions;return t[t.indexOf(e)+1]||t[t.length-2]}getPreviousRegion(e){return this.regions[this.regions.indexOf(e)-1]}getSubGrid(e){return this.subGrids[e]}getSubGridFromColumn(e){return e=e instanceof i.default?e:this.columns.getById(e)||this.columns.get(e),this.getSubGrid(e.region)}resolveSplitter(e){const t=this.getLastRegions();let n=e instanceof a.default?e.region:e;return t[1]===n&&(n=t[0]),this.subGrids[n].splitterElement}get widgetClass(){}}},"./lib/Scheduler/column/ResourceInfoColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Core/helper/VersionHelper.js"),s=n("./lib/Core/widget/util/AvatarRendering.js");class l extends r.default{static get $name(){return"ResourceInfoColumn"}static get type(){return"resourceInfo"}static get fields(){return["showEventCount","showRole","showMeta","showImage","validNames","autoScaleThreshold","useNameAsImageName"]}static get defaults(){return{showImage:!0,showEventCount:!0,showMeta:null,showRole:!1,validNames:["amit","angelo","arcady","arnold","celia","chang","dan","dave","emilia","george","gloria","henrik","hitomi","jong","kate","lee","linda","lisa","lola","macy","madison","malik","mark","maxim","mike","rob","steve"],autoScaleThreshold:40,field:"name",htmlEncode:!1,width:140,cellCls:"b-resourceinfo-cell",useNameAsImageName:!0,editor:!a.default.isTestEnv&&"text"}}construct(...e){super.construct(...e),this.avatarRendering=new s.default({element:this.grid.element})}doDestroy(){super.doDestroy(),this.avatarRendering.destroy()}getImageURL(e){return o.default.joinPaths([this.grid.resourceImagePath||"",e||""])}template(e,t){const n=this,{showImage:r,showRole:i,showMeta:a,showEventCount:s,grid:l}=n,{timeAxis:c,resourceImageExtension:d="",defaultResourceImageName:u}=l,h="string"===typeof i?i:"role",f=s&&e.eventStore.getEvents({includeOccurrences:l.enableRecurringEvents,resourceRecord:e,startDate:c.startDate,endDate:c.endDate}).length;let g;if(r&&!1!==e.image)if(e.imageUrl)g=e.imageUrl;else{const i="string"===typeof r?r:e.image||t&&n.useNameAsImageName&&t.toLowerCase()+d||u||"";g=i&&n.getImageURL(i),i.includes(".")||n.validNames&&!n.validNames.includes(i)||(g+=d)}return t=o.default.encodeHtml(t),{class:"b-resource-info",children:[r&&n.avatarRendering.getResourceAvatar({initials:e.initials,color:e.eventColor,iconCls:e.iconCls,imageUrl:g,defaultImageUrl:u&&this.getImageURL(u)}),i||s||a?{tag:"dl",children:[{tag:"dt",html:t},i?{tag:"dd",class:"b-resource-role",html:o.default.encodeHtml(e[h])}:null,s?{tag:"dd",class:"b-resource-events",html:n.L("L{eventCountText}",f)}:null,a?{tag:"dd",class:"b-resource-meta",html:n.showMeta(e)}:null]}:t]}}defaultRenderer({grid:e,record:t,cellElement:n,value:r,isExport:i}){let o;return t.isSpecialRow?o="":i?o=r:(this.autoScaleThreshold&&e.rowHeight<this.autoScaleThreshold?n.style.fontSize=e.rowHeight/40+"em":n.style.fontSize="",o=this.template(t,r)),o}}i.default.registerColumnType(l),l._$name="ResourceInfoColumn"},"./lib/Scheduler/column/TimeAxisColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/mixin/Events.js"),a=n("./lib/Scheduler/view/HorizontalTimeAxis.js"),s=n("./lib/Scheduler/view/ResourceHeader.js");class l extends(Object(o.default)(r.default)){static get fields(){return["mode"]}static get defaults(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,resizable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,cls:"b-sch-timeaxiscolumn",needWidth:!0,mode:null,region:"normal",exportable:!1,htmlEncode:!1}}static get type(){return"timeAxis"}construct(e){const t=this;t.externalRenderer=e.renderer,super.construct(...arguments),t.thisObj=t,t.timeAxisViewModel=t.grid.timeAxisViewModel,t.mode=t.mode,t.grid.on({paint:"onTimelinePaint",thisObj:t,once:!0})}static get autoExposeFields(){return!0}doDestroy(){var e,t;null===(e=this.resourceColumns)||void 0===e||e.destroy(),null===(t=this.timeAxisView)||void 0===t||t.destroy(),super.doDestroy()}set mode(e){const t=this,{grid:n}=t;t.set("mode",e),"horizontal"===e?t.timeAxisView=new a.default({model:t.timeAxisViewModel,compactCellWidthThreshold:t.compactCellWidthThreshold,owner:t.grid,client:t.grid}):"vertical"===e&&(t.resourceColumns=s.default.new({column:t,resourceStore:n.resourceStore,imagePath:n.resourceImagePath,imageExtension:n.resourceImageExtension,defaultImageName:n.defaultResourceImageName},n.resourceColumns||{}),t.relayEvents(t.resourceColumns,["resourceheaderclick","resourceheaderdblclick","resourceheadercontextmenu"]))}get mode(){return this.get("mode")}onViewModelUpdate({source:e}){const t=this;"horizontal"===t.mode?(t.refreshHeader(!0),t.width=e.totalSize,t.grid.refresh(),t.subGrid.refreshFakeScroll()):"vertical"===t.mode&&t.grid.refreshRows()}onTimelinePaint({firstPaint:e}){const t=this;var n;t.subGrid.insertRowsBefore&&e&&(t.subGridElement.classList.add("b-timeline-subgrid"),"vertical"===t.mode&&(t.refreshHeader(),null===(n=t.grid)||void 0===n||n.onHeightChange()))}refreshHeader(e){const t=this,{element:n}=t;n&&("horizontal"===t.mode?(!e&&t.timeAxisViewModel.update(void 0,void 0,!0),t.timeAxisView.rendered?t.timeAxisView.refresh(!0):(n.innerHTML="",t.timeAxisView.render(n))):"vertical"===t.mode&&(t.resourceColumns.currentElement||(n.innerHTML="",t.resourceColumns.render(n))))}renderer(e){var t;if(this.grid.project.isInitialCommitPerformed)return this.grid.currentOrientation.renderer(e),null===(t=this.externalRenderer)||void 0===t?void 0:t.call(this,e)}get timeAxisViewModel(){return this._timeAxisViewModel}set timeAxisViewModel(e){this.detachListeners("tavm"),null===e||void 0===e||e.on({name:"tavm",update:"onViewModelUpdate",thisObj:this}),this._timeAxisViewModel=e,this.timeAxisView&&(this.timeAxisView.model=e)}}i.default.registerColumnType(l),l._$name="TimeAxisColumn"},"./lib/Scheduler/column/VerticalTimeAxisColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Scheduler/view/VerticalTimeAxis.js");class a extends r.default{static get type(){return"verticalTimeAxis"}static get defaults(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,cellCls:"b-verticaltimeaxiscolumn",flex:1}}get isFocusable(){return!1}construct(e){const t=this;super.construct(...arguments),t.timeAxisViewModel=t.grid.timeAxisViewModel,t.view=new o.default({model:t.timeAxisViewModel,client:t.grid})}renderer({cellElement:e,size:t}){this.view.render(e),t.height=this.view.height}}i.default.registerColumnType(a),a._$name="VerticalTimeAxisColumn"},"./lib/Scheduler/crud/AbstractCrudManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/Base.js"),i=n("./lib/Scheduler/crud/AbstractCrudManagerMixin.js"),o=n("./lib/Core/helper/VersionHelper.js"),a=n("./lib/Core/helper/StringHelper.js");class s extends(r.default.mixin(i.default)){get revision(){return this.crudRevision}set revision(e){this.crudRevision=e}get json(){return a.default.safeJsonStringify(this)}set json(e){"string"===typeof e&&(e=a.default.safeJsonParse(e)),this.forEachCrudStore(t=>{const n=t.storeId+"Data";e[n]&&(t.data=e[n])})}static get defaultConfig(){return{stores:null}}construct(e={}){e.stores&&(e.crudStores=e.stores,delete e.stores),super.construct(e)}toJSON(){const e={};return this.forEachCrudStore((t,n)=>e[n+"Data"]=t.toJSON()),e}get inlineData(){return this.toJSON()}set inlineData(e){this.json=e}set stores(e){e!==this.crudStores&&(this.crudStores=e)}get stores(){return this.crudStores}get isLoading(){return this.isCrudManagerLoading}commit(){o.default.deprecate("Scheduler","5.0.0","commit is deprecated, in favor of acceptChanges"),this.commitCrudStores()}reject(){o.default.deprecate("Scheduler","5.0.0","reject is deprecated, in favor of revertChanges"),this.revertChanges()}addStore(...e){return this.addCrudStore(...e)}removeStore(...e){return this.removeCrudStore(...e)}getStore(...e){return this.getCrudStore(...e)}hasChanges(...e){return this.crudStoreHasChanges(...e)}loadData(...e){return this.loadCrudManagerData(...e)}}s._$name="AbstractCrudManager"},"./lib/Scheduler/crud/AbstractCrudManagerMixin.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractCrudManagerError",(function(){return g})),n.d(t,"CrudManagerRequestError",(function(){return m}));var r=n("./lib/Core/data/Store.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/StringHelper.js"),s=n("./lib/Core/helper/ArrayHelper.js"),l=n("./lib/Core/helper/util/Objects.js"),c=n("./lib/Core/Base.js"),d=n("./lib/Core/mixin/Events.js"),u=n("./lib/Core/helper/VersionHelper.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends Error{}class m extends g{constructor(e={}){var t,n;super(e.message||e.request&&a.default.capitalize(null===(t=e.request)||void 0===t?void 0:t.type)+" failed"||"Crud Manager request failed"),Object.assign(this,e),this.action=null===(n=this.request)||void 0===n?void 0:n.type}}const p=function(e,t,n){return e.store&&(e=e.store),t.store&&(t=t.store),(e=e[n]||0)<(t=t[n]||0)?-1:e>t?1:0},v=function(e,t){return p(e,t,"loadPriority")},b=function(e,t){return p(e,t,"syncPriority")};t.default=e=>{e.$meta;const t=[];return e.isEvents||t.push(d.default),e.isDelayable||t.push(i.default),class extends((e||c.default).mixin(...t)){static get $name(){return"AbstractCrudManagerMixin"}static get defaultConfig(){return{crudRevision:null,crudStores:[],storeIdProperty:"storeId",crudFilterParam:"filter",transport:{},trackResponseType:!1,supportShortSyncResponse:!0,phantomIdField:"$PhantomId",phantomParentIdField:"$PhantomParentId",autoLoad:!1,autoSyncTimeout:100,autoSync:!1,resetIdsBeforeSync:!0,syncApplySequence:[],orderedCrudStores:[],writeAllFields:!1,crudIgnoreUpdates:0,autoSyncSuspendCounter:0,crudLoaded:!1,autoSyncTimerId:null,applyingLoadResponse:!1,applyingSyncResponse:!1,callOnFunctions:!0}}get isCrudManager(){return!0}construct(e={}){this._requestId=0,this.activeRequests={},this.crudStoresIndex={},super.construct(e)}afterConstruct(){super.afterConstruct(),this.autoLoad&&(this._autoLoadPromise=this.doAutoLoad())}doAutoLoad(){return this.load().catch(e=>{})}getStoreDescriptor(e){return e?e instanceof r.default?this.crudStores.find(t=>t.store===e):"object"===typeof e?this.crudStoresIndex[e.storeId]:this.crudStoresIndex[e]||this.getStoreDescriptor(r.default.getStore(e)):null}fillStoreDescriptor(e){const{store:t}=e,{storeIdProperty:n=this.storeIdProperty,modelClass:r}=t;return e.storeId||(e.storeId=t[n]),e.idField||(e.idField=r.idField),e.phantomIdField||(e.phantomIdField=r.phantomIdField),e.phantomParentIdField||(e.phantomParentIdField=r.phantomParentIdField),"writeAllFields"in e||(e.writeAllFields=t.writeAllFields),e}updateCrudStoreIndex(){const e=this.crudStoresIndex={};this.crudStores.forEach(t=>t.storeId&&(e[t.storeId]=t))}getCrudStore(e){const t=this.getStoreDescriptor(e);return null===t||void 0===t?void 0:t.store}forEachCrudStore(e,t=this){if(!e)throw new Error("Iterator function must be provided");this.crudStores.every(n=>!1!==e.call(t,n.store,n.storeId,n))}set crudStores(e){this._crudStores=[],this.addCrudStore(e);for(const t of this._crudStores)t.loadPriority=t.syncPriority=0}get crudStores(){return this._crudStores}get orderedCrudStores(){return this._orderedCrudStores}set orderedCrudStores(e){return this._orderedCrudStores=e}set syncApplySequence(e){this._syncApplySequence=[],this.addStoreToApplySequence(e)}get syncApplySequence(){return this._syncApplySequence}internalAddCrudStore(e){const t=this;let n;return e instanceof r.default?n={store:e}:"object"===typeof e?(e.stores?(Array.isArray(e.stores)||(e.stores=[e.stores]),e.stores.forEach((t,n)=>{let r=t;"string"===typeof t&&(r={storeId:t}),r.masterStoreInfo=e,e.stores[n]=r})):e.store||(e={storeId:e.id,store:new r.default(e)}),n=e):n={store:r.default.getStore(e)},t.fillStoreDescriptor(n),(e=n.store).setCrudManager?e.setCrudManager(t):e.crudManager=t,e.pageSize=null,e.load&&(e.autoCommit=!1,e.autoLoad=!1),t.bindCrudStoreListeners(e),n}addCrudStore(e,t,n){if(!e)return;if(Array.isArray(e)||(e=[e]),!e.length)return;const i=this,o=e.map(i.internalAddCrudStore,i);"undefined"===typeof t?i.crudStores.push(...o):(n&&((n instanceof r.default||"object"!==typeof n)&&(n=i.getStoreDescriptor(n)),t+=i.crudStores.indexOf(n)),i.crudStores.splice(t,0,...o)),i.orderedCrudStores.push(...o),i.updateCrudStoreIndex()}addPrioritizedStore(e){const t=this;t.hasCrudStore(e)||this.addCrudStore(e,s.default.findInsertionIndex(e,t.crudStores,v)),t.hasApplySequenceStore(e)||this.addStoreToApplySequence(e,s.default.findInsertionIndex(e,t.syncApplySequence,b))}hasCrudStore(e){var t;return null===(t=this.crudStores)||void 0===t?void 0:t.some(t=>t===e||t.store===e||t.storeId===e)}removeCrudStore(e){const t=this,n=t.crudStores,r=n.find(t=>t===e||t.store===e||t.storeId===e);if(!r)throw new Error("Store not found in stores collection");t.unbindCrudStoreListeners(r.store),delete t.crudStoresIndex[r.storeId],s.default.remove(n,r),t.syncApplySequence&&t.removeStoreFromApplySequence(e)}bindCrudStoreListeners(e){e.on({name:e.id,change:"onCrudStoreChange",destroy:"onCrudStoreDestroy",thisObj:this})}unbindCrudStoreListeners(e){this.detachListeners(e.id)}addStoreToApplySequence(e,t,n){if(!e)return;Array.isArray(e)||(e=[e]);const i=this,o=e.reduce((e,t)=>{const n=i.getStoreDescriptor(t);return n&&e.push(n),e},[]);if("undefined"===typeof t)i.syncApplySequence.push(...o);else{let e=t;n&&((n instanceof r.default||"object"!==typeof n)&&(n=i.getStoreDescriptor(n)),e+=i.syncApplySequence.indexOf(n)),i.syncApplySequence.splice(e,0,...o)}const a=i.syncApplySequence.map(({storeId:e})=>e);i.orderedCrudStores=[...i.syncApplySequence],i.crudStores.forEach(e=>{a.includes(e.storeId)||i.orderedCrudStores.push(e)})}removeStoreFromApplySequence(e){const t=this.syncApplySequence.findIndex(t=>t===e||t.store===e||t.storeId===e);t>-1&&(this.syncApplySequence.splice(t,1),this.orderedCrudStores.splice(t,1))}hasApplySequenceStore(e){return this.syncApplySequence.some(t=>t===e||t.store===e||t.storeId===e)}onCrudStoreDestroy({source:e}){this.removeCrudStore(e)}onCrudStoreChange(){const e=this;e.crudIgnoreUpdates||(e.crudStoreHasChanges()?(e.trigger("hasChanges"),e.autoSync&&e.scheduleAutoSync()):e.trigger("noChanges"))}suspendAutoSync(){this.autoSyncSuspendCounter++}resumeAutoSync(e=!0){const t=this;t.autoSyncSuspendCounter--,t.autoSyncSuspendCounter<=0&&(t.autoSyncSuspendCounter=0,t.autoSync&&e&&t.sync())}scheduleAutoSync(){const e=this;e.autoSyncTimerId||e.autoSyncSuspendCounter||(e.autoSyncTimerId=e.setTimeout(()=>{e.autoSyncTimerId=null,e.sync().catch(e=>{})},e.autoSyncTimeout))}async triggerFailedRequestEvents(e,t,n,r){const{options:i,type:o}=e;this.trigger("requestFail",{requestType:o,response:t,responseText:n,responseOptions:r}),this.trigger(o+"Fail",{response:t,responseOptions:r,responseText:n,options:i})}async internalOnResponse(e,t,n){const r=this,i=t?r.decode(t):null,{options:o,type:s}=e;return t&&!i&&console.error("Failed to parse response: "+t),null!==i&&void 0!==i&&i.success?!1!==r.trigger("beforeResponseApply",{requestType:s,response:i})&&!1!==r.trigger("before"+a.default.capitalize(s)+"Apply",{response:i,options:o})&&(r.crudRevision=i.revision,await r.applyResponse(e,i,o),r.trigger("requestDone",{requestType:s,response:i,responseOptions:n}),r.trigger(s,{response:i,responseOptions:n,options:o}),"load"!==s&&r.crudStoreHasChanges()||(r.trigger("noChanges"),"load"===s&&r.emitCrudStoreEvents(e.pack.stores,"afterRequest"))):r.triggerFailedRequestEvents(e,i,t,n),i}suspendChangesTracking(){this.crudIgnoreUpdates++}resumeChangesTracking(e){!this.crudIgnoreUpdates||--this.crudIgnoreUpdates||e||this.onCrudStoreChange()}get isBatchingChanges(){return this.crudIgnoreUpdates>0}crudStoreHasChanges(e){return e?this.isCrudStoreDirty(this.getCrudStore(e)):this.crudStores.some(this.isCrudStoreDirty)}isCrudStoreDirty(e){return Boolean(null===e||void 0===e?void 0:e.store.changes)}emitCrudStoreEvents(e,t,n){const r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:"read"+t},n);for(const i of this.crudStores)e.includes(i.storeId)&&i.store.trigger(t,r)}getLoadPackage(e){const t={type:"load",requestId:this.requestId},n=this.crudStores,r=Object.assign({},e);return delete r.request,t.stores=n.map(e=>{var t;const n=null===r||void 0===r?void 0:r[e.storeId],i=e.pageSize||(null===(t=e.store)||void 0===t?void 0:t.pageSize);if(n||i){const t=Object.assign({storeId:e.storeId,page:1},n);return i&&(t.pageSize=i),e.currentPage=t.page,n&&delete r[e.storeId],t}return e.storeId}),Object.assign(t,r),t}loadCrudStore(e,t,n){const r=null===t||void 0===t?void 0:t.rows;null!==n&&void 0!==n&&n.append||null!==t&&void 0!==t&&t.append?e.add(r):e.data=r,e.trigger("load",{data:r})}loadDataToCrudStore(e,t,n){const r=this,i=e.store,o=e.stores,a=e.idField||"id",s=i.tree,l=null===t||void 0===t?void 0:t.rows;if(i.__loading=!0,l){let c;o&&(c=r.getSubStoresData(l,o,a,s)),r.loadCrudStore(i,t,n,e),c&&c.forEach(e=>{r.loadDataToCrudStore(Object.assign({store:i.getById(e.id).get(e.storeDesc.storeId)},e.storeDesc),e.data)})}i.__loading=!1}loadCrudManagerData(e,t={}){this.suspendChangesTracking(),this.crudStores.forEach(n=>{const r=n.storeId,i=e[r];i&&this.loadDataToCrudStore(n,i,t[r])}),this.resumeChangesTracking(!0)}get isCrudManagerLoading(){return Boolean(this.activeRequests.load||this.applyingLoadResponse)}get isCrudManagerSyncing(){return Boolean(this.activeRequests.sync||this.applyingSyncResponse)}get isLoadingOrSyncing(){return Boolean(this.isCrudManagerLoading||this.isCrudManagerSyncing)}load(e){const t=this,n=t.getLoadPackage(e);return new Promise((r,i)=>{if(!1!==t.trigger("beforeLoad",{pack:n})){const{load:o}=t.activeRequests;o&&(t.cancelRequest(o.desc,o.reject),t.trigger("loadCanceled",{pack:n}));const a=l.default.assign({id:n.requestId,data:t.encode(n),type:"load",success:t.onCrudRequestSuccess,failure:t.onCrudRequestFailure,thisObj:t},null===e||void 0===e?void 0:e.request);t.activeRequests.load={type:"load",options:e,pack:n,resolve:r,reject(...e){a.success=a.failure=null,i(...e)},id:n.requestId,desc:t.sendRequest(a)},t.emitCrudStoreEvents(n.stores,"loadStart"),t.trigger("loadStart",{pack:n})}else t.trigger("loadCanceled",{pack:n}),i({cancelled:!0})})}getActiveCrudManagerRequest(e){let t=this.activeRequests[e];return!t&&this.trackResponseType&&(t=Object.values(this.activeRequests)[0]),t}getSubStoresData(e,t,n,r){if(!e)return;const i=[];function o(e,t){t.forEach(t=>{const r=t.storeId;e[r]&&(i.push({id:e[n],storeDesc:t,data:e[r]}),delete e[r])})}return r?e.forEach(e=>{o(e,t);const r=this.getSubStoresData(e.children,t,n,!0);r&&i.push(...r)}):e.forEach(e=>o(e,t)),i}prepareAdded(e,t){const{store:n,stores:r}=t,{isTree:i}=n,a=t.phantomIdField||this.phantomIdField,s=t.phantomParentIdField||this.phantomParentIdField;return e.filter(e=>e.isValid).map(e=>{const t=e.constructor,n=Object.assign(e.persistableData,{[a]:e.id});if(i){const{parent:t}=e;t&&!t.isRoot&&t.isPhantom&&(n[s]=t.id)}return this.resetIdsBeforeSync&&o.default.deletePath(n,t.getFieldDataSource(t.idField)),r&&this.processSubStores(e,n,r),n})}prepareUpdated(e,t){const{store:n,stores:r}=t,{isTree:i}=n,a=t.writeAllFields||!1!==t.writeAllFields&&this.writeAllFields,s=t.phantomParentIdField||this.phantomParentIdField;if(t.store.tree){const n=t.store.rootNode;e=e.filter(e=>e!==n)}return e.filter(e=>e.isValid).reduce((e,t)=>{let n;if(n=a?t.persistableData:t.modificationDataToWrite,i){const{parent:e}=t;e&&!e.isRoot&&e.isPhantom&&(n[s]=e.id)}return r&&this.processSubStores(t,n,r),o.default.isEmpty(n)||e.push(n),e},[])}prepareRemoved(e){return e.map(e=>{const t=e.constructor;return o.default.setPath({},t.getFieldDataSource(t.idField),e.id)})}processSubStores(e,t,n){n.forEach(n=>{const r=n.storeId,i=e.get(r);if(i){const e=this.getCrudStoreChanges(Object.assign({store:i},n));e?t[r]=Object.assign(e,{$store:!0}):delete t[r]}else delete t[r]})}getCrudStoreChanges(e){const{store:t}=e;let n,{added:r=[],modified:i=[],removed:o=[]}=t.changes||{};return r.length&&(r=this.prepareAdded(r,e)),i.length&&(i=this.prepareUpdated(i,e)),o.length&&(o=this.prepareRemoved(o)),(r.length||i.length||o.length)&&(n={},r.length&&(n.added=r),i.length&&(n.updated=i),o.length&&(n.removed=o)),n}getChangeSetPackage(){const e=this.changes;return e?Object.assign({type:"sync",requestId:this.requestId,revision:this.crudRevision},e):null}get changes(){const e={};return this.crudStores.forEach(t=>{const n=this.getCrudStoreChanges(t);n&&(e[t.storeId]=n)}),Object.keys(e).length>0?e:null}applyChangesToRecord(e,t,n){const r=this,i=e.constructor,{fieldDataSourceMap:a}=i,s=i.prototype,l={},c=e.data,d={[r.phantomIdField]:!0};let u;n&&n.forEach(n=>{const i=n.storeId;if(Object.prototype.hasOwnProperty.call(t,i)){d[i]=!0;const o=e.get(i);o?r.applyChangesToStore(Object.assign({store:o},n),t[i]):console.log("Can't find store for the response sub-package")}});const h={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&!d[o]&&(h[o]=t[o]);const f=o.default.pathifyKeys(h);for(const g in f){const t=a[g],n=t?t.name:g,r=i.processField(n,f[g]),d=g in s?e[n]:o.default.getPath(c,g);(null!==t&&void 0!==t&&t.isEqual?t.isEqual(d,r):o.default.isEqual(d,r))||(u=!0,l[n]=r)}if(u){r.suspendChangesTracking();for(const t in l)e[t]=l[t];r.resumeChangesTracking(!0)}r.clearRecordChanges(e,l)}clearRecordChanges(e,t){e.clearChanges(!0,!1)}applyRemovals(e,t,n){const{removed:r,modelClass:i}=e,o=i.getFieldDataSource(i.idField);let a=0;return null===t||void 0===t||t.forEach(t=>{const n=t[o];let i=!1;if(r.includes(n)&&(r.remove(n),i=!0,a++),!i){const t=e.getById(n);t?(this.suspendChangesTracking(),t.remove(),r.remove(t),a++,this.resumeChangesTracking(!0)):console.log("Can't find record to remove from the response package")}}),a}getRowsToApplyChangesTo({store:e,storeId:t},n,r){var i,a;const s=this,{modelClass:l}=e,c=l.getFieldDataSource(l.idField),{updated:d,removed:u}=r||{};let h,f;if(n){const e={};h=n.rows||[],f=n.removed||[],[...h,...f].forEach(t=>{const n=o.default.getPath(t,c);e[n]=!0}),s.supportShortSyncResponse&&(null===d||void 0===d||d.forEach(t=>{const n=o.default.getPath(t,c);e[n]||h.push({[c]:n})}),null===u||void 0===u||u.forEach(t=>{const n=o.default.getPath(t,c);e[n]||f.push({[c]:n})}))}else(d||u)&&(h=d,f=u);return h=null!==(i=h)&&void 0!==i&&i.length?h:null,f=null!==(a=f)&&void 0!==a&&a.length?f:null,{rows:h,removed:f}}applyChangesToStore(e,t,n){const r=this,i=e.phantomIdField||r.phantomIdField,{store:a,stores:s}=e,{modelClass:l}=a,c=l.getFieldDataSource(l.idField),{rows:d,removed:u}=r.getRowsToApplyChangesTo(e,t,n);null===d||void 0===d||d.forEach(e=>{const t=e[i],n=o.default.getPath(e,c);let l=null;null!=t?l=a.getById(t):null!=n&&(l=a.getById(n)),l?r.applyChangesToRecord(l,e,s,a):(r.suspendChangesTracking(),l=a.add(e)[0],r.resumeChangesTracking(!0),l.clearChanges())}),u&&r.applyRemovals(a,u)&&a.trigger("dataChanged",{source:a})}applySyncResponse(e,t){const n=this,r=n.orderedCrudStores;n.applyingSyncResponse=!0;for(const o of r){var i;n.applyChangesToStore(o,e[o.storeId],null===t||void 0===t||null===(i=t.pack)||void 0===i?void 0:i[o.storeId])}n.applyingSyncResponse=!1}applyLoadResponse(e,t){this.applyingLoadResponse=!0,this.loadCrudManagerData(e,t),this.applyingLoadResponse=!1}async applyResponse(e,t,n){let r=e.type;switch(this.trackResponseType&&(r=t.type||e.type),r){case"load":this.applyLoadResponse(t,n);break;case"sync":this.applySyncResponse(t,e)}}get requestId(){return Number.parseInt(`${Date.now()}${this._requestId++}`)}sync(){const e=this;return e.activeRequests.sync?(e.trigger("syncDelayed"),e.activeSyncPromise=e.activeSyncPromise.finally(()=>e.sync())):e.activeSyncPromise=new Promise((t,n)=>{const r=e.getChangeSetPackage();r?!1!==e.trigger("beforeSync",{pack:r})?(e.trigger("syncStart",{pack:r}),e.activeRequests.sync={type:"sync",pack:r,resolve:t,reject:n,id:r.requestId,desc:e.sendRequest({id:r.requestId,data:e.encode(r),type:"sync",success:e.onCrudRequestSuccess,failure:e.onCrudRequestFailure,thisObj:e})}):(e.trigger("syncCanceled",{pack:r}),n({cancelled:!0})):t(null)}).catch(e=>{if(e&&!e.cancelled)throw e;return e})}async onCrudRequestSuccess(e,t,n){var r;const i=this,{type:o,id:s}=n;if(i.isDestroyed)return;let l="";n=i.activeRequests[o];try{l=await e.text()}catch(d){}if(i.isDestroyed)return;if((null===(r=n)||void 0===r?void 0:r.id)!==s)throw new Error(`Interleaved ${o} operation detected`);i.activeRequests[o]=null;const c=await i.internalOnResponse(n,l,t);i.isDestroyed||(null!==c&&void 0!==c&&c.success||n.reject(new m({rawResponse:e,response:c,request:n})),i["crud"+a.default.capitalize(n.type)+"ed"]=!0,n.resolve({response:c,rawResponse:e,responseText:l,request:n}))}async onCrudRequestFailure(e,t,n){var r;if(this.isDestroyed)return;n=this.activeRequests[n.type];const i=null===t||void 0===t||null===(r=t.abortController)||void 0===r?void 0:r.signal;if(!Boolean(null===i||void 0===i?void 0:i.aborted)){let r="";try{r=await e.text()}catch(o){}if(this.isDestroyed)return;if(this.triggerFailedRequestEvents(n,null,r,t),this.isDestroyed)return;n.reject(new m({rawResponse:e,request:n}))}this.activeRequests[n.type]=null}commitCrudStores(){u.default.deprecate("Scheduler","5.0.0","commitCrudStores is deprecated, in favor of acceptChanges"),this.acceptChanges()}acceptChanges(){this.crudStores.forEach(e=>e.store.acceptChanges())}revertChanges(){this.orderedCrudStores.forEach(e=>e.store.revertChanges())}rejectCrudStores(){u.default.deprecate("Scheduler","5.0.0","rejectCrudStores is deprecated, in favor of revertChanges"),this.revertChanges()}doDestroy(){const e=this,{load:t,sync:n}=e.activeRequests;for(t&&e.cancelRequest(t.desc,t.reject),n&&e.cancelRequest(n.desc,n.reject);e.crudStores.length>0;)e.removeCrudStore(e.crudStores[0]);super.doDestroy&&super.doDestroy()}}}},"./lib/Scheduler/crud/encoder/JsonEncoder.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/StringHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"JsonEncoder"}static get defaultConfig(){return{encoder:{}}}encode(e){var t;return e=Object.assign({},null===(t=this.encoder)||void 0===t?void 0:t.requestData,e),i.default.safeJsonStringify(e)}decode(e){return i.default.safeJsonParse(e)}}},"./lib/Scheduler/crud/mixin/CrudManagerView.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/mixin/LoadMaskable.js"),i=n("./lib/Core/widget/Mask.js");t.default=e=>class extends(e.mixin(r.default)){static get $name(){return"CrudManagerView"}static get configurable(){return{crudManagerClass:null,crudManager:null}}afterConstruct(){const e=this,{crudManager:t}=e;super.afterConstruct(),t&&e.loadMask&&t.isCrudManagerLoading&&e.onCrudManagerLoadStart()}applySyncMask(){const e=this,{syncMask:t}=e;t&&(e.masked=i.default.mergeConfigs(e.loadMaskDefaults,t))}bindCrudManager(e){this.detachListeners("crudManager"),null===e||void 0===e||e.on({name:"crudManager",loadStart:"onCrudManagerLoadStart",load:"onCrudManagerLoad",loadCanceled:"onCrudManagerLoadCanceled",syncStart:"onCrudManagerSyncStart",sync:"onCrudManagerSync",syncCanceled:"onCrudManagerSyncCanceled",requestFail:"onCrudManagerRequestFail",thisObj:this})}onCrudManagerLoadStart(){this.applyLoadMask(),this.toggleEmptyText()}onCrudManagerSyncStart(){this.applySyncMask()}onCrudManagerRequestFinalize(e=!0,t,n){const r=this;e?(r.masked=null,r.toggleEmptyText()):r.applyMaskError(`<div class="b-grid-load-failure">\n                    <div class="b-grid-load-fail">${r.L(`L{GridBase.${t}FailedMessage}`)}</div>\n                    ${n&&n.message?`<div class="b-grid-load-fail">${r.L("L{CrudManagerView.serverResponseLabel}")} ${n.message}</div>`:""}\n                </div>`)}onCrudManagerLoadCanceled(){this.onCrudManagerRequestFinalize(!0,"load")}onCrudManagerSyncCanceled(){this.onCrudManagerRequestFinalize(!0,"sync")}onCrudManagerLoad(){this.onCrudManagerRequestFinalize(!0,"load")}onCrudManagerSync(){this.onCrudManagerRequestFinalize(!0,"sync"),this.refresh()}onCrudManagerRequestFail({requestType:e,response:t}){this.onCrudManagerRequestFinalize(!1,e,t)}changeCrudManager(e){const t=this;e&&!e.isCrudManager&&(e=t.crudManagerClass.new({scheduler:t},e)),t._crudManager=e,t.bindCrudManager(e)}get widgetClass(){}}},"./lib/Scheduler/crud/transport/AjaxTransport.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/AjaxHelper.js"),o=n("./lib/Core/helper/util/Objects.js");t.default=e=>class t extends(e||r.default){static get $name(){return"AjaxTransport"}static get defaultMethod(){return{load:"GET",sync:"POST"}}cancelRequest(e,t){var n;null===(n=e.abort)||void 0===n||n.call(e),t({cancelled:!0})}shouldUseBodyForRequestData(e,t,n){return!("HEAD"===t||"GET"===t)&&!n}sendRequest(e){const n=this,{data:r}=e,a=n.transport[e.type]||{},s=o.default.assign({},a,a.requestConfig);s.method=s.method||t.defaultMethod[e.type],s.params=o.default.assign(s.params||{},e.params);let{paramName:l}=s;if(n.shouldUseBodyForRequestData(a,s.method,l)?(s.body=r,s.headers=s.headers||{},s.headers["Content-Type"]=s.headers["Content-Type"]||"application/json"):(l=l||"data",s.params[l]=r),!s.url)throw new Error("Trying to request without URL specified");delete s.requestConfig,delete s.paramName,n.trigger("beforeSend",{params:s.params,type:e.type,requestConfig:s,config:e}),s.queryParams=s.params,delete s.params;let c,d=!1;const u=o.default.assign({},s,s.fetchOptions),h=i.default.fetch(s.url,u);h.catch(e=>{var t;h.done=!0;const n=null===(t=u.abortController)||void 0===t?void 0:t.signal;return n&&(d=n.aborted,d||console.warn(e)),{error:e,cancelled:d}}).then(t=>{h.done=!0;const r=null!==t&&void 0!==t&&t.ok?e.success:e.failure;c=null===r||void 0===r?void 0:r.call(e.thisObj||n,t,u,e)});const f=Promise.all([h,c]);return f.abort=()=>{var e;h.done||null===(e=h.abort)||void 0===e||e.call(h)},f}}},"./lib/Scheduler/customElements/TimelineBaseTag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/customElements/WidgetTag.js");class i extends r.default{createInstance(e){const t=this,n=[],r=[],i=[];for(const o of t.children)if("COLUMN"===o.tagName){const e=parseInt(o.dataset.width),t=parseInt(o.dataset.flex),r={field:o.dataset.field,text:o.innerHTML,type:o.dataset.type};e?r.width=e:r.flex=t||1,n.push(r)}else if("DATA"===o.tagName)for(const e of o.children)for(const t of e.children){const n={};Object.assign(n,t.dataset),"EVENTS"===e.tagName?i.push(n):"RESOURCES"===e.tagName&&r.push(n)}else"PROJECT"===o.tagName&&(e.project=new this.projectModelClass({autoLoad:!0,transport:{load:{url:o.dataset.loadUrl}}}));return i.length&&(e.events=i),r.length&&(e.resources=r),new this.widgetClass(Object.assign(e,{columns:n}))}}i._$name="TimelineBaseTag"},"./lib/Scheduler/data/AssignmentStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/model/AssignmentModel.js"),o=n("./lib/Scheduler/data/mixin/PartOfProject.js"),a=(n("./lib/Scheduler/data/mixin/PartOfBaseProject.js"),n("./lib/Scheduler/data/mixin/AssignmentStoreMixin.js")),s=(n("./lib/Engine/quark/store/ChronoAssignmentStoreMixin.js"),n("./lib/Engine/quark/store/CoreAssignmentStoreMixin.js"));const l=Object(o.default)(s.CoreAssignmentStoreMixin.derive(r.default));class c extends(Object(a.default)(l)){static get defaultConfig(){return{modelClass:i.default}}}c._$name="AssignmentStore"},"./lib/Scheduler/data/CrudManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Scheduler/data/ResourceStore.js"),i=n("./lib/Scheduler/data/EventStore.js"),o=n("./lib/Scheduler/data/AssignmentStore.js"),a=n("./lib/Scheduler/data/DependencyStore.js"),s=n("./lib/Core/data/Store.js"),l=n("./lib/Scheduler/data/mixin/ProjectCrudManager.js"),c=n("./lib/Scheduler/crud/AbstractCrudManager.js"),d=n("./lib/Scheduler/crud/transport/AjaxTransport.js"),u=n("./lib/Scheduler/crud/encoder/JsonEncoder.js"),h=n("./lib/Scheduler/model/ProjectModel.js"),f=n("./lib/Core/helper/ObjectHelper.js");class g extends(c.default.mixin(l.default,d.default,u.default)){static get defaultConfig(){return{projectClass:h.default,resourceStoreClass:r.default,eventStoreClass:i.default,assignmentStoreClass:o.default,dependencyStoreClass:a.default,resourceStore:{},eventStore:{},assignmentStore:{},dependencyStore:{},project:null}}buildProject(){return new this.projectClass(this.buildProjectConfig())}buildProjectConfig(){return f.default.cleanupProperties({eventStore:this.eventStore,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,dependencyStore:this.dependencyStore,resourceTimeRangeStore:this.resourceTimeRangeStore})}set project(e){const t=this;e!==t._project&&(t._project=e,e&&(t.eventStore=e.eventStore,t.resourceStore=e.resourceStore,t.assignmentStore=e.assignmentStore,t.dependencyStore=e.dependencyStore,t.timeRangeStore=e.timeRangeStore,t.resourceTimeRangeStore=e.resourceTimeRangeStore),t.eventStore||(t.eventStore={}),t.resourceStore||(t.resourceStore={}),t.assignmentStore||(t.assignmentStore={}),t.dependencyStore||(t.dependencyStore={}))}get project(){return this._project}get timeRangesStore(){return this.timeRangeStore}get timeRangeStore(){var e;return null===(e=this._timeRangeStore)||void 0===e?void 0:e.store}set timeRangeStore(e){var t;this.setFeaturedStore("_timeRangeStore",e,null===(t=this.project)||void 0===t?void 0:t.timeRangeStoreClass)}get resourceTimeRangeStore(){var e;return null===(e=this._resourceTimeRangeStore)||void 0===e?void 0:e.store}set resourceTimeRangeStore(e){var t;this.setFeaturedStore("_resourceTimeRangeStore",e,null===(t=this.project)||void 0===t?void 0:t.resourceTimeRangeStoreClass)}get resourceStore(){var e;return null===(e=this._resourceStore)||void 0===e?void 0:e.store}set resourceStore(e){this.setFeaturedStore("_resourceStore",e,this.resourceStoreClass)}get eventStore(){var e;return null===(e=this._eventStore)||void 0===e?void 0:e.store}set eventStore(e){this.setFeaturedStore("_eventStore",e,this.eventStoreClass)}get assignmentStore(){var e;return null===(e=this._assignmentStore)||void 0===e?void 0:e.store}set assignmentStore(e){this.setFeaturedStore("_assignmentStore",e,this.assignmentStoreClass)}get dependencyStore(){var e;return null===(e=this._dependencyStore)||void 0===e?void 0:e.store}set dependencyStore(e){this.setFeaturedStore("_dependencyStore",e,this.dependencyStoreClass)}setFeaturedStore(e,t,n){var r;const i=this,o=null===(r=i[e])||void 0===r?void 0:r.store;var a;return o!==t&&(t=s.default.getStore(t,(null===(a=t)||void 0===a?void 0:a.storeClass)||n),o&&i.removeStore(o),i[e]=t&&{store:t}||null,i.addPrioritizedStore(i[e])),i[e]}getChangeSetPackage(){const e=super.getChangeSetPackage();return e&&this.eventStore.usesSingleAssignment&&(delete e[this.assignmentStore.storeId],!this.crudStores.some(t=>e[t.storeId]))?null:e}}g._$name="CrudManager"},"./lib/Scheduler/data/DependencyStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/model/DependencyModel.js"),o=n("./lib/Scheduler/data/mixin/PartOfProject.js"),a=n("./lib/Scheduler/data/mixin/DependencyStoreMixin.js"),s=(n("./lib/Engine/quark/store/ChronoDependencyStoreMixin.js"),n("./lib/Engine/quark/store/CoreDependencyStoreMixin.js"));n("./lib/Scheduler/data/mixin/PartOfBaseProject.js");const l=Object(o.default)(s.CoreDependencyStoreMixin.derive(r.default));class c extends(Object(a.default)(l.derive(r.default))){static get defaultConfig(){return{modelClass:i.default}}}c._$name="DependencyStore"},"./lib/Scheduler/data/EventStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/data/mixin/EventStoreMixin.js"),o=n("./lib/Scheduler/data/mixin/SharedEventStoreMixin.js"),a=n("./lib/Scheduler/data/mixin/RecurringEventsMixin.js"),s=n("./lib/Scheduler/model/EventModel.js"),l=n("./lib/Scheduler/data/mixin/PartOfProject.js"),c=(n("./lib/Engine/quark/store/ChronoEventStoreMixin.js"),n("./lib/Engine/quark/store/CoreEventStoreMixin.js"));n("./lib/Scheduler/data/mixin/PartOfBaseProject.js");const d=Object(l.default)(c.CoreEventStoreMixin.derive(r.default));class u extends(d.mixin(o.default,a.default,i.default)){static get defaultConfig(){return{modelClass:s.default}}}u._$name="EventStore"},"./lib/Scheduler/data/ResourceStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Scheduler/data/mixin/ResourceStoreMixin.js"),i=n("./lib/Scheduler/model/ResourceModel.js"),o=n("./lib/Core/data/AjaxStore.js"),a=n("./lib/Scheduler/data/mixin/PartOfProject.js"),s=(n("./lib/Engine/quark/store/ChronoResourceStoreMixin.js"),n("./lib/Engine/quark/store/CoreResourceStoreMixin.js"));n("./lib/Scheduler/data/mixin/PartOfBaseProject.js");const l=Object(a.default)(s.CoreResourceStoreMixin.derive(o.default));class c extends(Object(r.default)(l)){static get defaultConfig(){return{modelClass:i.default}}}c._$name="ResourceStore"},"./lib/Scheduler/data/ResourceTimeRangeStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/model/ResourceTimeRangeModel.js");class o extends r.default{static get defaultConfig(){return{loadPriority:500,syncPriority:500,resourceStore:null,modelClass:i.default,storeId:"resourceTimeRanges"}}set resourceStore(e){this._resourceStore=e,this.isConfiguring||this.initRelations(!0)}get resourceStore(){return this._resourceStore}getResourcesForEvent(e){return[e.resource]}}o._$name="ResourceTimeRangeStore"},"./lib/Scheduler/data/TimeAxis.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/Store.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Scheduler/model/TimeSpan.js"),a=n("./lib/Scheduler/preset/ViewPreset.js"),s=n("./lib/Scheduler/preset/PresetManager.js");class l extends r.default{static get defaultConfig(){return{modelClass:o.default,continuous:!0,originalContinuous:null,include:null,autoAdjust:!0,unit:null,increment:null,resolutionUnit:null,resolutionIncrement:null,weekStartDay:null,mainUnit:null,shiftUnit:null,shiftIncrement:1,adjustedStart:null,adjustedEnd:null,visibleTickStart:null,visibleTickEnd:null,defaultSpan:1,tickCache:{},viewPreset:null}}construct(e){const t=this;if(t.generateTicksValidatorFn=()=>!0,super.construct(e),t.originalContinuous=t.continuous,t.on({change:({action:e})=>{"filter"!==e&&t.trigger("reconfigure",{supressRefresh:!1})},refresh:()=>t.trigger("reconfigure",{supressRefresh:!1}),endreconfigure:e=>t.trigger("reconfigure",e)}),t.startDate)t.internalOnReconfigure(),t.trigger("reconfigure");else if(t.viewPreset){const e=t.getAdjustedDates(new Date);t.startDate=e.startDate,t.endDate=e.endDate}}get isTimeAxis(){return!0}reconfigure(e,t=!1,n=!1){const r=this,i=r.getAdjustedDates(e.startDate,e.endDate);if(!1!==r.trigger("beforeReconfigure",{startDate:i.startDate,endDate:i.endDate,config:e})){if(r.trigger("beginReconfigure"),r._configuredStartDate=e.startDate,r._configuredEndDate=e.endDate,Object.assign(r,e),!1===r.internalOnReconfigure(n))return!1;r.trigger("endReconfigure",{suppressRefresh:t,config:e})}}internalOnReconfigure(e=!1){const t=this;t.isConfigured=!0;const n=t.getAdjustedDates(t.startDate,t.endDate,!0),r=t.getAdjustedDates(t.startDate,t.endDate),o=r.startDate,a=r.endDate;if(o>=a)throw new Error(`Invalid start/end dates. Start date must less than end date. Start date: ${o}. End date: ${a}.`);const s=t.unit,l=t.increment||1,c=t.generateTicks(o,a,s,l);t.suspendEvents(),t.data=c;const{count:d}=t;if(0===d){if(e)return t.resumeEvents(),!1;throw new Error("Invalid time axis configuration or filter, please check your input data.")}t.startDate=t.first.startDate,t.resumeEvents();const u=t.last.endDate;t.isContinuous?(t.adjustedStart=n.startDate,t.adjustedEnd=i.default.getNext(d>1?c[d-1].startDate:n.startDate,s,l,t.weekStartDay)):(t.adjustedStart=t.startDate,t.adjustedEnd=u);do{t.visibleTickStart=(t.startDate-t.adjustedStart)/(i.default.asMilliseconds(s)*l),t.autoAdjust&&(t.visibleTickStart=Math.floor(t.visibleTickStart)),t.visibleTickStart>=1&&(t.adjustedStart=i.default.getNext(t.adjustedStart,s,l,t.weekStartDay))}while(t.visibleTickStart>=1);do{t.visibleTickEnd=d-(t.adjustedEnd-u)/(i.default.asMilliseconds(s)*l),d-t.visibleTickEnd>=1&&(t.adjustedEnd=i.default.getNext(t.adjustedEnd,s,-1,t.weekStartDay))}while(d-t.visibleTickEnd>=1);t.updateTickCache(!0)}get viewPreset(){return this._viewPreset}set viewPreset(e){if(!((e=s.default.getPreset(e))instanceof a.default))throw new Error("TimeAxis must be configured with the ViewPreset instance that the Scheduler is using");this._viewPreset=e,Object.assign(this,{unit:e.bottomHeader.unit,increment:e.bottomHeader.increment||1,resolutionUnit:e.timeResolution.unit,resolutionIncrement:e.timeResolution.increment,mainUnit:e.mainHeader.unit,shiftUnit:e.shiftUnit,shiftIncrement:e.shiftIncrement||1,defaultSpan:e.defaultSpan||1,presetName:e.id,headers:e.headers})}set weekStartDay(e){this._weekStartDay=e}get weekStartDay(){return null==this._weekStartDay?i.default.weekStartDay:this._weekStartDay}get resolution(){return{unit:this.resolutionUnit,increment:this.resolutionIncrement}}set resolution(e){this.resolutionUnit=e.unit,this.resolutionIncrement=e.increment}get resolutionUnit(){return this._resolutionUnit}set resolutionUnit(e){this._resolutionUnit=e}get resolutionIncrement(){return this._resolutionIncrement}set resolutionIncrement(e){this._resolutionIncrement=e||1}set mainUnit(e){this._mainUnit=e}get mainUnit(){return this._mainUnit}set shiftUnit(e){this._shiftUnit=e}get shiftUnit(){return this._shiftUnit||this._mainUnit}set shiftIncrement(e){this._shiftIncrement=e}get shiftIncrement(){return this._shiftIncrement||1}set unit(e){this._unit=e}get unit(){return this._unit}set increment(e){this._increment=e}get increment(){return this._increment}get defaultSpan(){return this._defaultSpan}set defaultSpan(e){this._defaultSpan=e}setTimeSpan(e,t,n=!1){t&&e-t===0&&(t=null);const r=this,{startDate:i,endDate:o}=r.getAdjustedDates(e,t);if(r.startDate-i!==0||r.endDate-o!==0)return r.reconfigure({startDate:i,endDate:o},!1,n)}shift(e,t=this.shiftUnit){const n=this;let{startDate:r,endDate:o}=n;n.isFiltered&&(r=n.allRecords[0].startDate,o=n.allRecords[n.allCount-1].endDate);let a=0;do{r=i.default.add(r,e,t),o=i.default.add(o,e,t)}while(a++<100&&!1===n.setTimeSpan(r,o,!0))}shiftNext(e=this.shiftIncrement){this.shift(e)}shiftPrevious(e=this.shiftIncrement){this.shift(-e)}filterBy(e,t=this){const n=this;n.filters.clear(),super.filterBy((n,r)=>e.call(t,n.data,r)),0===n.count&&(n.trigger("invalidFilter"),n.clearFilters())}triggerFilterEvent(e){const t=this;e.filters.count?t.continuous=!1:t.continuous=t.originalContinuous,t.updateTickCache(),super.triggerFilterEvent(e)}get isContinuous(){return!1!==this.continuous&&!this.filtered}getAdjustedDates(e,t,n=!1){const r=this;return e=e||r.startDate,t=t||i.default.add(e,r.defaultSpan,r.mainUnit),r.autoAdjust||n?{startDate:r.floorDate(e,!1,r.autoAdjust?r.mainUnit:r.unit,1),endDate:r.ceilDate(t,!1,r.autoAdjust?r.mainUnit:r.unit,1)}:{startDate:e,endDate:t}}get startDate(){return this._start||(this.first?new Date(this.first.startDate):null)}set startDate(e){this._start=i.default.parse(e)}get endDate(){return this._end||(this.last?new Date(this.last.endDate):null)}set endDate(e){e&&(this._end=i.default.parse(e))}get startMS(){return this._startMS}get endMS(){return this._endMS}floorDate(e,t,n,r){const o=this,a=(t=!1!==t)?i.default.clone(o.startDate):null,s=r||o.resolutionIncrement,l=n||(t?o.resolutionUnit:o.mainUnit),c=(e,t)=>Math.floor(e/t)*t;if(t){const t=c(i.default.diff(a,e,l),s);return i.default.add(a,t,l)}let d=i.default.clone(e);if("week"===l){const e=d.getDay()||7,t=o.weekStartDay||7;d=i.default.add(i.default.startOf(d,"day"),e>=t?t-e:-(7-t+e),"day"),d.getDay()!==t&&23===d.getHours()&&(d=i.default.add(d,1,"hour"))}else{d=i.default.startOf(d,l);const e=["day","year"].includes(l)?1:0,t="day"===l?"date":l,n=c(i.default.get(d,t)-e,s)+e;d=i.default.set(d,t,n)}return d}roundDate(e,t){const n=this,r=i.default.clone(e),o=n.resolutionIncrement||1;switch(t=i.default.clone(t||n.startDate),n.resolutionUnit){case"week":i.default.startOf(r,"day");let e,a=r.getDay()-n.weekStartDay;return a<0&&(a=7+a),e=1===Math.round(a/7)?7-a:-a,i.default.add(r,e,"day");case"month":const s=i.default.diff(t,r,"month")+i.default.as("month",r.getDay()/i.default.daysInMonth(r)),l=Math.round(s/o)*o;return i.default.add(t,l,"month");case"quarter":return i.default.startOf(r,"month"),i.default.add(r,"month",3-r.getMonth()%3);default:const c=i.default.as(n.resolutionUnit,i.default.diff(t,r)),d=i.default.as(n.resolutionUnit,t.getTimezoneOffset()-r.getTimezoneOffset(),"minute"),u=Math.round((c+d)/o)*o;return i.default.add(t,u-d,n.resolutionUnit)}}ceilDate(e,t,n,r){const o=this;t=!1!==t,r=r||(t?this.resolutionIncrement:1);let a=i.default.clone(e),s=!1,l=n||(t?o.resolutionUnit:o.mainUnit);switch(l){case"minute":s=!i.default.isStartOf(a,"minute");break;case"hour":s=!i.default.isStartOf(a,"hour");break;case"day":case"date":s=!i.default.isStartOf(a,"day");break;case"week":a=i.default.startOf(a,"day"),s=a.getDay()!==o.weekStartDay||!i.default.isEqual(a,e);break;case"month":a=i.default.startOf(a,"day"),s=1!==a.getDate()||!i.default.isEqual(a,e);break;case"quarter":a=i.default.startOf(a,"day"),s=a.getMonth()%3!==0||1!==a.getDate()||!i.default.isEqual(a,e);break;case"year":a=i.default.startOf(a,"day"),s=0!==a.getMonth()||1!==a.getDate()||!i.default.isEqual(a,e)}return s?i.default.getNext(a,l,r,o.weekStartDay):a}get include(){return this._include}set include(e){const t=this;t._include=e,t.continuous=!e,t.isConfiguring||(t.startDate=t._configuredStartDate,t.endDate=t._configuredEndDate,t.internalOnReconfigure(),t.trigger("includeChange"))}processExclusion(e,t,n){const{include:r}=this;return!!r&&Object.entries(r).some(([r,o])=>{if(!o)return!1;const{from:a,to:s}=o;if(i.default.compareUnits("day",n)>=0&&i.default.getLargerUnit(r)===n&&(a&&i.default.set(e,r,a),s)){let e=n;"day"===n&&(e="date"),i.default.set(t,{[e]:i.default.get(t,e)-1,[r]:s})}if(i.default.compareUnits(r,n)>=0){const t="day"===r?e.getDay():i.default.get(e,r);if(a&&t<a||s&&t>=s)return!0}})}initExclusion(){Object.entries(this.include).forEach(([e,t])=>{if(t){const{from:n,to:r}=t;t.lengthFactor=i.default.getUnitToBaseUnitRatio(e,i.default.getLargerUnit(e))/(r-n),t.lengthFactorExcl=i.default.getUnitToBaseUnitRatio(e,i.default.getLargerUnit(e))/(r-n-1),t.center=n+n/(t.lengthFactor-1)}})}generateTicks(e,t,n=this.unit,r=this.increment){const o=this,a=[],s=Boolean(o.include);let l,c,d,u=0,{startDate:h,endDate:f}=o.getAdjustedDates(e,t);for(o.tickCache={},s&&o.initExclusion();h<f;){if(l=i.default.getNext(h,n,r,o.weekStartDay),!o.autoAdjust&&l>f&&(l=f),"hour"===n&&r>1&&a.length>0&&0===u){const e=a[a.length-1];u=(e.startDate.getHours()+r)%24-e.endDate.getHours(),0!==u&&(l=i.default.add(l,u,"hour"))}d=!1,s?(c=new Date(l.getTime()),d=o.processExclusion(h,l,n)):c=l,o.generateTicksValidatorFn(h)&&!d&&(a.push({id:a.length+1,startDate:h,endDate:l}),o.tickCache[h.getTime()]=a.length-1),h=c}return a}get visibleTickTimeSpan(){return this.isContinuous?this.visibleTickEnd-this.visibleTickStart:this.count}getTickFromDate(e){const t=this,n=t.records,r=e.getTime();let i,o,a,s,l=0,c=n.length-1;if(!n.length||e<n[0].startDate||e>n[c].endDate)return-1;if(t.isContinuous){for(;l<c;)i=l+c+1>>1,r>n[i].endDate.getTime()?l=i+1:r<n[i].startDate.getTime()?c=i-1:l=i;return o=n[l],a=o.startDate.getTime(),r>a&&(s=o.endDate.getTime(),l+=(r-a)/(s-a)),Math.min(Math.max(l,t.visibleTickStart),t.visibleTickEnd)}for(let d=0;d<=c;d++)if(s=n[d].endDate,e<=s)return a=n[d].startDate,o=d+(e>a?(e-a)/(s-a):0),o}getDateFromTick(e,t){const n=this;if(e===n.visibleTickEnd)return n.endDate;const r=Math.floor(e),o=e-r,a=n.getAt(r);if(!a)return null;let s=0===r?n.adjustedStart:a.startDate,l=r===n.count-1&&n.isContinuous?n.adjustedEnd:a.endDate,c=i.default.add(s,o*(l-s),"millisecond");return t&&(c=n[t+"Date"](c)),c}get ticks(){return this.records}updateTickCache(e=!1){const t=this;t.count?(t._start=t.first.startDate,t._end=t.last.endDate,t._startMS=t.startDate.getTime(),t._endMS=t.endDate.getTime()):t._start=t._end=t._startMs=t._endMS=null,e||(t.tickCache={},t.forEach((e,n)=>t.tickCache[e.startDate.getTime()]=n))}dateInAxis(e,t=!1){const n=this,r=n.startDate,o=n.endDate;if(n.isContinuous)return t?i.default.betweenLesserEqual(e,r,o):i.default.betweenLesser(e,r,o);{let r,i,o,a=n.getCount();for(let s=0;s<a;s++)if(o=n.getAt(s),r=o.startDate,i=o.endDate,t&&e<=i||!t&&e<i)return e>=r}return!1}timeSpanInAxis(e,t){const n=this;return t&&t.getTime()!==e.getTime()?n.isContinuous?i.default.intersectSpans(e,t,n.startDate,n.endDate):e<n.startDate&&t>n.endDate||n.getTickFromDate(e)!==n.getTickFromDate(t):this.dateInAxis(e,!0)}isTimeSpanInAxis(e){const t=this,{startMS:n,endMS:r}=t,{startDateMS:o,endDateMS:a}=e;if(!o||!a)return!1;if(a===o)return t.dateInAxis(e.startDate,!0);if(t.isContinuous)return a>n&&o<r;const s=t.getTickFromDate(e.startDate),l=t.getTickFromDate(e.endDate);return!(s===t.count&&i.default.isEqual(e.startDate,t.last.endDate)||0===l&&i.default.isEqual(e.endDate,t.first.startDate))&&(o<n&&a>r||s!==l)}forEachAuxInterval(e,t=1,n,r=this){let o,a=this.endDate,s=this.startDate,l=0;if(s>a)throw new Error("Invalid time axis configuration");for(;s<a;)o=i.default.min(i.default.getNext(s,e,t,this.weekStartDay),a),n.call(r,s,o,l),s=o,l++}}l._$name="TimeAxis"},"./lib/Scheduler/data/mixin/AssignmentStoreMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/data/Model.js");t.default=e=>class extends e{static get $name(){return"AssignmentStoreMixin"}static get defaultConfig(){return{loadPriority:300,syncPriority:300,storeId:"assignments"}}add(e,...t){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){let t=e[n];if(t instanceof r.default||(e[n]=t=this.createRecord(t)),-1!==this.storage.findIndex("eventResourceKey",t.eventResourceKey,!0))throw new Error(`Duplicate assignment Event: ${t.eventId} to resource: ${t.resourceId}`)}return super.add(e,...t)}includesAssignment(e,t){return-1!==this.storage.findIndex("eventResourceKey",`${e}-${t}`,!0)}setStoreData(e){super.setStoreData(e)}get isAssignmentStore(){return!0}getOccurrence(e,t){if(!e||null===t||void 0===t||!t.isOccurrence)return e;const n=this;return{id:`${t.id}:a${e.id}`,event:t,resource:e.resource,eventId:t.id,resourceId:e.resource.id,isAssignment:!0,isOccurrenceAssignment:!0,instanceMeta(e){return n.occurrenceInstanceMeta(this,e)}}}occurrenceInstanceMeta(e,t){const n=this,r=t.id||t,{id:i}=e;let{occurrenceMeta:o}=n;return o||(o=n.occurrenceMeta={}),o[i]||(o[i]={}),o[i][r]||(o[i][r]={})}mapAssignmentsForEvent(e,t,n){e=this.eventStore.getById(e);const r=Boolean(t),i=Boolean(n);return r||i?e.assignments.reduce((e,o)=>{const a=r?t(o):o;return i&&!n(a)||e.push(a),e},[]):e.assignments}mapAssignmentsForResource(e,t,n){e=this.resourceStore.getById(e);const r=Boolean(t),i=Boolean(n);return r||i?e.assignments.reduce((e,o)=>{const a=r?t(o):o;return i&&!n(a)||e.push(a),e},[]):e.assignments}getAssignmentsForEvent(e){return e.assignments}removeAssignmentsForEvent(e){return this.remove(e.assignments)}getAssignmentsForResource(e){return(e=this.resourceStore.getById(e)).assignments}removeAssignmentsForResource(e){this.remove(this.getAssignmentsForResource(e))}getResourcesForEvent(e){return e.resources}getEventsForResource(e){return(e=this.resourceStore.getById(e))&&e.events}assignEventToResource(e,t,n=(e=>e),i=!1){const o=this,a=i?new Set(e.assignments):null;if(t=Array.isArray(t)?t:[t],o.eventStore&&o.eventStore.usesSingleAssignment&&e.assignments.length)return o.isEventAssignedToResource(e,t[0])||(e.resource=t[0]),[];let s=[];return o.suspendAutoCommit(),t.forEach(t=>{const l=o.getAssignmentForEventAndResource(e,t);if(l)i&&a.delete(l);else{let i={eventId:r.default.asId(e),resourceId:r.default.asId(t)};i=n(i),s.push(i)}}),s=o.add(s),i&&o.remove(Array.from(a)),o.resumeAutoCommit(),s}unassignEventFromResource(e,t){const n=this,r=[];if(!t)return n.removeAssignmentsForEvent(e);Array.isArray(t)||(t=[t]);for(let i=0;i<t.length;i++)n.isEventAssignedToResource(e,t[i])&&r.push(n.getAssignmentForEventAndResource(e,t[i]));return n.remove(r)}isEventAssignedToResource(e,t){return Boolean(this.getAssignmentForEventAndResource(e,t))}getAssignmentForEventAndResource(e,t){return e=this.eventStore.getById(e),t=this.resourceStore.getById(t),e&&t?this.getOccurrence(e.assignments.find(e=>e.resource===t),e):null}}},"./lib/Scheduler/data/mixin/AttachToProjectMixin.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"AttachToProjectMixin"}async afterConstruct(){super.afterConstruct();const e=this,t=e.client||e.grid,{project:n}=t;t.projectSubscribers.push(e),n&&(e.attachToProject(n),e.attachToResourceStore(n.resourceStore),e.attachToEventStore(n.eventStore),e.attachToAssignmentStore(n.assignmentStore),e.attachToDependencyStore(n.dependencyStore),e.attachToCalendarManagerStore(n.calendarManagerStore))}attachToProject(e){this.detachListeners("project"),this._project=e}attachToEventStore(e){this.detachListeners("eventStore")}attachToResourceStore(e){this.detachListeners("resourceStore")}attachToAssignmentStore(e){this.detachListeners("assignmentStore")}attachToDependencyStore(e){this.detachListeners("dependencyStore")}attachToCalendarManagerStore(e){this.detachListeners("calendarManagerStore")}get project(){return this._project}get calendarManagerStore(){return this.project.calendarManagerStore}get assignmentStore(){return this.project.assignmentStore}get resourceStore(){return this.project.resourceStore}get eventStore(){return this.project.eventStore}get dependencyStore(){return this.project.dependencyStore}}},"./lib/Scheduler/data/mixin/DependencyStoreMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/helper/VersionHelper.js"),i=n("./lib/Core/data/Model.js"),o=n("./lib/Scheduler/model/TimeSpan.js");t.default=e=>class extends e{static get $name(){return"DependencyStoreMixin"}static get defaultConfig(){return{loadPriority:400,syncPriority:400,storeId:"dependencies"}}reduceEventDependencies(e,t,n,r=!0,i){return i=i||(e=>this.getEventDependencies(e)),(e=Array.isArray(e)?e:[e]).reduce((e,n)=>{n.children&&!r?n.traverse(n=>{e=i(n).reduce(t,e)}):e=i(n).reduce(t,e)},n),n}mapEventDependencies(e,t,n,r,i){return this.reduceEventDependencies(e,(e,t)=>(n(t)&&e.push(t),e),[],r,i)}mapEventPredecessors(e,t,n,r){return this.reduceEventPredecessors(e,(e,t)=>(n(t)&&e.push(t),e),[],r)}mapEventSuccessors(e,t,n,r){return this.reduceEventSuccessors(e,(e,t)=>(n(t)&&e.push(t),e),[],r)}getEventDependencies(e){return[].concat(e.predecessors||[],e.successors||[])}getEventPredecessors(e){return r.default.deprecate("scheduler","5.0.0","Superfluous, will be removed in favour of `event.predecessors`"),e.predecessors}getEventSuccessors(e){return r.default.deprecate("scheduler","5.0.0","Superfluous, will be removed in favour of `event.successors`"),e.successors}removeEventDependencies(e){this.remove(this.getEventDependencies(e))}removeEventPredecessors(e){this.remove(e.predecessors)}removeEventSuccessors(e,t){this.remove(e.successors)}getBySourceTargetId(e){return this.records.find(t=>e==this.constructor.makeDependencySourceTargetCompositeKey(t.from,t.to))}getDependencyForSourceAndTargetEvents(e,t){return e=i.default.asId(e),t=i.default.asId(t),this.getBySourceTargetId(this.constructor.makeDependencySourceTargetCompositeKey(e,t))}getEventsLinkingDependency(e,t){return this.getDependencyForSourceAndTargetEvents(e,t)||this.getDependencyForSourceAndTargetEvents(t,e)}isValidDependency(e,t,n){return 1===arguments.length&&(t=e.to||e.toEvent,e=e.from||e.fromEvent),e instanceof o.default&&t instanceof o.default?this.project.isValidDependency(e,t,n):null!=e&&null!=t&&e!==t}isValidDependencyToCreate(e,t,n){return this.isValidDependency(e,t,n)}getHighlightedDependencies(e){return this.records.reduce((t,n)=>(n.isHighlightedWith(e)&&t.push(n),t),[])}static makeDependencySourceTargetCompositeKey(e,t){return`source(${e})-target(${t})`}getTimeSpanDependencies(e){return this.getEventDependencies(e)}}},"./lib/Scheduler/data/mixin/EventStoreMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/Model.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/VersionHelper.js");const s=()=>!0,l=Object.freeze([]),c=Object.freeze({}),d=e=>!e.isRecurring;t.default=e=>class extends(e||r.default){static get $name(){return"EventStoreMixin"}construct(e){super.construct(e),Object.assign(this,{autoTree:!0})}afterLoadData(){this.syncIndices("splice",this.storage.allValues),super.afterLoadData&&super.afterLoadData()}onDataChange({action:e,added:t,removed:n,replaced:r}){this.syncIndices(e,t,n,r),super.onDataChange(...arguments)}onDataReplaced(e,t){this.syncIndices("clear"),this.syncIndices("splice",this.storage.values),super.onDataReplaced(e,t)}syncIndices(e,t=l,n=l,r,i){var a,s,c,d,u,h,f;const g=this,m=null===(a=t)||void 0===a?void 0:a.length,p=null===(s=n)||void 0===s?void 0:s.length,v=null===r||void 0===r?void 0:r.length;let b,y,C,S,w;if(g.dateIndicesRequested)switch(e){case"clear":g._startDateIndex={},g._dateIndex={};break;case"splice":if(v)for(t=t.slice(),n=n.slice(),C=0;C<v;C++)n.push(r[C][0]),t.push(r[C][1]);if(p)for(C=0;C<p;C++){var E,D,x;if(w=n[C],b=null===(E=o.default.clearTime(w.startDate))||void 0===E?void 0:E.getTime(),y=null!==(D=null===(x=w.endDate)||void 0===x?void 0:x.getTime())&&void 0!==D?D:b,b){g.removeIndexEntry("startDate",w,o.default.makeKey(b));do{g.removeIndexEntry("date",w,o.default.makeKey(b)),b+=864e5}while(b<y)}}if(m)for(C=0;C<m;C++){var j,T,R;if(S=t[C],S.isScheduled&&(b=null===(j=o.default.clearTime(S.startDate))||void 0===j?void 0:j.getTime(),y=null!==(T=null===(R=S.endDate)||void 0===R?void 0:R.getTime())&&void 0!==T?T:b,b)){g.addIndexEntry("startDate",S,o.default.makeKey(b));do{g.addIndexEntry("date",S,o.default.makeKey(b)),b+=864e5}while(b<y)}}break;case"reschedule":if(w=t[0],b=null===(c=o.default.clearTime((null===(d=i.startDate)||void 0===d?void 0:d.oldValue)||w.startDate))||void 0===c?void 0:c.getTime(),y=null!==(u=null===(h=(null===(f=i.endDate)||void 0===f?void 0:f.oldValue)||w.endDate)||void 0===h?void 0:h.getTime())&&void 0!==u?u:b,b){g.removeIndexEntry("startDate",w,o.default.makeKey(b));do{g.removeIndexEntry("date",w,o.default.makeKey(b)),b+=864e5}while(b<y)}g.syncIndices("splice",t)}}onModelChange(e,t,n,r,i){("startDate"in n||"endDate"in n)&&this.syncIndices("reschedule",[e],null,null,n),super.onModelChange(...arguments)}addIndexEntry(e,t,n=t[e]){const r=`_${e}Index`,i=this[r]||(this[r]={});(i[n]||(i[n]=new Set)).add(t)}removeIndexEntry(e,t,n=t[e]){const r=`_${e}Index`,i=(this[r]||(this[r]={}))[n];i&&i.delete(t)}getDateIndex(e){const t=this;return t.dateIndicesRequested||(t.dateIndicesRequested=!0,t.syncIndices("splice",t.storage.allValues)),t[`_${e}Index`]||c}getEventsInTimeSpan(e,t,n=!0,r=!1){return a.default.deprecate("Scheduler","5.0.0","`getEventsInTimeSpan` method deprecated, in favor of `getEvents`"),this.getEvents({startDate:e,endDate:t,allowPartial:n,onlyAssigned:r})}getEventsByStartDate(e){return a.default.deprecate("Scheduler","5.0.0","`getEventsByStartDate` method deprecated, in favor of `getEvents`"),this.getEvents({startDate:e,startOnly:!0})}getEvents({filter:e,date:t,startDate:n,endDate:r,startOnly:i,includeOccurrences:a,allowPartial:l,onlyAssigned:c=!1,dateMap:d=!1,getDateIndex:u}){const h=this,f=arguments[0],{lastDateRange:g,added:m,filtersFunction:p}=h,v=e;if(c&&(f.filter=v?e=>v(e)&&e.resources.length:e=>e.resources.length),"startDate"in f||(n=f.startDate=t),"includeOccurrences"in f||(a=f.includeOccurrences=!0),"allowPartial"in f||(l=f.allowPartial=!i),f.storeFilterFn=h.isFiltered?h.reapplyFilterOnAdd?p:e=>m.includes(e)?h.indexOf(e)>-1:p(e):null,!r)if(n)(r=f.endDate=o.default.clearTime(n)).setDate(r.getDate()+1);else{if(a)throw new Error("getEvents MUST be passed startDate and endDate if recurring occurrences are requested");f.dateFilter=s}f.dateFilter||(f.dateFilter=i?e=>{const t=e.startDate;return t&&!(o.default.clearTime(t)-n)}:l?e=>{const t=e.startDate,i=e.endDate||t;return t&&o.default.intersectSpans(t,i,n,r)}:e=>{const t=e.startDate,i=e.endDate||t;return t&&t>=n&&i<=r});const b={startDate:n,endDate:r};return(!g||g.startDate-b.startDate||g.endDate-b.endDate)&&(h.processConfiguredListeners(),h.trigger("loadDateRange",{old:g||{},new:Object.assign({},b)}),h.lastDateRange=b),d?h.getEventsAsMap(f):h.getEventsAsArray(f)}getEventsAsArray({filter:e,date:t,resourceRecord:n,startDate:r=t,endDate:i,startOnly:a,includeOccurrences:s=!0,dateFilter:l,storeFilterFn:c,getDateIndex:d}){const u=this,h=[];if(u.count){let e=n?u.getEventsForResource(n):null;if(!n){const t=new Set,n=u.getDateIndex(a?"startDate":"date");u.recurringEvents.forEach(e=>{o.default.clearTime(e.startDate)<=r&&t.add(e)});for(const e=new Date(r);e<i;e.setDate(e.getDate()+1)){const r=(d?u.getDateIndex(d(e)):n)[o.default.makeKey(e)];r&&r.forEach(e=>t.add(e))}e=[...t]}c&&(e=e.filter(c));for(let t=0,{length:n}=e;t<n;t++){const n=e[t];s&&n.isRecurring?h.push.apply(h,n.getOccurrencesForDateRange(r,i).filter(l)):l(n)&&h.push(n)}}return e?h.filter(e):h}getEventsAsMap({filter:e,date:t,resourceRecord:n,startDate:r=t,endDate:i,startOnly:a,includeOccurrences:s=!0,dateMap:l,storeFilterFn:c,getDateIndex:u}){const h=this;if(l.clear?l.clear():l=new Map,h.count){const t=h.getDateIndex(a?"startDate":"date"),f=[],g=t=>(!e||e(t))&&(!c||c(t));if(n)throw new Error("Querying for events for a resource and returning a date-keyed Map is not supported");h.recurringEvents.forEach(e=>{o.default.clearTime(e.startDate)<i&&f.push(e)});for(const e=new Date(r);e<i;e.setDate(e.getDate()+1)){const n=o.default.makeKey(e);let r=(u?h.getDateIndex(u(e)):t)[o.default.makeKey(e)];r&&(r=[...r].filter(d).filter(g),(l.get(n)||l.set(n,[]).get(n)).push(...r))}for(let e=0,{length:n}=f;e<n;e++){const t=f[e],n=(s?t.getOccurrencesForDateRange(r,i):[t]).filter(g);for(let e=0,{length:r}=n;e<r;e++){const t=n[e],r=o.default.clearTime(t.startDate),i="startDate"===(u?u(r):a?"startDate":"date")?o.default.endOf(r):t.endDate||o.default.add(t.startDate,t.duration,t.durationUnit);for(;r<i;r.setDate(r.getDate()+1)){const e=o.default.makeKey(r);(l.get(e)||l.set(e,[]).get(e)).push(t)}}}}return l}forEachScheduledEvent(e,t=this){this.forEach(n=>{const{startDate:r,endDate:i}=n;if(r&&i)return e.call(t,n,r,i)})}getTotalTimeSpan(){let e=new Date(9999,0,1),t=new Date(0);return this.forEach(n=>{n.startDate&&(e=o.default.min(n.startDate,e)),n.endDate&&(t=o.default.max(n.endDate,t))}),e=e<new Date(9999,0,1)?e:null,t=t>new Date(0)?t:null,this.lastTotalTimeSpan={startDate:e||null,endDate:t||e||null}}isEventPersistable(e){return e.isPersistable}isDateRangeAvailable(e,t,n,r){const i=new Set(this.getEventsForResource(r));if(null!==n&&void 0!==n&&n.isAssignment&&n.event.resources.forEach(e=>{e.id!==n.resourceId&&this.getEventsForResource(e).forEach(e=>i.add(e))}),n){const e=n.isAssignment?n.event:n;i.delete(e)}return!Array.from(i).some(n=>n.isScheduled&&o.default.intersectSpans(e,t,n.startDate,n.endDate))}filterEventsForResource(e,t,n=this){return e.getEvents(this).filter(t.bind(n))}getResourcesForEvent(e){return e.isOccurrence&&(e=e.recurringTimeSpan),this.assignmentStore.getResourcesForEvent(e)}getEventsForResource(e){return this.assignmentStore.getEventsForResource(e)}getAssignmentsForEvent(e){return this.assignmentStore.getAssignmentsForEvent(e)||[]}getAssignmentsForResource(e){return this.assignmentStore.getAssignmentsForResource(e)||[]}assignEventToResource(e,t,n=!1){return this.assignmentStore.assignEventToResource(e,t,void 0,n)}unassignEventFromResource(e,t){this.assignmentStore.unassignEventFromResource(e,t)}reassignEventFromResourceToResource(e,t,n){const r=this,o=i.default.asId(n),a=r.assignmentStore.getAssignmentForEventAndResource(e,t);a?a.resourceId=o:r.assignmentStore.assignEventToResource(e,n)}isEventAssignedToResource(e,t){return this.assignmentStore.isEventAssignedToResource(e,t)}removeAssignmentsForEvent(e){this.assignmentStore.removeAssignmentsForEvent(e)}removeAssignmentsForResource(e){this.assignmentStore.removeAssignmentsForResource(e)}}},"./lib/Scheduler/data/mixin/PartOfBaseProject.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"PartOfBaseProject"}get assignmentStore(){return this.project.assignmentStore}get calendarManagerStore(){return this.project.calendarManagerStore}get dependencyStore(){return this.project.dependencyStore}get eventStore(){return this.project.eventStore}get resourceStore(){return this.project.resourceStore}}},"./lib/Scheduler/data/mixin/PartOfProject.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"PartOfProject"}}},"./lib/Scheduler/data/mixin/ProjectConsumer.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Scheduler/model/ProjectModel.js"),o=n("./lib/Core/helper/StringHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"ProjectConsumer"}static get declarable(){return["projectStores"]}static get configurable(){return{projectModelClass:i.default,project:{},destroyStores:null,projectSubscribers:[]}}startConfigure(e){this.getConfig("project"),super.startConfigure(e)}changeProject(e,t){const n=this,{projectStoreNames:r,projectDataNames:i}=n.constructor;if(n.projectCallbacks=new Set,e){if(n.buildingProjectConfig=!0,!e.isModel){if(n.isConfiguring){n._project=e;const{crudManager:t}=n;if(t){const{isCrudManager:e}=t;for(const i of r)t[i]&&(n[i]=t[i],e||delete t[i])}n.getConfig("projectStores");for(const e of i)n.getConfig(e)}const{eventStore:t}=e;t&&!t.isEventStoreMixin&&t.autoLoad&&!t.count&&(t.autoLoad=!1,n.delayAutoLoad=!0),e=n._sharedProject||new n.projectModelClass(e),delete n._project}n.buildingProjectConfig=!1}return e}updateProject(e,t){const n=this,{projectListeners:r,crudManager:i}=n;if(n.detachListeners("projectConsumer"),delete n._crudManager,e){r.thisObj=n,e.on(r),e.isCrudManager?n.crudManager=e:i&&(i.project=e,n.crudManager=i),n.projectSubscribers.forEach(t=>t.attachToProject(e));for(const t of n.constructor.projectStoreNames)n[t]=e[t];n.delayAutoLoad&&(e.eventStore.autoLoad=!0,e.eventStore.load())}n.trigger("projectChange",{project:e})}changeCrudManager(e){if(!this.buildingProjectConfig)return super.changeCrudManager(e);this._crudManager=e.isCrudManager?e:Object.assign({},e)}onProjectDataReady(){this.projectCallbacks.size&&(this.projectCallbacks.forEach(e=>e()),this.projectCallbacks.clear())}whenProjectReady(e){this.isEngineReady?e():this.projectCallbacks.add(e)}get isEngineReady(){var e,t;return Boolean(null===(e=(t=this.project).isEngineReady)||void 0===e?void 0:e.call(t))}doDestroy(){super.doDestroy(),this.destroyStores&&!this.project.isDestroyed&&this.project.destroy()}get projectStores(){const{projectStoreNames:e}=this.constructor;return e.map(e=>this[e])}static get projectStoreNames(){return Object.keys(this.projectStores)}static get projectDataNames(){return this.projectStoreNames.reduce((e,t)=>{const{dataName:n}=this.projectStores[t];return n&&e.push(n),e},[])}static setupProjectStores(e,t){const{projectStores:n}=e;if(n){const e={name:"projectConsumer",dataReady:"onProjectDataReady"},r={projectListeners:e};for(const i in n){const{dataName:o}=n[i];r[i]=null,o&&Object.defineProperty(t.class.prototype,o,{get(){var e;return null===(e=this.project[i])||void 0===e?void 0:e.records},set(e){const{project:t}=this;this.buildingProjectConfig?t[o+"Data"]=e:t[i].data=e}}),this.createStoreDescriptor(t,i,n[i],e)}this.setupConfigs(t,r)}}static createStoreDescriptor(e,t,{listeners:n},r){const{prototype:i}=e.class,a=o.default.capitalize(t);r[t+"Change"]=function({store:e}){this[t]=e},i["change"+a]=function(e,r){var i;const o=this,{project:s}=o,l=null===(i=e)||void 0===i?void 0:i.project;return o.buildingProjectConfig?(l&&l.isProjectModel&&(o._sharedProject=l),void(s[t]=e)):(o.initializingProject||s[t]!==e&&(s["set"+a](e),e=s[t]),e!==r&&(n&&(n.thisObj=o,n.name=t+"Listeners",o.detachListeners(n.name),e.on(n)),o.projectSubscribers.forEach(t=>{var n;null===(n=t["attachTo"+a])||void 0===n||n.call(t,e)})),e)}}get widgetClass(){}}},"./lib/Scheduler/data/mixin/ProjectCrudManager.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Scheduler/crud/AbstractCrudManagerMixin.js"),i=n("./lib/Core/helper/StringHelper.js"),o=n("./lib/Core/Base.js"),a=n("./lib/Scheduler/crud/transport/AjaxTransport.js"),s=n("./lib/Scheduler/crud/encoder/JsonEncoder.js"),l=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends((e||o.default).mixin(r.default,a.default,s.default)){static get defaultConfig(){return{project:null}}startConfigure(e){this.getConfig("project"),super.startConfigure(e),this._changesToClear=new Map}async doAutoLoad(){const{project:e}=this;return e&&await e.commitAsync(),super.doAutoLoad()}loadCrudManagerData(e,t={}){const n=this,{project:r}=n;n.suspendChangesTracking(),super.loadCrudManagerData(...arguments),null!==e&&void 0!==e&&e.project&&(n.applyingProjectResponse=!0,Object.assign(r,e.project),n.applyingProjectResponse=!1),n.resumeChangesTracking()}async sync(){const{project:e}=this;let t;this.suspendAutoSync(),e&&await e.commitAsync();try{t=await super.sync()}finally{this.resumeAutoSync(!1)}return t}async applyResponse(e,t,n){var r;const o=this;if(!(o.isDestroyed||null!==(r=o.project)&&void 0!==r&&r.isDestroyed)&&(o.trigger("startApplyResponse"),o.clearCrudStoresChanges({clearRemovedCollection:!1}),await super.applyResponse(e,t,n),o.clearCrudStoresChanges({removeAddedRecords:!1,clearAddedCollection:!1,clearModifiedCollection:!1,clearRemovedCollection:!0}),null!==t&&void 0!==t&&t.project&&(o.applyingProjectResponse=!0,Object.assign(o,t.project),o.applyingProjectResponse=!1),o.project)){let n=e.type;o.trackResponseType&&(n=t.type||n);const r=`propagating${i.default.capitalize(n)}Changes`;o[r]=!0,await o.project.commitAsync(),o[r]=!1,this.commitRespondedChanges()}}commitRespondedChanges(){this._changesToClear.forEach((e,t)=>{Object.entries(e).forEach(([e,n])=>{const r=t.getFieldDefinition(e),i=t[e];(null!==r&&void 0!==r&&r.isEqual?r.isEqual(i,n):l.default.isEqual(i,n))&&delete t.meta.modified[e]})}),this._changesToClear.clear()}clearRecordChanges(e,t){super.clearRecordChanges(e,t),this.project&&this._changesToClear.set(e,t)}clearCrudStoresChanges(e={removeAddedRecords:!0,clearAddedCollection:!0,clearModifiedCollection:!0,clearRemovedCollection:!0}){const{removeAddedRecords:t,clearAddedCollection:n,clearModifiedCollection:r,clearRemovedCollection:i}=e;this.forEachCrudStore(e=>{t&&e.remove(this.added,!0),r&&(e.modified.forEach(e=>e.clearChanges(!1)),e.modified.clear()),n&&e.added.clear(),i&&e.removed.clear()})}}},"./lib/Scheduler/data/mixin/RecurringEventsMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Scheduler/data/mixin/RecurringTimeSpansMixin.js");t.default=e=>class extends(Object(i.default)(e||r.default)){static get $name(){return"RecurringEventsMixin"}getRecurringEvents(){return this.getRecurringTimeSpans()}isEventPersistable(e){return super.isEventPersistable(e)&&(!e.supportsRecurring||!e.isOccurrence)}}},"./lib/Scheduler/data/mixin/RecurringTimeSpansMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=Object.freeze([]);t.default=e=>class extends(e||r.default){static get $name(){return"RecurringTimeSpansMixin"}construct(...e){this.globalOccurrences=new Map,this.recurringEvents=new Set,super.construct(...e)}afterLoadData(){this.globalOccurrences.clear(),this.refreshRecurringEventsCache("clear"),this.refreshRecurringEventsCache("splice",this.storage.allValues),super.afterLoadData&&super.afterLoadData()}onDataChange({action:e,added:t,removed:n,replaced:r}){this.refreshRecurringEventsCache(e,t,n,r),super.onDataChange(...arguments)}refreshRecurringEventsCache(e,t=i,n=i,r){const{recurringEvents:o}=this,a=null===r||void 0===r?void 0:r.length;switch(e){case"clear":o.clear();break;case"splice":if(a){t=t.slice(),n=n.slice();for(let e=0;e<a;e++)n.push(r[e][0]),t.push(r[e][1])}const e=t.length,i=n.length;if(i&&o.size)for(let t=0;t<i;t++){const e=n[t];e.isRecurring&&o.delete(e)}if(e)for(let n=0;n<e;n++){const e=t[n];e.isRecurring&&o.add(e)}}}getById(e){let t=super.getById(e);return t||(t=this.globalOccurrences.get(this.modelClass.asId(e))),t}onModelChange(e,t,n,r,i){const o=this.isRecurrenceRelatedFieldChange(e,n);if(o&&!r&&e.removeOccurrences(),super.onModelChange(...arguments),o&&!r){const e={action:"batch",records:this.storage.values};this.trigger("refresh",e),this.trigger("change",e)}}isRecurrenceRelatedFieldChange(e,t){return e.isRecurring||"recurrenceRule"in t}getOccurrencesForTimeSpan(e,t,n){const r=[];return e.isRecurring&&e.recurrence.forEachOccurrence(t,n,e=>r.push(e)),r}set data(e){this.globalOccurrences.clear(),super.data=e}getRecurringTimeSpans(){return[...this.recurringEvents]}}},"./lib/Scheduler/data/mixin/ResourceStoreMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"ResourceStoreMixin"}get isResourceStore(){return!0}static get defaultConfig(){return{loadPriority:200,syncPriority:100,storeId:"resources",autoTree:!0}}construct(e){if(super.construct(e),!this.modelClass.isResourceModel)throw new Error("Model for ResourceStore must subclass ResourceModel")}removeAll(){const e=super.removeAll(...arguments);return e&&this.assignmentStore.removeAll(),e}onRecordIdChange({record:e,oldValue:t,value:n}){super.onRecordIdChange({record:e,oldValue:t,value:n}),e.isFieldModified("id")&&(this.isChangingId=!0,e.updateAssignmentResourceIds(),this.isChangingId=!1)}}},"./lib/Scheduler/data/mixin/SharedEventStoreMixin.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"SharedEventStoreMixin"}static get defaultConfig(){return{loadPriority:100,syncPriority:200,storeId:"events",removeUnassignedEvent:!0}}construct(e){if(super.construct(e,!0),!this.modelClass.isEventModel)throw new Error("The model for the EventStore must subclass EventModel")}append(e){return this.add(e)}get project(){return super.project}set project(e){super.project=e,this.detachListeners("project"),e&&(e.on({name:"project",assignmentStoreChange:"onProjectAssignmentStoreChange",thisObj:this,prio:200}),e.assignmentStore&&e.assignmentStore.isAssignmentStore&&this.attachToAssignmentStore(e.assignmentStore))}processRecords(e){var t;const{assignmentStore:n}=this,r=[];return e=super.processRecords(e,n&&!(null!==(t=this.stm)&&void 0!==t&&t.isRestoring)&&(e=>{const t=e.get("resourceId");e.reassignedFromReplace||null==t||n.includesAssignment(e.id,t)||r.push({id:n.modelClass.generateId(""),resourceId:t,eventId:e.id}),e.reassignedFromReplace=!1})||void 0),null===n||void 0===n||n.add(r),e}processRecord(e,t=!1){const n=(e=super.processRecord(e,t)).get("resourceId");if(null!=n){const r=this,{assignmentStore:i}=r,o=r.getById(e.id);if(o&&o!==e&&!t){const t=i.find(t=>t.eventId===e.id);t&&(t.resource=n,e.reassignedFromReplace=!0)}else r.$processResourceIds=!0;r.usesSingleAssignment=!0}return e}processResourceIds(){const{assignmentStore:e}=this;if(this.$processResourceIds&&null!==e&&void 0!==e&&e.isAssignmentStore){const t=[];this.forEach(n=>{const{resourceId:r,id:i}=n;null!=r&&t.push({id:e.modelClass.generateId(""),resourceId:r,eventId:i})}),e.useRawData={disableDefaultValue:!0,disableDuplicateIdCheck:!0,disableTypeConversion:!0},e.usesSingleAssignment=!1,e.data=t,e.usesSingleAssignment=!0,this.$processResourceIds=!1}}loadData(){super.loadData(...arguments),this.processResourceIds()}onBeforeRemoveAssignment({records:e}){var t;const n=this;if(n.removeUnassignedEvent&&!n.isRemoving&&!n.isSettingData&&(null===(t=n.stm)||void 0===t||!t.isRestoring)&&!n.usesSingleAssignment){const t=new Set;e.forEach(n=>{const{event:r}=n;r&&!r.isRemoved&&r.assignments.every(t=>e.includes(t))&&t.add(r)}),t.size&&n.remove([...t])}}onProjectAssignmentStoreChange({store:e}){this.attachToAssignmentStore(e)}attachToAssignmentStore(e){const t=this;t.detachListeners("assignmentStore"),e&&(t.processResourceIds(),e.on({name:"assignmentStore",addPreCommit({records:e}){!t.usesSingleAssignment||t.isSettingData||t.isAssigning||e.forEach(e=>{const{event:t}=e;null!==t&&void 0!==t&&t.isEvent&&t.resourceId!==e.resourceId&&(t.meta.isAssigning=!0,t.set("resourceId",e.resourceId),t.meta.isAssigning=!1)})},beforeRemove:"onBeforeRemoveAssignment",removePreCommit({records:e}){t.usesSingleAssignment&&e.forEach(e=>{var n;null===(n=t.getById(e.eventId))||void 0===n||n.set("resourceId",null)})},removeAllPreCommit(){t.usesSingleAssignment&&!t.isSettingData&&t.allRecords.forEach(e=>e.set("resourceId",null))},update({record:e,changes:n}){if(t.usesSingleAssignment&&"resourceId"in n){const{event:t}=e;t.meta.isAssigning=!0,t.set("resourceId",n.resourceId.value),t.meta.isAssigning=!1}},thisObj:t}))}set data(e){this.isSettingData=!0,this.usesSingleAssignment&&!this.syncDataOnLoad&&this.assignmentStore.removeAll(!0),super.data=e,this.isSettingData=!1}trigger(e,t){const{changes:n}=t||{};return n&&"resourceId"in n&&1===Object.keys(n).length&&(t.isAssign=!0),super.trigger(...arguments)}}},"./lib/Scheduler/data/util/ModelPersistencyManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/Base.js");class i extends r.default{set eventStore(e){const t=this;t.eventStoreDetacher&&t.eventStoreDetacher(),t._eventStore=e,e&&e.autoCommit&&(t.eventStoreDetacher=e.on({beforecommit:t.onEventStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))}get eventStore(){return this._eventStore}set resourceStore(e){const t=this;t.resourceStoreDetacher&&t.resourceStoreDetacher(),t._resourceStore=e,e&&e.autoCommit&&(t.resourceStoreDetacher=e.on({beforecommit:t.onResourceStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))}get resourceStore(){return this._resourceStore}set assignmentStore(e){const t=this;t.assignmentStoreDetacher&&t.assignmentStoreDetacher(),t._assignmentStore=e,e&&e.autoSync&&(t.assignmentStoreDetacher=e.on({beforecommit:t.onAssignmentStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))}get assignmentStore(){return this._assignmentStore}set dependencyStore(e){const t=this;t.dependencyStoreDetacher&&t.dependencyStoreDetacher(),t._dependencyStore=e,e&&e.autoSync&&(t.dependencyStoreDetacher=e.on({beforecommit:t.onDependencyStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))}get dependencyStore(){return this._dependencyStore}onEventStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onResourceStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onAssignmentStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onDependencyStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}removeNonPersistableRecordsToCreate(e){let t,n,r=e.added||[];for(n=r.length-1;n>=0;--n)t=r[n],t.isPersistable||r.splice(r.indexOf(t),1);0===r.length&&(e.added.length=0)}shallContinueSync(e){return Boolean(e.added&&e.added.length>0||e.modified&&e.modified.length>0||e.removed&&e.removed.length>0)}}i._$name="ModelPersistencyManager"},"./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js");const o=/ly$/i,a=e=>{const t=e.replace(o,"");return"DAI"===t?"DAY":t},s=(e,t,n,r)=>r.buildOccurrence(e,n),l=e=>c=e;let c;class d extends r.default{static processIterationConfig(e){const{recurrence:t}=e,{frequency:n,interval:r,timeSpan:o,endDate:d,count:u}=t;if(!e.syncingStartDate&&!o.meta.isSyncedWithRule){const l=i.default.add(o.startDate,r,a(n)),c=i.default.min(l,e.endDate||l);this.forEachDate({syncingStartDate:!0,startDate:o.startDate,endDate:c,recurrence:t,fn:s})}const h=o.startDate;let{startDate:f=h,endDate:g=d}=e;f<h&&(f=h),d?(!g||g>d)&&(g=d):u&&f>h&&(this.forEachDate({recurrence:t,fn:l}),(!g||g>c)&&(g=c));const m=f;return e.startOnly||(f=new Date(i.default.max(i.default.add(f,-r,a(n)),h))),Object.assign({extraArgs:[],startOnly:!Boolean(o.durationMS)},e,{startDate:f,endDate:g,timeSpan:o,timeSpanStart:h,earliestVisibleDate:m,durationMS:o.durationMS,spansStart:f<=h&&g>h})}static get frequency(){return"NONE"}static get MAX_OCCURRENCES_COUNT(){return 1e6}static getOccurrenceIndex(e){if(e.isOccurrence)return i.default.diff(e.recurringTimeSpan.startDate,e.startDate,a(e.recurringTimeSpan.recurrence.frequency))}static getNthDayInPeriod(e,t,n,r){let i,o,a;if(r){const s=864e5,l=6048e5;r>0?(o=1,a=e):(o=-1,a=t);const c=n-a.getDay();o*c<0&&(r+=o),i=new Date(a.getTime()+(r-o)*l+c*s),(i<e||i>t)&&(i=null)}return i}static buildDate(e,t,n){const r=new Date(e,t,n);if(r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n)return r}static isValidPosition(e){return Boolean(e)}static forEachDateAtPositions(e,t,n,r){const i=e.length,o={};for(let a=0;a<t.length;a++){const s=t[a];if(this.isValidPosition(s)){const t=s>0?e[s-1]:e[i+s];if(t&&!o[t.getTime()]&&(o[t.getTime()]=!0,!1===n.call(r,t)))return!1}}}static isInView(e,t,n,r,i){return(e?t>=n:t.valueOf()+r>n)&&!i.hasException(t)}}d._$name="AbstractRecurrenceIterator"},"./lib/Scheduler/data/util/recurrence/DailyRecurrenceIterator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js"),i=n("./lib/Core/helper/DateHelper.js");class o extends r.default{static get frequency(){return"DAILY"}static forEachDate(e){const{startOnly:t,startDate:n,endDate:r,timeSpan:o,timeSpanStart:a,earliestVisibleDate:s,durationMS:l,spansStart:c,recurrence:d,fn:u,extraArgs:h,scope:f=this}=this.processIterationConfig(e),{interval:g}=d,m=n-a,p=864e5*g,v=Math.floor(m/p);let b=d.count,y=0,C=i.default.add(a,v*g,"day");for(r||b||(b=this.MAX_OCCURRENCES_COUNT);(!r||C<=r)&&(y++,!this.isInView(t,C,s,l,o)||!(r&&C>r||!1===u.apply(f,[C,y,1===y&&c,o,...h])||b&&y>=b));)C=i.default.add(C,g,"day")}}o._$name="DailyRecurrenceIterator"},"./lib/Scheduler/data/util/recurrence/MonthlyRecurrenceIterator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js");class a extends r.default{static get frequency(){return"MONTHLY"}static getNthDayOfMonth(e,t){const n=i.default.daysInMonth(e);let r=null;return t&&Math.abs(t)<=n&&(r=new Date(e.getFullYear(),e.getMonth(),t<0?n+t+1:t)),r}static isValidPosition(e){return e&&Math.abs(e)>0&&Math.abs(e)<=31}static forEachDate(e){const{startOnly:t,startDate:n,endDate:r,timeSpan:a,timeSpanStart:s,earliestVisibleDate:l,durationMS:c,spansStart:d,recurrence:u,fn:h,extraArgs:f,scope:g=this}=this.processIterationConfig(e),{interval:m,days:p,count:v,positions:b}=u,y=o.default.decode(p),C=b&&b.length,S={};let w,E,D,x,j,T,{monthDays:R}=u,M=0;for(E=i.default.startOf(v?s:n,"month"),D=new Date(i.default.getNext(E,"month",1)-1),R&&R.length||y&&y.length||(R=[s.getDate()]),y&&y.length&&y.forEach(e=>{e[1]&&(w=w||{},w[e[0]]=e[1])});(!r||r>=E)&&(!v||M<v);){if(x=[],y&&y.length){if(y.forEach(e=>{const t=e[0];let n=1,r=53;for(e[1]&&(n=r=e[1]),T=n;T<=r;T++)(j=this.getNthDayInPeriod(E,D,t,T))&&(j=i.default.copyTimeValues(j,s),S[j.getTime()]||(S[j.getTime()]=!0,x.push(j)))}),x.sort((e,t)=>e-t),!C)for(T=0;T<x.length;T++)if(j=x[T],j>=s){const e=this.isInView(t,j,l,c,a);if(M++,e&&(r&&j>r||!1===h.apply(g,[j,M,1===M&&d,a,...f])||v&&M>=v))return!1}}else{const e=[];for(T=0;T<R.length;T++)(j=this.getNthDayOfMonth(E,R[T]))&&!S[j.getTime()]&&(S[j.getTime()]=!0,e.push(j));for(e.sort((e,t)=>e-t),T=0;T<e.length;T++)if(j=i.default.copyTimeValues(e[T],s),C)x.push(j);else if(j>=s){const e=this.isInView(t,j,l,c,a);if(M++,e&&(r&&j>r||!1===h.apply(g,[j,M,1===M&&d,a,...f])||v&&M>=v))return}}C&&x.length&&this.forEachDateAtPositions(x,b,e=>{if(e>=s){const n=t?e>=l:e.valueOf()+c>l&&!a.hasException(e);if(M++,n&&(!r||e<=r)&&(!1===h.apply(g,[e,M,1===M&&d,a,...f])||v&&M>=v))return!1}}),E=i.default.getNext(E,"month",m),D=new Date(i.default.getNext(E,"month",1)-1)}}}a._$name="MonthlyRecurrenceIterator"},"./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/Base.js");const i=/^([+-]?[0-9])?(SU|MO|TU|WE|TH|FR|SA)$/,o=["SU","MO","TU","WE","TH","FR","SA"];class a extends r.default{static decodeDay(e){let t,n;return(t=i.exec(e))&&(n=[o.indexOf(t[2])],t[1]&&(t[1]=parseInt(t[1],10),n.push(t[1]))),n}static encodeDay(e){let t;return Array.isArray(e)&&([e,t]=e),(t?t.toString():"")+o[e]}static decode(e){let t,n=[];if(e)for(let r=0;r<e.length;r++)(t=this.decodeDay(e[r]))&&n.push(t);return n}static encode(e){let t,n=[];if(e)for(let r=0;r<e.length;r++)(t=this.encodeDay(e[r]))&&n.push(t);return n}}a._$name="RecurrenceDayRuleEncoder"},"./lib/Scheduler/data/util/recurrence/RecurrenceLegend.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/localization/Localizable.js"),i=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js"),o=n("./lib/Core/helper/DateHelper.js");class a extends(Object(r.default)()){static get $name(){return"RecurrenceLegend"}static get allDaysValueAsArray(){return["SU","MO","TU","WE","TH","FR","SA"]}static get allDaysValue(){return this.allDaysValueAsArray.join(",")}static get workingDaysValue(){return this.allDaysValueAsArray.filter((e,t)=>!o.default.nonWorkingDays[t]).join(",")}static get nonWorkingDaysValue(){return this.allDaysValueAsArray.filter((e,t)=>o.default.nonWorkingDays[t]).join(",")}static getLegend(e,t){const n=this,{timeSpan:r,interval:i,days:a,monthDays:s,months:l,positions:c}=e,d=t||r.startDate,u={interval:i};let h;switch(e.frequency){case"DAILY":return 1===i?n.L("L{Daily}"):n.L("L{Every {0} days}",u);case"WEEKLY":return a&&a.length?u.days=n.getDaysLegend(a):d&&(u.days=o.default.getDayName(d.getDay())),n.L(1===i?"L{Weekly on {1}}":"L{Every {0} weeks on {1}}",u);case"MONTHLY":return a&&a.length&&c&&c.length?u.days=n.getDaysLegend(a,c):s&&s.length?(s.sort((e,t)=>e-t),u.days=n.arrayToText(s)):d&&(u.days=d.getDate()),n.L(1===i?"L{Monthly on {1}}":"L{Every {0} months on {1}}",u);case"YEARLY":return a&&a.length&&c&&c.length?u.days=n.getDaysLegend(a,c):u.days=d.getDate(),l&&l.length?(l.sort((e,t)=>e-t),h=l.length>2?e=>o.default.getMonthShortName(e-1):e=>o.default.getMonthName(e-1),u.months=n.arrayToText(l,h)):u.months=o.default.getMonthName(d.getMonth()),n.L(1===i?"L{Yearly on {1} of {2}}":"L{Every {0} years on {1} of {2}}",u)}}static getDaysLegend(e,t){const n=this,r={position:""};let a;if(t&&t.length&&(r.position=n.arrayToText(t,e=>n.L(`L{position${e}}`))),e.length)switch(e.sort((e,t)=>i.default.decodeDay(e)[0]-i.default.decodeDay(t)[0]),e.join(",")){case n.allDaysValue:r.days=n.L("L{day}");break;case n.workingDaysValue:r.days=n.L("L{weekday}");break;case n.nonWorkingDaysValue:r.days=n.L("L{weekend day}");break;default:a=e.length>2?e=>o.default.getDayShortName(i.default.decodeDay(e)[0]):e=>o.default.getDayName(i.default.decodeDay(e)[0]),r.days=n.arrayToText(e,a)}return n.L("L{daysFormat}",r)}static arrayToText(e,t){return t&&(e=e.map(t)),e.join(", ").replace(/,(?=[^,]*$)/,this.L("L{ and }"))}}a._$name="RecurrenceLegend"},"./lib/Scheduler/data/util/recurrence/WeeklyRecurrenceIterator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js");class a extends r.default{static get frequency(){return"WEEKLY"}static forEachDate(e){const{startOnly:t,startDate:n,endDate:r,timeSpan:a,timeSpanStart:s,earliestVisibleDate:l,durationMS:c,spansStart:d,recurrence:u,fn:h,extraArgs:f,scope:g=this}=this.processIterationConfig(e),{interval:m,days:p}=u;let v,b,y=0,{count:C}=u,S=o.default.decode(p);for(S&&S.length?S.sort((e,t)=>e[0]-t[0]):S=[[s.getDay()]],v=i.default.getNext(C?s:n,"week",0,0),r||C||(C=this.MAX_OCCURRENCES_COUNT);!r||v<=r;){for(let e=0;e<S.length;e++)if(b=i.default.copyTimeValues(i.default.add(v,S[e][0],"day"),s),b>=s&&(y++,this.isInView(t,b,l,c,a)&&(r&&b>r||!1===h.apply(g,[b,y,1===y&&d,a,...f])||C&&y>=C)))return;v=i.default.getNext(v,"week",m,0)}}}a._$name="WeeklyRecurrenceIterator"},"./lib/Scheduler/data/util/recurrence/YearlyRecurrenceIterator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js");class a extends r.default{static get frequency(){return"YEARLY"}static forEachDate(e){const{startOnly:t,startDate:n,endDate:r,timeSpan:a,timeSpanStart:s,earliestVisibleDate:l,durationMS:c,spansStart:d,recurrence:u,fn:h,extraArgs:f,scope:g=this}=this.processIterationConfig(e),{interval:m,days:p,count:v,positions:b}=u,y=o.default.decode(p),C=b&&b.length,S={};let w,E,D,x,j,T,{months:R}=u,M=0;for(x=i.default.startOf(v?s:n,"year"),j=new Date(i.default.getNext(x,"year",1)-1),R&&R.sort((e,t)=>e-t),R&&R.length||y&&y.length||(R=[s.getMonth()+1]),y&&y.length&&y.forEach(e=>{e[1]&&(T=T||{},T[e[0]]=e[1])});(!r||r>=x)&&(!v||M<v);){if(D=[],y&&y.length){if(y.forEach(e=>{let t=e[0],n=1,r=53;for(e[1]&&(n=r=e[1]),w=n;w<=r;w++)(E=this.getNthDayInPeriod(x,j,t,w))&&(E=i.default.copyTimeValues(E,s),S[E.getTime()]||(S[E.getTime()]=!0,D.push(E)))}),D.sort((e,t)=>e-t),!C)for(w=0;w<D.length;w++)if(E=D[w],E>=s){const e=this.isInView(t,E,l,c,a);if(M++,e&&(r&&E>r||!1===h.apply(g,[E,M,1===M&&d,a,...f])||v&&M>=v))return}}else for(w=0;w<R.length;w++)if((E=this.buildDate(x.getFullYear(),R[w]-1,s.getDate()))&&(E=i.default.copyTimeValues(E,s),!S[E.getTime()]))if(S[E.getTime()]=!0,C)D.push(E);else if(E>=s){const e=t?E>=l:E.valueOf()+c>l&&!a.hasException(E);if(M++,e&&(r&&E>r||!1===h.apply(g,[E,M,1===M&&d,a,...f])||v&&M>=v))return}C&&D.length&&this.forEachDateAtPositions(D,b,e=>{if(e>=s){const n=t?e>=l:e.valueOf()+c>l&&!a.hasException(e);if(M++,n&&(!r||e<=r)&&(!1===h.apply(g,[e,M,1===M&&d,a,...f])||v&&M>=v))return!1}}),x=i.default.getNext(x,"year",m),j=new Date(i.default.getNext(x,"year",1)-1)}}}a._$name="YearlyRecurrenceIterator"},"./lib/Scheduler/eventlayout/HorizontalLayout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/Base.js");class i extends r.default{static get defaultConfig(){return{nbrOfBandsByResource:{},bandIndexToPxConvertFn:null,bandIndexToPxConvertThisObj:null}}clearCache(e){e?delete this.nbrOfBandsByResource[e.id]:this.nbrOfBandsByResource={}}getNumberOfBands(e,t){const n=this.nbrOfBandsByResource;if(n.hasOwnProperty(e.id))return n[e.id];const r=("function"===typeof t?t():t).map(e=>({start:e.startDate,end:e.endDate,event:e}));return this.applyLayout(r,e)}applyLayout(e,t){const n=e.slice(),r=this.layoutEventsInBands(n);return this.nbrOfBandsByResource[t.id]=r}}i._$name="HorizontalLayout"},"./lib/Scheduler/eventlayout/HorizontalLayoutPack.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/eventlayout/HorizontalLayout.js"),i=n("./lib/Scheduler/eventlayout/PackMixin.js");class o extends(r.default.mixin(i.default)){applyLayout(e){super.applyLayout(e,(e,t,n,r)=>{e.height=r,e.top=n.start+t*r}),e.forEach(e=>{Object.assign(e,this.bandIndexToPxConvertFn.call(this.bandIndexToPxConvertThisObj||this,e.top,e.height,e.eventRecord,e.resourceRecord))})}}o._$name="HorizontalLayoutPack"},"./lib/Scheduler/eventlayout/HorizontalLayoutStack.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/eventlayout/HorizontalLayout.js");class i extends r.default{layoutEventsInBands(e,t=!1){let n=0;do{let r=0,i=e[0];for(;i;)t||(i.top=this.bandIndexToPxConvertFn.call(this.bandIndexToPxConvertThisObj||this,n,i.eventRecord,i.resourceRecord)),e.splice(r,1),r=this.findClosestSuccessor(i,e),i=e[r];n++}while(e.length>0);return n}findClosestSuccessor(e,t){const n=e.endMS,r=e.eventRecord&&0===e.eventRecord.duration;let i,o,a,s=1/0;for(let l=0,c=t.length;l<c;l++)a=t[l],o=a.startMS-n,o>=0&&o<s&&(o>0||a.endMS-a.startMS>0||!r)&&(i=l,s=o);return i}}i._$name="HorizontalLayoutStack"},"./lib/Scheduler/eventlayout/PackMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"PackMixin"}static get defaultConfig(){return{coordProp:"top",sizeProp:"height"}}applyLayout(e,t){const n=this,{coordProp:r,sizeProp:i}=n;let o,a,s,l;for(let c=0,d=e.length;c<d;c++){if(a=e[c],o=n.findStartSlot(e,a),s=n.getCluster(e,c),s.length>1){for(a[r]=o.start,a[i]=o.end-o.start,l=1;l<s.length-1&&s[l+1].start-a.start===0;)l++;const t=n.findStartSlot(e,s[l]);t&&t.start<.8&&(s.length=l)}const d=s.length,u=(o.end-o.start)/d;for(l=0;l<d;l++)t(s[l],l,o,u);c+=d-1}}findStartSlot(e,t){const{sizeProp:n,coordProp:r}=this,i=this.getPriorOverlappingEvents(e,t);let o;if(0===i.length)return{start:0,end:1};for(o=0;o<i.length;o++){if(0===o&&i[0][r]>0)return{start:0,end:i[0][r]};if(i[o][r]+i[o][n]<(o<i.length-1?i[o+1][r]:1))return{start:i[o][r]+i[o][n],end:o<i.length-1?i[o+1][r]:1}}return!1}getPriorOverlappingEvents(e,t){const n=t.start,r=t.end,o=[];for(let a=0,s=e.indexOf(t);a<s;a++)i.default.intersectSpans(n,r,e[a].start,e[a].end)&&o.push(e[a]);return o.sort(this.sortOverlappers.bind(this)),o}sortOverlappers(e,t){return e[this.coordProp]<t[this.coordProp]?-1:1}getCluster(e,t){const n=e[t];if(t>=e.length-1)return[n];const r=[n],o=e.length;let{start:a,end:s}=n,l=t+1;for(;l<o&&i.default.intersectSpans(a,s,e[l].start,e[l].end);)r.push(e[l]),a=i.default.max(a,e[l].start),s=i.default.min(e[l].end,s),l++;return r}}},"./lib/Scheduler/eventlayout/VerticalLayout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/eventlayout/PackMixin.js");class i extends(Object(r.default)()){static get defaultConfig(){return{coordProp:"leftFactor",sizeProp:"widthFactor"}}applyLayout(e,t,n,r,i,o){super.applyLayout(e,(e,i,a,s)=>{if("none"===o)e.width=t-2*n,e.left+=n;else{e.widthFactor=s;const l=e.leftFactor=a.start+i*s,c=Math.round(1/s),d=l/s,u=t-2*n-r*(c-1);"mixed"===o&&2===c?(e.left+=l*t/5+r,e.width=t-l*t/5-2*r,e.zIndex=5+d):(e.width=s*u,e.left+=l*u+n+r*d)}})}}i._$name="VerticalLayout"},"./lib/Scheduler/feature/AbstractTimeRanges.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/DragHelper.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/widget/Tooltip.js"),c=n("./lib/Scheduler/tooltip/ClockTemplate.js"),d=n("./lib/Core/helper/DateHelper.js"),u=n("./lib/Core/mixin/Delayable.js"),h=n("./lib/Core/helper/ResizeHelper.js"),f=n("./lib/Scheduler/model/TimeSpan.js");class g extends(r.default.mixin(u.default)){static get defaultConfig(){return{rangeCls:"b-sch-range",lineCls:"b-sch-line",store:{modelClass:f.default},enableResizing:!1,showTooltip:!0,showHeaderElements:!0,dragTipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    <div class="b-sch-tip-name">${e.name||""}</div>\n                    ${e.startClockHtml}\n                    ${e.endClockHtml||""}\n                </div>\n            `,baseCls:"b-sch-timerange",cls:"",narrowThreshold:80}}static get pluginConfig(){return{chain:["onPaint","populateHeaderMenu","populateTimeAxisHeaderMenu"]}}construct(e,t){const n=this;super.construct(e,t),n.cls=n.cls||"b-timerange-"+n.constructor.$$name,n.baseSelector=`.${n.baseCls}.${n.cls}`,n.enableResizing&&(n.showHeaderElements=!0)}doDestroy(){var e,t,n,r,i;const o=this;null===(e=o.storeDetacher)||void 0===e||e.call(o),o.detachListeners("timeAxisViewModel"),o.detachListeners("timeAxis"),null===(t=o.clockTemplate)||void 0===t||t.destroy(),null===(n=o.tip)||void 0===n||n.destroy(),null===(r=o.drag)||void 0===r||r.destroy(),null===(i=o.resize)||void 0===i||i.destroy(),super.doDestroy()}doDisable(e){this.client.isPainted&&this.renderRanges(),super.doDisable(e)}onPaint({firstPaint:e}){if(e){const e=this,{client:t}=e;e.client.on({timeAxisViewModelChange:e.setupTimeAxisViewModelListeners,thisObj:e}),e.setupTimeAxisViewModelListeners(),e.enableResizing&&!t.hideHeaders&&(e.drag=new a.default({name:"rangeDrag",mode:t.isVertical?"translateY":"translateX",constrain:!0,outerElement:e.headerContainerElement,targetSelector:""+e.baseSelector,isElementDraggable:(n,r)=>!t.readOnly&&e.isElementDraggable(n,r),transitionDuration:t.transitionDuration,listeners:{dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onInvalidDrop",thisObj:e}}),e.resize=new h.default({direction:t.mode,targetSelector:e.baseSelector+".b-sch-range",outerElement:e.headerContainerElement,isElementResizable:e=>!e.closest(".b-dragging"),listeners:{resizestart:"onResizeStart",resizing:"onResizeDrag",resize:"onResize",cancel:"onInvalidResize",thisObj:e}})),e.renderRanges()}}setupTimeAxisViewModelListeners(){const e=this;e.detachListeners("timeAxisViewModel"),e.detachListeners("timeAxis"),e.client.timeAxisViewModel.on({name:"timeAxisViewModel",update:"onTimeAxisViewModelUpdate",thisObj:e}),e.client.timeAxis.on({name:"timeAxis",includeChange:"renderRanges",thisObj:e})}onTimeAxisViewModelUpdate(){this.renderRanges()}renderRanges(){const e=this,t=e.client.foregroundCanvas;if(t){const{headerContainerElement:n}=e;if(s.default.removeEachSelector(t,e.baseSelector),n&&s.default.removeEachSelector(n,e.baseSelector),!e.disabled)for(const t of e.timeRanges)e.renderRange(t,!0)}}get timeRanges(){return this.store.records}shouldRenderRange(e){const{timeAxis:t}=this.client;return e.duration&&t.timeSpanInAxis(e.startDate,e.endDate)||e.startDate&&t.dateInAxis(e.startDate)}renderRange(e,t){const n=this,r=n.client;if(n.shouldRenderRange(e)){const i=r.getCoordinateFromDate(d.default.max(e.startDate,r.timeAxis.startDate),{respectExclusion:!0}),o=e.duration&&r.getCoordinateFromDate(d.default.min(e.endDate,r.timeAxis.endDate),{respectExclusion:!0,isEnd:!0}),a=o-i,l=e.name||e.iconCls?`<label>${e.iconCls?`<i class="${e.iconCls}"></i>`:""} ${e.name||"&nbsp;"}</label>`:"",c={className:{[n.baseCls]:1,[n.cls]:n.cls,[n.rangeCls]:o,[n.lineCls]:!o,[e.cls]:e.cls,"b-narrow-range":o&&a<n.narrowThreshold},dataset:{id:e.id},style:r.isVertical?`transform: translateY(${i}px); ${o?`height:${a}px`:""};`:`transform: translateX(${i}px); ${o?`width:${a}px`:""};`,retainElement:!0},u=s.default.createElement(Object.assign({},c,{parent:t&&r.foregroundCanvas,style:c.style+(e.style||""),html:n.showHeaderElements&&!n.showLabelInBody?"":l}));let h;n.showHeaderElements&&(h=s.default.createElement(Object.assign({parent:t&&n.headerContainerElement,html:n.showLabelInBody?"":l},c)));const f={bodyElement:u,headerElement:h};return t&&n.rotateLabel(e,f),f}}rotateLabel(e,{bodyElement:t}){if(!e.iconCls&&!e.name)return;const n=t.firstChild;if(!n)return;n.classList.remove("b-vertical");const r=this.client.isVertical?n.offsetHeight<t.offsetHeight:n.offsetWidth>t.offsetWidth;n.classList[r?"add":"remove"]("b-vertical")}getElementsByRecord(e){var t,n;const r="object"!==typeof e?e:e.id,i=null===(t=this.client.foregroundCanvas)||void 0===t?void 0:t.querySelector(`${this.baseSelector}[data-id="${r}"]`),o=null===(n=this.headerContainerElement)||void 0===n?void 0:n.querySelector(`${this.baseSelector}[data-id="${r}"]`);return i?{bodyElement:i,headerElement:o}:null}getBodyElementByRecord(e){const t="string"===typeof e?e:e.id;return this.client.foregroundCanvas.querySelector(`${this.baseSelector}[data-id="${t}"]`)}getRecordByElement(e){return this.store.getById(e.dataset.id)}get headerContainerElement(){const{isVertical:e,timeView:t,timeAxisColumn:n}=this.client;let r=null;return e&&t.element?r=t.element.parentElement:e||(r=n.element),r}get showHeaderElements(){return!this.client.hideHeaders&&this._showHeaderElements}set showHeaderElements(e){this._showHeaderElements=e,this.client.isPainted&&(e?this.client.element.classList.add("b-sch-timeranges-with-headerelements"):this.client.element.classList.remove("b-sch-timeranges-with-headerelements"),this.renderRanges())}populateHeaderMenu({column:e,items:t}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:t}){}get store(){return this._store}set store(e){const t=this;t._store=i.default.getStore(e,i.default);let n=!1;t.storeDetacher&&(t.storeDetacher(),n=!0),t.storeDetacher=t._store.on({change:t.onStoreChanged,refresh:t.onStoreChanged,thisObj:t}),n&&this.renderRanges()}onStoreChanged(e){const t=this;if(!(t.disabled||!t.client.isVisible||t.isConfiguring||"refresh"===e.type&&"batch"!==e.action))if("update"===e.action){const n=e.record,r=e.changes.hasOwnProperty("id")?e.changes.id.oldValue:n.id,i=t.getElementsByRecord(r),o=t.renderRange(n,!i);if(i&&!o&&(i.bodyElement.remove(),i.headerElement&&i.headerElement.remove()),!i||!o)return;t.client.runWithTransition(()=>{s.default.sync(o.bodyElement,i.bodyElement),t.showHeaderElements&&s.default.sync(o.headerElement,i.headerElement),t.rotateLabel(n,i)})}else t.renderRanges()}showTip(e){const t=this;t.showTooltip&&(t.clockTemplate=new c.default({scheduler:t.client}),t.tip=new l.default(o.default.assign({id:t.client.id+"-time-range-tip",cls:"b-interaction-tooltip",align:"b-t",autoShow:!0,updateContentOnMouseMove:!0,forElement:e.element,getHtml:()=>t.getTipHtml(e.record,e.element)},t.showTooltip)))}isElementDraggable(e){return(e=e.closest(this.baseSelector+":not(.b-resizing)"))&&!e.classList.contains("b-over-resize-handle")}onDragStart({context:e}){const t=this,n=t.getRecordByElement(e.element.closest(t.baseSelector)),r=t.getBodyElementByRecord(n),i=t.client.timeAxisViewModel,o=t.drag;Object.assign(e,{record:n,rangeBodyEl:r,originRangeX:s.default.getTranslateX(r),originRangeY:s.default.getTranslateY(r)}),t.client.isVertical?(o.minY=0,o.maxY=i.totalSize-e.rangeBodyEl.offsetHeight,o.minX=0,o.maxX=Number.MAX_SAFE_INTEGER):(o.minX=0,o.maxX=i.totalSize-e.rangeBodyEl.offsetWidth,o.minY=0,o.maxY=Number.MAX_SAFE_INTEGER),t.client.element.classList.add("b-dragging-timerange"),t.showTip(e)}onDrag({context:e}){this.client.isVertical?s.default.setTranslateY(e.rangeBodyEl,s.default.getTranslateY(e.element)):s.default.setTranslateX(e.rangeBodyEl,s.default.getTranslateX(e.element))}onDrop({context:e}){if(!e.valid)return this.onInvalidDrop({context:e});const t=this,n=e.record,r=e.rangeBodyEl.getBoundingClientRect(),i=t.client.getDateFromCoordinate(t.client.isVertical?r.top:r.left,"round",!1);n.startDate-i!==0?n.setStartDate(i):t.onInvalidDrop(),t.tip&&(t.tip.destroy(),t.tip=null),t.client.element.classList.remove("b-dragging-timerange")}onInvalidDrop(){const e=this;e.drag.reset(),e.renderRanges(),e.client.element.classList.remove("b-dragging-timerange"),e.tip&&(e.tip.destroy(),e.tip=null)}onResizeStart({context:e}){const t=this.getRecordByElement(e.element.closest(this.baseSelector)),n=this.getBodyElementByRecord(t);Object.assign(e,{record:t,rangeBodyEl:n}),this.showTip(e)}onResizeDrag({context:e}){this.client.isVertical?("top"===e.edge&&s.default.setTranslateY(e.rangeBodyEl,e.newY),e.rangeBodyEl.style.height=e.newHeight+"px"):("left"===e.edge&&s.default.setTranslateX(e.rangeBodyEl,e.newX),e.rangeBodyEl.style.width=e.newWidth+"px")}onResize({context:e}){if(!e.valid)return this.onInvalidDrop({context:e});const t=this,{client:n}=t,r=e.record,i=e.element.getBoundingClientRect(),o=n.isVertical?i.top:i.left,a=n.isVertical?i.bottom:i.right,s=n.getDateFromCoordinate(o,"round",!1),l="left"===e.edge||"top"===e.edge,c=n.getDateFromCoordinate(a,"round",!1);(l&&r.startDate-s!==0||c&&r.endDate-c!==0)&&c>s?l?r.setStartDate(s,!1):r.setEndDate(c,!1):t.onInvalidResize(),t.tip&&(t.tip.destroy(),t.tip=null)}onInvalidResize(){const e=this;e.resize.reset(),e.renderRanges(),e.tip&&(e.tip.destroy(),e.tip=null)}getTipHtml(e,t){const{client:n}=this,r=t.getBoundingClientRect(),i=n.isVertical?r.top:r.left,o=n.isVertical?r.bottom:r.right,a=n.getDateFromCoordinate(i,"round",!1),s=e.endDate&&n.getDateFromCoordinate(o,"round",!1),l=n.getFormattedDate(a),c=s&&n.getFormattedEndDate(s,a);return this.dragTipTemplate({name:e.name||"",startDate:a,endDate:s,startText:l,endText:c,startClockHtml:this.clockTemplate.template({date:a,text:l,cls:"b-sch-tooltip-startdate"}),endClockHtml:c&&this.clockTemplate.template({date:s,text:c,cls:"b-sch-tooltip-enddate"})})}}g._$name="AbstractTimeRanges"},"./lib/Scheduler/feature/ColumnLines.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Core/helper/DomSync.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Grid/feature/GridFeatureManager.js");class s extends o.default{static get $name(){return"ColumnLines"}static get pluginConfig(){return{after:["render","updateCanvasSize","onVisibleDateRangeChange","onVisibleResourceRangeChange"]}}construct(e,t){e.useBackgroundCanvas=!0,super.construct(e,t)}doDisable(e){super.doDisable(e),this.isConfiguring||this.refresh()}render(){this.refresh()}refresh(){const e=this,{client:t}=e,{timeAxis:n,timeAxisViewModel:o,isHorizontal:a}=t;if(!n.startDate||!e.startDate)return;const s=o.columnLinesFor,l=Math.max(s-1,0),c=e.startDate.getTime(),d=e.endDate.getTime(),u=[],h=new Set;if(e.element||(e.element=r.default.createElement({parent:t.backgroundCanvas,className:"b-column-lines-canvas"})),!e.disabled){const e=(e,t)=>{const n=e.end.getTime();n>c&&n<d&&!h.has(n)&&(h.add(n),u.push({className:t?"b-column-line-major":"b-column-line",style:{[a?"left":"top"]:e.coord+e.width-1},dataset:{line:t?"major-"+e.index:"line-"+e.index}}))};if(s!==l&&o.columnConfig[l].forEach(t=>e(t,!0)),o.columnConfig[s].forEach(t=>e(t,!1)),!a&&t.columnLines){const{columnWidth:e,firstResource:n,lastResource:r}=t.resourceColumns;for(let t=n;t<r+1;t++)u.push({className:"b-column-line b-resource-column-line",style:{left:(t+1)*e-1},dataset:{line:"resource-"+t}})}}i.default.sync({targetElement:e.element,onlyChildren:!0,domConfig:{children:u,syncOptions:{releaseThreshold:4}},syncIdField:"line"})}onVisibleDateRangeChange({startDate:e,endDate:t}){this.startDate=e,this.endDate=t,this.refresh()}onVisibleResourceRangeChange({firstResource:e,lastResource:t}){this.refresh()}updateCanvasSize(){this.refresh()}}s._$name="ColumnLines",a.default.registerFeature(s,!0,["Scheduler","Gantt"])},"./lib/Scheduler/feature/Dependencies.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("./lib/Core/helper/BrowserHelper.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/StringHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Core/helper/TemplateHelper.js"),c=n("./lib/Core/mixin/InstancePlugin.js"),d=n("./lib/Core/data/DomDataStore.js"),u=n("./lib/Core/widget/Tooltip.js"),h=n("./lib/Grid/feature/GridFeatureManager.js"),f=n("./lib/Scheduler/feature/mixin/DependencyCreation.js"),g=n("./lib/Scheduler/model/DependencyModel.js"),m=n("./lib/Scheduler/util/RectangularPathFinder.js"),p=n("./lib/Core/mixin/Delayable.js"),v=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js");const b={add:1,dataset:1,remove:1,removeAll:1},y=["left","left","right","right"],C=["left","right","left","right"];class S extends(c.default.mixin(f.default,v.default,p.default)){static get $name(){return"Dependencies"}static get defaultConfig(){return{pathFinderConfig:null,overCls:"b-sch-dependency-over",baseCls:"b-sch-dependency",highlightDependenciesOnEventHover:!1,showTooltip:!0,tooltip:null,bufferSize:50,cacheGridSize:{ticks:25,index:25}}}static get properties(){return{toDrawOnProjectRefresh:new Set,dependenciesToRefresh:new Map,drawnDependencies:[],drawnLines:[]}}static get pluginConfig(){return{chain:["render","renderContents","onElementClick","onElementDblClick","onElementMouseOver","onElementMouseOut","onProjectRefresh"],assign:["getElementForDependency","getElementsForDependency","resolveDependencyRecord"]}}construct(e,t={}){const n=this;if(e.isVertical)throw new Error("Dependencies feature is not supported in vertical mode");n.doScheduleDraw=n.createOnFrame("draw",[],n,!0),super.construct(e,t),n.pathFinder=new m.default(n.pathFinderConfig),delete n.pathFinderConfig,n.lineDefAdjusters=n.createLineDefAdjusters(),e.rowManager.on({refresh:"onRefresh",thisObj:n})}doDestroy(){var e;null===(e=this.tooltip)||void 0===e||e.destroy(),super.doDestroy()}doDisable(e){const t=this,{project:n}=t;t.updateCreateListeners(),(n||e)&&(t.attachToResourceStore(e?null:n.resourceStore),t.attachToEventStore(e?null:n.eventStore),t.attachToAssignmentStore(e?null:n.assignmentStore),t.attachToDependencyStore(e?null:n.dependencyStore)),t.client.isPainted&&t.draw(),super.doDisable(e)}static getLocalizedDependencyType(e){return e?this.L(`L{DependencyType.${e}}`):""}findDependencyIndex(e=[],t,n){return e.findIndex(e=>e.dependency===t&&(e.assignmentData===n||e.assignmentData&&n&&e.assignmentData.from===n.from&&e.assignmentData.to===n.to))}includesDependency(){return this.findDependencyIndex(...arguments)>=0}attachToResourceStore(e){super.attachToResourceStore(e),e&&!this.disabled&&e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",refreshPreCommit:"onResourceStoreRefresh",thisObj:this})}attachToDependencyStore(e){const t=this;super.attachToDependencyStore(e),t.resetGridCache(),t.resetBoundsCache(),e&&!t.disabled&&(e.metaMapId=t.client.id,e.on({name:"dependencyStore",changePreCommit:"onDependencyChange",idChange:"onDependencyIdChange",thisObj:t}))}attachToAssignmentStore(e){super.attachToAssignmentStore(e),e&&!this.disabled&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentChange",refreshPreCommit:"onAssignmentRefresh",thisObj:this})}attachToEventStore(e){super.attachToEventStore(e),e&&!this.disabled&&e.on({name:"eventStore",changePreCommit:"onEventChange",thisObj:this})}createMarkers(){const e=this,t=e.client.svgCanvas,n=e.endMarker=e.initMarkerElement("arrowEnd","8","M0,0 L0,6 L9,3 z");if(r.default.isEdge||r.default.isIE11){const n=e.startMarker=e.initMarkerElement("arrowStart","1","M0,3 L9,6 L9,0 z");t.appendChild(n)}else n.setAttribute("orient","auto-start-reverse");t.appendChild(n)}initMarkerElement(e,t,n){return o.default.createElement({id:e,tag:"marker",className:"b-sch-dependency-arrow",ns:"http://www.w3.org/2000/svg",markerHeight:11,markerWidth:11,refX:t,refY:3,viewBox:"0 0 9 6",orient:"auto",markerUnits:"userSpaceOnUse",children:[{tag:"path",ns:"http://www.w3.org/2000/svg",d:n}]})}createLineDefAdjusters(){const e=this.client;return[function(t){let n=!1;return(t.startArrowMargin>e.barMargin||t.endArrowMargin>e.barMargin)&&(t.startArrowMargin=t.endArrowMargin=e.barMargin,n=!0),n?t:n},function(e){let t=!1;return(e.startArrowMargin>0||e.endArrowMargin>0)&&(e.startArrowMargin=e.endArrowMargin=0,t=!0),t?e:t}]}getElementForDependency(e,t=null){return this.getElementsForDependency(e,t)[0]}getElementsForDependency(e,t=null){let n=`[depId="${e.id}"]`;return t&&(n+=`[fromId="${t.from.id}"][toId="${t.to.id}"]`),Array.from(this.client.svgCanvas.querySelectorAll(n))}resolveDependencyRecord(e){const t="string"===typeof e?e:e.getAttribute("depId");return t?this.dependencyStore.getById(t):null}onRefresh(){this.client.isEngineReady&&this.onProjectRefresh()}onProjectRefresh(){const e=this;if(!e.client.refreshSuspended)if(e.refreshAllWhenReady)e.resetGridCache(),e.scheduleDraw(!0),e.refreshAllWhenReady=!1;else if(e.toDrawOnProjectRefresh){const t=e._dependencyGridCache;t&&e.toDrawOnProjectRefresh.forEach(t=>{e.addToGridCache(t)}),t||e._thisIsAUsedExpression(e.dependencyGridCache),e.toDrawOnProjectRefresh.clear(),e.scheduleDraw()}}onToggleNode(){this.resetGridCache(),this.scheduleDraw(!0)}onViewportResize(){this.scheduleDraw(!0)}onTranslateRow({row:e}){e.lastTop>=0&&e.top!==e.lastTop&&this.scheduleDraw(!0)}onChangeTotalHeight(){this.client.isEngineReady&&this.scheduleDraw(!0)}onHorizontalScroll({subGrid:e}){this.isDrawn&&e===this.client.timeAxisSubGrid&&this.scheduleDraw(!1)}onVerticalScroll(){this.isDrawn&&this.scheduleDraw(!1)}onRowsRefresh(){this.scheduleDraw(!0)}onResourceStoreChange({action:e}){this.client.project.propagatingLoadChanges||b[e]&&(this.refreshAllWhenReady=!0)}onResourceStoreRefresh({action:e}){if(!this.client.project.propagatingLoadChanges)switch(e){case"sort":case"filter":case"batch":this.resetGridCache(),this.scheduleDraw(!0)}}async onDependencyChange({action:e,record:t,records:n}){const r=this,{client:i}=r;if(i.isPainted&&!i.suspendRendering&&!this.client.project.propagatingLoadChanges){switch(e){case"dataset":return r.dependencyGridCache={},void(r.toDrawOnProjectRefresh=new Set(n));case"add":return void n.forEach(e=>r.toDrawOnProjectRefresh.add(e));case"update":if(r.drawnDependencies.some(e=>e.dependency===t))return r.scheduleRefreshDependency(t);r.addToGridCache(t),r.scheduleDraw();break;case"remove":return n.forEach(e=>{r.releaseDependency(e,!0),r.removeFromCache(e),r.dependenciesToRefresh.delete(e)}),void i.trigger("dependenciesDrawn");case"removeall":case"filter":r.resetGridCache()}r.scheduleDraw(!0)}}onDependencyIdChange({record:e,oldValue:t}){this.removeFromCache(e,null,t),this.addToGridCache(e)}onEventChange({action:e,record:t,changes:n}){const r=this;if(!r.client.project.propagatingLoadChanges)switch(e){case"filter":r.scheduleDraw(!0);break;case"update":if(1===Object.keys(n).length&&(n.startDate||n.endDate||n.duration))return;if(t.isEvent){const e=[t];t.resources.forEach(t=>e.push(...t.events)),new Set(e).forEach(e=>r.drawForTimeSpan(e,!0))}else r.drawForTimeSpan(t,!0);break;case"removeall":r.resetGridCache(),r.scheduleDraw(!0)}}onAssignmentRefresh({action:e}){this.client.project.propagatingLoadChanges||"dataset"===e&&(this.resetGridCache(),this.scheduleDraw(!0))}onAssignmentChange({action:e,record:t,records:n,changes:r}){const i=this;if(!i.client.project.propagatingLoadChanges&&(t&&(n=[t]),"filter"===e&&(i.resetGridCache(),i.scheduleDraw(!0)),"add"===e||"remove"===e||"update"===e)){if("update"===e&&2===Object.keys(r).length&&r.event&&r.resource&&!r.event.isModel&&!r.resource.isModel)return;n.forEach(n=>{const{assignmentStore:r,eventStore:o}=i.client,a=o.getById(n.eventId);a&&a.dependencies.forEach(o=>{if("add"===e)i.toDrawOnProjectRefresh.add(o);else if("remove"===e){let e;e=o.fromEvent===a?o.toEvent.assignments.map(e=>({from:n,to:e})):o.fromEvent.assignments.map(e=>({from:e,to:n})),e.forEach(e=>{i.releaseDependency(o,e),i.removeFromCache(o,e)})}else"update"===e&&i.getDependencyAssignmentsAsFromToArray({dependency:o,assignmentStore:r}).filter(e=>e.from===t||e.to===t).forEach(e=>{i.scheduleRefreshDependency(o,e)})})})}}getDependencyAssignmentsAsFromToArray({dependency:e,assignmentStore:t}){const{fromEvent:n,toEvent:r}=e,i=[];if(n&&r){const e=this.getEventAssignments(n,t),o=this.getEventAssignments(r,t);e.forEach(e=>{o.forEach(t=>{i.push({from:e,to:t})})})}return i}getEventAssignments(e,t){if(e.isRemoved){const n=t.removed.values.filter(t=>t.event===e);for(const r of t.assignmentsForRemoval)r.event===e&&n.push(r);return n}return e.assignments}onElementClick(e){const t=this;if(e.target.matches("."+t.baseCls)){const n=d.default.get(e.target).dependency,r="click"===e.type?"Click":"DblClick";t.client.trigger("dependency"+r,{dependency:n,event:e})}}onElementDblClick(e){return this.onElementClick(e)}onElementMouseOver(e){const t=this;if(e.target.matches("."+t.baseCls)){const n=d.default.get(e.target).dependency;t.client.trigger("dependencyMouseOver",{dependency:n,event:e}),t.overCls&&t.highlight(n,t.overCls)}}onElementMouseOut(e){const t=this;if(e.target.matches("."+t.baseCls)){const n=d.default.get(e.target).dependency;t.client.trigger("dependencyMouseOut",{dependency:n,event:e}),t.overCls&&!n.isRemoved&&t.unhighlight(n)}}highlight(e,t=this.overCls){this.getElementsForDependency(e).forEach(e=>{e.classList.add(t)}),e.highlight(t)}unhighlight(e,t=this.overCls){this.getElementsForDependency(e).forEach(e=>{e.classList.remove(t)}),e.unhighlight(t)}highlightEventDependencies(e){e.dependencies.forEach(e=>this.highlight(e))}unhighlightEventDependencies(e){e.dependencies.forEach(e=>this.unhighlight(e))}isDependencyVisible(e,t=null){const{assignmentStore:n,resourceStore:r,eventStore:i}=this.client,{fromEvent:o,toEvent:a}=e;if(!o||!a)return!1;let s,l;if(t){const{from:e,to:r}=t;if(s=e.resource,l=r.resource,!1===e.drawDependencies||!1===r.drawDependencies||i.isFiltered&&(!i.includes(o)||!i.includes(a))||n.isFiltered&&(!n.includes(e)||!n.includes(r)))return!1}else s=o.resource,l=a.resource;return!(!r.isAvailable(s)||!r.isAvailable(l))&&o.isModel&&!s.instanceMeta(r).hidden&&!l.instanceMeta(r).hidden}getBox(e,t,n=null,r=!1){const i=this.getTimeSpanRecordFromDependency(e,t);let o;return o=n?n[t?"from":"to"].resource:i.resource,this.client.getResourceEventBox(i,o,!0,r)}getRowRecordFromDependency(e,t,n){let r;return r=n?n[t?"from":"to"].resource:this.getTimeSpanRecordFromDependency(e,t).resource,r}getTimeSpanRecordFromDependency(e,t=!0){return e[(t?"from":"to")+"Event"]}getMetaId(e=null){return e?`${this.client.id}-ass${e.from.id}-ass${e.to.id}`:this.client.id}getDependencyBounds(e,t,n=!1){const r=this,o=r.client,a=e.getDateRange();if(!o.rowManager.rowCount||!r.isDependencyVisible(e,t))return null;if(!(a&&o.timeAxis.count&&i.default.intersectSpans(a.start,a.end,o.startDate,o.endDate)))return null;const l=r.getMetaId(t),c=e.instanceMeta(l),d=r.getBox(e,!0,t,n),u=r.getBox(e,!1,t,n);if(!d||!u)return null;if(r._resetBoundsCache||!c.bounds||!c.bounds.layout){const n=r.getTimeSpanRecordFromDependency(e,!0),i=r.getTimeSpanRecordFromDependency(e,!1),a=s.default.union(d,u);o.isGantt||[[n,d,t.from],[i,u,t.to]].map(([e,t,n])=>{if("default"===o.milestoneLayoutMode&&e.isMilestone){if(!o.milestoneWidth){const e=o.getElementFromAssignmentRecord(n);e&&(o.milestoneWidth=e.offsetWidth)}const e=o.milestoneWidth||t.height;t.left-=e/2,t.right+=e/2}}),c.bounds={bounds:a,startRectangle:d,endRectangle:u,layout:d.layout||u.layout}}return e.instanceMeta(l).bounds}get dependencyGridCache(){const e=this;return e._dependencyGridCache||(e._dependencyGridCache={},e.dependencyStore.forEach(t=>e.addToGridCache(t))),e._dependencyGridCache}get dependencyStore(){return this.project.dependencyStore}getIteratableDependencyAssignments(e){return this.assignmentStore?this.getDependencyAssignmentsAsFromToArray({dependency:e,assignmentStore:this.assignmentStore}):[null]}addToGridCache(e){const t=this,{client:n}=t,{store:r}=n,{dependencyGridCache:o,cacheGridSize:a}=t,s=t.getIteratableDependencyAssignments(e),l=n.startDate.getTime(),c=n.endDate.getTime(),d=i.default.asMilliseconds(n.timeAxis.unit)*a.ticks;s.forEach(n=>{const i=t.getMetaId(n),s=e.instanceMeta(i).gridCache=[],u=r.indexOf(t.getRowRecordFromDependency(e,!0,n)),h=r.indexOf(t.getRowRecordFromDependency(e,!1,n)),f=e.getDateRange(),g=null===f||void 0===f?void 0:f.start.getTime(),m=null===f||void 0===f?void 0:f.end.getTime();if(-1!==u&&-1!==h&&f&&m>l&&g<c){const t=Math.min(u,h),r=Math.max(u,h),c=Math.floor(t/a.index),f=Math.floor(r/a.index),p=Math.floor(Math.max(g-l,0)/d),v=Math.floor(Math.max(m-l,0)/d),b=`${e.id}.-.${i}`;let y,C,S,w,E;for(w=p;w<=v;w++)for(y=o[w]||(o[w]={}),E=c;E<=f;E++)C=y[E]||(y[E]=[]),S=C.cached||(C.cached={}),S[b]||(S[b]=!0,C.push({dependency:e,assignmentData:n,metaId:i})),s.push([w,E])}})}removeFromCache(e,t=null,n=e.id){const r=this,{_dependencyGridCache:i}=r;let o;o=t?[t]:this.getIteratableDependencyAssignments(e),o.forEach(t=>{var o;const a=r.getMetaId(t),s=e.instanceMeta(a),l=`${n}.-.${a}`;i&&(null===(o=s.gridCache)||void 0===o||o.forEach(([n,o])=>{var a;if(null!==(a=i[n])&&void 0!==a&&a.hasOwnProperty(o)){const i=r._dependencyGridCache[n][o];if(null!==i&&void 0!==i&&i.cached[l]){const n=r.findDependencyIndex(i,e,t);delete i.cached[l],n>-1&&i.splice(n,1)}}})),s.bounds=null,s.gridCache=null})}set dependencyGridCache(e){this._dependencyGridCache=e}resetBoundsCache(){this._resetBoundsCache=!0}resetGridCache(){this.dependencyGridCache=null}generateBoundaryBoxes(e,t){const n=[];return"bottom"===t?n.push({start:e.left,end:e.left+e.width/2,top:e.rowTop,bottom:e.rowBottom},{start:e.left+e.width/2,end:e.right,top:e.rowTop,bottom:e.rowBottom}):n.push({start:e.left-this.pathFinder.startArrowMargin,end:e.right+this.pathFinder.startArrowMargin,top:e.rowTop,bottom:e.rowBottom}),n}getDependencyStartSide(e){const t=this,n=t.getTimeSpanRecordFromDependency(e,!0),r=e.type;let i=e.fromSide;if(!i)switch(!0){case r===g.default.Type.StartToEnd:case r===g.default.Type.StartToStart:i=t.getConnectorStartSide(n);break;case r===g.default.Type.EndToStart:case r===g.default.Type.EndToEnd:i=t.getConnectorEndSide(n);break;default:throw new Error("Invalid dependency type: "+r)}return i}getDependencyEndSide(e){const t=this,n=t.getTimeSpanRecordFromDependency(e,!1),r=e.type;let i=e.toSide;if(!i)switch(!0){case r===g.default.Type.StartToEnd:i=t.getConnectorEndSide(n);break;case r===g.default.Type.StartToStart:case r===g.default.Type.EndToStart:i=t.getConnectorStartSide(n);break;case r===g.default.Type.EndToEnd:i=t.getConnectorEndSide(n);break;default:throw new Error("Invalid dependency type: "+r)}return i}prepareLineDef(e,t,n=null){const r=this,i=r.getDependencyStartSide(e),o=r.getDependencyEndSide(e),{startRectangle:a,endRectangle:s}=t,l=[];null!=a.rowTop&&a.rowTop!==s.rowTop&&l.push(...r.generateBoundaryBoxes(a,i));let{startArrowMargin:c,verticalMargin:d}=r.pathFinder;return e.bidirectional||(/(top|bottom)/.test(i)&&(c=r.client.barMargin/2),d=r.client.barMargin/2),{startBox:{start:a.x,end:a.right,top:a.y,bottom:a.bottom},endBox:{start:s.x,end:s.right,top:s.y,bottom:s.bottom},otherBoxes:l,startArrowMargin:c,verticalMargin:d,otherVerticalMargin:0,otherHorizontalMargin:0,startSide:i,endSide:o}}drawLine(e,t,n,i=null,o=!0){const a=this.client,s=this.getMetaId(i);let l=t.instanceMeta(s).lineElement;if(l&&o||(l=document.createElementNS("http://www.w3.org/2000/svg","polyline"),o&&(t.instanceMeta(s).lineElement=l),l.setAttribute("depId",t.id),i&&(l.setAttribute("fromId",i.from.id),l.setAttribute("toId",i.to.id)),e.appendChild(l)),l.classList.length&&l.classList.remove.apply(l.classList,l.getAttribute("class").split(" ")),l.classList.add(this.baseCls),t.cls&&l.classList.add(t.cls),t.bidirectional&&l.classList.add("b-sch-bidirectional-line"),t.highlighted&&l.classList.add(...t.highlighted.split(" ")),r.default.isIE11){const e=t.getDateRange(!0),n=a.startDate;e.start<n&&l.classList.add("b-no-start-marker"),e.end<n&&l.classList.add("b-no-end-marker")}return l.setAttribute("points",n?n.map((e,t)=>t!==n.length-1?`${e.x1},${e.y1}`:`${e.x1},${e.y1} ${e.x2},${e.y2}`).join(" "):""),d.default.set(l,{dependency:t}),l}refreshDependency(e){const t=this,n=t.getIteratableDependencyAssignments(e);t.releaseDependency(e,null!==n[0]),t.removeFromCache(e),t.addToGridCache(e),n.forEach(n=>t.drawDependency(e,null,n))}refreshDependencyAssignment(e,t){this.releaseDependency(e,t),this.removeFromCache(e,t),this.addToGridCache(e),this.drawDependency(e,null,t)}scheduleRefreshDependency(e,t=null){const n=this,r=n.dependenciesToRefresh;if(!n.drawnDependencies.find(t=>t.dependency===e))return n.removeFromCache(e),void n.addToGridCache(e);t?r.has(e)?!0!==r.get(e)&&r.get(e).add(t):r.set(e,new Set([t])):r.set(e,!0),1===r.size&&n.requestAnimationFrame(()=>n.refreshDependencyOnFrame())}getSortedDependenciesToRefresh(){return this.dependenciesToRefresh}refreshDependencyOnFrame(){const e=this,t=e.getSortedDependenciesToRefresh();e.client.isPainted&&(t.forEach((t,n)=>{if(!0===t){const t=e.getIteratableDependencyAssignments(n);e.releaseDependency(n,null!==t[0]),e.removeFromCache(n)}else t.forEach(t=>{e.releaseDependency(n,t),e.removeFromCache(n,t)})}),t.forEach((t,n)=>{e.addToGridCache(n)}),t.forEach((t,n)=>{!0===t&&(t=e.getIteratableDependencyAssignments(n)),t.forEach(t=>{e.drawDependency(n,null,t)})}),e.dependenciesToRefresh.clear(),e.client.trigger("dependenciesDrawn",{partial:!0}))}drawDependency(e,t=null,n=null,r=this.client.svgCanvas,i=!0){const o=this,{drawnDependencies:a,oldDrawnDependencies:s}=o,l=t||o.getDependencyBounds(e,n);if(!o.disabled&&l){const t=o.prepareLineDef(e,l),s=o.pathFinder.findPath(t,o.lineDefAdjusters);o.drawLine(r,e,s,n,i),i&&!this.includesDependency(a,e,n)&&a.push({dependency:e,assignmentData:n})}const c=this.findDependencyIndex(s,e,n);c>=0&&s.splice(c,1)}drawForTimeSpan(e,t=!1){const n=this;n.client.isAnimating?n.client.on({transitionend(){!e.isRemoved&&n.drawForTimeSpan(e,!0)},once:!0}):n.dependencyStore.getTimeSpanDependencies(e).forEach(e=>{t?n.scheduleRefreshDependency(e):n.refreshDependency(e)})}drawForEvent(e){this.drawForTimeSpan(e)}updateDependenciesForTimeSpan(e,t,n=null){const r=this,i=e.isAssignment?e.event:e,o=r.dependencyStore.getTimeSpanDependencies(i),a=r.getMetaId(),l=r.client,c=s.default.from(t,l.timeAxisSubGridElement),d=n&&l.getRowFor(n);let u;o.forEach(t=>{this.getIteratableDependencyAssignments(t).forEach(n=>{const o=c.clone();let s,l;d&&(o.rowTop=d.top,o.rowBottom=d.bottom),n&&n.from!==e&&n.to!==e||r.isDependencyVisible(t,n)&&(r.getTimeSpanRecordFromDependency(t,!0)===i?(s=o,l=(u=t.instanceMeta(a).bounds)?u.endRectangle:r.getBox(t,!1,n)):(s=(u=t.instanceMeta(a).bounds)?u.startRectangle:r.getBox(t,!0,n),l=o),s&&l&&r.drawDependency(t,{startRectangle:s,endRectangle:l},n))})})}scheduleDraw(e=!1){const t=this;t.disabled||(e&&t.resetBoundsCache(),t.client.isAnimating?t.clientTransitionRemover||(t.clientTransitionRemover=t.client.on({transitionend(){t.clientTransitionRemover(),t.clientTransitionRemover=null,t.draw()},once:!0})):t.doScheduleDraw())}draw(e=!1){const t=this,n=t.client;if(!t.oldDrawnDependencies&&!t.dependencyStore.count||!n.isPainted)return;if(n.isAnimating)return void n.on({transitionend(){t.scheduleDraw(!0)},once:!0});const r=n.timeAxisSubGrid.viewRectangle;if(e&&t.resetBoundsCache(),!r.width||!r.height)return;t.oldDrawnDependencies=t.drawnDependencies,t.drawnDependencies=[],r.inflate(t.bufferSize);const{startDate:o,visibleDateRange:a}=n;if(!t.disabled&&!n.suspendRendering&&n.store.count&&n.rowManager.rowCount&&o&&a.startDate&&a.endDate){if(!n.project.isInitialCommitPerformed)return t.drawnDependencies=t.oldDrawnDependencies,void(t.refreshAllWhenReady=!0);const e={},{dependencyGridCache:s,cacheGridSize:l}=t,c=i.default.asMilliseconds(n.timeAxis.unit)*l.ticks,d=a.startDate.getTime()-o.getTime(),u=a.endDate.getTime()-o.getTime(),h=Math.floor(d/c),f=Math.floor(u/c),g=Math.floor(n.rowManager.topRow.dataIndex/l.index),m=Math.floor(n.rowManager.bottomRow.dataIndex/l.index),p=[];let v,b,y;for(v=h;v<=f;v++)for(b=g;b<=m;b++){const i=s[v],o=null===i||void 0===i?void 0:i[b];for(y=0;o&&y<o.length;y++){const{dependency:i,assignmentData:a,metaId:s}=o[y],l=i.id+"-"+s;if(!e[l]){const o=t.getDependencyBounds(i,a);(null!==o&&void 0!==o&&o.bounds.intersect(r,!0,!0)||n.ignoreViewBox)&&p.push([i,o,a]),e[l]=!0}}}p.forEach(([e,n,r])=>{t.drawDependency(e,n,r)})}t._resetBoundsCache=!1,t.oldDrawnDependencies.forEach(e=>t.releaseDependency(e.dependency,e.assignmentData)),n.trigger("dependenciesDrawn"),t.isDrawn=!0}releaseDependency(e,t=null){if(!0===t)Object.keys(e.meta.map||{}).filter(e=>e.startsWith(this.client.id)).forEach(t=>{const n=e.meta.map[t];n.lineElement&&(n.lineElement.remove(),n.lineElement=null)});else{const n=this.getMetaId(t),r=e.instanceMeta(n).lineElement;r&&(e.instanceMeta(n).lineElement=null,r.remove())}}render(){const e=this,t=e.client;e.showTooltip&&(e.tooltip=e.createTooltip()),t.timeAxis.on({endreconfigure:"resetGridCache",thisObj:e}),t.rowManager.on({refresh:"onRowsRefresh",changetotalheight:"onChangeTotalHeight",thisObj:e}),t.on({horizontalscroll:"onHorizontalScroll",svgcanvascreated:"createMarkers",togglenode:"onToggleNode",scroll:"onVerticalScroll",timelineviewportresize:"onViewportResize",thisObj:e}),e.highlightDependenciesOnEventHover&&(t.on(t.scheduledEventName+"MouseEnter",t=>e.highlightEventDependencies(t.eventRecord||t.taskRecord)),t.on(t.scheduledEventName+"MouseLeave",t=>e.unhighlightEventDependencies(t.eventRecord||t.taskRecord)))}renderContents(){this.draw()}getConnectorStartSide(e){return this.client.currentOrientation.getConnectorStartSide(e)}getConnectorEndSide(e){return this.client.currentOrientation.getConnectorEndSide(e)}createTooltip(){const e=this,t=e.client;return u.default.new({align:"b-t",id:t.id+"-dependency-tip",forSelector:".b-timelinebase:not(.b-eventeditor-editing):not(.b-resizing-event):not(.b-dragcreating):not(.b-dragging-event):not(.b-creating-dependency) ."+e.baseCls,clippedBy:[t.timeAxisSubGridElement,t.bodyContainer],forElement:t.timeAxisSubGridElement,showOnHover:!0,hoverDelay:0,hideDelay:0,anchorToTarget:!1,textContent:!1,trackMouse:!1,getHtml:e.getHoverTipHtml.bind(e)},e.tooltip||{})}getHoverTipHtml({activeTarget:e}){const t=this.resolveDependencyRecord(e),{fromEvent:n,toEvent:r}=t;return l.default.tpl`
             <table class="b-sch-dependency-tooltip">
                <tr>
                    <td>${this.L("L{from}")}: </td>
                    <td>${a.default.encodeHtml(n.name)}</td>
                    <td>
                        <div class="b-sch-box b-${y[t.type]}"></div>
                    </td>
                </tr>
                <tr>
                    <td>${this.L("L{to}")}: </td>
                    <td>${a.default.encodeHtml(r.name)}</td>
                    <td><div class="b-sch-box b-${C[t.type]}"></div></td>
                </tr>
            </table>
        `}}S._$name="Dependencies",h.default.registerFeature(S,!1,["Scheduler","ResourceHistogram"]),h.default.registerFeature(S,!0,"SchedulerPro"),document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))&&function(e){if(!("Element"in e))return;const t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(let t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(e,t)},s=function(e){const t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[];for(let r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return~a(this,e+"")},l.add=function(){let e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",~a(this,e)||(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){let e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);~t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){const n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.replace=function(e,t){const n=a(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},l.toString=function(){return this.join(" ")},n.defineProperty){const e={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",e)}catch(d){void 0!==d.number&&-2146823252!==d.number||(e.enumerable=!1,n.defineProperty(t,"classList",e))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}(window),function(){let e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){const e=function(e){const t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(let n=0,r=arguments.length;n<r;n++)e=arguments[n],t.call(this,e)}};e("add"),e("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){const e=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,n){return 1 in arguments&&!this.contains(t)===!n?n:e.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){let n=this.toString().split(" "),r=n.indexOf(e+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}()},"./lib/Scheduler/feature/DependencyEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Core/helper/util/Rectangle.js"),a=(n("./lib/Core/widget/DisplayField.js"),n("./lib/Core/widget/DurationField.js"),n("./lib/Scheduler/view/DependencyEditor.js")),s=n("./lib/Core/mixin/InstancePlugin.js"),l=n("./lib/Scheduler/model/DependencyModel.js");class c extends s.default{static get $name(){return"DependencyEdit"}static get defaultConfig(){return{autoClose:!0,saveAndCloseOnEnter:!0,showDeleteButton:!0,triggerEvent:"dependencydblclick",showLagField:!1,dependencyRecord:null,editorConfig:{title:"L{Edit dependency}",localeClass:this,closable:!0,defaults:{localeClass:this},items:{fromNameField:{type:"display",label:"L{From}",editable:!1},toNameField:{type:"display",label:"L{To}"},typeField:{type:"combo",label:"L{Type}",name:"type",editable:!1,valueField:"id",displayField:"name",items:Object.keys(l.default.Type).map(e=>({id:l.default.Type[e],name:this.L(e)}))},lagField:{type:"duration",label:"L{Lag}",name:"lag",allowNegative:!0}},bbar:{defaults:{localeClass:this},items:{foo:{type:"widget",cls:"b-label-filler"},saveButton:{color:"b-green",text:"L{Save}"},deleteButton:{color:"b-gray",text:"L{Delete}"},cancelButton:{color:"b-gray",text:"L{Object.Cancel}"}}}}}}construct(e,t){const n=this;if(e.dependencyEdit=n,super.construct(e,t),!e.features.dependencies)throw new Error("Dependencies feature required when using DependencyEdit");n.clientListenersDetacher=e.on({[n.triggerEvent]:n.onActivateEditor,thisObj:n})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}get editorConfig(){return this._editorConfig}set editorConfig(e){const t=this.getDefaultConfiguration().editorConfig;(e=i.default.assign({},t,e)).items=e.items||[],this._editorConfig=e}get isValid(){return Object.values(this.editor.widgetMap).every(e=>!(e.name&&!e.hidden)||!1!==e.isValid)}get values(){const e={};return this.editor.eachWidget(t=>{t.name&&!t.hidden&&(e[t.name]=t.value)},!0),e}onBeforeSave(e){}onAfterSave(e){}updateRecord(e){const{values:t}=this;t.lag&&(t.lagUnit=t.lag.unit,t.lag=t.lag.magnitude),"type"in t&&(null!=e.fromSide&&(t.fromSide=null),null!=e.toSide&&(t.toSide=null)),i.default.cleanupProperties(t,!0),e.set(t)}onPopupKeyDown({event:e}){"Enter"===e.key&&this.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()&&(e.preventDefault(),this.onSaveClick())}onSaveClick(){this.save()&&this.editor.hide()}onDeleteClick(){this.deleteDependency(),this.editor.hide()}onCancelClick(){this.editor.hide()}internalShowEditor(e){const t=this,n=t.client;let r=t.lastPointerDownCoordinate;if(!1===n.trigger("beforeDependencyEdit",{dependencyEdit:t,dependencyRecord:e}))return;const i=t.getEditor(e);if(t.loadRecord(e),n.trigger("beforeDependencyEditShow",{dependencyEdit:t,dependencyRecord:e,editor:i}),!r){const e=o.default.from(t.client.element).center;r=[e.x-i.width/2,e.y-i.height/2]}i.showByPoint(r)}editDependency(e){this.client.readOnly||this.internalShowEditor(e)}getEditor(){var e,t,n;const r=this;let{editor:i}=r;return i||(i=r.editor=a.default.new({dependencyEditFeature:r,autoShow:!1,anchor:!0,scrollAction:"realign",clippedBy:[r.client.timeAxisSubGridElement,r.client.bodyContainer],constrainTo:window,autoClose:r.autoClose,cls:r.cls,rootElement:r.client.rootElement,listeners:{keydown:r.onPopupKeyDown,thisObj:r}},r.editorConfig),0===i.items.length&&console.warn("Editor configured without any `items`"),i.eachWidget(e=>{const t=e.ref||e.id;t&&!r[t]&&(r[t]=e)}),null===(e=r.saveButton)||void 0===e||e.on("click",r.onSaveClick,r),null===(t=r.deleteButton)||void 0===t||t.on("click",r.onDeleteClick,r),null===(n=r.cancelButton)||void 0===n||n.on("click",r.onCancelClick,r),r.editor)}loadRecord(e){const t=this;t.fromNameField.value=e.fromEvent.name,t.toNameField.value=e.toEvent.name,t.lagField&&(t.lagField.unit=e.lagUnit),t.editor.record=t.dependencyRecord=e}async save(){const e=this,{client:t,dependencyRecord:n}=e;if(!n||!e.isValid)return;const{dependencyStore:r,values:i}=e;if(!1!==t.trigger("beforeDependencySave",{dependencyRecord:n,values:i})){var o;if(e.onBeforeSave(n),e.updateRecord(n),r&&!n.stores.length){if(!1===t.trigger("beforeDependencyAdd",{dependencyRecord:n,dependencyEdit:e}))return;r.add(n)}await(null===(o=t.project)||void 0===o?void 0:o.commitAsync()),t.trigger("afterDependencySave",{dependencyRecord:n}),e.onAfterSave(n)}return n}async deleteDependency(){const{client:e,editor:t,dependencyRecord:n}=this;var r;return!1!==e.trigger("beforeDependencyDelete",{dependencyRecord:n})&&(t.containsFocus&&t.revertFocus(),e.dependencyStore.remove(n),await(null===(r=e.project)||void 0===r?void 0:r.commitAsync()),!0)}get dependencyStore(){return this.client.dependencyStore}onActivateEditor({dependency:e,event:t}){this.disabled||(this.lastPointerDownCoordinate=[t.clientX,t.clientY],this.editDependency(e))}}c._$name="DependencyEdit",r.default.registerFeature(c,!1)},"./lib/Scheduler/feature/EventContextMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/EventMenu.js"),o=n("./lib/Core/helper/VersionHelper.js");class a extends i.default{static get $name(){return"EventContextMenu"}construct(e,t){super.construct(...arguments),this.scheduler=e,o.default.deprecate("Scheduler","5.0.0","`EventContextMenu` feature is deprecated, in favor of `EventMenu` feature. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."),e.features.eventMenu&&(e.features.eventMenu.disabled=!0)}}a.featureClass="",a._$name="EventContextMenu",r.default.registerFeature(a),r.default.registerFeature(a,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventDrag.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Scheduler/feature/base/DragBase.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/DomSync.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Grid/feature/GridFeatureManager.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.default{static get $name(){return"EventDrag"}static get defaultConfig(){return{constrainDragToResource:!1,constrainDragToTimeSlot:!1,validatorFn:()=>{},validatorFnThisObj:null,unifiedDrag:null}}get scheduler(){return this.client}isElementDraggable(e,t){const{scheduler:n}=this,r=o.default.up(e,n.eventSelector),{eventResize:i}=n.features;if(!r||this.disabled)return!1;if(e.matches('[class$="-handle"]'))return!1;const a=n.resolveEventRecord(r),s=a.resizable;return!(s&&i&&!i.disabled&&!a.isMilestone&&((!0===s||"start"===s)&&i.resize.overStartHandle(t,r)||(!0===s||"end"===s)&&i.resize.overEndHandle(t,r)))}getTriggerParams(e){const{assignmentRecords:t,eventRecords:n,resourceRecord:r,browserEvent:i}=e;return{context:e,draggedRecords:n,eventRecords:n,resourceRecord:r,assignmentRecords:t,event:i}}triggerEventDrag(e,t){e.startDate-t===0&&e.newResource===e.resourceRecord||this.scheduler.trigger("eventDrag",Object.assign(this.getTriggerParams(e),{startDate:e.startDate,endDate:e.endDate,newResource:e.newResource}))}triggerDragStart(e){this.drag.startEvent.ignoreNavigation=!0,this.scheduler.trigger("eventDragStart",this.getTriggerParams(e))}triggerDragAbort(e){this.scheduler.trigger("eventDragAbort",this.getTriggerParams(e))}triggerAfterDrop(e,t){this.currentOverClient.trigger("afterEventDrop",Object.assign(this.getTriggerParams(e),{valid:t}))}onDragStart({context:e,event:t}){const{eventMenu:n,eventContextMenu:r}=this.client.features,i=n&&!n.disabled?n:r;super.onDragStart({context:e,event:t}),null===i||void 0===i||i.hideContextMenu(!1)}onDragAbort(){const{assignmentStore:e,eventStore:t}=this.client;this.dragData.initialAssignmentsState.find(({resource:n,assignment:r},i)=>{var o;return!e.includes(r)||!t.includes(r.event)||n.id!==(null===(o=this.dragData.assignmentRecords[i])||void 0===o?void 0:o.resourceId)})&&this.client.refresh(),super.onDragAbort(...arguments)}isValidDrop(e){const{newResource:t,resourceRecord:n}=e,r=e.draggedEntities[0];return!(!t||t.isSpecialRow)&&(n===t||!r.event.resources.includes(t))}checkDragValidity(e,t){const n=this,r=n.currentOverClient;let i=n.dragData.context.valid;return i&&(i=r.allowOverlap||r.isDateRangeAvailable(e.startDate,e.endDate,e.draggedEntities[0],e.newResource)?n.validatorFn.call(n.validatorFnThisObj||n,e,t):{valid:!1,message:n.L("L{eventOverlapsExisting}")}),i}async updateRecords(e){const t=this.scheduler,n=this.currentOverClient;t.eventStore.suspendAutoCommit(),n.eventStore.suspendAutoCommit();const r=await this.updateAssignments(t,n,e,!1);return t.eventStore.resumeAutoCommit(),n.eventStore.resumeAutoCommit(),n.trigger("eventDrop",Object.assign(this.getTriggerParams(e),{isCopy:!1,event:e.browserEvent,targetEventRecord:e.targetEventRecord,targetResourceRecord:e.newResource})),r}async updateAssignments(e,t,n,r){const l=this,c=e!==t,d="vertical"===t.mode,{assignmentStore:u,eventStore:h,resourceStore:f}=e,{assignmentStore:g,eventStore:m,resourceStore:p}=t,{eventRecords:v,assignmentRecords:b,timeDiff:y,initialAssignmentsState:C,resourceRecord:S,newResource:w}=n,E=l.unifiedDrag,D=l.adjustStartDate(b[0].event.startDate,y),x=[],j=[],T=[],R=[],M=[],k=new Set,P=new Set;e.suspendRefresh(),t.suspendRefresh();let O,F=!1,A=!1;O=c?p.indexOf(w)-f.indexOf(S):l.constrainDragToResource?0:f.indexOf(S)-f.indexOf(w),d&&v.forEach((t,r)=>{const i=n.eventBarEls[r];delete t.instanceMeta(e).hasTemporaryDragElement,i.dataset.transient&&i.remove()});const I=n.eventBarEls.slice();for(let o=0;o<b.length;o++){let e=b[o],t=e.event;if(!e.isOccurrenceAssignment&&(!u.includes(e)||!h.includes(t))){I[o].remove(),I.splice(o,1),b.splice(o,1),o--;continue}const n=C[o],a=t,s=n.startDate,d=n.resource,p=this.constrainDragToTimeSlot?s:E?D:l.adjustStartDate(s,y);if(k.add(d),r)e=e.copy(null),T.push(e);else if(u!==g){const n=a.assignments.length>1,r=e.copy();if(R.push(e),n||j.push(a),!m.getById(a.id)){const e=Object.assign({},a.data,{id:a.id,calendar:null});t=e,x.push(e)}m.usesSingleAssignment||T.push(r),e=r}let v=w;if(!E)if(c){if(o>0){const e=d.resourceStore.indexOf(d);v=v.resourceStore.getAt(e+O)||v}}else if(0!==O){const e=Math.max(Math.min(f.indexOf(d)-O,f.count-1),0);v=f.getAt(e)}else v=d;var L;k.add(v),e.resource!==v&&(e.resource=v,t.isEvent&&P.add(t),F=!0,t.isOccurrence&&t.set("newResource",v),c&&m.usesSingleAssignment&&(t.resourceId=v.id)),M.find(e=>e.draggedEvent===t)||i.default.isEqual(t.startDate,p)||(t.startDate=p,M.push({draggedEvent:t,originalStartDate:s}),t.isEvent&&P.add(t),A=!0,null===(L=t.resources)||void 0===L||L.forEach(e=>k.add(e)))}u.remove(R),h.remove(j),g.add(T);const H=m.add(x);if(!l.constrainDragToTimeline)for(let i=0;i<b.length;i++){const r=b[i].event,l=(null===H||void 0===H?void 0:H.find(e=>e.id===r.id))||r,c=n.eventBarEls[i],d=0===i?n.context.element:n.context.relatedElements[i-1],u=t.isInTimeAxis(l);if(a.default.removeChild(e.foregroundCanvas,c),l.resource&&t.rowManager.getRowFor(l.resource)&&u){const e=s.default.from(d,t.foregroundCanvas,!0);o.default.setTranslateXY(d,e.x,e.y),d.classList.remove("b-sch-event-hover"),d.classList.remove("b-active"),d.classList.remove("b-drag-proxy"),d.classList.remove("b-dragging"),d.retainElement=!1,a.default.addChild(t.foregroundCanvas,d,l.assignments[0].id)}}null===H||void 0===H||H.forEach(e=>P.add(e)),(R.length||j.length||T.length||x.length)&&(F=!0),(F||A)&&(m.usesSingleAssignment&&P.forEach(e=>e.beginBatch()),await Promise.all([t.project!==e.project?t.project.commitAsync():null,e.project.commitAsync()]),m.usesSingleAssignment&&P.forEach(e=>e.endBatch(!1,!0))),F||(F=M.some(({draggedEvent:e,originalStartDate:t})=>!i.default.isEqual(e.startDate,t))),t.resumeRefresh(),e.resumeRefresh(),b.length>0&&(F?(t.refreshWithTransition(),c&&e.refreshWithTransition()):n.valid=!1)}getProductDragContext(e){const t=this.scheduler.resolveEventRecord(e.browserEvent.target);let n;n=this.constrainDragToResource?e.resourceRecord:this.constrainDragToTimeline?this.resolveResource()||e.newResource||e.resourceRecord:this.resolveResource();const{assignmentRecords:r,eventRecords:i}=e;return{valid:Boolean(n),draggedRecords:i,eventRecords:i,assignmentRecords:r,newResource:n,targetEventRecord:t}}getMinimalDragData(e){const t=this,{scheduler:n}=t,r=t.getElementFromContext(e),i=n.resolveEventRecord(r),o=n.resolveResourceRecord(r),a=n.resolveAssignmentRecord(r),s=a?[a]:[];return n.multiEventSelect&&a&&(n.isAssignmentSelected(s[0])||t.drag.startEvent.ctrlKey)&&s.push.apply(s,t.getRelatedRecords(a)),{eventRecord:i,resourceRecord:o,assignmentRecord:a,eventRecords:[...new Set(s.map(e=>e.event))],assignmentRecords:s}}setupProductDragData(e){const t=this,{scheduler:n}=t,r=t.getElementFromContext(e),{eventRecord:i,resourceRecord:o,assignmentRecord:a,assignmentRecords:l}=t.getMinimalDragData(e),c=s.default.from(r),d=[];if(t.constrainDragToResource&&!o)throw new Error("Resource could not be resolved for event: "+i.id);const u=n.getDateConstraints(t.constrainDragToResource?o:null,i);return t.constrainDragToTimeline&&t.setupConstraints(n.getScheduleRegion(t.constrainDragToResource?o:null,i),c,n.timeAxisViewModel.snapPixelAmount,Boolean(u)),l.forEach(e=>{let t=n.getElementFromAssignmentRecord(e);t||(t=n.currentOrientation.addTemporaryDragElement(e.event,e.resource),t=t.innerElement),d.push(t)}),d.forEach((e,t)=>d[t]=e.parentNode),{record:a,draggedEntities:l,dateConstraints:u,eventBarEls:d}}getDragData(e,t){const n=this.getMinimalDragData(e)||{};return d(d(d({},super.getDragData(e,t)),n),{},{initialAssignmentsState:n.assignmentRecords.map(e=>({startDate:e.event.startDate,resource:e.resource,assignment:e}))})}getRelatedRecords(e){return this.scheduler.selectedAssignments.filter(t=>t!==e&&t.event.isDraggable)}getCoordinate(e,t,n){const r=this.currentOverClient;if(r.isHorizontal){let i=n[0];if("default"!==r.milestoneLayoutMode&&e.isMilestone)switch(r.milestoneAlign){case"center":i+=t.offsetWidth/2;break;case"end":i+=t.offsetWidth}return i}{let i=n[1];if("default"!==r.milestoneLayoutMode&&e.isMilestone)switch(r.milestoneAlign){case"center":i+=t.offsetHeight/2;break;case"end":i+=t.offsetHeight}return i}}resolveResource(){const e=this.dragData.dragProxy||this.dragData.context.element,t=this.currentOverClient,{isHorizontal:n}=t,{context:r}=this.dragData,i=s.default.from(e,null,!0),o=t.isVertical||this.unifiedDrag?r.clientY:i.center.y,a=s.default.from(e,t.timeAxisSubGridElement,!0),{x:l,y:c}=a.center;let d;if(n){const e=t.rowManager.getRowAt(o);d=e&&t.resourceStore.getAt(e.dataIndex)}else d=t.resolveResourceRecord(t.timeAxisSubGridElement.querySelector(".b-sch-timeaxis-cell"),[l,c]);return d}adjustStartDate(e,t){const n=this.currentOverClient;return n.timeAxis.roundDate(new Date(e-0+t),!!n.snapRelativeToEventStartDate&&e)}getRecordElement(e){return this.scheduler.getElementFromAssignmentRecord(e,!0)}}h._$name="EventDrag",l.default.registerFeature(h,!0,"Scheduler"),l.default.registerFeature(h,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventDragCreate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/base/DragCreateBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js");class o extends r.default{static get $name(){return"EventDragCreate"}static get defaultConfig(){return{validatorFn:()=>{}}}construct(e,t){this.scheduler=e,super.construct(e,t)}get store(){return this.scheduler.eventStore}finalizeDragCreate(e){const t=new this.store.modelClass({startDate:e.startDate,duration:null,endDate:e.endDate});this.proxy.dataset.eventId=t.id,this.scheduler.trigger("dragCreateEnd",{newEventRecord:t,resourceRecord:e.rowRecord,event:e.event,proxyElement:this.proxy})}handleBeforeDragCreate(e,t){const n=this,r=n.scheduler.trigger("beforeDragCreate",{resourceRecord:n.createContext.rowRecord,date:e,event:t});if(r){var i;const e=n.scheduler.features.scheduleTooltip;null===e||void 0===e||null===(i=e.hoverTip)||void 0===i||i.hide()}return n.dateConstraints=n.scheduler.getDateConstraints(n.createContext.rowRecord,e),r}checkValidity(e,t){const{client:n}=this;return e.resourceRecord=e.rowRecord,(n.allowOverlap||n.isDateRangeAvailable(e.startDate,e.endDate,null,e.resourceRecord))&&this.validatorFn.call(this.validatorFnThisObj||this,e,t)}isRowEmpty(e){const t=this.store.getEventsForResource(e);return!t||!t.length}}o._$name="EventDragCreate",i.default.registerFeature(o,!0,"Scheduler"),i.default.registerFeature(o,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventDragSelect.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/mixin/Delayable.js");class l extends(Object(s.default)(r.default)){static get $name(){return"EventDragSelect"}construct(e,t){this.timeline=e,this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),e.multiEventSelect=!0,this.targetSelector=[".b-timeline-subgrid .b-grid-cell",".b-timeline-subgrid"].join(","),super.construct(e,t)}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove"]}}onElementMouseDown(e){const t=this,n=t.client;e.touches||0!==e.button||t.disabled||e.target.matches(t.targetSelector)&&(t.startX=e.clientX,t.startY=e.clientY,t.element=o.default.createElement({tag:"div",className:"b-dragselect-rect"},!0)[0],n.floatRoot.appendChild(t.element),n.element.classList.add("b-dragselecting"),t.eventRectangles=Array.from(n.element.querySelectorAll(n.eventSelector)).map(e=>({rectangle:a.default.from(e,!0),record:n.resolveEventRecord(e)})),n.clearEventSelection(),t.subGridElementRect=a.default.from(n.timeAxisSubGrid.element,!0),n.navigator.disabled=!0,document.addEventListener("mouseup",t.onDocumentMouseUp))}onElementMouseMove(e){const t=this;if("number"===typeof t.startX){const n=Math.max(e.clientX,t.subGridElementRect.left),r=Math.max(e.clientY,t.subGridElementRect.top),i=Math.min(t.startX,n),s=Math.min(t.startY,r),l=Math.abs(t.startX-n),c=Math.abs(t.startY-r),d=new a.default(i,s,l,c).constrainTo(t.subGridElementRect);o.default.setTranslateXY(t.element,d.left,d.top),t.element.style.width=d.width+"px",t.element.style.height=d.height+"px",t.rectangle=d,t.updateSelection()}}onDocumentMouseUp(e){var t;const n=this,r=n.client,{selectedAssignments:i,navigator:o}=r;null===(t=n.element)||void 0===t||t.remove(),r.element.classList.remove("b-dragselecting"),n.startX=n.startY=null,o.skipNextClick=r.timeAxisSubGridElement.contains(e.target),o.disabled=!1,i.length&&(o.skipScrollIntoView=!0,r.activeAssignment=i[i.length-1],o.activeItem.focus(),o.skipScrollIntoView=!1),document.removeEventListener("mouseup",n.onDocumentMouseUp)}updateSelection(){const e=this,t=e.eventRectangles,n=e.rectangle;for(let r=0,i=t.length;r<i;r++){const i=t[r],o=n.intersect(i.rectangle,!0);o&&!i.selected?(i.selected=!0,e.client.selectEvent(i.record,!0)):!o&&i.selected&&(i.selected=!1,e.client.deselectEvent(i.record))}}}l._$name="EventDragSelect",i.default.registerFeature(l,!1,"Scheduler")},"./lib/Scheduler/feature/EventEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Scheduler/feature/base/EditBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/DomSync.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=(n("./lib/Scheduler/view/EventEditor.js"),n("./lib/Core/mixin/Delayable.js")),c=n("./lib/Scheduler/feature/mixin/RecurringEventEdit.js"),d=(n("./lib/Core/widget/TextField.js"),n("./lib/Scheduler/widget/ResourceCombo.js"),n("./lib/Scheduler/model/TimeSpan.js")),u=(n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/TimeField.js"),n("./lib/Core/widget/Button.js"),n("./lib/Core/widget/Widget.js"));class h extends(r.default.mixin(c.default,l.default)){static get $name(){return"EventEdit"}static get configurable(){return{triggerEvent:"eventdblclick",showResourceField:!0,resourceFieldConfig:null,typeField:"eventType",eventRecord:null,readOnly:null,editorConfig:{type:"eventeditor",title:"L{EventEdit.Edit event}",closable:!0,localeClass:this,defaults:{localeClass:this},items:{nameField:{type:"text",label:"L{Name}",clearable:!0,name:"name",weight:100,required:!0},resourceField:{type:"resourcecombo",label:"L{Resource}",name:"resource",editable:!0,valueField:"id",displayField:"name",highlightExternalChange:!1,destroyStore:!0,weight:200},startDateField:{type:"date",cls:"b-inline",clearable:!1,required:!0,label:"L{Start}",name:"startDate",flex:"1 0 60%",weight:300},startTimeField:{type:"time",clearable:!1,required:!0,name:"startDate",cls:"b-match-label",flex:"1 0 40%",weight:400},endDateField:{type:"date",cls:"b-inline",clearable:!1,required:!0,label:"L{End}",name:"endDate",flex:"1 0 60%",weight:500},endTimeField:{type:"time",clearable:!1,required:!0,name:"endDate",cls:"b-match-label",flex:"1 0 40%",weight:600}},bbar:{hideWhenEmpty:!0,defaults:{localeClass:this},items:{saveButton:{color:"b-green",text:"L{Save}",weight:100},deleteButton:{color:"b-gray",text:"L{Delete}",weight:200},cancelButton:{color:"b-gray",text:"L{Object.Cancel}",weight:300}}}},targetEventElement:null}}static get pluginConfig(){return{chain:["populateEventMenu","onEventEnterKey"],assign:["editEvent"]}}construct(e,t){this.scheduler=e,this.readOnly=e.readOnly,super.construct(e,t),e.on({projectChange:"onChangeProject",readOnly:"onClientReadOnlyToggle",thisObj:this})}get readOnly(){return this.editor?this.editor.readOnly:this._readOnly}updateReadOnly(e){this.editor&&(this.editor.readOnly=e)}onClientReadOnlyToggle({readOnly:e}){this.readOnly=e}getEditor(){var e,t,n,r,i;const o=this;let{editor:a}=o;return a||(a=o.editor=u.default.create(o.getEditorConfig()),a.readOnly=o._readOnly,0===a.items.length&&console.warn("Event Editor configured without any `items`"),a.on({beforehide:"resetEditingContext",beforeshow:"onBeforeEditorShow",keydown:"onPopupKeyDown",thisObj:o}),this.scheduler.relayEvents(a,["beforeSetRecord"],"eventEdit"),Object.values(a.widgetMap).forEach(e=>{const t=e.ref||e.id;if(t&&!o[t])switch(o[t]=e,e.name){case"startDate":case"endDate":e.on("change",o.onDatesChange,o)}}),null===(e=o.onEditorConstructed)||void 0===e||e.call(o,a),null===(t=o.eventTypeField)||void 0===t||t.on("change",o.onEventTypeChange,o),null===(n=o.saveButton)||void 0===n||n.on("click",o.onSaveClick,o),null===(r=o.deleteButton)||void 0===r||r.on("click",o.onDeleteClick,o),null===(i=o.cancelButton)||void 0===i||i.on("click",o.onCancelClick,o),o.editor)}getEditorConfig(){const{autoClose:e,cls:t,scheduler:n}=this;return s.default.assign({owner:n,eventEditFeature:this,weekStartDay:this.weekStartDay,align:"b-t",id:n.id+"-event-editor",autoShow:!1,anchor:!0,scrollAction:"realign",clippedBy:[n.timeAxisSubGridElement,n.bodyContainer],constrainTo:window,autoClose:e,cls:t},this.editorConfig)}internalShowEditor(e,t,n=null){var r,i,a;const s=this,l=s.scheduler,c=(null===(r=n)||void 0===r||null===(i=r.target)||void 0===i?void 0:i.nodeType)===Element.ELEMENT_NODE?n.target:o.default.down(l.getElementFromEventRecord(e,t),l.eventInnerSelector),d=e.isPartOfStore(l.eventStore);if((n=null!==(a=n)&&void 0!==a?a:{target:c,anchor:!0}).target||!d){var u;if(!1===l.trigger("beforeEventEdit",{eventEdit:s,eventRecord:e,resourceRecord:t,eventElement:c}))return l.element.classList.remove("b-eventeditor-editing"),null===(u=s.phantomEventElement)||void 0===u||u.remove(),s.phantomEventElement=null,!1;s.resourceRecord=t;const r=s.getEditor(e);s.editingContext={eventRecord:e,resourceRecord:t,eventElement:c,editor:r,isPartOfStore:d},super.internalShowEditor&&super.internalShowEditor(e,t,n),s.typeField&&s.toggleEventType(e.get(s.typeField)),s.loadRecord(e,t),r.centered||!r.anchor?r.show():c?(s.targetEventElement=c,r.showBy(n)):(r.show(),r.updateCentered(!0));const i=l.timeAxisViewModel.timeResolution;if("hour"===i.unit||"minute"===i.unit){const e=`${i.increment}${i.unit}`;s.startTimeField&&(s.startTimeField.step=e),s.endTimeField&&(s.endTimeField.step=e)}l.eventStore.on({change:s.onChangeWhileEditing,refresh:s.onChangeWhileEditing,thisObj:s,name:"changesWhileEditing"})}}onChangeWhileEditing(){this.editingContext.isPartOfStore&&!this.eventRecord.isPartOfStore(this.scheduler.eventStore)&&this.onCancelClick()}onBeforeEditorShow(){this.scheduler.trigger("beforeEventEditShow",Object.assign({eventEdit:this},this.editingContext))}updateTargetEventElement(e,t){e&&e.classList.add("b-editing"),t&&t.classList.remove("b-editing")}editEvent(e,t,n=null){const r=this;if(r.isEditing&&r.resetEditingContext(),!r.disabled)return r.scheduler.element.classList.add("b-eventeditor-editing"),r.doEditEvent(...arguments)}get isEditing(){var e;return Boolean(null===(e=this.editor)||void 0===e?void 0:e.isVisible)}doEditEvent(e,t,n=null){const r=this,i=r.scheduler,o=!e.isOccurrence&&!e.isPartOfStore(i.eventStore);t||(t=e.resource||r.resourceStore.getById(e.resourceId)),o&&(this.phantomEventElement=n,d.default.prototype.normalize.call(e)),n||o?r.internalShowEditor(e,t,{target:n}):i.scrollResourceEventIntoView(t,e,null,{animate:!0,edgeOffset:0,extendTimeAxis:!1}).then(()=>r.internalShowEditor(e,t),()=>i.element.classList.remove("b-eventeditor-editing"))}loadRecord(e,t){this.loadingRecord=!0,this.internalLoadRecord(e,t),this.loadingRecord=!1}get eventRecord(){return this.editor.record}internalLoadRecord(e,t){const n=this,{eventStore:r}=n.client,{editor:i}=n;if(n.resourceRecord=t,i.record=e,n.resourceField){const o=r.getResourcesForEvent(e);i._isSettingValues=!0,!r.storage.includes(e,!0)&&t?n.resourceField.value=t[n.resourceField.valueField]:n.assignmentStore&&(n.resourceField.value=o.map(e=>e[n.resourceField.valueField])),i._isSettingValues=!1}super.internalLoadRecord(e,t)}toggleEventType(e){this.editor.element.dataset.eventType=e||"",this.editor.eachWidget(t=>{var n;(null===(n=t.dataset)||void 0===n?void 0:n.eventType)&&(t.hidden=t.dataset.eventType!==e)})}async finalizeEventSave(e,t,n,r){const i=this,{scheduler:o,eventStore:s,assignmentStore:l,phantomEventElement:c}=i;let d=!1;if(l.suspendAutoCommit(),o.suspendRefresh(),i.onBeforeSave(e),e.beginBatch(),i.updateRecord(e),e.endBatch(),e.isOccurrence)t&&e.set("resourceRecords",t);else if(s&&!e.stores.length)if(!1!==o.trigger("beforeEventAdd",{eventRecord:e,resourceRecords:t,resources:t})){const[n]=s.assignEventToResource(e,t);s.add(e),c&&(i.eventStore.includes(e)?(delete c.retainElement,a.default.addChild(o.foregroundCanvas,c,n.id)):c.remove(),i.phantomEventElement=null)}else d=!0;else i.resourceField&&s.assignEventToResource(e,t,!0);d||await o.project.commitAsync(),l.resumeAutoCommit(),o.resumeRefresh(!0),d||(o.trigger("afterEventSave",{eventRecord:e}),i.onAfterSave(e)),n(!d&&e)}save(){return new Promise((e,t)=>{var n;const r=this,{scheduler:i,eventRecord:o}=r;if(!o||!r.isValid)return void e(!1);const{eventStore:a,values:s}=r,l=(null===(n=r.resourceField)||void 0===n?void 0:n.records)||(r.resourceRecord?[r.resourceRecord]:[]),c=l[0];if(!r.scheduler.allowOverlap&&a&&l.some(e=>!a.isDateRangeAvailable(s.startDate,s.endDate,o,e)))return void e(!1);const d={finalize(n){try{!1!==n?r.finalizeEventSave(o,l,e,t):e(!1)}catch(i){t(i)}}};!1!==i.trigger("beforeEventSave",{eventRecord:o,resourceRecords:l,resourceRecord:c,values:s,context:d})?d.async||d.finalize():e(!1)})}deleteEvent(){return this.detachListeners("changesWhileEditing"),new Promise((e,t)=>{const{eventRecord:n,editor:r}=this;this.scheduler.removeEvents([n],t=>{t&&r.containsFocus&&r.revertFocus(),e(t)})})}onChangeProject(){this.resourceField&&(this.resourceField.store={})}get eventStore(){return this.scheduler.project.eventStore}get resourceStore(){return this.scheduler.project.resourceStore}get assignmentStore(){return this.scheduler.project.assignmentStore}onActivateEditor({eventRecord:e,resourceRecord:t,eventElement:n}){this.editEvent(e,t,n)}onDragCreateEnd({newEventRecord:e,resourceRecord:t,proxyElement:n}){const r=this;if(!r.disabled){r.scheduler.onEventCreated(e);const i=n.cloneNode(!0);i.removeAttribute("id"),n.parentElement.appendChild(i),i.retainElement=!0,r.editEvent(e,t,i)}}onEventEnterKey({assignmentRecord:e,eventRecord:t,target:n}){const r=n.closest(this.client.eventInnerSelector);e?this.editEvent(t,e.resource,r):t&&this.editEvent(t,t.resource,r)}onEventTypeChange({value:e}){this.toggleEventType(e)}populateEventMenu({eventRecord:e,resourceRecord:t,items:n}){this.scheduler.readOnly||(n.editEvent={text:"L{EventEdit.Edit event}",localeClass:this,icon:"b-icon b-icon-edit",weight:100,onItem:()=>{this.editEvent(e,t)}})}resetEditingContext(){this.detachListeners("changesWhileEditing"),this.resourceRecord=this.editingContext=this.editor._record=null,super.resetEditingContext()}}h._$name="EventEdit",i.default.registerFeature(h,!0,"Scheduler"),i.default.registerFeature(h,!1,["SchedulerPro","ResourceHistogram"]),h.initClass()},"./lib/Scheduler/feature/EventFilter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js");class o extends r.default{static get $name(){return"EventFilter"}static get pluginConfig(){return{chain:["populateHeaderMenu","populateTimeAxisHeaderMenu"]}}construct(e,t){super.construct(e,t),this.scheduler=e}populateHeaderMenu({column:e,items:t}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:t}){const n=this;t.eventsFilter={text:"L{filterEvents}",icon:"b-fw-icon b-icon-filter",disabled:n.disabled,localeClass:this,weight:100,menu:{type:"popup",localeClass:this,items:{nameFilter:{weight:110,type:"textfield",cls:"b-eventfilter b-last-row",clearable:!0,keyStrokeChangeDelay:300,label:"L{byName}",localeClass:this,width:200,listeners:{change:n.onEventFilterChange,thisObj:n}}},onBeforeShow({source:e}){const[t]=e.items,r=n.scheduler.eventStore.filters.getBy("property","name");t.value=r&&r.value||""}}}}onEventFilterChange({value:e}){const t=this;""!==e?t.scheduler.eventStore.filter("name",e):t.scheduler.eventStore.removeFilter("name")}}o.featureClass="b-event-filter",o._$name="EventFilter",i.default.registerFeature(o,!0,["Scheduler","Gantt"]),i.default.registerFeature(o,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/base/TimeSpanMenuBase.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/util/Objects.js");class s extends i.default{static get $name(){return"EventMenu"}static get configurable(){return{processItems:null,type:"event"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateEventMenu"),e}onElementKeyDown(e){!e.handled&&e.target.matches(this.client.eventSelector)&&" "===e.key&&this.internalShowContextMenu(this.createContextMenuEventForElement(e.target))}getDataFromEvent(e){const t=super.getDataFromEvent(e),n=t.targetElement,{client:r}=this,i=r.resolveEventRecord(n),o=i&&(r.resolveResourceRecord(n)||r.resourceStore.last),a=i&&r.resolveAssignmentRecord(n);return Object.assign(t,{eventElement:n,eventRecord:i,resourceRecord:o,assignmentRecord:a})}getTargetElementFromEvent({target:e}){return o.default.up(e,this.client.eventSelector)||e}shouldShowMenu(e){return e.eventRecord}showContextMenuFor(e,{targetElement:t,event:n}={}){this.disabled||(t||(t=this.getElementFromRecord(e)))&&(n=n||this.createContextMenuEventForElement(t),this.internalShowContextMenu(n))}getElementFromRecord(e){return this.client.getElementsFromEventRecord(e)[0]}populateEventMenu({items:e}){const{client:t}=this;e.deleteEvent={hidden:t.readOnly},e.unassignEvent={hidden:t.readOnly||t.eventStore.usesSingleAssignment}}changeItems(e){const{client:t}=this;return a.default.merge({deleteEvent:{text:"L{SchedulerBase.Delete event}",icon:"b-icon b-icon-trash",weight:200,onItem({menu:e,eventRecord:n}){var r;const i=null===(r=e.focusInEvent)||void 0===r?void 0:r.relatedTarget;i&&(i.focus(),t.navigator.activeItem=i),t.removeEvents(t.isEventSelected(n)?t.selectedEvents:[n])}},unassignEvent:{text:"L{SchedulerBase.Unassign event}",icon:"b-icon b-icon-unassign",weight:300,name:"unassignEvent",onItem({menu:e,eventRecord:n,resourceRecord:r}){var i;const o=null===(i=e.focusInEvent)||void 0===i?void 0:i.relatedTarget;o&&(o.focus(),t.navigator.activeItem=o),n.unassign(r)}}},e)}changeMenu(e,t){return e&&(e.clippedBy=void 0),super.changeMenu(e,t)}}s.featureClass="",s._$name="EventMenu",r.default.registerFeature(s,!0,"Scheduler"),r.default.registerFeature(s,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventResize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Scheduler/feature/base/ResizeBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/ResizeHelper.js"),a=n("./lib/Scheduler/model/TimeSpan.js");class s extends r.default{static get $name(){return"EventResize"}createResizeHelper(){const e=this,t=e.client;return new o.default({direction:t.isVertical?"vertical":"horizontal",name:e.constructor.$$name,isElementResizable:(t,n)=>e.isElementResizable(t,n),targetSelector:t.eventSelector,handleContainerSelector:t.eventInnerSelector,resizingCls:"b-sch-event-wrap-resizing",allowResize:e.isElementResizable.bind(e),outerElement:t.timeAxisSubGridElement,scrollManager:t.scrollManager,dragThreshold:0,dynamicHandleSize:!0,reservedSpace:5,scroller:t.timeAxisSubGrid.scrollable,listeners:{beforeresizestart:e.onBeforeResizeStart,resizestart:e.onResizeStart,resizing:e.onResizing,resize:e.onFinishResize,cancel:e.onCancelResize,thisObj:e}})}get store(){return this.client.eventStore}getTimespanRecord(e){return e.eventRecord}getRowRecord(e){return e.resourceRecord}getBeforeResizeParams(e){return{resourceRecord:this.client.resolveResourceRecord(e.element)}}getResizeStartParams(e){return{resourceRecord:e.resourceRecord}}getResizeEndParams(e){return{resourceRecord:e.resourceRecord,event:e.browserEvent}}setupProductResizeContext(e,t){const n=this.client,{element:r}=e,i=n.resolveEventRecord(r),o=n.resolveResourceRecord(r),a=n.resolveAssignmentRecord(r);Object.assign(e,{eventRecord:i,resourceRecord:o,assignmentRecord:a,browserEvent:t,dateConstraints:n.getDateConstraints(o,i)})}onResizeStart({context:e,event:t}){var n,r;super.onResizeStart({context:e,event:t}),null===(n=this.client.features.dependencies)||void 0===n||null===(r=n.hideTerminals)||void 0===r||r.call(n,e.element),e.element.querySelector(".b-sch-event").classList.add("b-sch-event-resizing")}checkValidity(e,t){return(this.client.allowOverlap||this.client.isDateRangeAvailable(e.startDate,e.endDate,e.eventRecord,e.resourceRecord))&&super.checkValidity(e,t)}onFinishResize({source:e,context:t,event:n}){super.onFinishResize({source:e,context:t,event:n}),this.client.features.dependencies&&this.client.features.dependencies.showTerminals(t.eventRecord,t.element)}async internalUpdateRecord(e,t){const{generation:n}=t;return t.isOccurrence?t.set(a.default.prototype.inSetNormalize.call(t,{startDate:e.startDate,endDate:e.endDate})):"left"===e.edge||"top"===e.edge?await t.setStartDate(e.startDate,!1):await t.setEndDate(e.endDate,!1),t.generation!==n}finalize(e){this.resize.context.element.querySelector(".b-sch-event").classList.remove("b-sch-event-resizing"),super.finalize(e)}}s._$name="EventResize",i.default.registerFeature(s,!0,"Scheduler"),i.default.registerFeature(s,!1,"ResourceHistogram")},"./lib/Scheduler/feature/EventTooltip.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/feature/base/TooltipBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/StringHelper.js");class a extends r.default{static get $name(){return"EventTooltip"}static get defaultConfig(){return{template:e=>`\n                ${e.eventRecord.name?o.default.xss`<div class="b-sch-event-title">${e.eventRecord.name}</div>`:""}\n                ${e.startClockHtml}\n                ${e.endClockHtml}`,cls:"b-sch-event-tooltip",monitorRecordUpdate:!0}}construct(e,t){const n=this;super.construct(e,t),"string"===typeof n.align&&(n.align={align:n.align})}onPaint({firstPaint:e}){if(super.onPaint(...arguments),e){const e=this,t=e.client.features.dependencies;if(t){const n=e.align.offset;e.tooltip.on("beforeshow",({source:e})=>{t.disabled?e.align.offset=n:e.align.offset=[0,10]})}}}}a._$name="EventTooltip",i.default.registerFeature(a,!0,"Scheduler"),i.default.registerFeature(a,!1,"ResourceHistogram")},"./lib/Scheduler/feature/GroupSummary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Grid/feature/GroupSummary.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/widget/Tooltip.js"),s=n("./lib/Scheduler/view/SchedulerBase.js");const l={add:1,remove:1,update:1,removeAll:1,filter:1};class c extends r.default{static get $name(){return"GroupSummary"}static get defaultConfig(){return{showTooltip:!0,summaries:null,renderer:null}}static get properties(){return{footersToUpdate:new Set}}static get pluginConfig(){return{chain:["render"]}}construct(e,t){const n=this;if(e.isVertical)throw new Error("GroupSummary feature is not supported in vertical mode");n.scheduler=e,super.construct(e,t),!n.summaries&&n.renderer&&(n.summaries=[{renderer:n.renderer}]),n.isScheduler=e instanceof s.default,n.isScheduler&&(e.eventStore.on({changePreCommit:n.onEventStoreChange,thisObj:n}),e.on({timeAxisViewModelUpdate:n.onTimeAxisChange,thisObj:n}),e.project.on({dataReady:n.onProjectDataReady,thisObj:n}))}doDestroy(){var e;null===(e=this._tip)||void 0===e||e.destroy(),super.doDestroy()}onTimeAxisChange(){this.scheduler.rowManager.forEach(e=>{e.isGroupFooter&&e.render()})}onEventStoreChange({action:e,record:t,records:n,changes:r}){if(l[e]){var i;const{rowManager:e}=this.scheduler,o=t?[t]:n,a=new Set;if(o.forEach(e=>e.resources.forEach(e=>a.add(e))),null!=(null===r||void 0===r||null===(i=r.resourceId)||void 0===i?void 0:i.oldValue)){const e=this.scheduler.resourceStore.getById(r.resourceId.oldValue);e&&a.add(e)}for(const t of a){let n=e.getRowFor(t);for(;n&&!n.isGroupFooter;)n=e.getRow(n.index+1);n&&this.footersToUpdate.add(n)}}}onProjectDataReady(){const{footersToUpdate:e}=this;if(e.size){for(const n of e){var t;null===(t=n.render)||void 0===t||t.call(n)}e.clear()}}onBeforeRenderRow({row:e,record:t}){if(e.isGroupFooter&&!t.meta.hasOwnProperty("groupFooterFor")){const t=e.elements.normal.querySelector(".b-sch-timeaxis-cell");t&&(t.innerHTML="")}super.onBeforeRenderRow(...arguments)}generateHtml(e,t,n,r,i,o){if("timeAxis"===e.type){const e=this,{scheduler:n}=e,a=n.timeAxisViewModel.columnConfig;let s="";return n.isEngineReady&&n.timeAxis.forEach((l,c)=>{const d=n.eventStore.getEvents({startDate:l.startDate,endDate:l.endDate,allowPartial:!0,onlyAssigned:!0}).filter(e=>e.resources.some(e=>t.includes(e))),u=e.summaries.map(e=>`<div class="b-timeaxis-summary-value">${e.renderer({startDate:l.startDate,endDate:l.endDate,eventStore:n.eventStore,resourceStore:n.resourceStore,events:d,resources:t,groupRecord:r,groupField:i,groupValue:o})}</div>`).join("");s+=`<div class="b-timeaxis-tick" style="width: ${a[a.length-1][c].width}px">${u}</div>`}),`<div class="b-timeaxis-group-summary">${s}</div>`}return super.generateHtml(e,t,n,r,i,o)}updateSummaryHtml(e,t,n){const r=super.updateSummaryHtml(e,t,n);if("timeAxis"===t.type){const e={count:0,height:0};return this.summaries.forEach(t=>{t.height?e.height+=t.height:e.count++}),e}return r}getTipHtml({activeTarget:e}){const t=this,n=Array.from(e.parentElement.children).indexOf(e),r=t.scheduler.timeAxis.getAt(n);let o=`<header>${t.L("L{Summary.Summary for}",t.scheduler.getFormattedDate(r.startDate))}</header>`,a=!1;return i.default.forEachSelector(e,".b-timeaxis-summary-value",(e,n)=>{const r=t._labels[n],i=e.innerText.trim();o+=`<label>${r||""}</label><div class="b-timeaxis-summary-value">${i}</div>`,e.innerHTML&&(a=!0)}),a?o:null}render(){const e=this,{scheduler:t}=e;var n;e.isScheduler&&null!==(n=e.summaries)&&void 0!==n&&n.some(e=>e.label)&&e.showTooltip&&!e._tip&&(e._labels=e.summaries.map(e=>e.label||""),e._tip=new a.default({id:t.id+"-groupsummary-tip",cls:"b-timeaxis-summary-tip",hoverDelay:0,hideDelay:0,forElement:t.timeAxisSubGridElement,anchorToTarget:!0,forSelector:".b-timeaxis-group-summary .b-timeaxis-tick",clippedBy:[t.timeAxisSubGridElement,t.bodyContainer],getHtml:e.getTipHtml.bind(e)}))}removeSummaryElements(e){const t=e.querySelector(".b-timeaxis-group-summary");null===t||void 0===t||t.remove(),super.removeSummaryElements()}hasSummary(e){return super.hasSummary(e)||e.isTimeAxisColumn}}c._$name="GroupSummary",o.default.registerFeature(c,!1,"Scheduler")},"./lib/Scheduler/feature/HeaderContextMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/widget/DateField.js"),s=n("./lib/Core/helper/VersionHelper.js"),l=n("./lib/Core/helper/ObjectHelper.js");n("./lib/Core/widget/Button.js"),n("./lib/Core/widget/Popup.js"),n("./lib/Core/widget/Slider.js");class c extends r.default{static get $name(){return"HeaderContextMenu"}static get defaultConfig(){return{extraItems:null,processItems:null}}static get pluginConfig(){return{chain:["populateHeaderMenu"]}}construct(e,t){super.construct(e,t),this.scheduler=e,s.default.deprecate("Scheduler","5.0.0","`HeaderContextMenu` feature is deprecated, in favor of `TimeAxisHeaderMenu` feature. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."),e.features.timeAxisHeaderMenu&&(e.features.timeAxisHeaderMenu.disabled=!0),e.features.headerMenu&&(e.features.headerMenu._showForTimeAxis=!0)}populateHeaderMenu({column:e,items:t,menu:n}){const r=this;if("timeAxis"!==e.type)return;n&&(n.scrollAction="realign"),l.default.merge(t,r.defaultItems);const i=l.default.transformNamedObjectToArray(t);r.extraItems&&i.push(...r.extraItems),r.processItems&&r.processItems({items:i});const o=l.default.transformArrayToNamedObject(i);l.default.removeAllProperties(t),l.default.merge(t,o)}get defaultItems(){const e=this,{scheduler:t}=e,{timeAxis:n}=t,r={magnitude:n.shiftIncrement,unit:n.shiftUnit},i={};return i.pickZoomLevel={text:"L{pickZoomLevel}",localeClass:this,icon:"b-fw-icon b-icon-search-plus",disabled:!t.presets.count||e.disabled,menu:{type:"popup",items:[{type:"slider",minWidth:130,showValue:!1}],onBeforeShow({source:n}){const[r]=n.items;r.min=t.minZoomLevel,r.max=t.maxZoomLevel,r.value=t.zoomLevel,e.zoomDetatcher=r.on("input","onZoomSliderChange",e)},onHide(){e.zoomDetatcher&&(e.zoomDetatcher(),e.zoomDetatcher=null)}}},e.startDateField=new a.default({label:e.L("L{startText}"),labelWidth:"6em",required:!0,step:r,listeners:{change:e.onRangeDateFieldChange,thisObj:e}}),e.endDateField=new a.default({label:e.L("L{endText}"),labelWidth:"6em",required:!0,step:r,listeners:{change:e.onRangeDateFieldChange,thisObj:e}}),i.activeDateRange={text:"L{activeDateRange}",localeClass:this,icon:"b-fw-icon b-icon-calendar",disabled:e.disabled,menu:{type:"popup",width:"20em",items:[e.startDateField,e.endDateField,{type:"button",cls:"b-left-nav-btn",icon:"b-icon b-icon-prev",color:"b-blue b-raised",flex:1,margin:0,listeners:{click:e.onLeftShiftBtnClick,thisObj:e}},{type:"button",cls:"b-today-nav-btn",color:"b-blue b-raised",text:"L{todayText}",localeClass:this,flex:4,margin:"0 8",listeners:{click:e.onTodayBtnClick,thisObj:e}},{type:"button",cls:"b-right-nav-btn",icon:"b-icon b-icon-next",color:"b-blue b-raised",flex:1,listeners:{click:e.onRightShiftBtnClick,thisObj:e}}],onBeforeShow:()=>e.initDates()}},i}onZoomSliderChange({value:e}){this.scheduler.zoomLevel=e}initDates(){const e=this;e.startDateField.suspendEvents(),e.endDateField.suspendEvents(),e.startDateField.value=e.startDateFieldInitialValue=e.scheduler.startDate,e.endDateField.value=e.endDateFieldInitialValue=e.scheduler.endDate,e.startDateField.resumeEvents(),e.endDateField.resumeEvents()}onRangeDateFieldChange({source:e}){const t=this,n=e===t.startDateField,{client:r}=t,{timeAxis:i}=r,a=t.startDateFieldInitialValue&&!n?t.startDateFieldInitialValue:t.startDateField.value;let s=t.endDateFieldInitialValue&&n?t.endDateFieldInitialValue:t.endDateField.value;n?t.startDateFieldInitialValue=null:t.endDateFieldInitialValue=null,s-a?s<a&&(s=o.default.add(a,i.shiftIncrement,i.shiftUnit)):s=o.default.add(s,i.shiftIncrement,i.shiftUnit),r.preserveViewCenter(()=>r.timeAxis.setTimeSpan(a,s)),t.initDates()}onLeftShiftBtnClick(){this.scheduler.timeAxis.shiftPrevious(),this.initDates()}onTodayBtnClick(){const e=o.default.clearTime(new Date);this.scheduler.timeAxis.setTimeSpan(e,o.default.add(e,1,"day")),this.initDates()}onRightShiftBtnClick(){this.scheduler.timeAxis.shiftNext(),this.initDates()}}c.featureClass="",c._$name="HeaderContextMenu",i.default.registerFeature(c)},"./lib/Scheduler/feature/HeaderZoom.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js");class l extends r.default{static get $name(){return"HeaderZoom"}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}onElementMouseDown(e){const t=this,n=t.client;if(!e.touches&&0===e.button&&!t.disabled&&e.target.closest(".b-sch-header-timeaxis-cell")){const r=n.subGrids.normal.header.headersElement;t.startX=e.clientX,t.element=a.default.createElement({parent:r,tag:"div",className:"b-headerzoom-rect"}),t.headerElementRect=s.default.from(r)}}onElementMouseMove(e){const t=this;if(0!==e.buttons||o.default.isSafari||o.default.isIE11&&!e.isTrusted){if("number"===typeof t.startX){const n=Math.max(e.clientX,t.headerElementRect.left),r=Math.min(t.startX,n),i=Math.abs(t.startX-n),o=new s.default(r-t.headerElementRect.x+t.client.scrollLeft,0,i,t.headerElementRect.height);a.default.setTranslateX(t.element,o.left),t.element.style.width=o.width+"px"}}else t.onElementMouseUp(e)}onElementMouseUp(e){const t=this;if("number"===typeof t.startX){const e=t.client,n=s.default.from(t.element),r=e.getDateFromCoordinate(n.left,"round",!1),i=e.getDateFromCoordinate(n.right,"round",!1);t.element&&t.element.remove(),t.startX=null,t.client.zoomToSpan({startDate:r,endDate:i})}}}l._$name="HeaderZoom",i.default.registerFeature(l,!1,"Scheduler")},"./lib/Scheduler/feature/Labels.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/DomSync.js"),l=n("./lib/Core/helper/EventHelper.js"),c=n("./lib/Core/helper/StringHelper.js"),d=n("./lib/Core/widget/Editor.js");const u=["top","left","right","bottom"],h={top:"b-b",right:"l-l",bottom:"t-t",left:"r-r"},f={top:1,bottom:1},g={estimate:1,measure:1},m={left:1,right:1};class p extends r.default{static get $name(){return"Labels"}static get configurable(){return{labelCls:"b-sch-label",top:null,right:null,bottom:null,left:null,thisObj:null,blurAction:"cancel",labelLayoutMode:"default",labelCharWidth:7}}static get pluginConfig(){return{chain:["onEventDataGenerated"]}}construct(e,t){const n=this;if(e.isVertical)throw new Error("Labels feature is not supported in vertical mode");n.scheduler=e,super.construct(e,t),(n.top||n.bottom||n.left||n.right)&&n.updateHostClasslist()}updateHostClasslist(){const{top:e,bottom:t}=this,{classList:n}=this.scheduler.element;n.remove("b-labels-topbottom"),n.remove("b-labels-top"),n.remove("b-labels-bottom"),(e||t)&&(n.add("b-labels-topbottom"),e&&n.add("b-labels-top"),t&&n.add("b-labels-bottom"))}onLabelDblClick(e){const t=this,n=e.target;if(n&&!t.scheduler.readOnly){const{side:r}=n.dataset,i=t[r],{editor:o,field:a}=i;if(o){const s=this.scheduler.resolveEventRecord(e.target);return o instanceof d.default||(i.editor=new d.default({appendTo:t.scheduler.element,blurAction:t.blurAction,inputField:o,scrollAction:"realign"})),i.editor.startEdit({target:n,align:h[r],matchSize:!1,record:s,field:a}),e.stopImmediatePropagation(),!1}}}changeTop(e){return this.processLabelSpec(e,"top")}updateTop(){this.updateHostClasslist()}changeRight(e){return this.processLabelSpec(e,"right")}updateRight(){this.updateHostClasslist()}changeBottom(e){return this.processLabelSpec(e,"bottom")}updateBottom(){this.updateHostClasslist()}changeLeft(e){return this.processLabelSpec(e,"left")}updateLeft(){this.updateHostClasslist()}processLabelSpec(e,t){if("function"===typeof e)e={renderer:e};else if("string"===typeof e)e={field:e};else{if(!e)return;e=Object.setPrototypeOf({},e)}const{scheduler:n}=this,{eventStore:r,resourceStore:i,taskStore:o,id:a}=n,{field:s,editor:c}=e;if(f[t]&&(n.milestoneWidth=null),e.recordType=r&&!o?"event":"task",s){let t,a=!1;r&&!o&&(t=r.modelClass.fieldMap[s],t?(e.fieldDef=t,e.recordType="event",a=!0):Reflect.has(r.modelClass.prototype,s)&&(e.recordType="event",a=!0)),!t&&o&&(t=o.modelClass.fieldMap[s],t?(e.fieldDef=t,e.recordType="task",a=!0):Reflect.has(i.modelClass.prototype,s)&&(e.recordType="task",a=!0)),!t&&i&&(t=i.modelClass.fieldMap[s],t?(e.fieldDef=t,e.recordType="resource",a=!0):Reflect.has(i.modelClass.prototype,s)&&(e.recordType="resource",a=!0)),c&&("boolean"===typeof c?n.editor={type:"textfield"}:"string"===typeof c&&(n.editor={type:c}),l.default.on({element:n.timeAxisSubGrid.element,delegate:".b-sch-label",dblclick:"onLabelDblClick",thisObj:this}))}return e}doDisable(e){super.doDisable(e),this.client.isPainted&&this.client.refresh()}generateLabelConfigs(e){const t=this,n=[];for(const r of u)if(t[r]){const{field:i,fieldDef:a,recordType:s,renderer:l,thisObj:d}=t[r],u={tag:"label",className:{[t.labelCls]:1,[`${t.labelCls}-${r}`]:1},dataset:{side:r,taskFeature:"label-"+r}};let h;const f=s+"Record",g=e[f];l?h=l.call(d||t.thisObj||t,{[f]:g,resourceRecord:e.resourceRecord,assignmentRecord:e.assignmentRecord,domConfig:u}):(h=g[i],h="date"!==(null===a||void 0===a?void 0:a.type)||l?c.default.encodeHtml(h):o.default.format(h,t.client.displayDateFormat)),u.html=h||"\xa0",n.push(u)}return n}measureLabels(e,t){const n=this,r=n.client.timeAxisViewModel.getSingleUnitInPixels("millisecond");for(const i of e)if(m[i.dataset.side]){let{html:e}=i,o=0;if("estimate"===n.labelLayoutMode)e.includes("<")&&(e=a.default.stripTags(e)),o=e.length*n.labelCharWidth+18;else{const e=n.labelMeasureElement||(n.labelMeasureElement=a.default.createElement({className:"b-sch-event-wrap b-measure-label",parent:n.client.foregroundCanvas}));e.retainElement=!0,s.default.sync({targetElement:e,childrenOnly:!0,domConfig:{children:[i]}}),o=e.firstElementChild.offsetWidth}const l=o/r;switch(i.dataset.side){case"left":t.startMS-=l;break;case"right":t.endMS+=l}}}onEventDataGenerated(e){if(!this.disabled){const t=this.generateLabelConfigs(e);g[this.labelLayoutMode]&&this.measureLabels(t,e),e.wrapperChildren.push(...t)}}updateLabelLayoutMode(){this.isConfiguring||this.client.refreshWithTransition()}updateLabelCharWidth(){this.isConfiguring||this.client.refreshWithTransition()}}p.featureClass="b-sch-labels",p._$name="Labels",i.default.registerFeature(p,!1,"Scheduler")},"./lib/Scheduler/feature/NonWorkingTime.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Scheduler/feature/AbstractTimeRanges.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js");class s extends(r.default.mixin(a.default)){static get $name(){return"NonWorkingTime"}static get defaultConfig(){return{highlightWeekends:!0,showHeaderElements:!0,showLabelInBody:!0,cls:"b-sch-nonworkingtime",maxTimeAxisUnit:"week",autoGeneratedWeekends:!1}}static get pluginConfig(){return{chain:["onPaint","attachToProject","updateLocalization"]}}doDestroy(){this.attachToCalendar(null),super.doDestroy()}attachToProject(e){super.attachToProject(e),this.attachToCalendar(e.effectiveCalendar),e.on({name:"project",calendarChange:()=>this.attachToCalendar(this.project.effectiveCalendar),thisObj:this})}onTimeAxisViewModelUpdate(){return this._timeAxisUnitDurationMs=null,super.onTimeAxisViewModelUpdate()}updateLocalization(){var e;if(null===(e=super.updateLocalization)||void 0===e||e.call(this),this.autoGeneratedWeekends&&this.calendar){const e=this.defaultNonWorkingIntervals,t=Boolean(e.length);this.calendar.clearIntervals(t),t&&this.calendar.addIntervals(e)}}attachToCalendar(e){const t=this,{project:n,client:r}=t;if(t.detachListeners("calendar"),t.autoGeneratedWeekends=!1,e){if(!r.isSchedulerPro&&!r.isGantt&&e===n.defaultCalendar&&!n.defaultCalendar.intervalStore.count){const n=t.defaultNonWorkingIntervals;n.length&&(e.addIntervals(n),t.autoGeneratedWeekends=!0)}e.intervalStore.on({name:"calendar",change:()=>t.setTimeout("renderRanges",1)})}r.isEngineReady?t.renderRanges():n.isDestroyed||(t.detachListeners("initialProjectListener"),n.on({name:"initialProjectListener",refresh:t.renderRanges,thisObj:t,once:!0}))}get defaultNonWorkingIntervals(){const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return o.default.nonWorkingDaysAsArray.map(t=>({recurrentStartDate:`on ${e[t]} at 0:00`,recurrentEndDate:`on ${e[(t+1)%7]} at 0:00`,isWorking:!1}))}get calendar(){var e;return null===(e=this.project)||void 0===e?void 0:e.effectiveCalendar}get timeAxisUnitDurationMs(){return this._timeAxisUnitDurationMs||(this._timeAxisUnitDurationMs=o.default.as("ms",1,this.client.timeAxis.unit)),this._timeAxisUnitDurationMs}shouldRenderRange(e){return super.shouldRenderRange(e)&&e.durationMS>=this.timeAxisUnitDurationMs}renderRanges(){const e=this,{store:t,calendar:n}=e,{timeAxis:r,foregroundCanvas:i}=e.client;if(n&&i&&t&&!t.isDestroyed){if(!e.disabled){const i=!e.maxTimeAxisUnit||o.default.compareUnits(r.unit,e.maxTimeAxisUnit)<=0;if(t.removeAll(!0),n&&e.highlightWeekends&&i&&r.count){const e=n.getNonWorkingTimeRanges(r.startDate,r.endDate).map((e,t)=>({name:e.name,cls:"b-nonworkingtime",startDate:e.startDate,endDate:e.endDate})),i=[];let o;e.forEach(e=>{o&&e.startDate<=o.endDate&&e.name===o.name?o.endDate=e.endDate:(i.push(e),e.id="nonworking-"+i.length,o=e)}),t.add(i,!0)}}super.renderRanges()}}}s._$name="NonWorkingTime",i.default.registerFeature(s,!1,"Scheduler"),i.default.registerFeature(s,!0,["SchedulerPro","Gantt","ResourceHistogram"])},"./lib/Scheduler/feature/Pan.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/BrowserHelper.js"),a=n("./lib/Scheduler/feature/base/DragBase.js");class s extends r.default{static get $name(){return"Pan"}static get defaultConfig(){return{vertical:!0}}construct(e,t){this.timeline=e,this.targetSelector=[".b-grid-cell",".b-timeline-subgrid"].join(","),super.construct(e,t)}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}onElementMouseDown(e){const t=this,n=t.timeline,r=Object.values(n.features).find(e=>e instanceof a.default),i=n.readOnly||!r||r.disabled;e.touches||0!==e.button||t.disabled||(e.target.matches(t.targetSelector)||i&&e.target.closest(n.eventSelector))&&(t.mouseX=e.clientX,t.mouseY=e.clientY)}onElementMouseMove(e){const t=this;if(0!==e.buttons||o.default.isSafari||o.default.isIE11&&!e.isTrusted){if("number"===typeof t.mouseX){const n=t.timeline.subGrids.normal.scrollable,r=t.timeline.scrollable,i=e.clientX,o=e.clientY;e.preventDefault(),t.vertical&&r.scrollBy(0,t.mouseY-o),n.scrollBy(t.mouseX-i),t.mouseX=i,t.mouseY=o}}else t.onElementMouseUp()}onElementMouseUp(e){this.mouseX=this.mouseY=null}}s._$name="Pan",i.default.registerFeature(s,!1,["Scheduler","Gantt"])},"./lib/Scheduler/feature/ResourceTimeRanges.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/base/ResourceTimeRangesBase.js"),o=n("./lib/Scheduler/data/ResourceTimeRangeStore.js");class a extends i.default{static get $name(){return"ResourceTimeRanges"}static get defaultConfig(){return{idPrefix:"resourcetimerange",rangeCls:"b-sch-resourcetimerange",store:!1,resourceTimeRanges:null}}attachToProject(e){const t=this,{scheduler:n}=t;if(super.attachToProject(e),!e.resourceTimeRangeStore){e.resourceTimeRangeStore=t._store||n.resourceTimeRangeStore||new o.default({owner:t});const{crudManager:r}=n;r&&!r.resourceTimeRangeStore&&(r.resourceTimeRangeStore=e.resourceTimeRangeStore)}const r=e.resourceTimeRangeStore;t.exposedOnScheduler||(n.resourceTimeRanges&&(r.add(n.resourceTimeRanges),delete n.resourceTimeRanges),Object.defineProperty(n,"resourceTimeRanges",{get:()=>r.records,set:e=>r.data=e}),t.exposedOnScheduler=!0),r.resourceStore||(r.resourceStore=e.resourceStore),t.detachListeners("store"),r.on({name:"store",change:t.onStoreChange,thisObj:t})}set store(e){this._store=e}get store(){return this.project.resourceTimeRangeStore}getEventsToRender(e,t){const{timeRanges:n}=e;if(null!==n&&void 0!==n&&n.length&&!this.disabled){const{startDate:e,endDate:r}=this.client;n.forEach(n=>{n.isRecurring?t.push(...n.getOccurrencesForDateRange(e,r)):t.push(n)})}return t}shouldInclude(e){return e.isResourceTimeRange&&!e.isNonWorking}doDestroy(){var e;(null===(e=this.store)||void 0===e?void 0:e.owner)===this&&this.store.destroy(),super.doDestroy()}}a.featureClass="",a._$name="ResourceTimeRanges",r.default.registerFeature(a,!1,"Scheduler")},"./lib/Scheduler/feature/ScheduleContextMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/ScheduleMenu.js"),o=n("./lib/Core/helper/VersionHelper.js");class a extends i.default{static get $name(){return"ScheduleContextMenu"}construct(e,t){super.construct(e,t),this.scheduler=e,o.default.deprecate("Scheduler","5.0.0","`ScheduleContextMenu` feature is deprecated, in favor of `ScheduleMenu` feature. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."),e.features.scheduleMenu&&(e.features.scheduleMenu.disabled=!0)}}a.featureClass="",a._$name="ScheduleContextMenu",r.default.registerFeature(a)},"./lib/Scheduler/feature/ScheduleMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/feature/base/TimeSpanMenuBase.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/ObjectHelper.js");class a extends r.default{static get $name(){return"ScheduleMenu"}static get defaultConfig(){return{type:"schedule",items:null,processItems:null}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateScheduleMenu"),e}shouldShowMenu(e){const{client:t}=this,{column:n,targetElement:r,resourceRecord:i}=e;return(n?n===t.timeAxisColumn:t.timeAxisSubGrid.element===r)&&!(i&&i.isSpecialRow)}getDataFromEvent(e){const{client:t}=this,n=t.getCellDataFromEvent(e),r=t.getDateFromDomEvent(e,"floor"),i=t.resolveResourceRecord(e)||t.isVertical&&t.resourceStore.last;return o.default.assign(super.getDataFromEvent(e),n,{date:r,resourceRecord:i})}populateScheduleMenu({items:e}){const{client:t}=this;!t.readOnly&&t.eventStore&&(e.addEvent={text:"L{SchedulerBase.Add event}",icon:"b-icon b-icon-add",disabled:0===t.resourceStore.count,weight:100,onItem({date:e,resourceRecord:n}){t.internalAddEvent(e,n,t.getRowFor(n))}})}}a.featureClass="",a._$name="ScheduleMenu",i.default.registerFeature(a,!0,"Scheduler")},"./lib/Scheduler/feature/ScheduleTooltip.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/widget/Tooltip.js"),a=n("./lib/Scheduler/tooltip/ClockTemplate.js"),s=n("./lib/Core/helper/EventHelper.js");class l extends r.default{static get $name(){return"ScheduleTooltip"}static get defaultConfig(){return{messageTemplate:e=>`<div class="b-sch-hovertip-msg">${e.message}</div>`}}static get pluginConfig(){return{chain:["onPaint"]}}onPaint({firstPaint:e}){if(!e)return;const t=this,n=t.client;let r;const i=t.hoverTip=new o.default({id:n.id+"-schedule-tip",cls:"b-sch-scheduletip",allowOver:!0,hoverDelay:0,hideDelay:100,showOnHover:!0,forElement:n.timeAxisSubGridElement,anchorToTarget:!1,trackMouse:!0,updateContentOnMouseMove:!0,monitorResize:!1,textContent:!1,forSelector:".b-schedulerbase:not(.b-dragging-event):not(.b-dragcreating) .b-grid-body-container:not(.b-scrolling) .b-timeline-subgrid:not(.b-scrolling) > :not(.b-sch-foreground-canvas):not(.b-group-footer):not(.b-group-row) *",constrainTo:null,getHtml:t.getHoverTipHtml.bind(t),onDocumentMouseDown(e){i.forElement.contains(e.event.target)&&(r=s.default.on({element:n.timeAxisSubGridElement,mousemove:e=>i.internalOnPointerOver(e),capture:!0}));const t=i.hideAnimation;i.hideAnimation=!1,i.constructor.prototype.onDocumentMouseDown.call(i,e),i.hideAnimation=t},listeners:{pointerover:({event:e})=>{const n="buttons"in e?e.buttons>0:e.which>0;return!n&&r&&r(),!t.disabled&&!n}}});(n.isHorizontal?n.timeAxisSubGrid.scrollable:n.scrollable).on({scroll:t.updateTip,thisObj:t}),n.on({timeAxisViewModelUpdate:t.updateTip,thisObj:t}),t.clockTemplate=new a.default({scheduler:n})}updateTip(){this.hoverTip.isVisible&&this.hoverTip.updateContent()}doDestroy(){this.destroyProperties("clockTemplate","hoverTip"),super.doDestroy()}getHoverTipHtml({tip:e,event:t}){const n=this,r=n.client,i=t&&r.getDateFromDomEvent(t,"floor",!0);let o=n.lastHtml;if(i){const e=r.resolveResourceRecord(t);!e||i-n.lastTime===0&&e.id===n.lastResourceId||(n.lastResourceId=e.id,o=n.lastHtml=n.generateTipContent({date:i,event:t,resourceRecord:e}))}else e.hide(),n.lastTime=null,n.lastResourceId=null;return o}generateTipContent({date:e,event:t,resourceRecord:n}){const r=this,i=r.clockTemplate.generateContent({date:e,text:r.client.getFormattedDate(e)}),o=r.messageTemplate({message:r.getText(e,t,n)||""});return r.lastTime=e,i+o}getText(e,t,n){}}l.featureClass="b-scheduletip",l._$name="ScheduleTooltip",i.default.registerFeature(l,!0,"Scheduler")},"./lib/Scheduler/feature/SimpleEventEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Core/mixin/InstancePlugin.js"),o=n("./lib/Core/widget/Editor.js"),a=n("./lib/Core/helper/DomHelper.js");class s extends i.default{static get $name(){return"SimpleEventEdit"}static get defaultConfig(){return{triggerEvent:"eventdblclick",eventRecord:null,field:"name",editorConfig:null}}static get pluginConfig(){return{chain:["onEventEnterKey"],assign:["editEvent"]}}construct(e,t){const n=this;n.scheduler=e,e.eventEdit=n,super.construct(e,t),n.clientListenersDetacher=e.on({[n.triggerEvent]:({eventRecord:e,eventElement:t})=>n.editEvent(e,e.resource,t),dragcreateend:n.onDragCreateEnd,thisObj:n})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}get eventStore(){return this.scheduler.eventStore}editEvent(e,t,n){const r=this,i=r.scheduler;i.readOnly||r.disabled||(n=a.default.down(n,i.eventInnerSelector)||n,e=e.isAssignment?e.event:e,r.resource=t,r.event=e,r.element=n,i.element.classList.add("b-eventeditor-editing"),r.editor||(r.editor=o.default.new({owner:i.timeAxisSubGrid,appendTo:i.timeAxisSubGridElement,scrollAction:"realign",cls:"b-simpleeventeditor",listeners:{complete:"onEditorComplete",cancel:"onEditorCancel",thisObj:r}},r.editorConfig),r.relayEvents(r.editor,["beforestart","start","beforecomplete","complete","beforecancel","cancel"])),r.editor.startEdit({target:n,record:e,field:r.field}),r.scheduler.navigator.disabled=!0)}onEditorComplete(){var e;const t=this;0===t.event.stores.length&&(t.eventStore.add(t.editor.record),t.event.assign(t.resource)),null!==(e=t.element)&&void 0!==e&&e.classList.contains("b-sch-dragcreator-proxy")&&t.element.remove(),t.reset()}onEditorCancel(){0===this.event.stores.length&&this.element.remove(),this.reset()}reset(){this.scheduler.element.classList.remove("b-eventeditor-editing"),this.scheduler.navigator.disabled=!1,this.event=null,this.resource=null}onEventEnterKey({assignmentRecord:e,eventRecord:t}){const n=e?this.scheduler.getElementFromAssignmentRecord(e):this.scheduler.getElementFromEventRecord(t),r=(e||t).resource;this.editEvent(t,r,n)}onDragCreateEnd({newEventRecord:e,resourceRecord:t,proxyElement:n}){this.scheduler.onEventCreated(e);const r=n.cloneNode(!0);r.removeAttribute("id"),n.parentElement.appendChild(r),this.element=r,this.editEvent(e,t,r)}}s._$name="SimpleEventEdit",r.default.registerFeature(s,!1,"Scheduler")},"./lib/Scheduler/feature/StickyEvents.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DomHelper.js");const a={width:0,height:0};class s extends r.default{static get $name(){return"StickyEvents"}static get type(){return"stickyEvents"}static get pluginConfig(){return{chain:["onEventDataGenerated"]}}construct(e,t){super.construct(e,t);const n=e.isHorizontal?"horizontalScroll":"scroll";this.toUpdate=new Set,e.on({[n]:"onSchedulerScroll",thisObj:this,prio:1e4})}onEventDataGenerated(e){this.syncEventContentPosition(e),this.updateStyles()}onSchedulerScroll(){const{client:e}=this;this[e.isHorizontal?"horizontalSyncAllEventsContentPosition":"verticalSyncAllEventsContentPosition"](e)}updateStyles(){for(const{contentEl:e,style:t}of this.toUpdate)o.default.applyStyle(e,t);this.toUpdate.clear()}horizontalSyncAllEventsContentPosition(e){const{rows:t}=e.rowManager,{resourceMap:n}=e.currentOrientation;if(n.size)for(let o=0,{length:a}=t;o<a;o++){var r;const e=null===(r=n.get(t[o].id))||void 0===r?void 0:r.eventsData;if(null!==e&&void 0!==e&&e.length)for(let t=0,{length:n}=e;t<n;t++){const n=e[t],r=[n];var i;n.eventRecord.isResourceTimeRange&&r.push(null===(i=n.elementConfig)||void 0===i?void 0:i.children[0]),this.syncEventContentPosition.apply(this,r)}}this.updateStyles()}verticalSyncAllEventsContentPosition(e){const{resourceMap:t}=e.currentOrientation;for(const n of t.values())for(const{renderData:e,elementConfig:t}of Object.values(n)){const n=[e];t&&e.eventRecord.isResourceTimeRange&&n.push(t.children[0]),this.syncEventContentPosition.apply(this,n)}this.updateStyles()}syncEventContentPosition(e,t=e.eventContent){var n,r;if(!1===e.eventRecord.stickyContents)return;const{client:i}=this,{isHorizontal:a}=i,{elementConfig:s}=e,l=a?i.timeAxisSubGrid.scrollable.x:i.scrollable.y,c=null===s||void 0===s||null===(n=s.children[0])||void 0===n?void 0:n.children[0],d="b-sch-event-content"===(null===c||void 0===c?void 0:c.className)&&c._element?c._element:t._element,u=a?e.left:e.top,h=u+(a?e.width:e.height)-1,f=a?"X":"Y";if((null===s||void 0===s?void 0:s.dataset.syncId)==(null===s||void 0===s||null===(r=s._element)||void 0===r?void 0:r.dataset.syncId)){const n="string"===typeof t.style?t.style=o.default.parseStyle(t.style):t.style||(t.style={}),r=null===d||void 0===d?void 0:d.offsetWidth;if(!e.eventRecord.isMilestone&&(!d||r)&&u<l&&h>=l){const t=this.getEventContentMargins(d),i=d?a?e.width-r-t.width:e.height-d.offsetHeight-t.height:Number.MAX_SAFE_INTEGER,o=Math.min(l-u,i-2);n.transform=o>0?`translate${f}(${o}px)`:""}else n.transform="";d&&this.toUpdate.add({contentEl:d,style:n})}}getEventContentMargins(e){return null!==e&&void 0!==e&&e.classList.contains("b-sch-event-content")?o.default.getEdgeSize(e,"margin"):a}}s._$name="StickyEvents",i.default.registerFeature(s,!0,"Scheduler"),i.default.registerFeature(s,!1,"ResourceHistogram")},"./lib/Scheduler/feature/Summary.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/feature/Summary.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/widget/Tooltip.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Scheduler/view/SchedulerBase.js");class l extends r.default{static get $name(){return"Summary"}static get configurable(){return{showTooltip:!0,summaries:null,renderer:null,verticalSummaryColumnConfig:null}}static get pluginConfig(){return{chain:["renderRows","bindStore","updateEventStore","updateResourceStore","updateProject"]}}construct(e,t){const n=this;n.scheduler=e,e.isVertical&&(e.timeAxisSubGrid.resizable=!1,t.hideFooters=!0,e.add(e.createSubGrid("right")),n.summaryColumn=e.columns.add(a.default.assign({filterable:null,region:"right",cellCls:"b-grid-footer b-sch-summarybar",align:"center",sortable:!1,groupable:!1,htmlEncode:!1,enableHeaderContextMenu:!1,hidden:n.disabled,renderer:n.verticalSummaryColumnRenderer},n.verticalSummaryColumnConfig))[0]),super.construct(e,t),n.summaries||(n.summaries=[{renderer:n.renderer}]),e instanceof s.default&&(this.updateEventStore(e.eventStore),this.updateResourceStore(e.resourceStore),this.updateProject(e.project),e.on({timeAxisViewModelUpdate:n.renderRows,thisObj:n}))}updateProject(e){this.detachListeners("summaryProject"),e.on({name:"summaryProject",dataReady:"updateScheduleSummaries",thisObj:this})}updateEventStore(e){this.detachListeners("summaryEventStore"),e.on({name:"summaryEventStore",filter:"updateScheduleSummaries",thisObj:this})}updateResourceStore(e){this.detachListeners("summaryResourceStore"),e.on({name:"summaryResourceStore",filter:"updateScheduleSummaries",thisObj:this})}renderRows(){this.scheduler.isHorizontal&&this.scheduler.timeAxisSubGrid.footer.element.querySelector(".b-grid-footer").classList.add("b-sch-summarybar"),super.renderRows(),this.render()}updateScheduleSummaries(){const e=this,{scheduler:t}=e,n=e.summaryBarElement,r=t.resourceStore.isFiltered,i=(e.selectedOnly?t.selectedRecords:null)||(r?t.resourceStore.records:null);n&&t.isEngineReady&&Array.from(n.children).forEach((n,o)=>{const a=t.timeAxis.getAt(o),s=t.eventStore.getEvents({filter:e.selectedOnly&&i.length>0||r?e=>i.some(t=>e.resources.includes(t)):null,startDate:a.startDate,endDate:a.endDate,allowPartial:!0,onlyAssigned:!0});let l="",c=`<header>${e.L("L{Summary for}",t.getFormattedDate(a.startDate))}</header>`;e.summaries.forEach(r=>{const i=r.renderer({startDate:a.startDate,endDate:a.endDate,eventStore:t.eventStore,resourceStore:t.resourceStore,events:s,element:n}),o=`<div class="b-timeaxis-summary-value">${i}</div>`;(e.summaries.length>1||""!==i)&&(l+=o),c+=`<label>${r.label||""}</label>`+o}),n.innerHTML=l,n._tipHtml=c})}get summaryBarElement(){return this.scheduler.element.querySelector(".b-sch-summarybar")}render(){const e=this,{scheduler:t}=e,n=t.timeAxisViewModel.columnConfig,r=e.summaryBarElement;r&&(e.summaries.some(e=>e.label)&&e.showTooltip&&!e._tip&&(e._tip=new o.default({id:t.id+"-summary-tip",cls:"b-timeaxis-summary-tip",hoverDelay:0,hideDelay:100,forElement:r,anchorToTarget:!0,trackMouse:!1,forSelector:".b-timeaxis-tick",getHtml:({activeTarget:e})=>e._tipHtml})),t.isHorizontal&&(r.innerHTML=n[n.length-1].map(e=>`<div class="b-timeaxis-tick" style="width: ${e.width}px"></div>`).join(""),e.updateScheduleSummaries()))}verticalSummaryColumnRenderer({grid:e}){const t=e.timeAxisViewModel.columnConfig;return t[t.length-1].map(e=>`<div class="b-timeaxis-tick" style="height: ${e.width}px"></div>`).join("")}refresh(){super.refresh(),this.updateScheduleSummaries()}doDisable(e){var t;super.doDisable(e),this.scheduler.isVertical&&(null===(t=this.summaryColumn)||void 0===t||t.toggle(!e))}doDestroy(){var e;null===(e=this._tip)||void 0===e||e.destroy(),super.doDestroy()}}l._$name="Summary",i.default.registerFeature(l,!1,"Scheduler")},"./lib/Scheduler/feature/TimeAxisHeaderMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/HeaderMenu.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DateHelper.js");n("./lib/Core/widget/Slider.js");class a extends r.default{static get $name(){return"TimeAxisHeaderMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"timeAxisHeader"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateTimeAxisHeaderMenu"),e}construct(){super.construct(...arguments),this.triggerEvent.includes("click")&&this.client.zoomOnTimeAxisDoubleClick&&(this.client.zoomOnTimeAxisDoubleClick=!1)}shouldShowMenu(e){const{column:t}=e;return t&&!1!==t.enableHeaderContextMenu&&t===this.client.timeAxisColumn}showContextMenu(e){super.showContextMenu(...arguments),this.menu&&(this.menu.scrollAction="realign")}populateTimeAxisHeaderMenu({items:e}){const t=this,{client:n}=t,r={magnitude:n.timeAxis.shiftIncrement,unit:n.timeAxis.shiftUnit};Object.assign(e,{zoomLevel:{text:"L{pickZoomLevel}",localeClass:t,icon:"b-fw-icon b-icon-search-plus",disabled:!n.presets.count||t.disabled,weight:200,menu:{type:"popup",items:{zoomSlider:{weight:210,type:"slider",minWidth:130,showValue:!1}},onBeforeShow({source:e}){const[r]=e.items;r.min=n.minZoomLevel,r.max=n.maxZoomLevel,r.value=n.zoomLevel,t.zoomDetatcher=r.on("input","onZoomSliderChange",t)},onHide(){t.zoomDetatcher&&(t.zoomDetatcher(),t.zoomDetatcher=null)}}},dateRange:{text:"L{activeDateRange}",localeClass:t,icon:"b-fw-icon b-icon-calendar",weight:300,menu:{type:"popup",width:"20em",defaults:{localeClass:t},items:{startDateField:{type:"datefield",label:"L{startText}",weight:310,labelWidth:"6em",required:!0,step:r,listeners:{change:t.onRangeDateFieldChange,thisObj:t}},endDateField:{type:"datefield",label:"L{endText}",weight:320,labelWidth:"6em",required:!0,step:r,listeners:{change:t.onRangeDateFieldChange,thisObj:t}},leftShiftBtn:{type:"button",weight:330,cls:"b-left-nav-btn",icon:"b-icon b-icon-prev",color:"b-blue b-raised",flex:1,margin:0,listeners:{click:t.onLeftShiftBtnClick,thisObj:t}},todayBtn:{type:"button",weight:340,cls:"b-today-nav-btn",color:"b-blue b-raised",text:"L{todayText}",flex:4,margin:"0 8",listeners:{click:t.onTodayBtnClick,thisObj:t}},rightShiftBtn:{type:"button",weight:350,cls:"b-right-nav-btn",icon:"b-icon b-icon-next",color:"b-blue b-raised",flex:1,listeners:{click:t.onRightShiftBtnClick,thisObj:t}}},listeners:{paint:t.initDateRangeFields,thisObj:t}}}})}onZoomSliderChange({value:e}){const t=this;t.menu.scrollAction="realign",t.client.zoomLevel=e,t.menu.setTimeout({fn:()=>t.menu.scrollAction="hide",delay:100,cancelOutstanding:!0})}initDateRangeFields({source:e,firstPaint:t}){if(t){const{widgetMap:t}=e;this.startDateField=t.startDateField,this.endDateField=t.endDateField}this.initDates()}initDates(){const e=this;e.startDateField.suspendEvents(),e.endDateField.suspendEvents(),e.startDateField.value=e.startDateFieldInitialValue=e.client.startDate,e.endDateField.value=e.endDateFieldInitialValue=e.client.endDate,e.startDateField.resumeEvents(),e.endDateField.resumeEvents()}onRangeDateFieldChange({source:e}){const t=this,n=e===t.startDateField,{client:r}=t,{timeAxis:i}=r,a=t.startDateFieldInitialValue&&!n?t.startDateFieldInitialValue:t.startDateField.value;let s=t.endDateFieldInitialValue&&n?t.endDateFieldInitialValue:t.endDateField.value;n?t.startDateFieldInitialValue=null:t.endDateFieldInitialValue=null,s-a?s<a&&(s=o.default.add(a,i.shiftIncrement,i.shiftUnit)):s=o.default.add(s,i.shiftIncrement,i.shiftUnit),r.preserveViewCenter(()=>r.timeAxis.setTimeSpan(a,s)),t.initDates()}onLeftShiftBtnClick(){this.client.timeAxis.shiftPrevious(),this.initDates()}onTodayBtnClick(){const e=o.default.clearTime(new Date);this.client.timeAxis.setTimeSpan(e,o.default.add(e,1,"day")),this.initDates()}onRightShiftBtnClick(){this.client.timeAxis.shiftNext(),this.initDates()}}a._$name="TimeAxisHeaderMenu",i.default.registerFeature(a,!0,["Scheduler","Gantt"]),i.default.registerFeature(a,!1,"ResourceHistogram")},"./lib/Scheduler/feature/TimeRanges.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Scheduler/feature/AbstractTimeRanges.js"),i=n("./lib/Scheduler/model/TimeSpan.js"),o=n("./lib/Grid/feature/GridFeatureManager.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Core/helper/ObjectHelper.js");class l extends r.default{static get $name(){return"TimeRanges"}static get defaultConfig(){return{store:{modelClass:i.default,storeId:"timeRanges"},currentTimeLineUpdateInterval:1e4,currentDateFormat:"HH:mm",timeRanges:null,showCurrentTimeLine:!1}}construct(e,t){const n=this;super.construct(e,t),e._timeRangesExposed||(Object.defineProperty(e,"timeRanges",{get:()=>n.timeRanges,set:e=>n.store.data=e}),e._timeRangesExposed=!0),n.getConfig("timeRanges")}startConfigure(e){const{client:t}=this;if(t.project&&!this.initialConfig.store){const n=t.project.timeRangeStore;if(n){const t=s.default.getPath(e,"store.data");t&&(n.data=t),e.store=n}}}set timeRanges(e){const t=this.getConfig("store");t?t.data=e:this._timeRanges=e}get timeRanges(){const{store:e}=this,{records:t}=e;if(e.recurringEvents){const e=[],{startDate:n,endDate:r}=this.client.timeAxis;return t.forEach(t=>{t.isRecurring?e.push.apply(e,t.getOccurrencesForDateRange(n,r)):e.push(t)}),e}return t}initCurrentTimeLine(){const e=this;if(e.currentTimeLine||!e.showCurrentTimeLine)return;const t="object"===typeof e.showCurrentTimeLine?e.showCurrentTimeLine:{};e.currentTimeLine=e.store.modelClass.new({id:"currentTime",cls:"b-sch-current-time"},t),e.updateCurrentTimeLine=e.updateCurrentTimeLine.bind(e),e.currentTimeInterval=e.setInterval(e.updateCurrentTimeLine,e.currentTimeLineUpdateInterval),e.updateCurrentTimeLine(),e.client.isPainted&&e.renderRanges()}updateCurrentTimeLine(){const e=this,t=e.currentTimeLine;t.startDate=new Date,t.originalData.name||(e.currentTimeLine.name=a.default.format(e.currentTimeLine.startDate,e.currentDateFormat)),e.onStoreChanged({action:"update",record:e.currentTimeLine,changes:{}})}hideCurrentTimeLine(){const e=this;e.currentTimeLine&&(e.clearInterval(e.currentTimeInterval),e.currentTimeLine=null,e.client.isPainted&&e.renderRanges())}renderRanges(){const e=this;super.renderRanges(),e.showCurrentTimeLine&&!e.disabled&&e.renderRange(e.currentTimeLine,!0)}get showCurrentTimeLine(){return this._showCurrentTimeLine}set showCurrentTimeLine(e){this._showCurrentTimeLine=e,e?this.initCurrentTimeLine():this.hideCurrentTimeLine()}populateHeaderMenu({column:e,items:t}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:t}){const n=this;t.currentTimeLine={weight:400,text:n.L("L{showCurrentTimeLine}"),checked:n.showCurrentTimeLine,onToggle:({checked:e})=>{n.showCurrentTimeLine=e}}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.client.isPainted&&this.renderRanges()}get store(){return this._store}set store(e){const t=this,n=t.client;e.storeId||(e.storeId="timeRanges"),super.store=e,n.timeRanges&&!n._timeRangesExposed&&(t._store.add(n.timeRanges),delete n.timeRanges),t.timeRanges&&(t._store.add(t.timeRanges),delete t.timeRanges)}}l._$name="TimeRanges",o.default.registerFeature(l,!1,["Scheduler","Gantt"])},"./lib/Scheduler/feature/base/DragBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/DragHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Scheduler/tooltip/ClockTemplate.js"),c=n("./lib/Core/widget/Tooltip.js"),d=n("./lib/Core/helper/EventHelper.js"),u=n("./lib/Core/helper/ObjectHelper.js"),h=n("./lib/Core/widget/Widget.js"),f=n("./lib/Core/helper/VersionHelper.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.default{static get defaultConfig(){return{tooltipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `,constrainDragToResource:!0,showTooltip:!0,showExactDropPosition:!1,constrainDragToTimeline:!0,store:null,dragHelperConfig:null,tooltipCls:null}}static get pluginConfig(){return{chain:["onPaint"]}}onPaint({firstPaint:e}){var t;const n=this,{client:r,constrainDragToTimeline:i,dragHelperConfig:o}=n,{timeAxisViewModel:s,isHorizontal:c}=r;null===(t=n.drag)||void 0===t||t.destroy(),n.drag=a.default.new({name:n.constructor.name,mode:"translateXY",[c?"lockY":"lockX"]:n.constrainDragToResource,[c?"lockX":"lockY"]:n.constrainDragToTimeSlot,minX:!0,maxX:!0,constrain:!1,cloneTarget:!i,dragWithin:i?null:document.body,hideOriginalElement:!0,outerElement:r.timeAxisSubGridElement,targetSelector:r.eventSelector,isElementDraggable:(e,t)=>!r.readOnly&&(!o||!o.isElementDraggable||o.isElementDraggable(e,t))&&n.isElementDraggable(e,t),scrollManager:i?r.scrollManager:null,transitionDuration:r.transitionDuration,snapCoordinates:({element:e,newX:t,newY:o})=>{if(i&&!n.constrainDragToTimeSlot&&(n.showExactDropPosition||s.snap)){const i=n.dragData,a=s.getDateFromPosition(n.getCoordinate(i.draggedEntities[0],e,[t,o]),"round"),l=a&&s.getPositionFromDate(a);a&&a>=r.startDate&&null!=l&&(c?t=l:o=l)}return{x:t,y:o}},listeners:{beforedragstart:"onBeforeDragStart",dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onDragAbort",reset:"onDragReset",thisObj:n}},o),e&&(r.rowManager.on({changeTotalHeight:"updateYConstraint",thisObj:n}),n.dragTipTemplate&&f.default.deprecate("Scheduler","5.0.0","Deprecated in favor of `tooltipTemplate`, will be removed in 5.0")),n.showTooltip&&(n.clockTemplate=new l.default({scheduler:r}))}doDestroy(){var e,t,n;null===(e=this.drag)||void 0===e||e.destroy(),null===(t=this.clockTemplate)||void 0===t||t.destroy(),null===(n=this.tip)||void 0===n||n.destroy(),super.doDestroy()}onBeforeDragStart({context:e,event:t}){const n=this,{client:r}=n,i=r.scheduledEventName,o=n.getMinimalDragData(e,t),a=null===o||void 0===o?void 0:o[i+"Record"];if(n.disabled||!a||!1===a.isDraggable)return!1;e.pointerStartDate=r.getDateFromXY([e.startClientX,e.startPageY],null,!1);const s=!1!==r.trigger(`before${i}Drag`,m(m({},o),{},{event:t,context:m(m({},e),o)}));return s&&n.updateYConstraint(a),s}set constrainDragToTimeSlot(e){const t=this.client.isHorizontal?"lockX":"lockY";this._constrainDragToTimeSlot=e,this.drag&&(this.drag[t]=e)}get constrainDragToTimeSlot(){return this._constrainDragToTimeSlot}set constrainDragToResource(e){const t=this.client.isHorizontal?"lockY":"lockX";this._constrainDragToResource=e,this.drag&&(this.drag[t]=e)}get constrainDragToResource(){return this._constrainDragToResource}onDragStart({context:e,event:t}){const n=this,{client:r}=n;n.currentOverClient=r,n.onMouseOverNewTimeline(r,!0);const i=n.dragData=n.getDragData(e,t);if(e.element.retainElement=!0,n.showTooltip){const t=i.context.dragProxy?i.context.dragProxy.firstChild:e.element;n.tip?n.tip.showBy(t):(n.tip=new c.default({id:r.id+"-event-drag-tip",align:"b-t",autoShow:!0,updateContentOnMouseMove:!0,clippedBy:n.constrainDragToTimeline?[r.timeAxisSubGridElement,r.bodyContainer]:null,forElement:t,getHtml:n.getTipHtml.bind(n),style:"pointer-events:none",cls:n.tooltipCls}),n.tip.on("innerhtmlupdate",n.updateDateIndicator,n))}n.triggerDragStart(i)}updateDateIndicator(){const{startDate:e,endDate:t}=this.dragData,{tip:n}=this,r=n.element.querySelector(".b-sch-tooltip-enddate");this.clockTemplate.updateDateIndicator(n.element,e),r&&this.clockTemplate.updateDateIndicator(r,t)}onDrag({context:e,event:t}){const n=this,r=n.dragData,i=r.startDate;let a;if(n.constrainDragToTimeline)a=n.client;else{let e=t.target;if(/^touch/.test(t.type)){const t=s.default.from(r.context.element,null,!0).center;e=o.default.elementFromPoint(t.x,t.y)}a=h.default.fromElement(e,"timelinebase")}const l=n.client.features.dependencies;if(!a)return void(l&&l.updateDependenciesForTimeSpan(r.draggedEntities[0],r.context.element));a!==n.currentOverClient&&n.onMouseOverNewTimeline(a),n.updateDragContext(e,t),n.triggerEventDrag(r,i);let c=n.checkDragValidity(r,t);c&&"boolean"!==typeof c&&(e.message=c.message||"",c=c.valid),e.valid=!1!==c,n.showTooltip&&n.tip.realign(),l&&l.updateDependenciesForTimeSpan(r.draggedEntities[0],r.context.element.querySelector(a.eventInnerSelector),r.newResource)}onMouseOverNewTimeline(e,t){const n=this;n.currentOverClient.element.classList.remove("b-dragging-"+n.currentOverClient.scheduledEventName),e.element.classList.add("b-dragging-"+e.scheduledEventName),t||n.currentOverClient.scrollManager.stopMonitoring(),e.scrollManager.startMonitoring({element:e.timeAxisSubGridElement}),n.currentOverClient=e}onDrop({context:e,event:t}){var n;const r=this,{currentOverClient:i,dragData:o}=r;let a=!1;r.updateDragContext(e,t),null===(n=r.tip)||void 0===n||n.hide(),e.valid&&o.startDate&&o.endDate&&(o.finalize=async(...t)=>{await r.finalize(...t),e.finalize(...t)},i.trigger(`before${i.capitalizedEventName}DropFinalize`,{context:o,event:t}),e.async=o.async,!e.async&&r.isValidDrop(o)&&(a=o.startDate-o.origStart!==0||o.newResource!==o.resourceRecord)),e.async||r.finalize(o.valid&&e.valid&&a)}onDragAbort({context:e}){var t;const n=this;n.client.currentOrientation.onDragAbort({context:e,dragData:n.dragData}),n.resumeElementRedrawing(n.dragData.record),null===(t=n.tip)||void 0===t||t.hide(),n.triggerDragAbort(n.dragData)}onDragReset({source:e}){var t;const n=this,r=n.currentOverClient;if(null===r||void 0===r||r.scrollManager.stopMonitoring(),e.context&&e.context.started){const{eventBarEls:e}=n.dragData;e[0].classList.remove("b-drag-main"),e.forEach(e=>e.classList.remove("b-dragging"))}null===r||void 0===r||r.element.classList.remove("b-dragging-"+n.currentOverClient.scheduledEventName),!1===(null===(t=n.dragData)||void 0===t?void 0:t.context.valid)&&null!==r&&void 0!==r&&r.features.dependencies&&(null===r||void 0===r||r.features.dependencies.scheduleDraw(!0)),n.dragData=null}onInternalInvalidDrop(){var e;null===(e=this.tip)||void 0===e||e.hide(),this.triggerAfterDrop(this.dragData,!1),this.drag.abort()}async finalize(e){const t=this,{dragData:n}=t,{context:r,draggedEntities:i}=n;let o;return i.forEach((e,r)=>{t.resumeElementRedrawing(e),n.eventBarEls[r].classList.remove(t.drag.draggingCls),n.eventBarEls[r].retainElement=!1}),e?(o=t.updateRecords(n),u.default.isPromise(o)&&(r.async=!0,await o),n.valid?(t.drag.reset(),t.triggerAfterDrop(n,!0)):t.onInternalInvalidDrop()):t.onInternalInvalidDrop(),o}updateDragContext(e,t){const n=this,{drag:r}=n,o=n.dragData,a=n.currentOverClient,{isHorizontal:s}=a,l=o.draggedEntities[0],c=l.isAssignment?l.event:l,d=n.constrainDragToTimeSlot||(s?r.lockX:r.lockY);if(o.browserEvent=t,d)o.timeDiff=0;else{if(a.timeAxis.isContinuous){const{dateConstraints:t}=o,{timeAxisSubGrid:r}=a,{scrollable:s}=r,l=s.viewport,d=a.isHorizontal?e.pageX-l.x+s.x:e.pageY-l.y+s.y,u=a.timeAxisViewModel.getDateFromPosition(d,null,!0),h=o.timeDiff=u-e.pointerStartDate;o.startDate=n.adjustStartDate(o.origStart,h),t&&(o.startDate=i.default.constrain(o.startDate,t.start,new Date(t.end-c.durationMS))),o.endDate=new Date(o.startDate-0+o.duration)}else{const t=n.resolveStartEndDates(e.element);o.valid=Boolean(t.startDate&&t.endDate),o.valid&&(o.startDate=t.startDate,o.endDate=t.endDate)}o.valid&&(o.timeDiff=o.startDate-o.origStart)}if(Object.assign(o,n.getProductDragContext(o)),o.valid)if(o.endDate<=a.timeAxis.startDate||o.startDate>=a.timeAxis.endDate)o.context.valid=!1,o.context.message=n.L("L{EventDrag.noDropOutsideTimeline}");else{const e=!t||n.checkDragValidity(o,t);e&&"boolean"!==typeof e?(o.context.valid=!1!==e.valid,o.context.message=e.message):(o.context.valid=!1!==e,o.context.message="")}else o.context.valid=!1}suspendElementRedrawing(e,t=!0){const n=this.getRecordElement(e);n&&(n.retainElement=t),e.instanceMeta(this.client).retainElement=t}resumeElementRedrawing(e){this.suspendElementRedrawing(e,!1)}getDragData(e,t){const n=this,{client:r,drag:i}=n,{record:a,dateConstraints:s,eventBarEls:l,draggedEntities:c}=n.setupProductDragData(e),u=a.isAssignment?a.event:a,h=u.startDate,f=u.endDate,g=r.timeAxis,m=h<g.startDate,p=f>g.endDate,v=n.getCoordinate(u,e.element,[e.elementStartX,e.elementStartY]),b=n.getCoordinate(u,e.element,[e.startClientX,e.startClientY]);c.forEach(e=>n.suspendElementRedrawing(e)),i.startEvent.ctrlKey&&(a.isAssignment?r.selectAssignment(a,!0):r.selectEvent(a,!0));const y={context:e,dateConstraints:s,eventBarEls:l,record:a,draggedEntities:c,sourceDate:m?h:r.getDateFromCoordinate(v),screenSourceDate:r.getDateFromCoordinate(b,null,!1),startDate:h,endDate:f,timeDiff:0,origStart:h,origEnd:f,startsOutsideView:m,endsOutsideView:p,duration:f-h,browserEvent:t};if(l.forEach(e=>{e.classList.add(i.draggingCls),e.classList.remove("b-sch-event-hover"),e.classList.remove("b-active")}),l.length>1)if(n.constrainDragToTimeline?e.relatedElements=l.slice(1):e.relatedElements=l.slice(1).map(e=>{const t=o.default.getOffsetX(e,i.dragWithin),n=o.default.getOffsetY(e,i.dragWithin),r=e.offsetWidth,a=e.offsetHeight,s=i.createProxy(e);return o.default.setTranslateXY(s,t,n),s.style.width=r+"px",s.style.height=a+"px",i.dragWithin.appendChild(s),e.classList.add("b-drag-original"),i.hideOriginalElement&&e.classList.add("b-hidden"),s}),e.relatedElStartPos=[],e.relatedElDragFromPos=[],n.unifiedDrag){n.client.isAnimating=!0,l.forEach(e=>{e.classList.add("b-drag-animation")}),d.default.onTransitionEnd({element:l[1],property:"transform",handler(){n.client.isAnimating=!1,l.forEach(e=>{e.classList.remove("b-drag-animation")})},thisObj:n.client,once:!0}),l[0].classList.add("b-drag-main");let[t,r]=o.default.getTranslateXY(e.element);e.relatedElements.forEach((n,i)=>{e.relatedElStartPos[i]=o.default.getTranslateXY(n),t+=10,r+=10,o.default.setTranslateXY(n,t,r),e.relatedElDragFromPos[i]=[t,r]})}else e.relatedElements.forEach((t,n)=>{e.relatedElStartPos[n]=e.relatedElDragFromPos[n]=o.default.getTranslateXY(t)});return y}setupConstraints(e,t,n,r){const i=this,o=!i.showExactDropPosition&&n>1?n:0;r?i.setXConstraint(e.left,e.right-t.width,o):i.setXConstraint(!0,!0,o),i.setYConstraint(e.top,e.bottom-t.height,0)}updateYConstraint(e){const t=this,{client:n}=t,{context:r}=t.drag,i=n.timeAxisViewModel.snapPixelAmount;if(r&&!t.drag.lockY){let o;if(!t.constrainDragToTimeline)return void t.setYConstraint(null,null,i);o=n.getScheduleRegion(null,e),t.setYConstraint(o.top,o.bottom-r.element.offsetHeight,i)}else t.setYConstraint(null,null,i)}setXConstraint(e,t,n){const{drag:r}=this;r.leftConstraint=e,r.rightConstraint=t,r.minX=e,r.maxX=t}setYConstraint(e,t,n){const{drag:r}=this;r.topConstraint=e,r.bottomConstraint=t,r.minY=e,r.maxY=t}adjustStartDate(e,t){return this.client.timeAxis.roundDate(new Date(e-0+t),!!this.client.snapRelativeToEventStartDate&&e)}resolveStartEndDates(e){const t=this.currentOverClient,{timeAxis:n}=t,r=s.default.from(e,t.timeAxisSubGridElement),o=this.dragData;let{start:a,end:l}=t.getStartEndDatesFromRectangle(r,"round",o.duration,!n.isContinuous);if(a&&l)if(a=this.adjustStartDate(a,0),o.startsOutsideView)o.endsOutsideView||(a=l&&i.default.add(l,-o.duration,"ms"));else{if(!t.timeAxis.dateInAxis(a,!1)){const e=t.timeAxis.getTickFromDate(a);e>=0&&(a=t.timeAxis.getDateFromTick(e))}l=a&&i.default.add(a,o.duration,"ms")}return{startDate:a,endDate:l}}getTipHtml(){const e=this,{dragData:t,client:n}=e,{startDate:r,endDate:i,draggedEntities:o}=t,a=n.getFormattedDate(r),s=n.getFormattedEndDate(i,r),{valid:l,message:c}=t.context,d=o[0],u=d.isTask?d:d.event;return(e.tooltipTemplate||e.dragTipTemplate)({valid:l,startDate:r,endDate:i,startText:a,endText:s,dragData:t,message:c||"",[n.scheduledEventName+"Record"]:u,startClockHtml:e.clockTemplate.template({date:r,text:a,cls:"b-sch-tooltip-startdate"}),endClockHtml:u.isMilestone?"":e.clockTemplate.template({date:i,text:s,cls:"b-sch-tooltip-enddate"})})}getElementFromContext(e){return e.grabbed||e.dragProxy||e.element}getRelatedRecords(e){return[]}getMinimalDragData(e,t){return{}}isValidDrop(e){throw new Error("Implement in subclass")}checkDragValidity(e){throw new Error("Implement in subclass")}updateRecords(e){throw new Error("Implement in subclass")}isElementDraggable(e,t){throw new Error("Implement in subclass")}getCoordinate(e,t,n){throw new Error("Implement in subclass")}setupProductDragData(e){throw new Error("Implement in subclass")}getProductDragContext(e){throw new Error("Implement in subclass")}getRecordElement(e){throw new Error("Implement in subclass")}}v._$name="DragBase"},"./lib/Scheduler/feature/base/DragCreateBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/helper/ResizeHelper.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Core/widget/Tooltip.js"),c=n("./lib/Scheduler/tooltip/ClockTemplate.js"),d=n("./lib/Core/helper/EventHelper.js"),u=n("./lib/Core/helper/ObjectHelper.js");class h extends r.default{static get defaultConfig(){return{showTooltip:!0,dragTolerance:2,preventMultiple:!1,validatorFn:()=>{},validatorFnThisObj:null,proxyCls:"b-sch-dragcreator-proxy",tipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `}}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove"],before:["onElementContextMenu"]}}doDestroy(){var e,t;null===(e=this.tip)||void 0===e||e.destroy(),null===(t=this.resize)||void 0===t||t.destroy(),super.doDestroy()}addProxy(e){const t=this,{client:n}=t,{barMargin:r}=n,i=n.currentOrientation.getRowRegion(e.rowRecord);let o,s,l,c;return n.isHorizontal?(l="currentX"in e?Math.min(e.startX,e.currentX+1):e.startX,c=i.y+r,o=e.width||t.dragTolerance,s=i.height-2*r):(l=i.x+r,c="currentY"in e?Math.min(e.startY,e.currentY+1):e.startY,o=i.width-2*r,s=e.height||t.dragTolerance),n.element.classList.add("b-dragcreating"),n.element.classList.add("b-dragcreating-proxy-sizing"),t.proxy=a.default.createElement({parent:n.foregroundCanvas,className:t.proxyCls,style:`transform:translate(${l}px, ${c}px);width:${o}px;height:${s}px`,retainElement:!0})}removeProxy(){const e=this;var t;e.proxy&&(e.proxy.remove(),e.resize.destroy(),e.proxy=e.resize=null,e.client.element.classList.remove("b-dragcreating"),e.client.element.classList.remove("b-dragcreating-proxy-sizing"),null===(t=e.tip)||void 0===t||t.hide())}initResizer(e,t){var n;const r=this,{client:o}=r;let a;a=o.isHorizontal?t.currentX>t.startX?"right":"left":t.currentY>t.startY?"bottom":"top",null===(n=r.resize)||void 0===n||n.destroy(),r.resize=new i.default({name:r.constructor.name,direction:o.isVertical?"vertical":"horizontal",isTouch:e.type.startsWith("touch"),dragThreshold:r.dragTolerance,grab:{element:r.proxy,edge:a,event:t.startEvent},allowEdgeSwitch:!0,outerElement:o.timeAxisSubGridElement,scrollManager:o.scrollManager,scroller:o.timeAxisSubGrid.scrollable,listeners:{resizing:"onResizing",resize:"onResize",cancel:"onCancel",thisObj:r}}),r.resize.context.resource=t.resource}initTooltip(){const e=this,{client:t}=e;e.showTooltip&&(e.tip?e.tip.showBy(e.getTooltipTarget()):(e.clockTemplate=new c.default({scheduler:t}),e.tip=new l.default({id:t.id+"-drag-create-tip",autoShow:!0,trackMouse:!1,updateContentOnMouseMove:!0,getHtml:e.getTipHtml.bind(e),align:t.isVertical?"t-b":"b100-t100",hideDelay:0,rootElement:e.rootElement,axisLock:!0}),e.tip.on("innerhtmlupdate",e.updateDateIndicator,e)))}updateDateIndicator(){const e=this,{startDate:t,endDate:n}=e.createContext,{tip:r}=e,i=r.element.querySelector(".b-sch-tooltip-enddate");t&&n&&(e.clockTemplate.updateDateIndicator(r.element,t),i&&e.clockTemplate.updateDateIndicator(i,n))}getTipHtml(){if(!this.resize.context)return;const e=this,{client:t}=e,{edge:n,newX:r,newY:i,elementStartX:a,elementStartY:s,elementWidth:l,elementHeight:c,newWidth:d,newHeight:u,valid:h,message:f}=e.resize.context;let g,m;if(t.isHorizontal){const e="left"===n?r:a,i=Math.min(Math.max(e+(d||l)-1,0),t.timeAxisViewModel.totalSize-1);g=t.getDateFromCoordinate(e,"round",!0),m=t.getDateFromCoordinate(i,"round",!0)}else{const e="top"===n?i:s,r=Math.min(Math.max(e+(u||c)-1,0),t.timeAxisViewModel.totalSize-1);g=t.getDateFromCoordinate(e,"round",!0),m=t.getDateFromCoordinate(r,"round",!0)}const p=o.default.min(g,m),v=o.default.max(g,m),b=p&&t.getFormattedDate(p),y=v&&m&&t.getFormattedEndDate(v,p);return e.tipTemplate({startDate:p,endDate:v,startClockHtml:e.clockTemplate.template({date:p,text:b,cls:"b-sch-tooltip-startdate"}),endClockHtml:e.clockTemplate.template({date:t.getDisplayEndDate(v,p),text:y,cls:"b-sch-tooltip-enddate"}),valid:h,startText:b,endText:y,message:f})}finalize(e){const t=this,n=()=>{t.proxy.retainElement=!1,t.reset()},r=()=>{t.client.trigger("afterDragCreate",{proxyElement:t.proxy}),n()};if(e){const e=t.finalizeDragCreate(t.createContext);u.default.isPromise(e)?e.then(r,n):r()}else r()}onElementMouseDown(e){const t=this,{client:n}=t;if(0===e.button&&e.target.matches(".b-sch-timeaxis-cell")&&!t.disabled&&!n.readOnly){const r=n.isVertical?n.resolveResourceRecord(e):n.getRecordFromElement(e.target);if(r.isSpecialRow)return;if(t.preventMultiple&&!t.isRowEmpty(r))return;t.monitorMove=!0,t.createContext={startEvent:e,startScreenX:e.screenX,startScreenY:e.screenY,startX:e.offsetX,startY:e.offsetY,cellElement:e.target,rowRecord:r},t.mouseUpDetacher=d.default.on({element:this.rootElement,mouseup:"onMouseUp",once:!0,thisObj:this})}}onElementMouseMove(e){const t=this;if(t.monitorMove){const{createContext:n,client:r}=t,i=r.isVertical?n.startScreenY-e.screenY:n.startScreenX-e.screenX;if(Math.abs(i)>t.dragTolerance){const i=r.getDateFromDomEvent(e),o=s.default.from(r.timeAxisSubGridElement,null,!0);if(!1===t.handleBeforeDragCreate(i,e))return void(t.monitorMove=!1);n.currentX=Math.max(e.clientX-o.x+r.timeAxisSubGrid.scrollable.x,0),n.currentY=Math.max(e.clientY-o.y+r.timeAxisSubGrid.scrollable.y,0),t.addProxy(t.createContext),t.initResizer(e,t.createContext),t.initTooltip(),t.monitorMove=!1,r.trigger("dragCreateStart",{proxyElement:t.proxy})}}t.proxy&&t.showTooltip&&t.resize.context&&t.tip.alignTo(t.getTooltipTarget())}getTooltipTarget(){const e=this,t=s.default.from(e.proxy,null,!0);return e.client.isVertical?("bottom"===e.resize.context.edge&&(t.y=t.bottom-1),t.height=e.tip.anchorSize[1]/2):("right"===e.resize.context.edge&&(t.x=t.right-1),t.width=e.tip.anchorSize[0]/2),{target:t}}onMouseUp(){this.client.element.classList.remove("b-dragcreating-proxy-sizing"),this.monitorMove=!1}onElementContextMenu(){if(this.proxy)return!1}onResizing({context:e,event:t}){const n=this,{client:r}=n,i="left"===e.edge?e.newX:e.elementStartX,a="top"===e.edge?e.newY:e.elementStartY,s=Math.min(i+Math.max((e.newWidth||e.elementWidth)-1,0),r.timeAxisViewModel.totalSize-1),l=Math.min(a+Math.max((e.newHeight||e.elementHeight)-1,0),r.timeAxisViewModel.totalSize-1),c=r.isVertical?a:i,d=r.isVertical?l:s,u=r.getDateFromCoordinate(c,"round",!0),h=r.getDateFromCoordinate(d,"round",!0),f=n.dateConstraints;let g=o.default.min(u,h),m=o.default.max(u,h);f&&(m=o.default.constrain(m,f.start,f.end),g=o.default.constrain(g,f.start,f.end)),Object.assign(n.createContext,{startDate:g,endDate:m}),e.valid=n.checkValidity(n.createContext,t),e.message="",e.valid&&"boolean"!==typeof e.valid&&(e.message=e.valid.message,e.valid=e.valid.valid),e.valid=!1!==e.valid}onResize({context:{valid:e},event:t}){const n=this,{startDate:r,endDate:i}=n.createContext;(!r||!i||i-r<=0)&&(e=!1),n.createContext=n.prepareCreateContextForFinalization(n.createContext,t,n.finalize.bind(n)),e&&n.client.trigger("beforeDragCreateFinalize",{context:n.createContext,event:t,proxyElement:n.proxy}),n.createContext&&(n.resize.context.async=n.createContext.async,n.createContext.async?n.resize.removeListeners():n.finalize(e))}prepareCreateContextForFinalization(e,t,n,r=!1){return Object.assign({},e,{async:r,event:t,finalize:n})}get dragging(){return this.resize}onCancel(){this.cancel()}cancel(){this.reset(),this.mouseUpDetacher&&this.mouseUpDetacher()}reset(){this.removeProxy(),this.createContext=null,this.monitorMove=!1}checkValidity(e,t){throw new Error("Implement in subclass")}triggerDragCreateEnd(e,t){throw new Error("Implement in subclass")}handleBeforeDragCreate(e,t){throw new Error("Implement in subclass")}isRowEmpty(e){throw new Error("Implement in subclass")}}h._$name="DragCreateBase"},"./lib/Scheduler/feature/base/EditBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/widget/DateField.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/VersionHelper.js"),l=n("./lib/Core/Config.js"),c=n("./lib/Core/helper/util/Objects.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=o.default,g=e=>{if(1===e.length)return e[0].value;if(2===e.length){const[t,n]=e[0]instanceof i.default?e:e.reverse(),r=f.parse(t.value);return r&&r.setHours(n.value.getHours(),n.value.getMinutes(),n.value.getSeconds(),n.value.getMilliseconds()),r?o.default.clone(r):null}return null},m=(e,t,n)=>{if(e&&t&&n.endDateField&&n.endTimeField){const e=f.add(((e,t)=>{const n=new Date(e.getTime());return n.setHours(t.getHours(),t.getMinutes()),n})(n.startDateField.value,n.startTimeField.value),n.eventRecord.durationMS,"milliseconds");n.endDateField.value=e,n.endTimeField.value=f.clone(e)}};class p extends r.default{static get configurable(){return{autoClose:!0,saveAndCloseOnEnter:!0,triggerEvent:null,showDeleteButton:!0,showNameField:!0,startTimeConfig:null,startDateConfig:null,endTimeConfig:null,endDateConfig:null,dateFormat:"L",timeFormat:"LT",editorConfig:null,extraItems:null,items:null,weekStartDay:null}}construct(e,t){e.eventEdit=this,super.construct(e,a.default.assign({weekStartDay:e.weekStartDay},t)),this.clientListenersDetacher=e.on({[this.triggerEvent]:"onActivateEditor",dragCreatEend:"onDragCreateEnd",eventAutoCreated:"onEventAutoCreated",thisObj:this})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}changeEditorConfig(e){const{items:t,extraItems:n}=this;return n?(e=c.default.clone(e),e=this.insertExtraWidgetsIntoDefaultWidgets(e)):t&&((e=c.default.clone(e)).items=l.default.merge(t,e.items)),e}insertExtraWidgetsIntoDefaultWidgets(e){s.default.deprecate("Scheduler","5.0.0","extraItems replaced by items in EditFeature.");const{extraItems:t}=this,{items:n}=e,r=Array.isArray(t)?t:t&&Object.values(t);if(!t||!Object.keys(r).length)return e;if(Object.values(r).some(e=>"index"in e)){const r=Array.isArray(t)?t:t&&a.default.transformNamedObjectToArray(t);s.default.deprecate("Scheduler","5.0.0","index in extraItems replaced by weight to sort editor items");let i,o=a.default.transformNamedObjectToArray(n),l=o[o.length-1],c=o.findIndex(e=>"extraItems"===e.type);c>-1&&(o.splice(c,1),i=o.splice(c));const d=r.filter(e=>e.index>=0),u=r.filter(e=>!(e.index>=0));u.forEach((e,t)=>e.weight=l.weight+100*t),o=o.concat(u),d.sort((e,t)=>e.index-t.index),d.forEach(e=>{const t=o[Math.min(e.index,o.length)-1];e.weight=t?t.weight+1:-100,o.splice(e.index,0,e)}),i&&i.length&&(o=o.concat(i)),e.items=a.default.transformArrayToNamedObject(o)}else{let r=900;for(const e of Array.isArray(t)?t:Object.values(t))e.ref||(e.ref=e.id),e.weight=r+=100;e.items=u(u({},n),Array.isArray(t)?a.default.transformArrayToNamedObject(t):t)}return e}onDatesChange(e){const t=this,n=e.source,r=e.value;switch(n.ref){case"startDateField":t.startTimeField&&m(r,t.startTimeField.value,t);break;case"startTimeField":t.startDateField&&m(t.startDateField.value,r,t)}var i,o;t.endTimeField&&(f.isEqual(f.clearTime(null===(i=t.startDateField)||void 0===i?void 0:i.value),f.clearTime(null===(o=t.endDateField)||void 0===o?void 0:o.value))?t.endTimeField.min=t.startTimeField.value:t.endTimeField.min=null)}async save(){throw new Error("Implement in subclass")}get isValid(){return Object.values(this.editor.widgetMap).every(e=>!(e.name&&!e.hidden)||!1!==e.isValid)}get values(){const e=this,{editor:t}=e,n=[],r=[],i={};return t.eachWidget(o=>{var a;const s=o.name;if(s&&!o.hidden&&!o.up(t=>t===e.recurrenceEditor))switch(s){case"startDate":n.push(o);break;case"endDate":r.push(o);break;case"resource":i[s]=o.record;break;case"recurrenceRule":i[s]="none"===(null===(a=t.widgetMap.recurrenceCombo)||void 0===a?void 0:a.value)?"":o.value;break;default:i[s]=o.value}},!0),i.allDay&&!e.eventRecord.allDay&&(n.push(e.startTimeField),r.push(e.endTimeField)),n.length&&(i.startDate=g(n)),r.length&&(i.endDate=g(r)),"startDate"in i&&"endDate"in i&&(i.duration=f.diff(i.startDate,i.endDate,e.editor.record.durationUnit,!0)),i}onBeforeSave(e){}onAfterSave(e){}updateRecord(e){const{values:t}=this;return this.assignmentStore&&delete t.resource,e.set(t)}resetEditingContext(){var e;this.targetEventElement=null,this.client.element.classList.remove("b-eventeditor-editing"),null===(e=this.phantomEventElement)||void 0===e||e.remove(),this.phantomEventElement=null}onPopupKeyDown({event:e}){!this.readOnly&&"Enter"===e.key&&this.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()&&(e.preventDefault(),"startDate"===e.target.name&&m(this.startDateField.value,this.startTimeField.value,this),this.onSaveClick())}async onSaveClick(){this.editor.focus();const e=await this.save();return e&&this.editor.close(),e}async onDeleteClick(){await this.deleteEvent()&&(this.editor.autoClose&&!this.editor.containsFocus||this.editor.close())}onCancelClick(){this.editor.close()}}p._$name="EditBase"},"./lib/Scheduler/feature/base/ResizeBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/widget/Tooltip.js"),l=n("./lib/Scheduler/tooltip/ClockTemplate.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={top:"b-t",right:"b100-t100",bottom:"t-b",left:"b0-t0"};class f extends r.default{static get defaultConfig(){return{showTooltip:!0,showExactResizePosition:!1,validatorFn:()=>{},validatorFnThisObj:null,tip:null,tooltipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `}}static get pluginConfig(){return{chain:["render"]}}render(){var e,t;const n=this;null===(e=n.resize)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),n.disabled||(n.resize=n.createResizeHelper()),n.showTooltip&&(n.clockTemplate=new l.default({scheduler:n.client}))}doDisable(e){var t;this.isConfiguring||(e?(null===(t=this.resize)||void 0===t||t.destroy(),this.resize=null):this.resize=this.createResizeHelper()),super.doDisable()}doDestroy(){var e,t,n,r;null===(e=this.tip)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e),null===(n=this.clockTemplate)||void 0===n||n.destroy(),null===(r=this.resize)||void 0===r||r.destroy(),super.doDestroy()}isElementResizable(e,t){const{client:n,resize:r}=this,i=n.resolveTimeSpanRecord(e);if(n.readOnly)return!1;let a=i&&i.isResizable;const s=(e=o.default.up(t.target,n.eventSelector))?e.firstElementChild:e,l=t.target.closest('[class$="-handle"]');if(!a||l&&l!==s)return!1;const c=e.classList.contains("b-sch-event-startsoutside"),d=e.classList.contains("b-sch-event-endsoutside");if(!0===a){if(c&&d)return!1;if(c)a="end";else{if(!d)return r.overStartHandle(t,e)||r.overEndHandle(t,e);a="start"}}return!(c&&"start"===a||d&&"end"===a)&&!!(r.overStartHandle(t,e)&&"start"===a||r.overEndHandle(t,e)&&"end"===a)}onBeforeResizeStart({element:e,event:t}){const{client:n}=this,r=n.scheduledEventName,i=n.resolveTimeSpanRecord(e);return!this.disabled&&!1!==n.trigger(`before${n.capitalizedEventName}Resize`,d({[r+"Record"]:i,event:t},this.getBeforeResizeParams({element:e})))}onResizeStart({context:e,event:t}){var n;const r=this,{client:i}=r,{element:o}=e,a=i.resolveTimeSpanRecord(o),l=i.scheduledEventName;i.element.classList.add("b-resizing-event"),r.setupProductResizeContext(e,t),r.showTooltip&&(r.tip instanceof s.default?(r.tip.rootElement=r.rootElement,r.tip.align=h[e.edge],r.tip.updateContentOnMouseMove=!0,r.tip.show(),r.tip.showBy(r.getTooltipTarget())):(r.tip=s.default.new({id:i.id+"-event-resize-tip",autoShow:!0,axisLock:!0,trackMouse:!1,updateContentOnMouseMove:!0,getHtml:r.getTipHtml.bind(r),align:h[e.edge],rootElement:r.rootElement,hideDelay:0,cls:"b-resize-tooltip"},r.tip),r.tip.on("innerhtmlupdate",r.updateDateIndicator,r))),a.instanceMeta(i).retainElement=!0,i.trigger(l+"ResizeStart",d({[l+"Record"]:a,event:t},this.getResizeStartParams(e))),e.resizedRecord=(null===(n=i.resolveAssignmentRecord)||void 0===n?void 0:n.call(i,e.element))||a,e.timespanRecord=a}updateDateIndicator(){const{edge:e,startDate:t,endDate:n}=this.resize.context,{element:r}=this.tip;if(t||n)if("right"===e||"bottom"===e){const e=r.querySelector(".b-sch-tooltip-enddate");e&&this.clockTemplate.updateDateIndicator(e,n)}else this.clockTemplate.updateDateIndicator(r,t)}getTooltipTarget(){const e=this,t=a.default.from(e.resize.context.element,null,!0);return"horizontal"===e.resize.direction?("right"===e.resize.context.edge&&(t.x=t.right-1),t.width=e.tip.anchorSize[0]/2):("bottom"===e.resize.context.edge&&(t.y=t.bottom-1),t.height=e.tip.anchorSize[1]/2),{target:t}}onResizing({context:e,event:t}){const n=this,{client:r}=n,a=r.features.dependencies,s=n.getTimespanRecord(e),l=r.scheduledEventName,{element:c,edge:d}=e,u=o.default.getTranslateXY(c);let h,f;if("top"===d||"left"===d?(f=s.endDate,r.snapRelativeToEventStartDate?(h=r.getDateFromXY(u,null,!0),h=r.timeAxis.roundDate(h,s.startDate)):h=r.getDateFromXY(u,"round",!0)):(u[0]+=c.offsetWidth,u[1]+=c.offsetHeight,h=s&&s.startDate,r.snapRelativeToEventStartDate?(f=r.getDateFromXY(u,null,!0),f=r.timeAxis.roundDate(f,s.endDate)):f=r.getDateFromXY(u,"round",!0)),h=h||e.startDate,f=f||e.endDate,e.dateConstraints&&(h=i.default.constrain(h,e.dateConstraints.start,e.dateConstraints.end),f=i.default.constrain(f,e.dateConstraints.start,e.dateConstraints.end)),n.showExactResizePosition||r.timeAxisViewModel.snap){const t="top"===d||"left"===d?r.timeAxisViewModel.getDistanceBetweenDates(h,s.endDate):r.timeAxisViewModel.getDistanceBetweenDates(s.startDate,f);switch(d){case"top":o.default.setTranslateY(c,e.elementStartY+e.elementWidth-t),c.style.height=t+"px";break;case"right":c.style.width=t+"px";break;case"bottom":c.style.height=t+"px";break;case"left":o.default.setTranslateX(c,e.elementStartX+e.elementWidth-t),c.style.width=t+"px"}}const g=e.endDate-f!==0||e.startDate-h!==0;e.endDate=f,e.startDate=h,g&&(e.valid=n.checkValidity(e,t)),r.trigger(l+"PartialResize",{[l+"Record"]:s,startDate:h,endDate:f,element:c,context:e}),a&&!a.isDisabled&&a.updateDependenciesForTimeSpan(e.resizedRecord,c),n.showTooltip&&n.tip.alignTo(n.getTooltipTarget())}checkValidity(e,t){let n=e.startDate&&e.endDate>e.startDate&&this.validatorFn.call(this.validatorFnThisObj||this,e,t);return n&&"boolean"!==typeof n&&(e.message=n.message||"",n=n.valid),!1!==n}onFinishResize({source:e,context:t,event:n}){const r=this,i=r.getTimespanRecord(t),o=i.startDate,a=i.endDate,s=t.startDate||o,l=t.endDate||a,c=r.client;let d=!1;r.tip&&r.tip.hide(),i.instanceMeta(c).retainElement=!1,t.oldFinalize=t.finalize,t.finalize=(...e)=>{t.async&&r.finalize(...e)},t.valid=s&&l&&l-s>0&&(s-o!==0||l-a!==0)&&!1!==t.valid,t.valid&&(c.trigger(`before${c.scheduledEventName}ResizeFinalize`,{context:t,event:n}),d=!0),t.async||r.finalize(d)}onCancelResize({context:e}){const t=this.getTimespanRecord(e);t&&(t.instanceMeta(this.client).retainElement=!1),this.finalize(!1)}async finalize(e){const t=this,{client:n}=t,{context:r}=t.resize,i=t.getTimespanRecord(r),o=n.scheduledEventName;let a=!1;if(t.tip&&t.tip.hide(),r.started)if(e&&(a=await t.internalUpdateRecord(r,i)),e&&a)r.oldFinalize();else{var s;const e=n.features.dependencies;t.resize.abortResize(null,!0),null===e||void 0===e||null===(s=e.scheduleDraw)||void 0===s||s.call(e,!0)}n.element.classList.remove("b-resizing-event"),n.trigger(o+"ResizeEnd",d({changed:a,[o+"Record"]:i},t.getResizeEndParams(r)))}getTipHtml({tip:e}){const t=this;let{startDate:n,endDate:r,valid:i,message:o,timespanRecord:a}=t.resize.context;if(!n||!r)return e.html;void 0===o&&(o=""),r=t.client.getDisplayEndDate(r,n);const s=t.client.getFormattedDate(n),l=t.client.getFormattedDate(r);return t.tooltipTemplate({record:a,valid:i,startDate:n,endDate:r,startText:s,endText:l,message:o,startClockHtml:t.clockTemplate.template({date:n,text:s,cls:"b-sch-tooltip-startdate"}),endClockHtml:t.clockTemplate.template({date:r,text:l,cls:"b-sch-tooltip-enddate"})})}getBeforeResizeParams(e){return{}}getResizeStartParams(e){return{}}getResizeEndParams(e){return{}}getRowRecord(e){throw new Error("Implement in subclass")}getTimespanRecord(e){throw new Error("Implement in subclass")}setupProductResizeContext(e,t){throw new Error("Implement in subclass")}get store(){throw new Error("Implement in subclass")}}f._$name="ResizeBase"},"./lib/Scheduler/feature/base/ResourceTimeRangesBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js");class o extends(r.default.mixin(i.default)){static get pluginConfig(){return{chain:["getEventsToRender","onEventDataGenerated","noFeatureElementsInAxis"]}}noFeatureElementsInAxis(){const{timeAxis:e}=this.scheduler;return this.store&&!this.store.storage.values.some(t=>e.isTimeSpanInAxis(t))}construct(e,t){this.scheduler=e,super.construct(e,t)}doDisable(e){this.client.isPainted&&this.client.refresh(),super.doDisable(e)}getEventsToRender(e,t){throw new Error("Implement in subclass")}onEventDataGenerated(e){const t=this,{eventRecord:n,iconCls:r}=e;t.shouldInclude(n)&&(t.scheduler.isVertical?e.width=t.scheduler.resourceColumnWidth:e.top=0,e.fillSize=!0,e.wrapperCls[t.rangeCls]=1,e.wrapperCls["b-sch-color-"+n.timeRangeColor]=n.timeRangeColor,e.children.push(n.name),r&&e.children.unshift({tag:"i",className:r}),e.eventId=t.generateElementId(n))}generateElementId(e){return`${this.idPrefix}-${e.id}`}shouldInclude(e){throw new Error("Implement in subclass")}onStoreChange(e){this.scheduler.onInternalEventStoreChange(e)}}o.featureClass="",o._$name="ResourceTimeRangesBase"},"./lib/Scheduler/feature/base/TimeSpanMenuBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/base/ContextMenuBase.js"),i=n("./lib/Core/helper/util/Objects.js");class o extends r.default{changeMenu(e,t){return e&&(e=i.default.assign({},{clippedBy:[this.client.timeAxisSubGridElement,this.client.bodyContainer]},e)),super.changeMenu(e,t)}}o._$name="TimeSpanMenuBase"},"./lib/Scheduler/feature/base/TimeSpanRecordContextMenuBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/helper/WidgetHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Core/helper/StringHelper.js"),l=n("./lib/Core/helper/util/Rectangle.js"),c=n("./lib/Core/helper/VersionHelper.js");class d extends r.default{static get defaultConfig(){return{defaultItems:null,items:null,processItems:null,triggerEvent:null}}static get pluginConfig(){return{assign:["showEventContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onEventSpaceKey"]}}construct(e,t){super.construct(e,t),c.default.deprecate("Scheduler","5.0.0","`TimeSpanRecordContextMenuBase` feature is deprecated, in favor of `TimeSpanMenuBase` feature. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information.")}doDestroy(){this.menu&&this.menu.destroy(),super.doDestroy()}onElementContextMenu(e){"contextmenu"===this.triggerEvent&&this.showEventContextMenu(e)}onElementClick(e){"click"===this.triggerEvent&&this.showEventContextMenu(e)}onElementDblClick(e){"dblclick"===this.triggerEvent&&this.showEventContextMenu(e)}onEventSpaceKey(e){const t=l.default.from(e.target).center,n=new MouseEvent("contextmenu",Object.assign({clientX:t.x,clientY:t.y},e));Object.defineProperty(n,"target",{get:()=>e.target}),this.showEventContextMenu(n)}showEventContextMenu(e){const t=this,n=t.client,r=e.target,i=o.default.up(r,n.eventSelector),a=i||r;if(a){const n=t.resolveRecord(a);n&&(e.preventDefault(),t.showContextMenuFor(n,{targetElement:a,eventElement:i,event:e}))}}resolveRecord(){}showContextMenuFor(e,t){}beforeContextMenuShow(){}showContextMenu(e){if(this.disabled)return;const t=this,n=e.event,r=e.menuType.toLowerCase(),o=s.default.uncapitalize(r),c=`get${s.default.capitalize(r)}MenuItems`,{client:d,processItems:u,defaultItems:h,namedItems:f}=t,g=n?[n.clientX+1,n.clientY+1]:l.default.from(e.targetElement).center,m=e.items=a.default.isEmpty(t.items)?a.default.clone(h):a.default.merge(a.default.clone(h),t.items);e.namedItems=f,e.selection=d.selectedRecords,function e(t,n){for(const r in t){let i=t[r];if(i){r in n&&(i=t[r]="object"===typeof i?a.default.merge(a.default.clone(n[r]),i):n[r]);const o=i.menu;o&&e("items"in o?o.items:o,n)}}}(m,f),d[c]&&d[c](e,m),u&&!1===u(e)||a.default.isEmpty(e.items)||!1!==t.beforeContextMenuShow(e)&&!1!==d.trigger(o+"ContextMenuBeforeShow",e)&&(t.menu=i.default.showContextMenu(g,{owner:d,scrollAction:"hide",clippedBy:[d.timeAxisSubGridElement,d.bodyContainer],constrainTo:window,items:m,onDestroy(){t.menu=null},onBeforeItem:t=>{Object.assign(t,e)},onItem:e=>d.trigger(o+"ContextMenuItem",e),listeners:{show({source:t}){e.menu=t,d.trigger(o+"ContextMenuShow",e)}}}))}hideContextMenu(e){this.menu&&this.menu.hide(e)}set defaultItems(e){this._defaultItems=e}get defaultItems(){const e=a.default.clone(this._defaultItems);if(this.client.readOnly)for(const t in e)e[t]=!1;return e}get triggerEvent(){return this._triggerEvent||this.client.contextMenuTriggerEvent}set triggerEvent(e){this._triggerEvent=e}}d._$name="TimeSpanRecordContextMenuBase"},"./lib/Scheduler/feature/base/TooltipBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Core/widget/Tooltip.js"),o=n("./lib/Scheduler/tooltip/ClockTemplate.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.default{static get defaultConfig(){return{autoUpdate:!1,hoverDelay:250,hideDelay:100,template:null,cls:null,align:{align:"b-t"},clockTemplate:null,monitorRecordUpdate:null,testConfig:{hoverDelay:0}}}static get pluginConfig(){return{chain:["onPaint"]}}construct(e,t){const n=this;t=n.processConfig(t),super.construct(e,t),n.forSelector||(n.forSelector=e.eventInnerSelector+":not(.b-dragproxy)"),n.clockTemplate=new o.default({scheduler:e}),e.on({[`before${e.scheduledEventName}drag`]:()=>{var e;return null===(e=n.tooltip)||void 0===e?void 0:e.hide()}})}processConfig(e){return"function"===typeof e?{template:e}:e}setConfig(e){super.setConfig(this.processConfig(e))}doDestroy(){var e,t;null===(e=this.clockTemplate)||void 0===e||e.destroy(),null===(t=this.tooltip)||void 0===t||t.destroy(),super.doDestroy()}doDisable(e){this.tooltip&&(this.tooltip.disabled=e),super.doDisable(e)}onPaint({firstPaint:e}){if(e){var t;const e=this,{client:n}=e,r=[".b-dragselecting",".b-eventeditor-editing",".b-taskeditor-editing",".b-resizing-event",".b-dragcreating",".b-dragging-"+n.scheduledEventName,".b-creating-dependency",".b-dragproxy"].map(e=>`:not(${e})`).join("");null===(t=e.tooltip)||void 0===t||t.destroy(),e.tooltip=new i.default(s(s({axisLock:"flexible",id:e.tipId||e.client.id+"-event-tip",cls:e.tipCls,forSelector:`.b-timelinebase${r} .b-grid-body-container:not(.b-scrolling) ${e.forSelector}`,scrollAction:"realign",clippedBy:[n.timeAxisSubGridElement,n.bodyContainer],forElement:n.timeAxisSubGridElement,showOnHover:!0,anchorToTarget:!0,allowOver:Boolean(e.config.items||e.config.tools),getHtml:e.getTipHtml.bind(e),disabled:e.disabled},e.config),{},{listeners:e.configuredListeners})),e.tooltip.on({innerhtmlupdate:"updateDateIndicator",overtarget:"onOverNewTarget",show:"onTipShow",hide:"onTipHide",thisObj:e})}}processConfiguredListeners(){}updateDateIndicator(){const e=this,t=e.tooltip,n=t.element.querySelector(".b-sch-tooltip-enddate");e.record&&(e.clockTemplate.updateDateIndicator(t.element,e.record.startDate),n&&e.clockTemplate.updateDateIndicator(n,e.record.endDate))}resolveTimeSpanRecord(e){return this.client.resolveTimeSpanRecord(e)}getTipHtml({tip:e,activeTarget:t}){const n=this,{client:r}=n,i=n.recordType||r.scheduledEventName+"Record",o=n.resolveTimeSpanRecord(t);if((null===o||void 0===o?void 0:o.startDate)instanceof Date){const{startDate:t,endDate:a}=o,s=r.getFormattedDate(t),l=r.getDisplayEndDate(a,t),c=r.getFormattedDate(l);return e.eventRecord=o,n.template({tip:e,[""+i]:o,startDate:t,endDate:a,startText:s,endText:c,startClockHtml:n.clockTemplate.template({date:t,text:s,cls:"b-sch-tooltip-startdate"}),endClockHtml:o.isMilestone?"":n.clockTemplate.template({date:l,text:c,cls:"b-sch-tooltip-enddate"})})}return e.hide(),""}get record(){return this.tooltip.eventRecord}onTipShow(){const e=this;e.monitorRecordUpdate&&!e.updateListener&&(e.updateListener=e.client.eventStore.on({update:e.onRecordUpdate,thisObj:e}))}onTipHide(){var e;this.tooltip.eventRecord=null,null===(e=this.updateListener)||void 0===e||e.call(this),this.updateListener=null}onOverNewTarget(){this.tooltip.eventRecord=null}onRecordUpdate({record:e}){e===this.record&&(this.tooltip.alignTo(),this.tooltip.updateContent())}}c._$name="TooltipBase"},"./lib/Scheduler/feature/experimental/ExcelExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Grid/feature/experimental/ExcelExporter.js"),o=n("./lib/Scheduler/util/ScheduleTableExporter.js");class a extends i.default{static get $name(){return"ExcelExporter"}static get defaultConfig(){return{exporterClass:o.default,exporterConfig:null}}}a._$name="ExcelExporter",r.default.registerFeature(a,!1,"Scheduler")},"./lib/Scheduler/feature/export/PdfExport.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Grid/feature/export/PdfExport.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Scheduler/view/export/SchedulerExportDialog.js"),a=n("./lib/Scheduler/feature/export/exporter/SinglePageExporter.js"),s=n("./lib/Scheduler/feature/export/exporter/MultiPageExporter.js"),l=n("./lib/Scheduler/feature/export/exporter/MultiPageVerticalExporter.js"),c=n("./lib/Core/helper/ObjectHelper.js");class d extends r.default{static get $name(){return"PdfExport"}static get defaultConfig(){return{exporters:[a.default,s.default,l.default],scheduleRange:"completeview",rangeStart:null,rangeEnd:null}}get defaultExportDialogConfig(){return c.default.copyProperties(super.defaultExportDialogConfig,this,["scheduleRange"])}showExportDialog(){const e=this;return e.exportDialog||(e.exportDialog=o.default.new({rootElement:e.rootElement,listeners:{export:e.onExportDialogExport,thisObj:e}},e.defaultExportDialogConfig)),e.exportDialog.show()}buildExportConfig(e){e=super.buildExportConfig(e);const{scheduleRange:t,rangeStart:n,rangeEnd:r}=this;return e.columns&&!e.columns.find(e=>"timeAxis"===e.type)&&e.columns.push(e.client.timeAxisColumn.id),c.default.assign({scheduleRange:t,rangeStart:n,rangeEnd:r},e)}}d._$name="PdfExport",i.default.registerFeature(d,!1,"Scheduler")},"./lib/Scheduler/feature/export/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleRange",(function(){return r}));const r={completeview:"completeview",currentview:"currentview",daterange:"daterange"}},"./lib/Scheduler/feature/export/exporter/MultiPageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/exporter/MultiPageExporter.js"),i=n("./lib/Scheduler/feature/export/exporter/SchedulerExporterMixin.js");class o extends(Object(i.default)(r.default)){static get $name(){return"MultiPageExporter"}async stateNextPage(e){await super.stateNextPage(e),this.exportMeta.eventsBoxes.clear()}positionRows(e){const t=[],n=[];return e.forEach(([e,r,i,o])=>{t.push(e),o&&Array.from(o.entries()).forEach(([e,[t,r]])=>{n.push(t),this.exportMeta.eventsBoxes.set(String(e),r)})}),{resources:t,events:n}}}o._$name="MultiPageExporter"},"./lib/Scheduler/feature/export/exporter/MultiPageVerticalExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/feature/export/exporter/MultiPageVerticalExporter.js"),i=n("./lib/Scheduler/feature/export/exporter/SchedulerExporterMixin.js"),o=n("./lib/Scheduler/feature/export/Utils.js");class a extends(Object(i.default)(r.default)){static get $name(){return"MultiPageVerticalExporter"}async stateNextPage(e){await super.stateNextPage(e),this.exportMeta.eventsBoxes.clear()}async prepareComponent(e){await super.prepareComponent(e),e.scheduleRange!==o.ScheduleRange.completeview&&this.estimateTotalPages(e)}positionRows(e){const t=[],n=[];return e.forEach(([e,r,i,o])=>{t.push(e),o&&Array.from(o.entries()).forEach(([e,[t,r]])=>{n.push(t),this.exportMeta.eventsBoxes.set(String(e),r)})}),{resources:t,events:n}}}a._$name="MultiPageVerticalExporter"},"./lib/Scheduler/feature/export/exporter/SchedulerExporterMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/BrowserHelper.js"),s=n("./lib/Scheduler/feature/export/Utils.js");const l=Promise.resolve();t.default=e=>class extends e{async scrollRowIntoView(e,t){const{rowManager:n,scrollable:r}=e,i=r.y;return t<e.store.count&&(r.scrollTo(null,n.calculateTop(t)),r.y!==i)?new Promise(r=>{const i=e.on({scroll({scrollTop:e}){null!=e&&n.getRow(t)&&(i(),r())}})}):l}async scrollToDate(e,t){let n=!1;const r=[],i=e.timeAxisSubGrid.scrollable.on({scrollStart({x:e}){null!=e&&(n=!0)}});r.push(e.scrollToDate(t,{block:"start"})),i(),n&&(r.push(e.timeView.await("refresh",{checkLog:!1})),r.push(e.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1}))),await Promise.all(r)}async prepareComponent(e){const t=this,{client:n}=e,{currentOrientation:i}=n,a=n.timeAxisSubGrid.width>0;switch(e.scheduleRange){case s.ScheduleRange.completeview:e.rangeStart=n.startDate,e.rangeEnd=n.endDate;break;case s.ScheduleRange.currentview:const{startDate:t,endDate:r}=n.visibleDateRange;e.rangeStart=t,e.rangeEnd=r}await n.waitForTransition(),a&&(n.setTimeSpan(e.rangeStart,e.rangeEnd),n.svgCanvas),t._oldEnableEventAnimations=n.enableEventAnimations,n.enableEventAnimations=!1,i.isHorizontalRendering&&(t._oldScrollBuffer=i.scrollBuffer,t._oldVerticalBuffer=i.verticalBufferSize,i.scrollBuffer=100,i.verticalBufferSize=-1),n.ignoreViewBox=!0,await super.prepareComponent(e);const{exportMeta:l,element:c}=t,d=c.querySelector(".b-sch-foreground-canvas"),u=c.querySelector(".b-horizontaltimeaxis");if(l.includeTimeline=a,a&&e.scheduleRange!==s.ScheduleRange.completeview){l.totalWidth-=l.subGrids.normal.width,l.totalWidth+=l.subGrids.normal.width=n.timeAxisViewModel.getDistanceBetweenDates(e.rangeStart,e.rangeEnd);const t=Math.ceil(l.totalWidth/l.pageWidth),r=t*l.verticalPages;l.horizontalPages=t,l.totalPages=r,l.subGrids.normal.scrollLeft=n.getCoordinateFromDate(e.rangeStart)}if(l.timeAxisHeaders=[],l.timeAxisPlaceholders=[],l.headersColleted=!1,o.default.forEachSelector(u,".b-sch-header-row",e=>{l.timeAxisPlaceholders.push(t.createPlaceholder(e)),l.timeAxisHeaders.push(new Map)}),l.subGrids.normal.eventsPlaceholder=t.createPlaceholder(d,!1),o.default.removeEachSelector(d,".b-sch-event-wrap,.b-sch-resourcetimerange"),o.default.removeEachSelector(t.element,".b-released"),l.eventsBoxes=new Map,l.client=n,n.features.columnLines&&!n.features.columnLines.disabled){const e=c.querySelector(".b-column-lines-canvas");l.columnLinesPlaceholder=t.createPlaceholder(e),l.columnLines={lines:new Map,majorLines:new Map}}if(n.features.dependencies&&!n.features.dependencies.disabled){const e=c.querySelector(`[id="${n.svgCanvas.getAttribute("id")}"]`);(l.dependenciesPlaceholder=e)&&o.default.removeEachSelector(e,".b-sch-dependency")}a&&!r.default.betweenLesser(e.rangeStart,n.startDate,n.endDate)&&await t.scrollToDate(n,e.rangeStart)}async restoreState(e){let t=!1;const{client:n}=e,r=[],i=n.timeAxisSubGrid.scrollable.on({scrollStart({x:e}){this.element.scrollLeft!==e&&(t=!0)}});r.push(super.restoreState(e)),i(),t&&r.push(n.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1})),await Promise.all(r)}async restoreComponent(e){const{client:t}=e,{currentOrientation:n}=t;t.ignoreViewBox=!1,t.enableEventAnimations=this._oldEnableEventAnimations,n.isHorizontalRendering&&(n.scrollBuffer=this._oldScrollBuffer,n.verticalBufferSize=this._oldVerticalBuffer),await super.restoreComponent(e)}async onRowsCollected(e,t){const n=this;if(await super.onRowsCollected(e),n.exportMeta.includeTimeline){const{client:i}=t,{timeView:o}=i,{pageRangeStart:a,pageRangeEnd:s}=n.getCurrentPageDateRange(t);if(a){let l=!1;for(await n.scrollToDate(i,a);!l;)if(n.collectLines(t),n.collectHeaders(t),n.collectEvents(e,t),r.default.timeSpanContains(o.startDate,o.endDate,a,s))l=!0;else if(o.endDate.getTime()>=s.getTime())l=!0;else{const e=o.endDate;if(await n.scrollToDate(i,o.endDate),e.getTime()===o.endDate.getTime())throw new Error("Could not scroll to date")}}await n.scrollToDate(i,t.rangeStart)}}getCurrentPageDateRange({rangeStart:e,rangeEnd:t,client:n}){const{exportMeta:r}=this,{horizontalPages:i,horizontalPosition:o,pageWidth:a,subGrids:s}=r;let l,c;if(i>1){const e=o*a,r=(o+1)*a,i=s.locked.width+s.locked.splitterWidth;r<=i?c=l=null:(l=n.getDateFromCoordinate(Math.max(e-i,0)),c=n.getDateFromCoordinate(1.2*(r-i))||t)}else l=e,c=t;return{pageRangeStart:l,pageRangeEnd:c}}prepareExportElement(){const{element:e,exportMeta:t}=this,{id:n,headerId:r,footerId:i,scrollLeft:o}=t.subGrids.normal,a=e.querySelector(`[id="${n}"]`);return[".b-sch-background-canvas",".b-sch-foreground-canvas"].forEach(e=>{const n=a.querySelector(e);n&&(t.lastExportedRowBottom?n.style.height=t.lastExportedRowBottom+"px":n.style.height="",o&&(n.style.marginLeft=`-${o}px`))}),o&&[r,i].forEach(t=>{const n=e.querySelector(`[id="${t}"] .b-widget-scroller`);n&&(n.style.marginLeft=`-${o}px`)}),super.prepareExportElement()}collectRow(e){const{subGrids:t}=this.exportMeta;Object.entries(e.elements).forEach(([n,r])=>{const i=[r.outerHTML,e.top,e.offsetHeight];"normal"===n&&i.push(new Map),t[n].rows.push(i)})}collectHeaders(e){const{client:t}=e,{exportMeta:n}=this;if(!n.headersCollected){const e=t.timeView.element,r=n.timeAxisHeaders;o.default.forEachSelector(e,".b-sch-header-row",(e,i,a)=>{const s=r[i];o.default.forEachSelector(e,".b-sch-header-timeaxis-cell",e=>{s.has(e.dataset.tickIndex)||s.set(e.dataset.tickIndex,e.outerHTML)}),i===a.length-1&&s.has(String(t.timeAxis.count-1))&&(n.headersCollected=!0)})}}collectLines(e){const{client:t}=e,{exportMeta:n}=this,{columnLines:r}=n;if(!n.headersCollected&&r){const e=t.backgroundCanvas;o.default.forEachSelector(e,".b-column-line, .b-column-line-major",e=>{if(e.classList.contains("b-column-line")){const t=Number(e.dataset.line.replace(/line-/,""));r.lines.set(t,e.outerHTML)}else{const t=Number(e.dataset.line.replace(/major-/,""));r.majorLines.set(t,e.outerHTML)}})}}collectEvents(e,t){const n=e.length,{client:r}=t,o=this.exportMeta.subGrids.normal.rows;e.forEach((e,t)=>{var a,s;const l=o[o.length-n+t],c=r.store.getAt(e.dataIndex),d=l[3];null===(a=c.events)||void 0===a||a.forEach(e=>{if(e.isScheduled){let t=r.getElementFromEventRecord(e,c);t&&(t=t.parentElement)&&!d.has(e.id)&&d.set(e.id,[t.outerHTML,i.default.from(t,t.offsetParent)])}}),null===(s=c.timeRanges)||void 0===s||s.forEach(e=>{var t;const n=(null===(t=r.features.resourceTimeRanges)||void 0===t?void 0:t.generateElementId(e))||"",o=r.foregroundCanvas.syncIdMap[n];o&&!d.has(n)&&d.set(n,[o.outerHTML,i.default.from(o,o.offsetParent)])})})}buildPageHtml(){const e=this,{subGrids:t,timeAxisHeaders:n,timeAxisPlaceholders:r,columnLines:i,columnLinesPlaceholder:o}=e.exportMeta;let a=e.prepareExportElement();if(Object.values(t).forEach(({placeHolder:t,eventsPlaceholder:n,rows:r})=>{const i=t.outerHTML,{resources:o,events:s}=e.positionRows(r);a=a.replace(i,o.join("")),n&&(a=a.replace(n.outerHTML,s.join("")))}),n.forEach((e,t)=>{a=a.replace(r[t].outerHTML,Array.from(e.values()).join(""))}),i){const e=Array.from(i.lines.values()).concat(Array.from(i.majorLines.values()));a=a.replace(o.outerHTML,e.join(""))}return a=e.buildDependenciesHtml(a),a}getDependenciesOuterHTML(){const{dependenciesPlaceholder:e}=this.exportMeta;let t;if(a.default.isIE11){const n=document.createElement("div"),r=e.cloneNode(!0);n.appendChild(r),t=n.innerHTML}else t=e.outerHTML;return t}renderDependencies(){const{client:e,dependenciesPlaceholder:t,eventsBoxes:n}=this.exportMeta,{dependencies:r}=e,a=e.features.dependencies,s=Array.from(n.keys());r.filter(e=>s.includes(String(e.from))||s.includes(String(e.to))).forEach(e=>{let r=n.get(String(e.from)),o=n.get(String(e.to));const s=a.getIteratableDependencyAssignments(e),{fromEvent:l,toEvent:c}=e;s.forEach(n=>{var s,d;if(!r&&l){const t=a.getBox(e,!0,n);t&&(r=t instanceof i.default?t:new i.default(t.start,t.top,t.end-t.start,t.bottom-t.top))}if(!o&&c){const t=a.getBox(e,!1,n);t&&(o=t instanceof i.default?t:new i.default(t.start,t.top,t.end-t.start,t.bottom-t.top))}const u={startRectangle:null===(s=r)||void 0===s?void 0:s.clone(),endRectangle:null===(d=o)||void 0===d?void 0:d.clone()};r&&o&&a.drawDependency(e,u,n,t,!1)})});const l=this.getDependenciesOuterHTML();return o.default.removeEachSelector(t,".b-sch-dependency"),l}buildDependenciesHtml(e){const{dependenciesPlaceholder:t,includeTimeline:n}=this.exportMeta;if(t&&n){const t=this.getDependenciesOuterHTML();e=e.replace(t,this.renderDependencies())}return e}}},"./lib/Scheduler/feature/export/exporter/SinglePageExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/export/exporter/SinglePageExporter.js"),i=n("./lib/Scheduler/feature/export/exporter/SchedulerExporterMixin.js");class o extends(Object(i.default)(r.default)){static get $name(){return"SinglePageExporter"}collectDependencies(){}positionRows(e){const t=[],n=[],r=/translate\((\d+.?\d*)px, (\d+.?\d*)px\)/;let i=0;return e.forEach(([e,o,a,s])=>{t.push(e.replace(r,`translate($1px, ${i}px)`));const l=i-o;s&&Array.from(s.entries()).forEach(([e,[t,i]])=>{i.translate(0,l),this.exportMeta.eventsBoxes.set(String(e),i),n.push(t.replace(r,`translate($1px, ${i.y}px)`))}),i+=a}),{resources:t,events:n}}}o._$name="SinglePageExporter"},"./lib/Scheduler/feature/mixin/DependencyCreation.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/ObjectHelper.js"),a=n("./lib/Core/helper/util/Rectangle.js"),s=n("./lib/Core/widget/Tooltip.js"),l=n("./lib/Core/helper/EventHelper.js"),c=n("./lib/Scheduler/model/DependencyBaseModel.js");t.default=e=>class extends(e||r.default){static get $name(){return"DependencyCreation"}static get defaultConfig(){return{showCreationTooltip:!0,creationTooltip:null,terminalCls:"b-sch-terminal",terminalSides:["left","top","right","bottom"],allowCreate:!0}}construct(e,t){super.construct(e,t);const n=this;n.view=e,n.eventName=e.scheduledEventName,e.on("readOnly",()=>n.updateCreateListeners()),n.updateCreateListeners()}doDestroy(){var e,t;const n=this;n.detachListeners("view"),n.creationData=null,null===(e=n.mouseDetacher)||void 0===e||e.call(n),null===(t=n.creationTooltip)||void 0===t||t.destroy(),super.doDestroy()}updateCreateListeners(){const e=this;e.view&&(e.detachListeners("view"),e.isCreateAllowed&&e.view.on({name:"view",[e.eventName+"mouseenter"]:"onTimeSpanMouseEnter",[e.eventName+"mouseleave"]:"onTimeSpanMouseLeave",thisObj:e}))}set allowCreate(e){this._allowCreate=e,this.updateCreateListeners()}get allowCreate(){return this._allowCreate}get isCreateAllowed(){return this.allowCreate&&!this.view.readOnly&&!this.disabled}onTimeSpanMouseEnter(e){const t=e[this.eventName+"Record"],n=e[this.eventName+"Element"];this.showTerminals(t,i.default.down(n,e.source.eventInnerSelector))}onTimeSpanMouseLeave(e){var t;const n=this,r=e[n.eventName+"Element"],o=null===(t=n.creationData)||void 0===t?void 0:t.sourceTerminal.parentElement;n.creationData&&o&&i.default.isDescendant(r,o)||n.hideTerminals(r)}onTerminalMouseOut(e){const t=this,n=i.default.up(e.target,t.view.eventSelector);!n||t.showingTerminalsFor&&i.default.isDescendant(n,t.showingTerminalsFor)||t.creationData&&n===t.creationData.sourceTerminal.parentElement||(t.hideTerminals(n),t.view.unhover(e))}onTerminalMouseDown(e){const t=this;if(0===e.button&&!t.creationData){var n;const r=t.view,o=r.timeAxisSubGridElement,s=e.target,c=s.parentElement.closest(r.eventSelector),d=a.default.from(r.element,document.body);e.preventDefault(),e.stopPropagation(),t.creationData={source:r.resolveTimeSpanRecord(c),sourceTerminal:s,startPoint:a.default.from(s,o).center,startX:e.pageX-d.x+r.scrollLeft,startY:e.pageY-d.y+r.scrollTop,valid:!1,sourceResource:null===(n=r.resolveResourceRecord)||void 0===n?void 0:n.call(r,c)};const u=i.default.getRootElement(s);t.mouseDetacher=l.default.on({mouseup:{element:u,handler:"onMouseUp"},mousemove:{element:o,handler:"onMouseMove"},thisObj:t}),t.documentMouseUpDetacher=l.default.on({mouseup:{element:document,handler:"onDocumentMouseUp"},thisObj:t})}}onMouseMove(e){const t=this,{view:n,creationData:r}=t,i=a.default.from(n.element,document.body),o=e.pageX-i.x+n.scrollLeft-r.startX,s=e.pageY-i.y+n.scrollTop-r.startY,l=Math.round(Math.sqrt(o*o+s*s))-3,c=Math.atan2(s,o);let{connector:d}=t;if(!d){if(!1===t.onRequestDragCreate())return;d=t.connector}d.style.width=l+"px",d.style.transform=`rotate(${c}rad)`,t.lastMouseMoveEvent=e}onRequestDragCreate(){const e=this,{view:t,creationData:n}=e;if(!1===t.trigger("beforeDependencyCreateDrag",{data:n,source:n.source}))return e.abort(),!1;t.element.classList.add("b-creating-dependency"),e.connector=e.createConnector(n.startPoint.x,n.startPoint.y),t.trigger("dependencyCreateDragStart",{data:n,source:n.source}),e.showCreationTooltip&&(e.creationTooltip=e.creationTooltip||e.createDragTooltip(),e.creationTooltip.disabled=!1,e.creationTooltip.show()),t.scrollManager.startMonitoring({element:t.timeAxisSubGridElement,callback:()=>e.lastMouseMoveEvent&&e.onMouseMove(e.lastMouseMoveEvent),thisObj:e})}onOverTargetTerminal(e){const t=this,{target:n}=e,{view:r,creationData:i}=t,{connector:a}=t;if(!o.default.isPromise(i.valid))if(n!==i.sourceTerminal){if(n!==i.targetTerminal){let e;i.targetTerminal=n,i.target=r.resolveTimeSpanRecord(n),r.resolveResourceRecord&&(i.targetResource=r.resolveResourceRecord(n));const s=i.sourceTerminal.dataset.side,l=i.targetTerminal.dataset.side,d=o=>{t.isDestroyed||(i.valid=o,n.classList.add(o?"b-valid":"b-invalid"),a.classList.add(o?"b-valid":"b-invalid"),r.trigger("dependencyValidationComplete",{data:i,source:i.source,target:i.target,dependencyType:e}))};switch(!0){case"left"===s&&"left"===l:e=c.default.Type.StartToStart;break;case"left"===s&&"right"===l:e=c.default.Type.StartToEnd;break;case"right"===s&&"left"===l:e=c.default.Type.EndToStart;break;case"right"===s&&"right"===l:e=c.default.Type.EndToEnd}r.trigger("dependencyValidationStart",{data:i,source:i.source,target:i.target,dependencyType:e}),i.valid=t.dependencyStore.isValidDependency(i.source,i.target,e),o.default.isPromise(i.valid)?i.valid.then(d):d(i.valid)}}else a.classList.remove("b-valid"),a.classList.remove("b-invalid")}onMouseUp(e){const t=this,n=t.creationData,r=e.target;t.abort();const i=async()=>{n.targetTerminal=e.target;let r=t.createDependency(n);o.default.isPromise(r)&&(r=await r),n.dependency=r,t.view.trigger("dependencyCreateDrop",{data:n,source:n.source,target:n.target,dependency:r})},a=e=>{t.view.trigger("afterDependencyCreateDrop",{data:e,source:e.source,target:e.target,dependency:e.dependency})};n.valid&&r.matches("."+t.terminalCls)?o.default.isPromise(n.valid)?n.valid.then(e=>{n.valid=e,e?i().then(()=>a(n)):a(n)}):i().then(()=>a(n)):(n.valid=!1,a(n))}onDocumentMouseUp(){this.abort()}abort(){var e,t;const n=this,{view:r,creationData:i}=n;if(i){const{source:e,sourceResource:t,target:o,targetResource:a}=i;if(e){const i=r.getElementFromEventRecord(e,t);i&&n.hideTerminals(i)}if(o){const e=r.getElementFromEventRecord(o,a);e&&n.hideTerminals(e)}}n.creationTooltip&&(n.creationTooltip.disabled=!0),n.creationData=n.lastMouseMoveEvent=null,null===(e=n.mouseDetacher)||void 0===e||e.call(n),null===(t=n.documentMouseUpDetacher)||void 0===t||t.call(n),n.removeConnector()}createConnector(e,t){const n=this.view;return this.connector=i.default.createElement({parent:n.timeAxisSubGridElement,className:this.baseCls+"-connector",style:`left:${e}px;top:${t}px`}),n.element.classList.add("b-creating-dependency"),this.connector}createDragTooltip(){const e=this,{view:t}=e;return e.creationTooltip=s.default.new({id:t.id+"-dependency-drag-tip",cls:"b-sch-dependency-creation-tooltip",loadingMsg:"",autoShow:!0,anchorToTarget:!1,forSelector:".b-sch-terminal",forElement:t.timeAxisSubGridElement,trackMouse:!0,constrainTo:null,getHtml:({tip:t,event:n})=>{if(e.creationData)return n&&e.onOverTargetTerminal(n),e.generateTooltipContent(t,e.creationData)},header:{dock:"right"},listeners:{pointerout:({source:t})=>{const n=e.creationData;return n.target=n.targetTerminal=null,n.valid=!1,t.html=t.getHtml({tip:t}),!1},beforeShow:({source:e})=>{e.html=e.getHtml({tip:e})}}},e.creationTooltip)}removeConnector(e){const t=this,{connector:n,view:r}=t;n&&(n.classList.add("b-removing"),n.style.width="0",t.setTimeout(()=>{n.remove(),t.connector=null,e&&e.call(t)},200)),r.element.classList.remove("b-creating-dependency"),t.creationTooltip&&t.creationTooltip.hide(),r.scrollManager.stopMonitoring(r.timeAxisSubGridElement)}showTerminals(e,t){const n=this;if(!n.isCreateAllowed)return;const r=n.terminalCls,o=r+"s-visible";(t=i.default.down(t,n.view.eventInnerSelector)).classList.contains(o)||this.view.element.classList.contains("b-resizing-event")||n.view.readOnly||(n.terminalSides.forEach(e=>{const o=i.default.createElement({parent:t,className:`${r} ${r}-${e}`,dataset:{side:e,feature:!0}});o.detacher=l.default.on({element:o,mouseout:"onTerminalMouseOut",mousedown:{handler:"onTerminalMouseDown",capture:!0},thisObj:n})}),t.classList.add(o),e.cls.add(o),n.showingTerminalsFor=t)}hideTerminals(e){const t=this,n=t.client.getTimeSpanMouseEventParams(e),r=null===n||void 0===n?void 0:n[t.eventName+"Record"],o=t.terminalCls+"s-visible";i.default.forEachSelector(e,"."+t.terminalCls,e=>{e.detacher&&e.detacher(),e.remove()}),i.default.down(e,t.view.eventInnerSelector).classList.remove(o),r.cls.remove(o),t.showingTerminalsFor=null}createDependency(e){const{source:t,target:n}=e,r=e.sourceTerminal.dataset.side,i=e.targetTerminal.dataset.side,o=("left"===r?0:2)+("right"===i?1:0);return this.dependencyStore.add({from:t.id,to:n.id,type:o,fromSide:r,toSide:i})[0]}generateTooltipContent(e,t){var n,r,i,a;const s=this,{valid:l}=t,{classList:c}=e.element;let d,u;return Object.assign(t,{fromText:t.source.name,toText:null!==(n=null===(r=t.target)||void 0===r?void 0:r.name)&&void 0!==n?n:"",fromSide:t.sourceTerminal.dataset.side,toSide:null!==(i=null===(a=t.targetTerminal)||void 0===a?void 0:a.dataset.side)&&void 0!==i?i:""}),o.default.isPromise(l)?(c.remove("b-invalid"),c.add("b-checking"),new Promise(n=>l.then(r=>{t.valid=r,e.isDestroyed||n(s.generateTooltipContent(e,t))}))):(!0===l?(c.remove("b-invalid"),c.remove("b-checking"),d="valid",u=s.L("L{Dependencies.valid}")):(c.remove("b-checking"),c.add("b-invalid"),d="invalid",u=s.L("L{Dependencies.invalid}")),e.title=`<i class="b-icon b-icon-${d}"></i>${u}`,`<table class="b-sch-dependency-creation-tooltip">\n                        <tr><td>${s.L("L{Dependencies.from}")}: </td><td>${t.fromText}</td><td><div class="b-sch-box b-${t.fromSide}"></div></td></tr>\n                        <tr><td>${s.L("L{Dependencies.to}")}: </td><td>${t.toText}</td><td><div class="b-sch-box b-${t.toSide}"></div></td></tr>\n                    </table>`)}}},"./lib/Scheduler/feature/mixin/RecurringEventEdit.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/Base.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./lib/Scheduler/view/recurrence/RecurrenceConfirmationPopup.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceCombo.js"),n("./lib/Scheduler/view/recurrence/RecurrenceLegendButton.js"),n("./lib/Scheduler/view/recurrence/RecurrenceEditor.js"),t.default=e=>class extends(e||i.default){static get $name(){return"RecurringEventEdit"}static get configurable(){return{recurringEventsItems:{recurrenceCombo:{type:"recurrencecombo",label:"L{EventEdit.Repeat}",ref:"recurrenceCombo",weight:700},editRecurrenceButton:{type:"recurrencelegendbutton",ref:"editRecurrenceButton",name:"recurrenceRule",color:"b-gray",flex:"1",weight:800}},showRecurringUI:null}}changeEditorConfig(e){return e.items=a(a({},e.items),this.recurringEventsItems),e=super.changeEditorConfig(e)}construct(e,t){super.construct(e,t),this.scheduler.on({beforeEventDelete:this.onRecurrableEventBeforeDelete,beforeEventSave:this.onRecurrableEventBeforeSave,thisObj:this})}doDestroy(){this._recurrenceConfirmation&&this.recurrenceConfirmation.destroy(),this._recurrenceEditor&&this.recurrenceEditor.destroy(),super.doDestroy()}onEditorConstructed(e){const t=this;e.on({hide:t.onRecurringEventEditorHide,thisObj:t}),t.editRecurrenceButton&&(t.editRecurrenceButton.menu=t.recurrenceEditor),t.recurrenceCombo&&t.recurrenceCombo.on({change:t.onRecurrenceComboChange,thisObj:t})}internalShowEditor(){this.toggleRecurringFieldsVisibility(this.client.enableRecurringEvents&&!1!==this.showRecurringUI)}toggleRecurringFieldsVisibility(e=!0){var t,n,r,i;const o=e?"show":"hide";null===(t=this.editRecurrenceButton)||void 0===t||null===(n=t[o])||void 0===n||n.call(t),null===(r=this.recurrenceCombo)||void 0===r||null===(i=r[o])||void 0===i||i.call(r)}onRecurringEventEditorHide(){var e,t;null!==(e=this.recurrenceEditor)&&void 0!==e&&e.isVisible&&this.recurrenceEditor.hide(),null!==(t=this.recurrenceConfirmation)&&void 0!==t&&t.isVisible&&this.recurrenceConfirmation.hide()}makeRecurrence(e){const t=this.eventRecord,n=t.copy();let r=t.recurrence;return r=!e&&r?r.copy():new t.recurrenceModel(e?{rule:e}:{}),r.timeSpan=n,n.setStartDate(this.values.startDate),r.suspendTimeSpanNotifying(),r}onRecurrableEventBeforeSave({eventRecord:e,context:t}){const n=this;e.supportsRecurring&&(e.isRecurring||e.isOccurrence)&&(n.recurrenceConfirmation.confirm({actionType:"update",eventRecord:e,changerFn(){t.finalize(!0)},cancelFn(){t.finalize(!1)}}),t.async=!0)}showDisplayConfirmationOnEventDelete(e){return this.isEditing&&this.eventRecord===e&&e.supportsRecurring&&(e.isRecurring||e.isOccurrence)}onRecurrableEventBeforeDelete({eventRecords:e,context:t}){const n=e[0];if(this.showDisplayConfirmationOnEventDelete(n))return this.recurrenceConfirmation.confirm({actionType:"delete",eventRecord:n,changerFn(){t.finalize(!0)},cancelFn(){t.finalize(!1)}}),!1}set recurrenceConfirmation(e){this._recurrenceConfirmation=e}get recurrenceConfirmation(){const e=this;let t=e._recurrenceConfirmation;return t&&t.$$name||(t=r.default.create(Object.assign({type:"recurrenceconfirmation",owner:e.getEditor()},t)),e._recurrenceConfirmation=t),t}set recurrenceEditor(e){this._recurrenceEditor=e}get recurrenceEditor(){const e=this;let t=e._recurrenceEditor;return t&&t.$$name||(t=r.default.create(Object.assign({type:"recurrenceeditor",autoShow:!1,clippedBy:[e.scheduler.timeAxisSubGridElement,e.scheduler.bodyContainer],centered:!0,modal:!0,constrainTo:window,anchor:!1,rootElement:e.rootElement,saveHandler:e.recurrenceEditorSaveHandler,onBeforeShow:e.onBeforeShowRecurrenceEditor.bind(e),thisObj:e},t)),e._recurrenceEditor=t,t.readOnly=e._readOnly),t}onBeforeShowRecurrenceEditor(){const e=this,{recurrenceEditor:t,eventRecord:n}=e;t&&n&&n.supportsRecurring&&(e.recurrence||(e.recurrence=e.makeRecurrence()),e.recurrence.timeSpan.setStartDate(e.values.startDate),t.record=e.recurrence,t.centered=!0)}loadRecurrenceData(e){this.recurrence=e,this.updateRecurrenceFields(e)}updateRecurrenceFields(e){const t=this,{editRecurrenceButton:n}=t;t.recurrenceCombo&&(t.recurrenceCombo.recurrence=e),n&&(n.recurrence=e,n.value=e?e.rule:null,e&&t.client.enableRecurringEvents&&!1!==t.showRecurringUI?n.show():n.hide())}onRecurrenceComboChange({source:e,value:t,userAction:n}){const r=this,{recurrenceEditor:i}=r;t==e.customValue?n&&(r.recurrenceCombo.recurrence=r.makeRecurrence(),i.centered?i.show():i.show((r.editRecurrenceButton||e).element)):r.loadRecurrenceData(t?r.makeRecurrence("FREQ="+t):null)}recurrenceEditorSaveHandler(e,t){e.syncEventRecord(t),this.updateRecurrenceFields(t),e.close()}onDatesChange(...e){if(super.onDatesChange(...e),!this.loadingRecord&&this.editRecurrenceButton){const{startDate:e}=this.values;e&&(this.editRecurrenceButton.eventStartDate=e)}}internalLoadRecord(e,t){e&&e.supportsRecurring&&this.loadRecurrenceData(e.recurrence?this.makeRecurrence():null)}}},"./lib/Scheduler/localization/En.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/localization/LocaleManager.js"),i=n("./lib/Grid/localization/En.js");const o=n("./lib/Core/localization/LocaleHelper.js").default.mergeLocales(i.default,{ResourceInfoColumn:{eventCountText:function(e){return e+" event"+(1!==e?"s":"")}},Dependencies:{from:"From",to:"To",valid:"Valid",invalid:"Invalid"},DependencyType:{SS:"SS",SF:"SF",FS:"FS",FF:"FF",StartToStart:"Start-to-Start",StartToEnd:"Start-to-End",EndToStart:"End-to-Start",EndToEnd:"End-to-End",short:["SS","SF","FS","FF"],long:["Start-to-Start","Start-to-End","End-to-Start","End-to-End"]},DependencyEdit:{From:"From",To:"To",Type:"Type",Lag:"Lag","Edit dependency":"Edit dependency",Save:"Save",Delete:"Delete",Cancel:"Cancel",StartToStart:"Start to Start",StartToEnd:"Start to End",EndToStart:"End to Start",EndToEnd:"End to End"},EventEdit:{Name:"Name",Resource:"Resource",Start:"Start",End:"End",Save:"Save",Delete:"Delete",Cancel:"Cancel","Edit event":"Edit event",Repeat:"Repeat"},EventDrag:{eventOverlapsExisting:"Event overlaps existing event for this resource",noDropOutsideTimeline:"Event may not be dropped completely outside the timeline"},SchedulerBase:{"Add event":"Add event","Delete event":"Delete event","Unassign event":"Unassign event"},HeaderContextMenu:{pickZoomLevel:"Zoom",activeDateRange:"Date range",startText:"Start date",endText:"End date",todayText:"Today"},TimeAxisHeaderMenu:{pickZoomLevel:"Zoom",activeDateRange:"Date range",startText:"Start date",endText:"End date",todayText:"Today"},UndoRedo:{UndoLastAction:"Undo last action",RedoLastAction:"Redo last undone action"},EventFilter:{filterEvents:"Filter tasks",byName:"By name"},TimeRanges:{showCurrentTimeLine:"Show current timeline"},PresetManager:{secondAndMinute:{displayDateFormat:"ll LTS"},minuteAndHour:{topDateFormat:"ddd MM/DD, hA",displayDateFormat:"ll LST"},hourAndDay:{topDateFormat:"ddd MM/DD",middleDateFormat:"LST",displayDateFormat:"ll LST"},weekAndDay:{displayDateFormat:"ll LST"},dayAndWeek:{displayDateFormat:"ll LST"}},RecurrenceConfirmationPopup:{"delete-title":"You are deleting an event","delete-all-message":"Do you want to delete all occurrences of this event?","delete-further-message":"Do you want to delete this and all future occurrences of this event, or only the selected occurrence?","delete-further-btn-text":"Delete All Future Events","delete-only-this-btn-text":"Delete Only This Event","update-title":"You are changing a repeating event","update-all-message":"Do you want to change all occurrences of this event?","update-further-message":"Do you want to change only this occurrence of the event, or this and all future occurrences?","update-further-btn-text":"All Future Events","update-only-this-btn-text":"Only This Event",Yes:"Yes",Cancel:"Cancel",width:600},RecurrenceLegend:{" and ":" and ",Daily:"Daily","Weekly on {1}":({days:e})=>"Weekly on "+e,"Monthly on {1}":({days:e})=>"Monthly on "+e,"Yearly on {1} of {2}":({days:e,months:t})=>`Yearly on ${e} of ${t}`,"Every {0} days":({interval:e})=>`Every ${e} days`,"Every {0} weeks on {1}":({interval:e,days:t})=>`Every ${e} weeks on ${t}`,"Every {0} months on {1}":({interval:e,days:t})=>`Every ${e} months on ${t}`,"Every {0} years on {1} of {2}":({interval:e,days:t,months:n})=>`Every ${e} years on ${t} of ${n}`,position1:"the first",position2:"the second",position3:"the third",position4:"the fourth",position5:"the fifth","position-1":"the last",day:"day",weekday:"weekday","weekend day":"weekend day",daysFormat:({position:e,days:t})=>`${e} ${t}`},RecurrenceEditor:{"Repeat event":"Repeat event",Cancel:"Cancel",Save:"Save",Frequency:"Frequency",Every:"Every",DAILYintervalUnit:"day(s)",WEEKLYintervalUnit:"week(s)",MONTHLYintervalUnit:"month(s)",YEARLYintervalUnit:"year(s)",Each:"Each","On the":"On the","End repeat":"End repeat","time(s)":"time(s)"},RecurrenceDaysCombo:{day:"day",weekday:"weekday","weekend day":"weekend day"},RecurrencePositionsCombo:{position1:"first",position2:"second",position3:"third",position4:"fourth",position5:"fifth","position-1":"last"},RecurrenceStopConditionCombo:{Never:"Never",After:"After","On date":"On date"},RecurrenceFrequencyCombo:{Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"},RecurrenceCombo:{None:"None",Custom:"Custom..."},Summary:{"Summary for":e=>"Summary for "+e},ScheduleRangeCombo:{completeview:"Complete schedule",currentview:"Visible schedule",daterange:"Date range",completedata:"Complete schedule (for all events)"},SchedulerExportDialog:{"Schedule range":"Schedule range","Export from":"From","Export to":"To"},ExcelExporter:{"No resource assigned":"No resource assigned"},CrudManagerView:{serverResponseLabel:"Server response:"}});t.default=o,r.default.registerLocale("En",{desc:"English",locale:o})},"./lib/Scheduler/model/AssignmentModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Scheduler/data/mixin/PartOfProject.js"),o=n("./lib/Scheduler/model/mixin/AssignmentModelMixin.js");n("./lib/Engine/quark/model/scheduler_basic/BaseAssignmentMixin.js");const a=n("./lib/Engine/quark/model/scheduler_core/CoreAssignmentMixin.js").CoreAssignmentMixin;class s extends(Object(o.default)(Object(i.default)(a.derive(r.default)))){static get $name(){return"AssignmentModel"}}s.exposeProperties(),s._$name="AssignmentModel"},"./lib/Scheduler/model/DependencyBaseModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/helper/VersionHelper.js"),o=n("./lib/Core/data/Model.js"),a=n("./lib/Core/data/Duration.js");const s=["SS","SF","FS","FF"];class l extends o.default{static get $name(){return"DependencyBaseModel"}static get Type(){return{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}}static get fields(){return[{name:"from"},{name:"to"},{name:"type",type:"int",defaultValue:2},{name:"cls",defaultValue:""},{name:"bidirectional",type:"boolean"},{name:"fromSide",type:"string"},{name:"toSide",type:"string"},{name:"lag",type:"number",allowNull:!0,defaultValue:0},{name:"lagUnit",type:"string",defaultValue:"d"}]}get sourceEvent(){return i.default.deprecate("scheduler","5.0.0","Deprecated in favor of fromEvent"),this.fromEvent}set sourceEvent(e){this.fromEvent=e}get targetEvent(){return i.default.deprecate("scheduler","5.0.0","Deprecated in favor of toEvent"),this.toEvent}set targetEvent(e){this.targetEvent=e}construct(e){null!=e.from&&(e.fromEvent=e.from),null!=e.to&&(e.toEvent=e.to),super.construct(...arguments)}get eventStore(){var e;return this.eventStore||(null===(e=this.unjoinedStores[0])||void 0===e?void 0:e.eventStore)}set from(e){const{fromEvent:t}=this;null!==t&&void 0!==t&&t.isModel&&t.id===e?this.set("from",e):this.fromEvent=e}get from(){return this.get("from")}set to(e){const{toEvent:t}=this;null!==t&&void 0!==t&&t.isModel&&t.id===e?this.set("to",e):this.toEvent=e}get to(){return this.get("to")}get hardType(){return this.getHardType()}set hardType(e){this.setHardType(e)}getHardType(){return this.get("type")}setHardType(e){let t;return e!==this.hardType&&(t=this.set({type:e,fromSide:null,toSide:null})),t}get lag(){return this.get("lag")}set lag(e){"number"===typeof e?this.set({lag:e}):this.setLag(e)}setLag(e,t){1!==arguments.length?(e=parseFloat(e),this.set({lag:e,lagUnit:t})):"number"===typeof e?this.lag=e:(e=r.default.parseDuration(e),this.set({lag:e.magnitude,lagUnit:e.unit}))}getLag(){return this.lag?`${this.lag<0?"-":"+"}${Math.abs(this.lag)}${r.default.getShortNameOfUnit(this.lagUnit)}`:""}get fullLag(){return new a.default({unit:this.lagUnit,magnitude:this.lag})}set fullLag(e){"string"===typeof e?this.setLag(e):this.setLag(e.magnitude,e.unit)}get isPersistable(){const e=this,{stores:t,unjoinedStores:n}=e,r=t[0];let i;if(r){const{fromEvent:t,toEvent:n}=e,o=r.crudManager;i=t&&(o||!t.hasGeneratedId)&&n&&(o||!n.hasGeneratedId)}else i=Boolean(n[0]);return i&&super.isPersistable}getSourceEvent(){return i.default.deprecate("scheduler","5.0.0","Deprecated in favor of fromEvent"),this.fromEvent}getTargetEvent(){return i.default.deprecate("scheduler","5.0.0","Deprecated in favor of toEvent"),this.toEvent}getDateRange(e=!1){const{fromEvent:t,toEvent:n}=this;if(t&&n&&t.isScheduled&&n.isScheduled){const i=l.Type;let o,a;switch(this.type){case i.StartToStart:o=t.startDate,a=n.startDate;break;case i.StartToEnd:o=t.startDate,a=n.endDate;break;case i.EndToEnd:o=t.endDate,a=n.endDate;break;case i.EndToStart:o=t.endDate,a=n.startDate;break;default:throw new Error("Invalid dependency type: "+this.type)}return{start:e?o:r.default.min(o,a),end:e?a:r.default.max(o,a)}}return null}highlight(e){const t=this.highlighted?this.highlighted.split(" "):[];t.includes(e)||(this.highlighted=t.concat(e).join(" "))}unhighlight(e){const{highlighted:t}=this;if(t){const n=t.split(" "),r=n.findIndex(t=>t===e);r>=0&&(n.splice(r,1),this.highlighted=n.join(" "))}}isHighlightedWith(e){return this.highlighted&&this.highlighted.split(" ").includes(e)}getConnectorString(e){const t=s[this.type];return e?t:this.type===l.Type.EndToStart?"":t}toString(){return`${this.from}${this.getConnectorString()}${this.getLag()}`}get isValid(){const{from:e,to:t,type:n}=this;return"number"===typeof n&&e&&""!==e&&null!=t&&""!==t&&e!==t}get fromEventName(){var e;return(null===(e=this.fromEvent)||void 0===e?void 0:e.name)||""}get toEventName(){var e;return(null===(e=this.toEvent)||void 0===e?void 0:e.name)||""}}l.exposeProperties(),l._$name="DependencyBaseModel"},"./lib/Scheduler/model/DependencyModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Scheduler/model/DependencyBaseModel.js"),i=n("./lib/Scheduler/data/mixin/PartOfProject.js");n("./lib/Engine/quark/model/scheduler_basic/BaseDependencyMixin.js");const o=n("./lib/Engine/quark/model/scheduler_core/CoreDependencyMixin.js").CoreDependencyMixin;class a extends(Object(i.default)(o.derive(r.default))){static get $name(){return"DependencyModel"}getTypeFromSides(e,t,n){const i=r.default.Type,o=n?"right":"left",a=n?"left":"right";return e===o?t===o?i.StartToStart:i.StartToEnd:t===a?i.EndToEnd:i.EndToStart}}a.exposeProperties(),a._$name="DependencyModel"},"./lib/Scheduler/model/EventModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Scheduler/model/TimeSpan.js"),i=n("./lib/Scheduler/model/mixin/RecurringTimeSpan.js"),o=n("./lib/Scheduler/model/mixin/EventModelMixin.js"),a=n("./lib/Scheduler/data/mixin/PartOfProject.js");n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicEvent.js");const s=n("./lib/Engine/quark/model/scheduler_core/SchedulerCoreEvent.js").SchedulerCoreEvent;class l extends(s.derive(r.default).mixin(i.default,a.default,o.default)){static get $name(){return"EventModel"}}l.exposeProperties(),l._$name="EventModel"},"./lib/Scheduler/model/ProjectModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/VersionHelper.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Scheduler/model/mixin/ProjectModelMixin.js"),a=n("./lib/Scheduler/data/util/ModelPersistencyManager.js");n("./lib/Engine/quark/model/scheduler_basic/SchedulerBasicProjectMixin.js");const s=n("./lib/Engine/quark/model/scheduler_core/SchedulerCoreProjectMixin.js").SchedulerCoreProjectMixin;class l extends(Object(o.default)(s)){static get $name(){return"ProjectModel"}construct(...e){super.construct(...e),r.default.isTestEnv&&(i.default.global.bryntum.testProject=this),this.modelPersistencyManager=this.createModelPersistencyManager()}createModelPersistencyManager(){return new a.default({eventStore:this,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,dependencyStore:this.dependencyStore})}doDestroy(){this.modelPersistencyManager.destroy(),super.doDestroy()}}l.applyConfigs=!0,l._$name="ProjectModel"},"./lib/Scheduler/model/RecurrenceModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js"),a=n("./lib/Scheduler/data/util/recurrence/DailyRecurrenceIterator.js"),s=n("./lib/Scheduler/data/util/recurrence/WeeklyRecurrenceIterator.js"),l=n("./lib/Scheduler/data/util/recurrence/MonthlyRecurrenceIterator.js"),c=n("./lib/Scheduler/data/util/recurrence/YearlyRecurrenceIterator.js");const d={};function u(e){return e?"string"==typeof e&&(e=e.split(",").map(e=>parseInt(e,10))):e=null,e}function h(e){return e?"string"==typeof e&&(e=e.split(",")):e=null,e}function f(e,t){return String(e)===String(t)}function g(e){return this.defaultValue&&void 0===e?this.defaultValue:this.allowNull&&null==e?null:(e=parseInt(e),isNaN(e)?void 0:e)}[a.default,s.default,l.default,c.default].forEach(e=>{d[e.frequency]=e});class m extends r.default{static get $name(){return"RecurrenceModel"}get isRecurrenceModel(){return!0}static get fields(){return[{name:"frequency",defaultValue:"DAILY"},{name:"interval",defaultValue:1,convert:g},{name:"endDate",type:"date"},{name:"count",allowNull:!0,convert:g},{name:"days",convert:h,isEqual:f},{name:"monthDays",convert:u,isEqual:f},{name:"months",convert:u,isEqual:f},{name:"positions",convert:u,isEqual:f}]}get dateFormat(){return this._dateFormat||"YYYYMMDDTHHmmss"}set dateFormat(e){this._dateFormat=e}get recurrenceIterator(){return d[this.frequency]}get timeSpan(){return this._timeSpan}set timeSpan(e){this._timeSpan=e}get rule(){const e=this,t=[];return e.frequency&&(t.push("FREQ="+e.frequency),e.interval>1&&t.push("INTERVAL="+e.interval),e.days&&e.days.length&&t.push("BYDAY="+e.days.join(",")),e.monthDays&&e.monthDays.length&&t.push("BYMONTHDAY="+e.monthDays.join(",")),e.months&&e.months.length&&t.push("BYMONTH="+e.months.join(",")),e.count&&t.push("COUNT="+e.count),e.endDate&&t.push("UNTIL="+i.default.format(e.endDate,e.dateFormat)),e.positions&&e.positions.length&&t.push("BYSETPOS="+e.positions.join(","))),t.join(";")}set rule(e){const t=this;if(t.beginBatch(),e){const n=e.split(";");for(let e=0,r=n.length;e<r;e++){const r=n[e].split("="),o=r[1];switch(r[0]){case"FREQ":t.frequency=o;break;case"INTERVAL":t.interval=o;break;case"COUNT":t.count=o,t.until=null;break;case"UNTIL":t.endDate=o?i.default.parse(o,t.dateFormat):null,t.count=null;break;case"BYDAY":t.days=o;break;case"BYMONTHDAY":t.monthDays=o;break;case"BYMONTH":t.months=o;break;case"BYSETPOS":t.positions=o}}t.sanitize()}else t.set({frequency:null,interval:null,count:null,endDate:null,days:null,monthDays:null,months:null,positions:null});t.endBatch()}construct(e={}){const t=this,{rule:n,timeSpan:r}=e;t._suspendedTimeSpanNotifying=0,delete e.timeSpan,delete e.rule,super.construct(...arguments),n&&(t.suspendTimeSpanNotifying(),t.rule=n,t.resumeTimeSpanNotifying()),t.timeSpan=r}forEachOccurrence(e,t,n){this.timeSpan.startDate&&this.recurrenceIterator.forEachDate({recurrence:this,startDate:e,endDate:t,fn(e,t,r,i){n(i.buildOccurrence(e,r),r,t,e)}})}sanitize(){const e=this,t=e.timeSpan,n=t&&t.startDate;switch(e.beginBatch(),e.isSanitizing=!0,e.frequency){case"DAILY":e.positions=null,e.days=null,e.monthDays=null,e.months=null;break;case"WEEKLY":e.positions=null,e.monthDays=null,e.months=null;const t=e.days;n&&t&&1==t.length&&t[0]==o.default.encodeDay(n.getDay())&&(e.days=null);break;case"MONTHLY":e.monthDays&&e.monthDays.length&&(e.positions=null,e.days=null),e.months=null;const r=e.monthDays;n&&r&&1==r.length&&r[0]==n.getDate()&&(e.monthDays=null);break;case"YEARLY":e.monthDays=null;const i=e.months;n&&i&&1==i.length&&i[0]==n.getMonth()+1&&(e.months=null)}e.isSanitizing=!1,e.endBatch()}copy(...e){const t=super.copy(...e);return t.dateFormat=this.dateFormat,t.timeSpan=this.timeSpan,t}afterChange(e,t,n){const r=super.afterChange(e,t,n),{timeSpan:o}=this;if(this.isSanitizing||this.sanitize(),o){if("endDate"in t){const e=i.default.clearTime(t.endDate.value),{exceptionDates:n}=o;if(o.removeOccurrencesFrom(e),n)for(const t in n)i.default.parseKey(t)>=e&&delete n[t]}this.isTimeSpanNotifyingSuspended||o.onRecurrenceChanged()}return r}get count(){return this.get("count")}set count(e){e&&(this.endDate=null),this.set("count",e)}get endDate(){return this.get("endDate")}set endDate(e){e&&(this.count=null),this.set("endDate",e)}get isTimeSpanNotifyingSuspended(){return Boolean(this._suspendedTimeSpanNotifying)}suspendTimeSpanNotifying(){this._suspendedTimeSpanNotifying++}resumeTimeSpanNotifying(){this._suspendedTimeSpanNotifying&&this._suspendedTimeSpanNotifying--}}m._$name="RecurrenceModel"},"./lib/Scheduler/model/ResourceModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/data/GridRowModel.js"),i=n("./lib/Scheduler/data/mixin/PartOfProject.js"),o=n("./lib/Scheduler/model/mixin/ResourceModelMixin.js");n("./lib/Engine/quark/model/scheduler_basic/BaseResourceMixin.js");const a=n("./lib/Engine/quark/model/scheduler_core/CoreResourceMixin.js").CoreResourceMixin;class s extends(Object(o.default)(Object(i.default)(a.derive(r.default)))){static get $name(){return"ResourceModel"}}s.exposeProperties(),s._$name="ResourceModel"},"./lib/Scheduler/model/ResourceTimeRangeModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/model/TimeSpan.js");class i extends r.default{static get $name(){return"ResourceTimeRangeModel"}static get fields(){return["resourceId","timeRangeColor"]}static get relationConfig(){return[{relationName:"resource",fieldName:"resourceId",store:"resourceStore",collectionName:"timeRanges",nullFieldOnRemove:!0}]}get isResourceTimeRange(){return!0}get resources(){return this.resource?[this.resource]:[]}}i._$name="ResourceTimeRangeModel"},"./lib/Scheduler/model/TimeSpan.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Core/helper/util/DomClassList.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/VersionHelper.js"),s=n("./lib/Core/helper/BrowserHelper.js"),l=n("./lib/Core/data/Duration.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.default{static get $name(){return"TimeSpan"}static get fields(){return[{name:"startDate",type:"date"},{name:"endDate",type:"date"},{name:"duration",type:"number",allowNull:!0,internal:!0},{name:"durationUnit",type:"string",defaultValue:"d",internal:!0},{name:"fullDuration",persist:!1,column:{type:"duration"},internal:!0},{name:"cls",defaultValue:"",internal:!0},{name:"iconCls",internal:!0},{name:"style",type:"object",internal:!0},{name:"name",type:"string",defaultValue:""}]}afterConstruct(){super.afterConstruct(),this.normalize()}get eventStore(){const e=this;return e.isOccurrence?e.recurringTimeSpan.eventStore:(e._eventStore||(e._eventStore=null===(t=e.stores)||void 0===t?void 0:t.find(e=>e.isEventStore)),e._eventStore);var t}normalize(){const e=this,{startDate:t,endDate:n,duration:r,durationUnit:i}=e,a=null!=r;t&&n&&!a?e.setData("duration",o.default.diff(t,n,i,!0)):t&&!n&&a?e.setData("endDate",o.default.add(t,r,i)):!t&&n&&a&&e.setData("startDate",o.default.add(n,-r,i))}get cls(){return this._cls||(this._cls=new i.default(super.get("cls"))),this._cls}set cls(e){const t=this;t._cls?t._cls.value=e:t._cls=new i.default(e),t.set("cls",t._cls.value)}get startDate(){return this.get("startDate")}set startDate(e){this.setStartDate(e)}get endDate(){return this.get("endDate")}set endDate(e){this.setEndDate(e)}get duration(){return this.get("duration")}set duration(e){this.setDuration(e,this.durationUnit)}get durationUnit(){return this.get("durationUnit")}setDuration(e,t=this.durationUnit){const n={duration:e=parseFloat(e),durationUnit:t};this.startDate?n.endDate=o.default.add(this.startDate,e,t):this.endDate&&(n.startDate=o.default.add(this.endDate,-e,t)),this.set(n)}getDurationInUnit(e,t){return this.starDate&&this.endDate?o.default.getDurationInUnit(this.startDate,this.endDate,e,t):o.default.as(e,this.duration,this.durationUnit)}get fullDuration(){return new l.default({unit:this.durationUnit,magnitude:this.duration})}set fullDuration(e){"string"===typeof e&&(e=o.default.parseDuration(e,!0,this.durationUnit)),this.setDuration(e.magnitude,e.unit)}setStartDate(e,t=!0){const n=this,r={startDate:e};if(e){let i;if(t)i=null!=n.duration;else if(n.endDate){if(r.duration=o.default.diff(e,n.endDate,n.durationUnit,!0),r.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(r.endDate=o.default.add(e,n.getDurationInUnit("h"),"h"))}else r.duration=null;n.set(r)}setEndDate(e,t=!1){const n=this,r={endDate:e};if(e){let i;if(!0===t)i=null!=n.duration;else if(n.startDate){if(r.duration=o.default.diff(n.startDate,e,n.durationUnit,!0),r.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(r.startDate=o.default.add(e,-n.duration,n.durationUnit))}n.set(r)}setStartEndDate(e,t,n){this.set({startDate:e,endDate:t},null,n)}get dates(){const e=[],t=o.default.startOf(this.startDate,"day"),n=this.endDate;for(let r=t;r<n;r=o.default.add(r,1,"day"))e.push(r);return e}get startDateMS(){var e;return null===(e=this.startDate)||void 0===e?void 0:e.getTime()}get endDateMS(){var e;return null===(e=this.endDate)||void 0===e?void 0:e.getTime()}get durationMS(){const e=this;return e.endDate&&e.startDate?e.endDateMS-e.startDateMS:o.default.asMilliseconds(e.duration||0,e.durationUnit)}get isMilestone(){return 0===this.durationMS}inSetNormalize(e){if("string"!==typeof e){let{startDate:t,endDate:n,duration:r,durationUnit:i=this.durationUnit}=e;return"string"===typeof t&&(t=this.getFieldDefinition("startDate").convert(t)),"string"===typeof n&&(n=this.getFieldDefinition("endDate").convert(n)),"duration"in e?(t&&!n&&(n=o.default.add(t,r,i,!0,!0)),!t&&n&&(t=o.default.add(n,-r,i,!0,!0))):t&&n&&(r=o.default.as(i,o.default.diff(t,n,"h",!0),"h")),t&&(e.startDate=t),n&&(e.endDate=n),null!=r&&(e.duration=r),e}}inSet(e,t,n,r,i){return i||(e=this.inSetNormalize(e)||e),super.inSet(e,t,n,r,i)}forEachDate(e,t){return this.dates.forEach(e.bind(t))}get isScheduled(){return Boolean(this.startDate&&this.endDate&&this.hasValidDates)}get isValid(){let e=!0;if(e){const{startDate:t,endDate:n}=this;e=!t||!n||n-t>=0}return e}get hasValidDates(){const{startDateMS:e,endDateMS:t}=this;return!e||!t||t-e>=0}shift(e,t=this.durationUnit){if("string"===typeof e){const n=e;e=t,t=n}return this.setStartDate(o.default.add(this.startDate,e,t,!0),!0)}get wbsCode(){return this._wbsCode||this.indexPath.join(".")}set wbsCode(e){this._wbsCode=e}fullCopy(){return this.copy.apply(this,arguments)}intersects(e){return this.intersectsRange(e.startDate,e.endDate)}intersectsRange(e,t){const n=this.startDate,r=this.endDate;return n&&r&&o.default.intersectSpans(n,r,e,t)}split(e=.5){const t=this,n=t.copy(),{eventStore:r,assignmentStore:i}=t,a=t.duration*e,s=t.duration-a;if(e<=0||e>=1)throw new Error("Split point must be > 0 and < 1");return n.startDate=o.default.add(t.startDate,a,t.durationUnit),n.duration=s,t.duration=a,r&&(r.add(n),i&&!r.usesSingleAssignment&&i.add(t.assignments.map(e=>{const t=Object.assign({},e.data,{eventId:n.id,event:null,resource:null});return delete t.id,t}))),n}toICSString(e={}){if(!this.isScheduled)return"";const t=o.default.toUTC(new Date),n=o.default.toUTC(this.startDate),r=o.default.toUTC(this.endDate),i=e.DTSTAMP||o.default.format(t,"YYYYMMDDTHHmmss")+"Z";delete e.DTSTAMP;let s={};if(this.allDay){const e="YYYYMMDD";s={"DTSTART;VALUE=DATE":o.default.format(n,e),"DTEND;VALUE=DATE":o.default.format(r,e)}}else s={DTSTART:o.default.format(n,"YYYYMMDDTHHmmss")+"Z",DTEND:o.default.format(r,"YYYYMMDDTHHmmss")+"Z"};const l={BEGIN:"VCALENDAR",VERSION:"2.0",CALSCALE:"GREGORIAN",PRODID:`-//Bryntum AB//Bryntum Scheduler ${a.default.scheduler&&a.default.getVersion("scheduler")||a.default.calendar&&a.default.getVersion("calendar")||""} //EN`,END:"VCALENDAR"},c=d(d(d(d({BEGIN:"VEVENT",UID:this.id+"@bryntum.com",CLASS:"PUBLIC",SUMMARY:this.name,DTSTAMP:i},s),this.recurrenceRule?{RRULE:this.recurrenceRule}:{}),e),{},{END:"VEVENT"}),u=Object.keys(l).map(e=>`${e}:${l[e]}`),h=Object.keys(c).map(e=>`${e}:${c[e]}`);return u.splice(u.length-1,0,...h),u.join("\n")}exportToICS(e){if(this.isScheduled){const t=new Blob([this.toICSString(e)],{type:"text/calendar"});s.default.downloadBlob(t,(this.name||"Event")+".ics")}}isEditable(e){return!!this.getFieldDefinition(e)||void 0}isFieldModified(e){return"fullDuration"===e?super.isFieldModified("duration")||super.isFieldModified("durationUnit"):super.isFieldModified(e)}}h._$name="TimeSpan"},"./lib/Scheduler/model/mixin/AssignmentModelMixin.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"AssignmentModelMixin"}static get fields(){return["resourceId","eventId",{name:"drawDependencies",type:"boolean"},"event","resource"]}construct(e,...t){null!=(e=e||{}).eventId&&(e.event=e.eventId),null!=e.resourceId&&(e.resource=e.resourceId),super.construct(e,...t)}get eventResourceKey(){const e=this;return`${e.event?e.eventId:e.getData("eventId")||e.internalId}-${e.resource?e.resourceId:e.getData("resourceId")||e.internalId}`}set(e,t,...n){const r=this.fieldToKeys(e,t);var i,o;"resource"in r&&(r.resourceId=null===(i=r.resource)||void 0===i?void 0:i.id),"event"in r&&(r.eventId=null===(o=r.event)||void 0===o?void 0:o.id),super.set(r,null,...n)}set resourceId(e){const{resource:t}=this;null!==t&&void 0!==t&&t.isModel&&t.id===e?this.set("resourceId",e):this.resource=e}get resourceId(){var e;return this.get("resourceId")||(null===(e=this.resource)||void 0===e?void 0:e.id)}set eventId(e){const{event:t}=this;null!==t&&void 0!==t&&t.isModel&&t.id===e?this.set("eventId",e):this.event=e}get eventId(){var e;return this.get("eventId")||(null===(e=this.event)||void 0===e?void 0:e.id)}get eventName(){var e;return null===(e=this.event)||void 0===e?void 0:e.name}get resourceName(){var e;return null===(e=this.resource)||void 0===e?void 0:e.name}getResource(){return this.resource}get isAssignment(){return!0}get isPersistable(){const{event:e,resource:t,unjoinedStores:n,assignmentStore:r}=this,i=null===r||void 0===r?void 0:r.crudManager;let o;return o=r?this.isValid&&e.isPersistable&&(i||!e.hasGeneratedId&&!t.hasGeneratedId):Boolean(n[0]),o&&super.isPersistable}get isValid(){return null!=this.resource&&null!=this.event}toString(){return this.resourceName?`${this.resourceName} ${this.units}%`:""}}},"./lib/Scheduler/model/mixin/EventModelMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/helper/ArrayHelper.js");t.default=e=>class extends e{static get $name(){return"EventModelMixin"}static get isEventModel(){return!0}static get fields(){return[{name:"resourceId",internal:!0},{name:"resources",column:{type:"resourceassignment"},internal:!0},{name:"draggable",type:"boolean",persist:!1,defaultValue:!0,internal:!0},{name:"resizable",persist:!1,defaultValue:!0,internal:!0},{name:"allDay",type:"boolean",defaultValue:!1},{name:"eventStyle",internal:!0},{name:"eventColor",internal:!0},{name:"milestoneWidth",internal:!0},{name:"$highlight",persist:!1,internal:!0},{name:"stickyContents",internal:!0}]}get resources(){return this.assignments.reduce((e,t)=>(t.resource&&e.push(t.resource),e),[])}set resources(e){Array.isArray(e)||(e=[e]);const t=this,n=e.map(t.constructor.asId),r=t.assignments.map(e=>e.resource.id),{onlyInA:o,onlyInB:a}=i.default.delta(n,r);t.assignmentStore.add(o.map(e=>({resource:e,event:t}))),t.assignmentStore.remove(a.map(e=>t.assignments.find(t=>t.resource.id===e)))}forEachResource(e,t=this){for(const n of this.resources)if(!1===e.call(t,n))return}getResource(e){return null==e?this.resource:this.resourceStore?this.resourceStore.getById(e):null}get startDate(){let e;var t;return e=this.isOccurrence?this.get("startDate"):null!==(t=this._startDate)&&void 0!==t?t:super.startDate,this.allDay&&(e=this.constructor.getAllDayStartDate(e)),e}set startDate(e){this.batching?(this._startDate=e,this.set({startDate:e})):super.startDate=e}get endDate(){let e;var t;return e=this.isOccurrence?this.get("endDate"):null!==(t=this._endDate)&&void 0!==t?t:super.endDate,this.allDay&&(e=this.constructor.getAllDayEndDate(e)),e}set endDate(e){this.batching?(this._endDate=e,this.set({endDate:e})):super.endDate=e}get isEvent(){return!0}get isDraggable(){return this.draggable}get isResizable(){return!this.isMilestone&&this.resizable}get isPersistable(){return super.isPersistable&&!this.meta.isCreating}get usesSingleAssignment(){return!this.eventStore||this.eventStore.usesSingleAssignment}get persistableData(){const e=super.persistableData;return this.usesSingleAssignment||delete e.resourceId,e}get resource(){const{resources:e}=this;return e.length?e[0]:null}set resource(e){this.resourceId=this.constructor.asId(e)}get resourceId(){var e;return this.usesSingleAssignment?this.get("resourceId"):null===(e=this.resource)||void 0===e?void 0:e.id}set resourceId(e){this.applyResourceId(e)}applyResourceId(e,t=!1){const n=this,{assignments:r,assignmentStore:i,eventStore:o}=n;if(o)if(null!=e)if(n.skipEnforcingSingleAssignment||(o.usesSingleAssignment=!0),null!==r&&void 0!==r&&r.length&&e!==r[0].resourceId){const t=Boolean(o.eventsSuspended);t&&i.suspendEvents(),r[0].resource=e,t&&i.resumeEvents()}else i.assignEventToResource(n,e);else i.remove(n.assignments);else t||n.set({resourceId:e})}applyValue(e,t,n,r,i){if(i&&"resourceId"===i.name&&!this.meta.isAssigning){const{eventStore:e}=this;e&&(e.isAssigning=!0),this.applyResourceId(n,!0),e&&(e.isAssigning=!1)}super.applyValue(e,t,n,r,i)}get assignments(){return[...this.assigned||[]]}assign(e,t=!1){const{eventStore:n}=this;n&&!n.usesSingleAssignment?n.assignEventToResource(this,e,t):(this.resourceId=this.constructor.asId(e),n||(this.meta.skipEnforcingSingleAssignment=!0))}unassign(e,t=!1){var n;const r=this;e=r.constructor.asId(e),r.meta.removingResource=t,null===(n=r.eventStore)||void 0===n||n.unassignEventFromResource(r,e),r.meta.removingResource=null}reassign(e,t){this.eventStore&&this.eventStore.reassignEventFromResourceToResource(this,e,t)}isAssignedTo(e){const t=this.constructor.asId(e);return this.assignments.some(e=>e.resourceId===t)}get predecessors(){return[...this.incomingDeps]}get successors(){return[...this.outgoingDeps]}get dependencies(){return[...this.incomingDeps,...this.outgoingDeps]}normalize(){}inSetNormalize(){}get recurringEvent(){return this.recurringTimeSpan}get isInterDay(){const{durationMS:e}=this;if(e>=864e5)return!0;const{endDate:t,startDate:n}=this,i=r.default.clearTime(n);return n&&t?(i.setDate(i.getDate()+1),(t||r.default.add(n,e))>i):void 0}static getAllDayStartDate(e){return e&&e.isEvent&&(e=e.get("startDate")),e&&(e=r.default.clearTime(e,!0)),e}static getAllDayEndDate(e){return e&&e.isEvent&&(e=e.get("endDate")),e&&(e.getHours()>0||e.getMinutes()>0||e.getSeconds()>0||e.getMilliseconds()>0)&&(e=r.default.getNext(e,"d",1)),e}static getAllDayDisplayStartDate(e){return e&&e.isEvent&&(e=e.get("startDate")),r.default.clearTime(e,!0)}static getAllDayDisplayEndDate(e,t){return e&&e.isEvent&&(t=e.get("endDate"),e=e.get("startDate")),t&&(e=this.constructor.getAllDayDisplayStartDate(e),r.default.clearTime(t,!0).valueOf()===t.valueOf()?t=r.default.add(t,r.default.DAY,-1):e.valueOf()!==t.valueOf()&&(t=r.default.clearTime(t,!0))),t}isEditable(e){switch(e){case"endDate":case"duration":case"fullDuration":return this.isLeaf}return super.isEditable(e)}}},"./lib/Scheduler/model/mixin/ProjectModelMixin.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/data/Model.js"),i=n("./lib/Scheduler/model/EventModel.js"),o=n("./lib/Scheduler/model/DependencyModel.js"),a=n("./lib/Scheduler/model/ResourceModel.js"),s=n("./lib/Scheduler/model/AssignmentModel.js"),l=n("./lib/Scheduler/model/ResourceTimeRangeModel.js"),c=n("./lib/Scheduler/model/TimeSpan.js"),d=n("./lib/Core/data/Store.js"),u=n("./lib/Core/helper/StringHelper.js"),h=n("./lib/Scheduler/data/EventStore.js"),f=n("./lib/Scheduler/data/DependencyStore.js"),g=n("./lib/Scheduler/data/ResourceStore.js"),m=n("./lib/Scheduler/data/AssignmentStore.js"),p=n("./lib/Scheduler/data/ResourceTimeRangeStore.js");t.default=e=>class extends(e||r.default){static get $name(){return"ProjectModelMixin"}static get defaultConfig(){return{stm:{},eventModelClass:i.default,dependencyModelClass:o.default,timeRangeModelClass:c.default,resourceTimeRangeModelClass:l.default,resourceModelClass:a.default,assignmentModelClass:s.default,eventStoreClass:h.default,dependencyStoreClass:f.default,resourceStoreClass:g.default,assignmentStoreClass:m.default,timeRangeStoreClass:d.default,resourceTimeRangeStoreClass:p.default,eventStore:{},assignmentStore:{},dependencyStore:{},resourceStore:{},timeRangeStore:null,resourceTimeRangeStore:null}}get inlineData(){return u.default.safeJsonParse(super.json)}set inlineData(e){this.json=e}construct(e={}){super.construct(...arguments);const t=this;t.timeRangeStore||(t.timeRangeStore=new t.timeRangeStoreClass({modelClass:t.timeRangeModelClass,storeId:"timeRanges"})),t.resourceTimeRangeStore||(t.resourceTimeRangeStore=new t.resourceTimeRangeStoreClass({modelClass:t.resourceTimeRangeModelClass})),t.resourceTimeRangesData&&(t.resourceTimeRangeStore.data=t.resourceTimeRangesData),t.timeRangesData&&(t.timeRangeStore.data=t.timeRangesData)}toJSON(){const e=this,t={eventsData:e.eventStore.toJSON(),resourcesData:e.resourceStore.toJSON(),dependenciesData:e.dependencyStore.toJSON()};return e.eventStore.usesSingleAssignment||(t.assignmentsData=e.assignmentStore.toJSON()),t}get json(){return super.json}set json(e){"string"===typeof e&&(e=u.default.safeJsonParse(e)),this.loadInlineData(e)}afterChange(e,t){super.afterChange(...arguments),t.calendar&&this.trigger("calendarChange")}doDestroy(){this.timeRangeStore.destroy(),this.resourceTimeRangeStore.destroy(),super.doDestroy()}}},"./lib/Scheduler/model/mixin/RecurringTimeSpan.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Scheduler/model/TimeSpan.js"),i=n("./lib/Scheduler/model/RecurrenceModel.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Scheduler/data/util/recurrence/AbstractRecurrenceIterator.js");function s(e){const t={},{dateFormat:n}=this;return e&&(e="string"==typeof e?e.split(","):Array.isArray(e)?e:[e]).forEach(e=>{"string"==typeof e&&(e=o.default.parse(e,n)),isNaN(e)||(t[o.default.makeKey(e)]=1)}),t}function l(e){const t=[],{dateFormat:n}=this;for(const r in e)e[r]&&t.push(o.default.format(o.default.parseKey(r),n));return t}const c=[];t.default=e=>class extends(e||r.default){static get $name(){return"RecurringTimeSpan"}get supportsRecurring(){return!0}static get fields(){return[{name:"recurrenceRule",internal:!0},{name:"exceptionDates",convert:s,serialize:l,internal:!0}]}remove(){if(!this.isOccurrence)return super.remove(...arguments);this.cancelBatch(),this.detachFromRecurringEvent()}get eventStore(){var e;let t=this.isOccurrence?this.recurringEvent.eventStore:super.eventStore;return!t&&null!==(e=this.firstStore)&&void 0!==e&&e.isRecurringTimeSpansMixin&&(t=this.firstStore),t}get recurrenceModel(){return this._recurrenceModel||i.default}set recurrenceModel(e){this._recurrenceModel=e}setRecurrence(e,t,n){const r=this;let i;e&&(e.isRecurrenceModel||("string"===typeof e&&(e={frequency:e},t&&(e.interval=t),n&&(n instanceof Date?e.endDate=n:e.count=n)),e=new r.recurrenceModel(e)),e.timeSpan=r,i=e.rule),r.recurrence=e,r.recurrenceRule=i}get recurrence(){const e=this,t=e.recurrenceRule;return!e._recurrence&&t&&(e._recurrence=new e.recurrenceModel({rule:t,timeSpan:e,id:e.id+"-recurrence"})),e._recurrence}set recurrence(e){const t=this;t._recurrence=e,e?(e.timeSpan=t,t.recurrenceRule=e.rule):t.isOccurrence?t.setData("recurrenceRule",null):t.recurrenceRule=null}get isRecurring(){return Boolean(!this.isOccurrence&&this.recurrence)}get isOccurrence(){return Boolean(this.recurringTimeSpan)}get recurringTimeSpan(){return this._recurringTimeSpan}get isPersistable(){return super.isPersistable&&(!this.supportsRecurring||!this.isOccurrence)}set recurringTimeSpan(e){this._recurringTimeSpan=e}getOccurrencesForDateRange(e,t=e){return this.eventStore.getOccurrencesForTimeSpan(this,e,t)}get occurrences(){if(this.isRecurring){const e=[];return this.occurrenceMap.forEach(t=>{t!==this&&e.push(t)}),e}return c}get occurrenceMap(){return this._occurrencesMap||(this._occurrencesMap=new Map)}removeOccurrence(e){var t;const n=e.isTimeSpan?e.occurrenceDate:e;null===(t=this.eventStore)||void 0===t||t.globalOccurrences.delete(this.createRecurrenceKey(n)),this.occurrenceMap.delete(o.default.makeKey(n))}removeOccurrencesFrom(e){this.occurrenceMap.forEach((t,n)=>{o.default.parseKey(n)>=e&&this.removeOccurrence(t)})}removeOccurrences(){[this,...this.occurrences].forEach(e=>this.removeOccurrence(e))}onRecurrenceChanged(){var e;this.recurrenceRule=(null===(e=this.recurrence)||void 0===e?void 0:e.rule)||null}get occurrenceDate(){var e;return(null===(e=this.meta.modified)||void 0===e?void 0:e.startDate)||this.startDate}get occurrenceIndex(){return a.default.getOccurrenceIndex(this)}buildOccurrence(e,t){var n;const r=this,{occurrenceMap:i,recurrence:a,meta:s}=r,l=null===(n=r.eventStore)||void 0===n?void 0:n.globalOccurrences,c=r.createRecurrenceKey(e),d=!(e-r.startDate),{fieldMap:u}=r.constructor;let h=null===l||void 0===l?void 0:l.get(c),{duration:f}=r;!r.endDate||!r.allDay&&f||(f=o.default.as(r.durationUnit,r.endDate.getTime()-r.startDate.getTime()));const g=void 0!==f?o.default.add(e,f,r.durationUnit):void 0;return h||(t||d?(h=r,d||(r.setStartEndDate(e,g,!0),a.suspendTimeSpanNotifying(),a.sanitize(),a.resumeTimeSpanNotifying()),s.isSyncedWithRule=!0):(h=r.copy({[u.id.dataSource]:c,[u.startDate.dataSource]:e,[u.endDate.dataSource]:g,[u.duration.dataSource]:f}),h.recurringTimeSpan=r),null===l||void 0===l||l.set(c,h),i.set(o.default.makeKey(e),h)),h}createRecurrenceKey(e=this.startDate){return`_generated:${this.id}:${o.default.format(e,"YYYYMMDD")}`}afterChange(e,t,n,...r){const i=this,{eventStore:o}=i;if("recurrenceRule"in t&&(i._recurrence=null,null===o||void 0===o||o.recurringEvents[t.recurrenceRule.value?"add":"delete"](i)),i.isOccurrence){var a,s;const{recurringTimeSpan:e,resource:n,occurrenceIndex:r,recurrence:o}=i,l=(null===(a=t.startDate)||void 0===a?void 0:a.value)||i.startDate,c=o&&e.recurrence.count,d=(null===(s=t.resourceRecords)||void 0===s?void 0:s.value)||i.data.newResource;e.beginBatch(),i.detachFromRecurringEvent(),i.clearChanges(),i.setData("id",i.generateId(e.eventStore)),d&&delete i.data.resourceId,e.eventStore.add(i,!0),i.startDate=l,c&&(i.recurrence.count=c-r),i.assign(d||n),delete i.data.resourceRecords,delete t.resourceRecords,e.endBatch()}else"newExceptionDate"in t&&(i.meta.modified.exceptionDates=!0,delete i.meta.modified.newExceptionDate,i.removeOccurrence(t.newExceptionDate.value));return super.afterChange(e,t,n,...r)}detachFromRecurringEvent(){const{recurringTimeSpan:e,occurrenceDate:t,startDate:n}=this;this.recurringTimeSpan=null,e.addExceptionDate(t),this.recurrenceRule&&(e.recurrence.endDate=o.default.add(n,-1,"minute"))}set newExceptionDate(e){e&&((this.exceptionDates||(this.exceptionDates={}))[o.default.makeKey(e)]=1)}addExceptionDate(e){return this.set({newExceptionDate:e})}hasException(e){var t;return null===(t=this.exceptionDates)||void 0===t?void 0:t[o.default.makeKey(e)]}}},"./lib/Scheduler/model/mixin/ResourceModelMixin.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"ResourceModelMixin"}static get isResourceModel(){return!0}static get fields(){return[{name:"name",type:"string",persist:!0},"eventColor","eventStyle","imageUrl","image",{name:"resourceMargin",type:"number"},{name:"barMargin",type:"number"},"eventLayout"]}updateAssignmentResourceIds(){this.assigned.forEach(e=>{e.resourceId=this.id})}syncId(e){super.syncId(e),this.updateAssignmentResourceIds()}get events(){return this.assignments.reduce((e,t)=>(t.event&&e.push(t.event),e),[])}get assignments(){return this.assigned?[...this.assigned]:[]}set assignments(e){e.forEach(e=>{e.resource=this})}getEvents(){return this.events}get isPersistable(){return super.isPersistable&&(!this.parent||this.parent.isPersistable)}unassignAll(){this.assignments&&this.assignmentStore.remove(this.assignments)}get initials(){const{name:e=""}=this;if(!e)return"";const t=e.split(" ");return t[0][0]+(t.length>1?t[t.length-1][0]:"")}}},"./lib/Scheduler/preset/PresetManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/helper/ObjectHelper.js"),o=n("./lib/Scheduler/preset/ViewPreset.js"),a=n("./lib/Scheduler/preset/PresetStore.js");class s extends a.default{static get $name(){return"PresetManager"}static get defaultConfig(){return{preventSubClassingModel:!0,basePresets:{secondAndMinute:{name:"Seconds",tickWidth:30,tickHeight:40,displayDateFormat:"ll LTS",shiftIncrement:10,shiftUnit:"minute",defaultSpan:24,timeResolution:{unit:"second",increment:5},headers:[{unit:"minute",dateFormat:"llll"},{unit:"second",increment:10,dateFormat:"ss"}]},minuteAndHour:{name:"Minutes",tickWidth:60,tickHeight:60,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"hour",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"hour",dateFormat:"ddd MM/DD, hA"},{unit:"minute",increment:30,dateFormat:"mm"}]},hourAndDay:{name:"Hours",tickWidth:70,tickHeight:40,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"day",dateFormat:"ddd DD/MM"},{unit:"hour",dateFormat:"LT"}]},day:{name:"Hours 2",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:1,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"day",dateFormat:"ddd DD/MM",splitUnit:"day"},{unit:"hour",renderer:e=>`\n                                    <div class="b-sch-calendarcolumn-ct"><span class="b-sch-calendarcolumn-hours">${r.default.format(e,"HH")}</span>\n                                    <span class="b-sch-calendarcolumn-minutes">${r.default.format(e,"mm")}</span></div>\n                                `}]},week:{name:"Week/hours",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"week",defaultSpan:24,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"D d",splitUnit:"day"},{unit:"hour",dateFormat:"LT",renderer:e=>`\n                                    <div class="sch-calendarcolumn-ct">\n                                    <span class="sch-calendarcolumn-hours">${r.default.format(e,"HH")}</span>\n                                    <span class="sch-calendarcolumn-minutes">${r.default.format(e,"mm")}</span>\n                                    </div>\n                                `}]},dayAndWeek:{name:"Days 2",tickWidth:100,tickHeight:80,displayDateFormat:"ll LT",shiftUnit:"day",shiftIncrement:1,defaultSpan:5,timeResolution:{unit:"hour",increment:1},headers:[{unit:"week",renderer:e=>r.default.getShortNameOfUnit("week")+"."+r.default.format(e,"WW MMM YYYY")},{unit:"day",dateFormat:"dd DD"}]},weekAndDay:{name:"Days",tickWidth:100,tickHeight:80,displayDateFormat:"ll hh:mm A",shiftUnit:"week",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"YYYY MMMM DD"},{unit:"day",increment:1,dateFormat:"DD MMM"}]},weekAndMonth:{name:"Weeks",tickWidth:100,tickHeight:105,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:5,defaultSpan:6,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"MMM YYYY"},{unit:"week",dateFormat:"DD MMM"}]},weekAndDayLetter:{name:"Weeks 2",tickWidth:20,tickHeight:50,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"ddd DD MMM YYYY",verticalColumnWidth:115},{unit:"day",dateFormat:"d1",verticalColumnWidth:25}]},weekDateAndMonth:{name:"Weeks 3",tickWidth:30,tickHeight:40,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"YYYY MMMM"},{unit:"week",dateFormat:"DD"}]},monthAndYear:{name:"Months",tickWidth:110,tickHeight:110,displayDateFormat:"ll",shiftIncrement:3,shiftUnit:"month",defaultSpan:12,timeResolution:{unit:"day",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"month",dateFormat:"MMM YYYY"}]},year:{name:"Years",tickWidth:100,tickHeight:100,resourceColumnWidth:100,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"month",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"quarter",renderer:(e,t,n)=>r.default.getShortNameOfUnit("quarter").toUpperCase()+(Math.floor(e.getMonth()/3)+1)}]},manyYears:{name:"Years 2",tickWidth:40,tickHeight:50,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"year",increment:1},mainHeaderLevel:0,headers:[{unit:"year",dateFormat:"YYYY",increment:5},{unit:"year",dateFormat:"YY",increment:1}]}},defaultPresets:["manyYears",{width:80,increment:1,resolution:1,preset:"manyYears",resolutionUnit:"YEAR"},"year",{width:30,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:50,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:200,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},"monthAndYear","weekDateAndMonth","weekAndMonth","weekAndDayLetter","weekAndDay",{width:54,increment:1,resolution:1,preset:"weekAndDay",resolutionUnit:"HOUR"},"hourAndDay",{width:64,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:100,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:64,increment:2,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},"minuteAndHour",{width:30,increment:15,resolution:5,preset:"minuteAndHour"},{width:130,increment:15,resolution:5,preset:"minuteAndHour"},{width:60,increment:5,resolution:5,preset:"minuteAndHour"},{width:100,increment:5,resolution:5,preset:"minuteAndHour"},"secondAndMinute",{width:60,increment:10,resolution:5,preset:"secondAndMinute"},{width:130,increment:5,resolution:5,preset:"secondAndMinute"}],listeners:{locale:"updateLocalization"}}}set basePresets(e){const t=this._basePresets={};for(const n in e)e[n].id=n,t[n]=this.createRecord(e[n])}get basePresets(){return this._basePresets}set defaultPresets(e){for(let t=0,{length:n}=e;t<n;t++){const n=e[t],o="string"===typeof n,a=o?n:n.preset;let s;if(o)s=this.basePresets[a];else{const e=Object.setPrototypeOf(i.default.clone(this.basePresets[a].data),{id:a}),{timeResolution:t}=e,o=e.headers[e.headers.length-1];e.id=void 0,"width"in n&&(e.tickWidth=n.width),"height"in n&&(e.tickHeight=n.height),"increment"in n&&(o.increment=n.increment),"resolution"in n&&(t.increment=n.resolution),"resolutionUnit"in n&&(t.unit=r.default.getUnitByName(n.resolutionUnit)),s=this.createRecord(e),s.baseId=a}this.add(s)}}getById(e){return super.getById(e)||this.basePresets[e]}registerPreset(e,t){const n=this.createRecord(Object.assign({id:e},t)),r=this.find(e=>e.equals(n));if(r)return r;if(!n.isValid)throw new Error("Invalid preset, please check your configuration");return this.add(n),n}getPreset(e){return"number"===typeof e&&(e=this.getAt(e)),"string"===typeof e?e=this.getById(e):e instanceof o.default||(e=this.createRecord(e)),e}normalizePreset(e){const t=this;if(!(e instanceof o.default))if("string"===typeof e){if(!(e=t.getPreset(e)))throw new Error("You must define a valid view preset. See PresetManager for reference")}else if("object"===typeof e){if(e.base){const t=this.getById(e.base);if(!t)throw new Error(`ViewPreset base '${e.base}' does not exist`);e=i.default.merge(i.default.clone(t.data),e)}e.id?e=t.createRecord(e):(e=t.createRecord(i.default.assign({},e))).id=e.generateId(e)}return e}deletePreset(e){"string"===typeof e?e=this.getById(e):"number"===typeof e&&(e=this.getAt(e)),e&&(this.remove(e),delete this.basePresets[e.id])}}const l=new s},"./lib/Scheduler/preset/PresetStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Scheduler/preset/ViewPreset.js"),o=n("./lib/Core/localization/Localizable.js"),a=n("./lib/Core/data/Store.js"),s=n("./lib/Scheduler/preset/PresetManager.js"),l=n("./lib/Core/helper/ObjectHelper.js");class c extends(Object(o.default)(a.default)){static get $name(){return"PresetStore"}static get defaultConfig(){return{useRawData:!0,modelClass:i.default,zoomOrder:1}}set storage(e){super.storage=e,this.storage.addSorter((e,t)=>{const n=e.bottomHeader,i=t.bottomHeader;return(t.msPerPixel-e.msPerPixel||r.unitMagnitudes[n.unit]-r.unitMagnitudes[i.unit]||n.increment-i.increment)*this.zoomOrder})}get storage(){return super.storage}createRecord(e,...t){if(e.base){const t=this.getById(e.base)||s.default.getById(e.base);e=l.default.assign({},e),Object.setPrototypeOf(e,t.data)}return super.createRecord(e,...t)}updateLocalization(){super.updateLocalization();const e=this;let t=e.allRecords;e.isPresetManager&&(t=new Set(t.concat(Object.values(e.basePresets)))),t.forEach(t=>{let n=e.optionalL(t.id);"string"===typeof n&&t.baseId&&(n=e.optionalL(t.baseId)),n&&"object"===typeof n&&(t.originalDisplayDateFormat||(t.originalDisplayDateFormat=t.displayDateFormat),0===t.mainHeaderLevel&&n.topDateFormat&&(n.middleDateFormat=n.middleDateFormat||n.topDateFormat),t.setData("displayDateFormat",n.displayDateFormat||t.originalDisplayDateFormat),["top","middle","bottom"].forEach(e=>{const r=t.headerConfig[e],i=n[e+"DateFormat"];r&&(r.originalDateFormat||(r.originalDateFormat=r.dateFormat),i&&r.renderer&&(r.renderer=null),r.dateFormat=i||r.originalDateFormat)}))})}}c._$name="PresetStore"},"./lib/Scheduler/preset/ViewPreset.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Core/helper/IdHelper.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/StringHelper.js");class s extends r.default{static get fields(){return[{name:"name",type:"string"},{name:"rowHeight",defaultValue:24},{name:"tickWidth",defaultValue:50},{name:"tickHeight",defaultValue:50},{name:"displayDateFormat",defaultValue:"HH:mm"},{name:"shiftUnit",defaultValue:"hour"},{name:"shiftIncrement",defaultValue:1},{name:"defaultSpan",defaultValue:12},"timeResolution","headers","mainHeaderLevel","columnLinesFor"]}construct(e){super.construct(...arguments),this.normalizeUnits()}generateId(e){const t=this,{headers:n}=t,r=[];let o=Object.getPrototypeOf(t.data).id;if(!o){for(let{length:e}=n,t=e-1;t>=0;t--)r.push(t?n[t].unit:a.default.capitalize(n[t].unit));o=r.join("And")}return e.includes(o)&&(o+=`-${t.tickWidth}by${t.tickHeight||t.tickWidth}`,e.includes(o)&&(o+="-"+t.bottomHeader.increment,e.includes(o)&&(o=i.default.generateId(o+"-")))),o}normalizeUnits(){const e=this,{timeResolution:t,headers:n}=e;for(let r=0,{length:i}=n;r<i;r++){const e=n[r];e.unit=o.default.normalizeUnit(e.unit),e.splitUnit&&(e.splitUnit=o.default.normalizeUnit(e.splitUnit)),"increment"in e||(n[r]=Object.assign({increment:1},e))}t&&(t.unit=o.default.normalizeUnit(t.unit)),e.shiftUnit&&(e.shiftUnit=o.default.normalizeUnit(e.shiftUnit))}static normalizeHeaderConfig(e){const{headerConfig:t,columnLinesFor:n,mainHeaderLevel:r}=e,i=e.headers=[];if(t.top&&("top"===n&&(e.columnLinesFor=0),"top"===r&&(e.mainHeaderLevel=0),i[0]=t.top),!t.middle)throw new Error("ViewPreset.headerConfig must be configured with a middle");"middle"===n&&(e.columnLinesFor=i.length),"middle"===r&&(e.mainHeaderLevel=i.length),i.push(t.middle),t.bottom&&(e.mainHeaderLevel=i.length-1,null==n?e.columnLinesFor=i.length-1:"bottom"===n&&(e.columnLinesFor=i.length),null==r&&(e.mainHeaderLevel=i.length-1),"bottom"===r&&(e.mainHeaderLevel=i.length),i.push(t.bottom))}set(){}inSet(){}get columnLinesFor(){return"columnLinesFor"in this.data?this.data.columnLinesFor:this.headers.length-1}get tickSize(){return this._tickSize||this.tickWidth}get tickWidth(){return"tickWidth"in this.data?this.data.tickWidth:50}get tickHeight(){return"tickHeight"in this.data?this.data.tickHeight:50}get headerConfig(){if(this.data.headerConfig)return this.data.headerConfig;const e={},{headers:t}=this,{length:n}=t;switch(n){case 1:e.middle=t[0];break;case 2:0===this.mainHeaderLevel?(e.middle=t[0],e.bottom=t[1]):(e.top=t[0],e.middle=t[1]);break;case 3:e.top=t[0],e.middle=t[1],e.bottom=t[2];break;default:throw new Error("headerConfig object not supported for >3 header levels")}return e}set mainHeaderLevel(e){this.data.mainHeaderLevel=e}get mainHeaderLevel(){return"mainHeaderLevel"in this.data?this.data.mainHeaderLevel:3===this.data.headers.length?1:this.headers.length-1}get mainHeader(){return this.headers[this.mainHeaderLevel]}get bottomHeader(){return this.headers[this.headers.length-1]}get leafUnit(){return this.bottomHeader.unit}get mainUnit(){return this.mainHeader}get msPerPixel(){const{bottomHeader:e}=this;return Math.round(o.default.asMilliseconds(e.increment||1,e.unit)/this.tickWidth)}get isValid(){const e=this;let t=!0;for(const n of e.headers)t=t&&Boolean(o.default.normalizeUnit(n.unit));return e.timeResolution&&(t=t&&o.default.normalizeUnit(e.timeResolution.unit)),e.shiftUnit&&(t=t&&o.default.normalizeUnit(e.shiftUnit)),t}}s._$name="ViewPreset"},"./lib/Scheduler/tooltip/ClockTemplate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/StringHelper.js");class a extends r.default{static get defaultConfig(){return{minuteHeight:8,minuteTop:2,hourHeight:8,hourTop:2,handLeft:10,div:document.createElement("div"),scheduler:null,template(e){return`<div class="b-sch-clockwrap b-sch-clock-${e.mode||this.mode} ${e.cls||""}">\n                    <div class="b-sch-clock">\n                        <div class="b-sch-hour-indicator">${i.default.format(e.date,"MMM")}</div>\n                        <div class="b-sch-minute-indicator">${i.default.format(e.date,"D")}</div>\n                        <div class="b-sch-clock-dot"></div>\n                    </div>\n                    <span class="b-sch-clock-text">${o.default.encodeHtml(e.text)}</span>\n                </div>`}}}generateContent(e){const t=e.date,n=this.template(e),r=this.div;return r.innerHTML=n,this.updateDateIndicator(r,t),r.innerHTML}updateDateIndicator(e,t){const n=e.querySelector(".b-sch-hour-indicator"),r=e.querySelector(".b-sch-minute-indicator");t&&n&&r&&("hour"===this.mode?(n.style.transform=`rotate(${t.getHours()%12*30}deg)`,r.style.transform=`rotate(${6*t.getMinutes()}deg)`):(n.style.transform="none",r.style.transform="none"))}set mode(e){this._mode=e}get mode(){if(this._mode)return this._mode;const e=i.default.compareUnits(this.scheduler.timeAxisViewModel.timeResolution.unit,"day")<0,t=i.default.formatContainsHourInfo(this.scheduler.displayDateFormat);return e&&t?"hour":"day"}set template(e){this._template=e}get template(){return this._template}}a._$name="ClockTemplate"},"./lib/Scheduler/util/RectangularPathFinder.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/WalkHelper.js");class o extends r.default{static get defaultConfig(){return{startSide:"right",startArrowSize:0,startArrowMargin:12,startShift:0,endSide:"left",endArrowSize:0,endArrowMargin:12,endShift:0,verticalMargin:2,horizontalMargin:5,otherBoxes:null}}findPath(e,t){let n,r,i,o,a,s,l,c,d,u,h,f,g,m,p,v,b,y,C,S,w,E,D,x,j,T,R,M,k,P,O,F=this;for(t&&!Array.isArray(t)&&(t=[t]),O=0;e&&!P;)for(n=Object.assign(F.config,e),r=n.startBox,i=n.endBox,o=n.startShift,a=n.endShift,s=n.startSide,l=n.endSide,c=n.startArrowSize,d=n.endArrowSize,u=n.startArrowMargin,h=n.endArrowMargin,f=n.horizontalMargin,g=n.verticalMargin,m=n.hasOwnProperty("startHorizontalMargin")?n.startHorizontalMargin:f,p=n.hasOwnProperty("startVerticalMargin")?n.startVerticalMargin:g,v=n.hasOwnProperty("endHorizontalMargin")?n.endHorizontalMargin:f,b=n.hasOwnProperty("endVerticalMargin")?n.endVerticalMargin:g,y=n.hasOwnProperty("otherHorizontalMargin")?n.otherHorizontalMargin:f,C=n.hasOwnProperty("otherVerticalMargin")?n.otherVerticalMargin:g,S=n.otherBoxes,s=F.normalizeSide(s),l=F.normalizeSide(l),w=F.getConnectionCoordinatesFromBoxSideShift(r,s,o),E=F.getConnectionCoordinatesFromBoxSideShift(i,l,a),R=F.calcGridBaseBoxFromBoxAndDrawParams(r,s,c,u,m,p),M=F.calcGridBaseBoxFromBoxAndDrawParams(i,l,d,h,v,b),S=S&&S.map(e=>F.calcGridBaseBoxFromBoxAndDrawParams(e,!1,0,0,y,C)),D=F.getConnectionCoordinatesFromBoxSideShift(R,s,o),x=F.getConnectionCoordinatesFromBoxSideShift(M,l,a),k=F.buildPathGrid(R,M,D,x,s,l,S),j=F.convertDecartPointToGridPoint(k,D),T=F.convertDecartPointToGridPoint(k,x),P=F.findPathOnGrid(k,j,T,s,l),e=!1;!P&&!e&&t&&O<t.length;O++)e=t[O](n);return P&&(P=F.prependPathWithArrowStaffSegment(P,w,c,s),P=F.appendPathWithArrowStaffSegment(P,E,d,l),P=F.optimizePath(P)),P}getConnectionCoordinatesFromBoxSideShift(e,t,n){let r;switch(t){case"left":r={x:e.start,y:(e.top+e.bottom)/2+n};break;case"right":r={x:e.end,y:(e.top+e.bottom)/2+n};break;case"top":r={x:(e.start+e.end)/2+n,y:e.top};break;case"bottom":r={x:(e.start+e.end)/2+n,y:e.bottom}}return r}calcGridBaseBoxFromBoxAndDrawParams(e,t,n,r,i,o){let a;switch(t){case"left":a={start:e.start-Math.max(n+r,i),end:e.end+i,top:e.top-o,bottom:e.bottom+o};break;case"right":a={start:e.start-i,end:e.end+Math.max(n+r,i),top:e.top-o,bottom:e.bottom+o};break;case"top":a={start:e.start-i,end:e.end+i,top:e.top-Math.max(n+r,o),bottom:e.bottom+o};break;case"bottom":a={start:e.start-i,end:e.end+i,top:e.top-o,bottom:e.bottom+Math.max(n+r,o)};break;default:a={start:e.start-i,end:e.end+i,top:e.top-o,bottom:e.bottom+o}}return a}buildPathGrid(e,t,n,r,i,o,a){let s,l,c,d,u,h,f,g,m,p,v,b,y,C={},S=[];for(s=[e.start,"left"===i||"right"===i?(e.start+e.end)/2:n.x,e.end,t.start,"left"===o||"right"===o?(t.start+t.end)/2:r.x,t.end],l=[e.top,"top"===i||"bottom"===i?(e.top+e.bottom)/2:n.y,e.bottom,t.top,"top"===o||"bottom"===o?(t.top+t.bottom)/2:r.y,t.bottom],a&&a.forEach(e=>{s.push(e.start,(e.start+e.end)/2,e.end),l.push(e.top,(e.top+e.bottom)/2,e.bottom)}),s=[...new Set(s.sort((e,t)=>e-t))],l=[...new Set(l.sort((e,t)=>e-t))],h=0,g=l.length;h<g;++h)for(C[h]=C[h]||{},c=l[h],u=0,f=s.length;u<f;++u){if(d=s[u],b=(d<=e.start||d>=e.end||c<=e.top||c>=e.bottom)&&(d<=t.start||d>=t.end||c<=t.top||c>=t.bottom),a)for(m=0,p=a.length;b&&m<p;++m)v=a[m],b=d<=v.start||d>=v.end||c<=v.top||c>=v.bottom||d===n.x&&c===n.y||d===r.x&&c===r.y;y={distance:Math.pow(2,53)-1,permitted:b,x:d,y:c,ix:u,iy:h},C[h][u]=y,S.push(y)}return{width:s.length,height:l.length,xs:s,ys:l,points:C,linearPoints:S}}convertDecartPointToGridPoint(e,t){let n=e.xs.indexOf(t.x),r=e.ys.indexOf(t.y);return e.points[r][n]}findPathOnGrid(e,t,n,r,i){let o=this,a=!1;return t.permitted&&n.permitted&&(e=o.waveForward(e,t,0),a=o.collectPath(e,n,i)),a}getGridPointNeighbors(e,t,n){let r,i=t.ix,o=t.iy,a=[];return o<e.height-1&&(r=e.points[o+1][i],(!n||n(r))&&a.push(r)),o>0&&(r=e.points[o-1][i],(!n||n(r))&&a.push(r)),i<e.width-1&&(r=e.points[o][i+1],(!n||n(r))&&a.push(r)),i>0&&(r=e.points[o][i-1],(!n||n(r))&&a.push(r)),a}waveForward(e,t,n){const r=this;return i.default.preWalkUnordered([t,n],([t,n])=>r.getGridPointNeighbors(e,t,e=>e.permitted&&e.distance>n+1).map(e=>[e,n+1]),([e,t])=>e.distance=t),e}collectPath(e,t,n){let r,i,o,a,s=this,l=!0,c=[];for(;l&&t.distance;)if(r=s.getGridPointNeighbors(e,t,e=>e.permitted&&e.distance==t.distance-1),l=r.length>0,l){switch(r=r.sort((e,r)=>{let i,o;i=e.ix-t.ix,o=e.iy-t.iy;let a=("left"===n||"right"===n)&&0===o||("top"===n||"bottom"===n)&&0===i?-1:1;i=r.ix-t.ix,o=r.iy-t.iy;let s=("left"===n||"right"===n)&&0===o||("top"===n||"bottom"===n)&&0===i?-1:1;return a>s?1:a<s?-1:a===s?e.y>r.y?-1:1:void 0}),i=r[0],c.push({x1:i.x,y1:i.y,x2:t.x,y2:t.y}),o=i.ix-t.ix,a=i.iy-t.iy,!0){case!a&&o>0:n="left";break;case!a&&o<0:n="right";break;case!o&&a>0:n="top";break;case!o&&a<0:n="bottom"}t=i}return l&&c.reverse()||!1}prependPathWithArrowStaffSegment(e,t,n,r){let i,o;if(e.length>0){switch(o=e[0],i={x2:o.x1,y2:o.y1},r){case"left":i.x1=t.x-n,i.y1=o.y1;break;case"right":i.x1=t.x+n,i.y1=o.y1;break;case"top":i.x1=o.x1,i.y1=t.y-n;break;case"bottom":i.x1=o.x1,i.y1=t.y+n}e.unshift(i)}return e}appendPathWithArrowStaffSegment(e,t,n,r){let i,o;if(e.length>0){switch(o=e[e.length-1],i={x1:o.x2,y1:o.y2},r){case"left":i.x2=t.x-n,i.y2=o.y2;break;case"right":i.x2=t.x+n,i.y2=o.y2;break;case"top":i.x2=o.x2,i.y2=t.y-n;break;case"bottom":i.x2=o.x2,i.y2=t.y+n}e.push(i)}return e}optimizePath(e){let t,n,r=[];if(e.length>0)for(t=e.shift(),r.push(t);e.length>0;)n=e.shift(),t.x1==n.x1&&t.y1==n.y1&&t.x2==n.x2&&t.y2==n.y2?t=n:t.y1-t.y2===0&&n.y1-n.y2===0?t.x2=n.x2:t.x1-t.x2===0&&n.x1-n.x2===0?t.y2=n.y2:(r.push(n),t=n);return r}normalizeSide(e){return o.sideToSide[e]||e}static get sideToSide(){return{l:"left",r:"right",t:"top",b:"bottom"}}}o._$name="RectangularPathFinder"},"./lib/Scheduler/util/ScheduleTableExporter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/localization/Localizable.js"),i=n("./lib/Grid/util/TableExporter.js"),o=n("./lib/Scheduler/view/SchedulerBase.js");class a extends(Object(r.default)(i.default)){static get defaultConfig(){return{includeUnassigned:!0,eventColumns:[{text:"Task",field:"name"},{text:"Starts",field:"startDate",width:140},{text:"Ends",field:"endDate",width:140}],eventSortFn:null}}construct(e={},...t){super.construct(e,...t),this.eventSortFn||(this.eventSortFn=(e,t)=>e.internalId-t.internalId)}normalizeColumns(e){super.normalizeColumns(e),e.eventColumns=e.eventColumns.map(e=>"string"===typeof e?{field:e}:e)}generateExportData(e){const t=this.target instanceof o.default,n=this.generateColumns(e),r=t?this.generateEventColumns(e):[];return{columns:n.concat(r),rows:this.generateRows(e)}}generateEventColumns(e){return e.eventColumns.map(t=>this.processEventColumn(t,e))}processEventColumn(e,t){const{width:n,minWidth:r}=e,{defaultColumnWidth:i}=t;return{field:e.field,value:e.text,width:Math.max(n||i,r||i),eventColumn:!0,type:this.getColumnType(e,this.target.eventStore)}}generateRows(e){const t=this,{target:n}=t;let r;if(n instanceof o.default){if(r=[],n.resourceStore.map(n=>{const i=n.events||[];i.sort(t.eventSortFn),i.length||i.push(""),i.forEach(i=>r.push(t.getRowData(e,n,i)))}),e.includeUnassigned&&e.eventColumns.length){const i=n.eventStore.query(e=>!e.resources.length);if(i.length){const n=new Array(e.columns.length).fill("");n.push(t.L("L{ExcelExporter.No resource assigned}")),r.push(n),i.forEach(n=>r.push(t.getRowData(e,null,n)))}}r=r.filter(e=>e.length)}else r=super.generateRows(e);return r}getRowData(e,t,n){const{columns:r,eventColumns:i}=e,o=[],a=this.processRecord(t,r,e);if(a&&o.push(...a),!t||!t.isSpecialRow){const t=this.processRecord(n,i,e);t&&o.push(...t)}return o}}a._$name="ScheduleTableExporter"},"./lib/Scheduler/view/DependencyEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Popup.js");class i extends r.default{static get $name(){return"DependencyEditor"}static get defaultConfig(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible"}}processWidgetConfig(e){const t=this.dependencyEditFeature;return!("lagField"===e.ref&&!t.showLagField)&&!("deleteButton"===e.ref&&!t.showDeleteButton)&&(Object.assign(e,{}),super.processWidgetConfig(e))}afterShow(...e){const t=this.widgetMap.deleteButton;t&&(t.hidden=!this.record.isPartOfStore()),super.afterShow(...e)}onInternalKeyDown(e){this.trigger("keyDown",{event:e}),super.onInternalKeyDown(e)}}i._$name="DependencyEditor"},"./lib/Scheduler/view/EventEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Popup.js");class i extends r.default{static get type(){return"eventeditor"}static get $name(){return"EventEditor"}static get configurable(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible",scrollable:{overflowY:!0},readOnly:null,titleRenderer:null}}updateLocalization(){super.updateLocalization(...arguments),this.initialTitle=this.title||""}chainResourceStore(){return this.eventEditFeature.resourceStore.makeChained(e=>!e.isSpecialRow,null,{excludeCollapsedRecords:!1})}processWidgetConfig(e){var t;const{eventEditFeature:n}=this;if(null!==(t=e.type)&&void 0!==t&&t.includes("date")&&null==e.weekStartDay&&(e.weekStartDay=this.weekStartDay),"extraItems"===e.type)return!1;let r={};if("resourceField"===e.ref){if(!n.showResourceField)return!1;e.store=this.chainResourceStore(),e.multiSelect=!n.eventStore.usesSingleAssignment,n.resourceFieldConfig&&(r=n.resourceFieldConfig)}return!("nameField"===e.ref&&!n.showNameField)&&!("deleteButton"===e.ref&&!n.showDeleteButton)&&("startDate"!==e.name&&"endDate"!==e.name||"date"!==e.type||(r.format=n.dateFormat),"startDate"!==e.name&&"endDate"!==e.name||"time"!==e.type||(r.format=n.timeFormat),n.startDateConfig&&"startDate"===e.name&&"date"===e.type&&(r=n.startDateConfig),n.startTimeConfig&&"startDate"===e.name&&"time"===e.type&&(r=n.startTimeConfig),n.endDateConfig&&"endDate"===e.name&&"date"===e.type&&(r=n.endDateConfig),n.endTimeConfig&&"endDate"===e.name&&"time"===e.type&&(r=n.endTimeConfig),Object.assign(e,r),super.processWidgetConfig(e))}show(...e){const{resourceField:t}=this.widgetMap;t&&(t.store=this.chainResourceStore()),super.show(...e)}onBeforeShow(...e){const t=this,{record:n,titleRenderer:r}=t,i=t.widgetMap.deleteButton;i&&(i.hidden=t.readOnly||!n.stores.length&&!n.isOccurrence),t.title=r?t.callback(r,t,[n]):t.initialTitle,super.onBeforeShow&&super.onBeforeShow(...e)}onInternalKeyDown(e){this.trigger("keyDown",{event:e}),super.onInternalKeyDown(e)}updateReadOnly(e){const{deleteButton:t,saveButton:n,cancelButton:r}=this.widgetMap;super.updateReadOnly(e),t&&(t.hidden=e),n&&(n.hidden=e),r&&(r.hidden=e)}}i.initClass(),i._$name="EventEditor"},"./lib/Scheduler/view/Header.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Grid/view/Header.js");class i extends r.default{static get $name(){return"SchedulerHeader"}refreshContent(){this.headersElement&&0===this.headersElement.childNodes.length&&super.refreshContent()}}i._$name="Header"},"./lib/Scheduler/view/HorizontalTimeAxis.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/view/TimeAxisBase.js");class i extends r.default{static get $name(){return"HorizontalTimeAxis"}static get type(){return"horizontaltimeaxis"}static get configurable(){return{model:null,sizeProperty:"width",positionProperty:"left"}}get width(){return this.size}onModelUpdate(){this.model.availableSpace!==this.width&&this.refresh(!0)}updateModel(e){this.detachListeners("tavm"),null===e||void 0===e||e.on({name:"tavm",update:"onModelUpdate",thisObj:this})}}i._$name="HorizontalTimeAxis"},"./lib/Scheduler/view/ResourceHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/DomSync.js"),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/helper/util/DomClassList.js"),l=n("./lib/Core/helper/StringHelper.js"),c=n("./lib/Core/widget/util/AvatarRendering.js");class d extends r.default{static get $name(){return"ResourceHeader"}static get type(){return"resourceheader"}static get defaultConfig(){return{resourceStore:null,columnWidth:150,headerRenderer:null,fillWidth:!0,fitWidth:!1,imagePath:null,imageExtension:null,defaultImageName:null}}static get configurable(){return{showAvatars:{value:!0,$config:"nullify"}}}static get properties(){return{firstResource:-1,lastResource:-1}}construct(e){super.construct(e);const t=this;null!=t.imagePath&&t.element.classList.add("b-has-images"),a.default.on({element:t.element,delegate:".b-resourceheader-cell",capture:!0,click:"onResourceMouseEvent",dblclick:"onResourceMouseEvent",contextmenu:"onResourceMouseEvent",thisObj:t})}changeShowAvatars(e){var t;return null===(t=this.avatarRendering)||void 0===t||t.destroy(),e&&(this.avatarRendering=new c.default({element:this.element})),e}updateShowAvatars(){this.isConfiguring||this.refresh()}set resourceStore(e){const t=this;var n;e!==t._resourceStore&&(null===(n=t.resourceStoreDetacher)||void 0===n||n.call(t),t._resourceStore=e,t.resourceStoreDetacher=e.on({changePreCommit:"onResourceStoreDataChange",thisObj:t}),e.count&&t.onResourceStoreDataChange({}))}get resourceStore(){return this._resourceStore}onResourceStoreDataChange({action:e}){const t=this,n=t.resourceStore.count*t.columnWidth;n!==t.width&&(t.element.style.width=n+"px",t.column.set("width",n,t.column.grid.isConfiguring)),"removeall"===e&&(t.element.innerHTML=""),"remove"!==e&&"add"!==e&&"filter"!==e||t.refreshWidths()}get columnWidth(){return this._columnWidth}set columnWidth(e){const t=this;if(e!==t._columnWidth){const n=t._columnWidth;t._columnWidth=e,t.refreshingWidths||(t._originalColumnWidth=e,t.refreshWidths()),t.isConfiguring||(t.refresh(),t.trigger("columnWidthChange",{width:t._columnWidth,oldWidth:n}))}}get fillWidth(){return this._fillWidth}set fillWidth(e){this._fillWidth=e,this.refreshWidths()}get fitWidth(){return this._fitWidth}set fitWidth(e){this._fitWidth=e,this.refreshWidths()}getImageURL(e){return l.default.joinPaths([this.imagePath||"",e||""])}get imagePath(){return this._imagePath}set imagePath(e){this._imagePath=e,this.refresh()}get availableWidth(){return this._availableWidth}set availableWidth(e){this._availableWidth=e,this.refreshWidths()}refreshWidths(){const e=this,{availableWidth:t,_originalColumnWidth:n}=e,r=e.resourceStore&&e.resourceStore.count;if(!t||!r)return;e.refreshingWidths=!0;const o=e.fitWidth||e.fillWidth&&n*r<t?Math.floor(t/r):n,a=e.column.grid.enableEventAnimations&&Math.abs(e._columnWidth-o)>30;i.default.addTemporaryClass(e.element,"b-animating",a?300:0,e),e.columnWidth=o,e.refreshingWidths=!1}set visibleResources({firstResource:e,lastResource:t}){this.firstResource=e,this.lastResource=t,this.refresh()}refresh(){const e=this,{firstResource:t,lastResource:n}=e,r=[];if(!e.column.grid.isConfiguring&&t>-1&n>-1&&n<e.resourceStore.count)for(let i=t;i<=n;i++){const t=e.resourceStore.getAt(i),n={className:new s.default({"b-resourceheader-cell":1}),dataset:{resourceId:t.id},style:{left:i*e.columnWidth,width:e.columnWidth},children:[]};if(e.headerRenderer){const r=e.headerRenderer({elementConfig:n,resourceRecord:t});null!=r&&(n.html=r)}else{let r;if(t.imageUrl)r=t.imageUrl;else if(null!=e.imagePath&&!1!==t.image){const n=t.image||t.name&&t.name.toLowerCase()+e.imageExtension;r=e.getImageURL(n)}n.children.push(e.showAvatars&&e.avatarRendering.getResourceAvatar({initials:t.initials,color:t.eventColor,iconCls:t.iconCls,defaultImageUrl:e.defaultImageName&&e.getImageURL(e.defaultImageName),imageUrl:r}),{tag:"span",className:"b-resource-name",html:l.default.encodeHtml(t.name)})}r.push(n)}o.default.sync({domConfig:{onlyChildren:!0,children:r},targetElement:e.element,syncIdField:"resourceId"})}onResourceMouseEvent(e){const t=e.target.closest(".b-resourceheader-cell"),n=this.resourceStore.getById(t.dataset.resourceId);this.trigger("resourceHeader"+l.default.capitalize(e.type),{resourceRecord:n,event:e})}}d._$name="ResourceHeader"},"./lib/Scheduler/view/Scheduler.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/view/SchedulerBase.js");n("./lib/Scheduler/localization/En.js"),n("./lib/Scheduler/feature/ColumnLines.js"),n("./lib/Scheduler/feature/EventContextMenu.js"),n("./lib/Scheduler/feature/EventDrag.js"),n("./lib/Scheduler/feature/EventDragCreate.js"),n("./lib/Scheduler/feature/EventEdit.js"),n("./lib/Scheduler/feature/EventFilter.js"),n("./lib/Scheduler/feature/EventMenu.js"),n("./lib/Scheduler/feature/EventResize.js"),n("./lib/Scheduler/feature/EventTooltip.js"),n("./lib/Scheduler/feature/HeaderContextMenu.js"),n("./lib/Scheduler/feature/ScheduleContextMenu.js"),n("./lib/Scheduler/feature/ScheduleMenu.js"),n("./lib/Scheduler/feature/ScheduleTooltip.js"),n("./lib/Scheduler/feature/StickyEvents.js"),n("./lib/Scheduler/feature/TimeAxisHeaderMenu.js"),n("./lib/Grid/feature/CellEdit.js"),n("./lib/Grid/feature/CellMenu.js"),n("./lib/Grid/feature/ColumnDragToolbar.js"),n("./lib/Grid/feature/ColumnPicker.js"),n("./lib/Grid/feature/ColumnReorder.js"),n("./lib/Grid/feature/ColumnResize.js"),n("./lib/Grid/feature/ContextMenu.js"),n("./lib/Grid/feature/Filter.js"),n("./lib/Grid/feature/FilterBar.js"),n("./lib/Grid/feature/Group.js"),n("./lib/Grid/feature/HeaderMenu.js"),n("./lib/Grid/feature/Sort.js"),n("./lib/Grid/feature/Stripe.js"),n("./lib/Grid/column/CheckColumn.js");class i extends r.default{static get $name(){return"Scheduler"}static get type(){return"scheduler"}}i.initClass(),i._$name="Scheduler"},"./lib/Scheduler/view/SchedulerBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n("./lib/Scheduler/view/TimelineBase.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Scheduler/data/CrudManager.js"),s=(n("./lib/Scheduler/localization/En.js"),n("./lib/Scheduler/view/mixin/SchedulerDom.js")),l=n("./lib/Scheduler/view/mixin/SchedulerDomEvents.js"),c=n("./lib/Scheduler/view/mixin/SchedulerDragResize.js"),d=n("./lib/Scheduler/view/mixin/SchedulerEventRendering.js"),u=n("./lib/Scheduler/view/mixin/SchedulerStores.js"),h=n("./lib/Scheduler/view/mixin/SchedulerScroll.js"),f=n("./lib/Scheduler/view/mixin/SchedulerRegions.js"),g=n("./lib/Scheduler/view/mixin/SchedulerState.js"),m=n("./lib/Scheduler/view/mixin/EventSelection.js"),p=n("./lib/Scheduler/view/mixin/EventNavigation.js"),v=n("./lib/Scheduler/crud/mixin/CrudManagerView.js"),b=n("./lib/Scheduler/view/orientation/HorizontalRendering.js"),y=n("./lib/Scheduler/view/orientation/VerticalRendering.js");n("./lib/Scheduler/column/TimeAxisColumn.js"),n("./lib/Scheduler/column/VerticalTimeAxisColumn.js"),n("./lib/Grid/feature/RegionResize.js");class C extends(r.default.mixin(v.default,s.default,l.default,c.default,u.default,h.default,g.default,d.default,f.default,m.default,p.default)){static get $name(){return"SchedulerBase"}static get type(){return"schedulerbase"}static get configurable(){return{date:{value:null,$config:{equal:"date"}},descriptionRenderer:{value:null,$config:null,default:e=>`${i.default.getLocalizedNameOfUnit("Week")} ${i.default.getWeekDescription(e.startDate,e.endDate)}`},verticalTimeAxisColumn:{}}}static get defaultConfig(){return{mode:"horizontal",eventCls:"b-sch-event",timeCellCls:"b-sch-timeaxis-cell",timeCellSelector:".b-sch-timeaxis-cell",scheduledEventName:"event",overScheduledEventClass:"b-sch-event-hover",allowOverlap:!0,rowHeight:60,preCalculateHeightLimit:1e4,crudManagerClass:a.default,testConfig:{loadMaskError:{autoClose:10,showDelay:0}}}}static get deprecatedEvents(){return{eventContextMenuBeforeShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuBeforeShow` event is deprecated, in favor of `eventMenuBeforeShow` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."},eventContextMenuShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuShow` event is deprecated, in favor of `eventMenuShow` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."},eventContextMenuItem:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuItem` event is deprecated, in favor of `eventMenuItem` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."},scheduleContextMenuBeforeShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuBeforeShow` event is deprecated, in favor of `scheduleMenuBeforeShow` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."},scheduleContextMenuShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuShow` event is deprecated, in favor of `scheduleMenuShow` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."},scheduleContextMenuItem:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuItem` event is deprecated, in favor of `scheduleMenuItem` event. Please see https://bryntum.com/docs/scheduler/#Scheduler/guides/upgrades/3.1.0.md for more information."}}}afterConstruct(){super.afterConstruct(),this.createEventOnDblClick&&this.on("scheduledblclick",this.onSchedulerDblClick)}get store(){return super.store}set store(e){super.store=e}get visibleResources(){const e=this;return e.isVertical?e.currentOrientation.visibleResources:{first:e.store.getById(e.firstVisibleRow.id),last:e.store.getById(e.lastVisibleRow.id)}}onLocaleChange(){this.currentOrientation.onLocaleChange(),super.onLocaleChange()}onSchedulerDblClick({date:e,resourceRecord:t,row:n}){this.readOnly||t.isSpecialRow||this.internalAddEvent(e,t,n)}onColumnsChanged({action:e,changes:t,record:n}){n===this.timeAxisColumn&&"width"in t&&this.updateCanvasSize(),super.onColumnsChanged(...arguments)}onVerticalScroll({scrollTop:e}){this.currentOrientation.updateFromVerticalScroll(e)}onEventCreated(e){}get isHorizontal(){return"horizontal"===this.mode}get isVertical(){return"vertical"===this.mode}get mode(){return this._mode}set mode(e){const t=this;t._mode=e,t[e]||(t.element.classList.add("b-sch-"+e),"horizontal"===e?(t.horizontal=new b.default(t),t.isPainted&&t.horizontal.init(),t.un("scroll",t.onVerticalScroll,t)):"vertical"===e&&(t.vertical=new y.default(t),t.rendered&&t.vertical.init(),t.on("scroll",t.onVerticalScroll,t)))}get currentOrientation(){return this[this.mode]}onElementKeyDown(e){super.onElementKeyDown(e)}onElementKeyUp(e){super.onElementKeyUp(e)}onElementMouseOver(e){super.onElementMouseOver(e)}onElementMouseOut(e){super.onElementMouseOut(e)}populateEventMenu(){}populateScheduleMenu(){}onVisibleDateRangeChange(){}onVisibleResourceRangeChange(){}async internalAddEvent(e,t,n){const r=this,a=[t],s=new r.eventStore.modelClass({startDate:e,endDate:i.default.add(e,1,r.timeAxis.unit)});if(r.onEventCreated(s),r.eventEdit){const e=r.currentOrientation.getTimeSpanRenderData(s,t),i=o.default.createElement({parent:r.foregroundCanvas,className:"b-sch-dragcreator-proxy",style:`width:${e.width}px;height:${e.height}px`});return o.default.setTranslateXY(i,e.left,(n&&n.top||0)+e.top),void r.editEvent(s,t,i)}r.taskEdit?r.editEvent(s,t):!1!==r.trigger("beforeEventAdd",{eventRecord:s,resourceRecords:a,resources:a})&&(r.eventStore.add(s),r.assignmentStore.assignEventToResource(s,t),r.taskEdit&&(await r.project.commitAsync(),r.editEvent(s,t)))}isDateRangeAvailable(e,t,n,r){return this.eventStore.isDateRangeAvailable(e,t,n,r)}async resumeRefresh(e){super.resumeRefresh(!1);const t=this;if(!t.refreshSuspended&&e){if(!t.isEngineReady)return t.currentOrientation.refreshAllWhenReady=!0,t.project.commitAsync();t.isDestroyed||t.refreshWithTransition()}}toggleEmptyText(){const e=this;var t;e.bodyContainer&&o.default.toggleClasses(e.bodyContainer,"b-grid-empty",!(e.rowManager.rowCount||null!==(t=e.crudManager)&&void 0!==t&&t.isLoading))}getRowHeight(e){if(this.currentOrientation.calculateRowHeight){const t=this.currentOrientation.calculateRowHeight(e);return this.rowManager.storeKnownHeight(e.id,t),t}}calculateRowHeights(e,t=!1){e.forEach(e=>e&&this.getRowHeight(e)),t||this.rowManager.estimateTotalHeight(!0)}calculateAllRowHeights(e=!1){const{store:t,rowManager:n}=this,r=Math.min(t.count,this.preCalculateHeightLimit);if(r){n.clearKnownHeights();for(let e=0;e<r;e++)this.getRowHeight(t.getAt(e));e||n.estimateTotalHeight(!0)}}get description(){return this.callback(this.descriptionRenderer,this,[this])}get stepUnit(){return"week"}getEventRecord(e){return e=o.default.getEventElement(e),this.resolveEventRecord(e)}getEventElement(e){return this.getElementFromEventRecord(e)}updateDate(e){const t=i.default.startOf(e,this.stepUnit);this.setTimeSpan(t,i.default.add(t,1,this.stepUnit))}previous(){this.date=i.default.add(this.startDate,-1,this.stepUnit)}next(){this.date=this.endDate}}C.initClass(),C._$name="SchedulerBase"},"./lib/Scheduler/view/TimeAxisBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/widget/Widget.js"),i=n("./lib/Core/helper/DomSync.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return e===t.length-1}function c(e,t){return t===e.cells[e.cells.length-1]}class d extends r.default{static get $name(){return"TimeAxisBase"}static get configurable(){return{compactCellWidthThreshold:15,model:null,cls:null,sizeProperty:null,positionProperty:null}}static get properties(){return{startDate:null,endDate:null,levels:[],size:null}}set range(e){this.startDate=e.startDate,this.endDate=e.endDate,this.refresh()}buildCells(){var e;const t=this,{sizeProperty:n}=t,{stickyHeaders:r,isVertical:i}=t.client||{},o=[],{length:s}=t.levels,d=t.levels.map((e,o)=>{var d;const u=r&&(i||o<s-1);return{className:{"b-sch-header-row":1,["b-sch-header-row-"+e.position]:1,"b-sch-header-row-main":o===t.model.viewPreset.mainHeaderLevel,"b-lowest":l(o,t.levels),"b-sticky-header":u},syncOptions:{releaseThreshold:5,syncIdField:"tickIndex"},dataset:{headerFeature:"headerRow"+o,headerPosition:e.position},children:null===(d=e.cells)||void 0===d?void 0:d.filter(e=>e.start<t.endDate&&e.end>t.startDate).map(r=>({className:{"b-sch-header-timeaxis-cell":1,[r.headerCellCls]:r.headerCellCls,["b-align-"+r.align]:r.align,"b-last":c(e,r)},dataset:a({tickIndex:r.index},window.DEBUG&&{date:r.start.getTime()}),style:{[t.positionProperty]:r.coord,[n]:r.width,["min-"+n]:r.width},children:[{tag:"span",className:{"b-sch-header-text":1,"b-sticky-header":u},html:r.value}]}))}});return null===(e=t.client)||void 0===e||e.getHeaderDomConfigs(o),d.push(...o),{className:t.widgetClassList,syncOptions:{releaseThreshold:0},children:d}}render(e){super.render(e),this.refresh(!0)}refresh(e=!this.levels.length){const t=this,{columnConfig:n}=t.model,{levels:r}=t,o=r.length;if(e){r.length=0,n.forEach((e,t)=>r[t]={position:t,cells:e}),t.size=r[0].cells.reduce((e,t)=>e+t.width,0);const e=t.element.parentElement;e&&(e.classList.remove("b-sch-timeaxiscolumn-levels-"+o),e.classList.add("b-sch-timeaxiscolumn-levels-"+r.length))}t.startDate&&t.endDate&&(i.default.sync({domConfig:t.buildCells(),targetElement:t.element,syncIdField:"headerFeature"}),t.trigger("refresh"))}get widgetClass(){return"b-timeaxis"}}d._$name="TimeAxisBase"},"./lib/Scheduler/view/TimelineBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("./lib/Grid/view/GridBase.js"),i=n("./lib/Core/helper/BrowserHelper.js"),o=n("./lib/Core/helper/DateHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/StringHelper.js"),l=n("./lib/Core/helper/FunctionHelper.js"),c=n("./lib/Core/util/Collection.js"),d=n("./lib/Core/helper/IdHelper.js"),u=n("./lib/Core/helper/ObjectHelper.js"),h=n("./lib/Core/helper/VersionHelper.js"),f=n("./lib/Scheduler/view/Header.js"),g=n("./lib/Scheduler/data/TimeAxis.js"),m=n("./lib/Scheduler/view/model/TimeAxisViewModel.js"),p=n("./lib/Scheduler/view/mixin/TimelineDateMapper.js"),v=n("./lib/Scheduler/view/mixin/TimelineDomEvents.js"),b=n("./lib/Scheduler/view/mixin/TimelineViewPresets.js"),y=n("./lib/Scheduler/view/mixin/TimelineZoomable.js"),C=n("./lib/Scheduler/view/mixin/RecurringEvents.js"),S=n("./lib/Scheduler/view/mixin/TimelineEventRendering.js"),w=n("./lib/Scheduler/view/mixin/TimelineScroll.js");const E=["viewPreset","eventBarTextField","eventRenderer","eventRendererThisObj","eventBodyTemplate"],D={fn:"exitTransition",delay:0,cancelOutstanding:!0};class x extends(r.default.mixin(p.default,v.default,S.default,w.default,b.default,y.default,C.default)){static get $name(){return"TimelineBase"}static get type(){return"timelinebase"}static get configurable(){return{partnerSharedConfigs:{value:["timeAxisViewModel","timeAxis","viewPreset"],$config:{merge:"distinct"}},startDate:{$config:{equal:"date"},value:null},endDate:{$config:{equal:"date"},value:null},stickyHeaders:!0}}static get defaultConfig(){return{workingTime:null,timeAxis:null,timeAxisViewModel:null,autoAdjustTimeAxis:!0,visibleDate:null,snap:!1,snapRelativeToEventStartDate:!1,forceFit:!1,suppressFit:!1,eventCls:null,getDateConstraints:null,timeCellCls:null,timeCellSelector:null,scheduledEventName:null,createEventOnDblClick:!0,overScheduledEventClass:null,preventOverCls:!1,hoveredEventNode:null,useBackgroundCanvas:!1,enableEventAnimations:!i.default.isIE11,disableGridRowModelWarning:!0,animateRemovingRows:!1,partner:null,schedulerRegion:"normal",transitionDuration:200,animationTimeout:null,defaultRegion:"locked",durationDisplayPrecision:1,asyncEventSuffix:"PreCommit",viewportResizeTimeout:250}}construct(e={}){const t=this;super.construct(e),t.$firstVerticalOverflow=!0,t.onSchedulerViewportResize=t.throttle(t.onSchedulerViewportResize,t.viewportResizeTimeout),t.initDomEvents(),t.currentOrientation.init(),t.rowManager.on("refresh",()=>{t.forceLayout=!1})}createSubGrid(e,t={}){const n=this,{stickyHeaders:r}=n;return e===(n.schedulerRegion||"normal")?(n.isHorizontal&&(t.header={cls:{"b-sticky-headers":r}}),t.headerClass=f.default,"flex"in t||"width"in t||(t.flex=1)):"locked"===e&&r&&n.isVertical&&(t.scrollable={overflowX:"visible",overflowY:"visible"},n.bodyContainer.classList.add("b-sticky-headers")),super.createSubGrid(e,t)}doDestroy(){const e=this,{partneredWith:t,currentOrientation:n}=e;null===n||void 0===n||n.destroy(),t?(t.forEach(t=>{e.removePartner(t)}),t.destroy()):(e.timeAxisViewModel.destroy(),e.timeAxis.destroy()),super.doDestroy()}startConfigure(e){super.startConfigure(e),this.getConfig("partner")}changeStartDate(e){return"string"===typeof e&&(e=o.default.parse(e)),e}refreshVirtualScrollbars(){if(super.refreshVirtualScrollbars(),!this.hasVerticalOverflow){const{scrollable:e}=this;this.partners.some(e=>e.hasVerticalOverflow)?e.overflowY="scroll":e.overflowY=!0}}onPaint({firstPaint:e}){if(e){const{timeAxisSubGrid:e}=this,t=this.isVertical?this.bodyContainer.offsetHeight:e.width;this.timeAxisViewModel.update(t,!1,!0)}super.onPaint(...arguments)}changeSubGridConfigs(e){this.isVertical&&e.locked&&(this.verticalTimeAxisColumn.width=e.locked.width),super.changeSubGridConfigs(e);const t=this,n=t.timeAxisSubGrid=t.subGrids[t.timeAxisColumn.region];n.sealedColumns=!0,n.on({resize:t.onTimeAxisSubGridResize,thisObj:t})}onSchedulerHorizontalScroll(e,t){this.currentOrientation.updateFromHorizontalScroll(t),super.onSchedulerHorizontalScroll(e,t)}initScroll(){const e=this;let t=0;super.initScroll(),i.default.isMobileSafari&&(e.scrollable.element.style.transform="translate3d(0, 0, 0)"),e.on("horizontalscroll",({subGrid:n,scrollLeft:r})=>{!e.isPainted||n!==e.timeAxisSubGrid||e.isDestroying||e.refreshSuspended||e.onSchedulerHorizontalScroll(n,r),t++}),"horizontal"===e.testPerformance&&e.setTimeout(()=>{let n=performance.now(),r=5,i=1;const o=e.setInterval(()=>{if(r+=5,e.scrollLeft+=(10+Math.floor(r))*i,1===i&&e.scrollLeft>5500&&(i=-1,r=5),-1===i&&e.scrollLeft<=0){let r=1e3/((performance.now()-n)/t);r=Math.round(10*r)/10,clearInterval(o),console.log(e.eventPositionMode,e.eventScrollMode,r+"fps")}},0)},500)}preserveViewCenter(e,t=this,...n){const r=this,i=r.viewportCenterDate,o=e.apply(t,n),{isVertical:a}=r,s=(a?r.scrollable:r.timeAxisSubGrid.scrollable)[a?"clientHeight":"clientWidth"],l=Math.max(Math.floor(r.getCoordinateFromDate(i,!0)-s/2),0);return r.scrollingToCenter=!0,r[a?"scrollVerticallyTo":"scrollHorizontallyTo"](l,!1).then(()=>r.scrollingToCenter=!1),o}get hasVisibleEvents(){return!this.noFeatureElementsInAxis()||this.eventStore.storage.values.some(e=>this.timeAxis.isTimeSpanInAxis(e))}noFeatureElementsInAxis(){}get capitalizedEventName(){return this._capitalizedEventName||(this._capitalizedEventName=s.default.capitalize(this.scheduledEventName)),this._capitalizedEventName}set partner(e){this._partner=e,this.addPartner(e)}addPartner(e){const t=this;if(!t.isPartneredWith(e)){(t.partneredWith||(t.partneredWith=new c.default)).add(e),(e.partneredWith||(e.partneredWith=new c.default)).add(t),t.getConfig("viewPreset"),e.on({presetchange:"onPartnerPresetChange",thisObj:t});const n=t.partnerSharedConfigs.reduce((t,n)=>(t[n]=e[n],t),{});t.setConfig(n),t.on({presetchange:"onPartnerPresetChange",thisObj:e}),t.isPainted?t.scrollable.addPartner(e.scrollable,"x"):t.initScroll=l.default.createSequence(t.initScroll,()=>{t.scrollable.addPartner(e.scrollable,"x")},t)}}removePartner(e){const t=this,{partneredWith:n}=t;t.isPartneredWith(e)&&(n.remove(e),t.scrollable.removePartner(e.scrollable),t.un({presetchange:"onPartnerPresetChange",thisObj:e}),e.removePartner(t))}isPartneredWith(e){var t;return Boolean(null===(t=this.partneredWith)||void 0===t?void 0:t.includes(e))}onPartnerPresetChange({preset:e,startDate:t,endDate:n,centerDate:r}){this._viewPresetChanging||this.viewPreset===e||(e.options={startDate:t,endDate:n,centerDate:r},this.viewPreset=e)}get partner(){return this._partner}get partners(){const e=this.partner?[this.partner]:[];return this.partneredWith&&e.push.apply(e,this.partneredWith.all),e}get timeAxisColumn(){return this.columns&&this._timeAxisColumn}get columns(){return super.columns}set columns(e){const t=this;let n,r,i,o;if(e){const i=Array.isArray(e);let a=e;i||(a=e.data),n=a&&a.length,a.some((e,i)=>"timeAxis"===e.type&&(n=i,r=u.default.assign(e,t.timeAxisColumn),!0)),t.isVertical?(t._horizontalColumns=e,a=[u.default.assign({type:"verticalTimeAxis",locked:!0},t.verticalTimeAxisColumn),a[n]],n=1):a=a.slice(),r=a[n]=Object.assign({type:"timeAxis",locked:!1,cellCls:t.timeCellCls,mode:t.mode},r),E.forEach(e=>{o=t[e],null!=o&&(r[e]=o)}),i?e=a:e.data=a}super.columns=e,e&&(i=t._timeAxisColumn=t.columns.getAt(n),t.isVertical&&(t.verticalTimeAxisColumn=t.columns.getAt(n-1),t.verticalTimeAxisColumn.relayAll(t)),i.relayAll(t))}get timeView(){const e=this;return e.columns&&e.isVertical?e.verticalTimeAxisColumn&&e.verticalTimeAxisColumn.view:e.timeAxisColumn&&e.timeAxisColumn.timeAxisView}set eventCls(e){const t=this;t._eventCls=e,t.eventSelector||(t.eventSelector=`.${e}-wrap`,t.unreleasedEventSelector=""+t.eventSelector),t.eventInnerSelector||(t.eventInnerSelector="."+e)}get eventCls(){return this._eventCls}set timeAxisViewModel(e){const t=this,n=t._timeAxisViewModel,r={name:"timeAxisViewModel",update:"onTimeAxisViewModelUpdate",prio:100,thisObj:t};t.partner&&!e||n&&n===e||((null===n||void 0===n?void 0:n.owner)===t&&n.destroy(),t.detachListeners("timeAxisViewModel"),e&&e.isTimeAxisViewModel?e.on(r):(e=Object.assign({mode:t._mode,snap:t.snap,forceFit:t.forceFit,timeAxis:t.timeAxis,suppressFit:t.suppressFit,listeners:r,owner:t},e),e=new m.default(e)),!t.isConfiguring&&t.timeAxisColumn&&(t.timeAxisColumn.timeAxisViewModel=e),t._timeAxisViewModel=e,t.relayEvents(e,["update"],"timeAxisViewModel"),n&&e&&t.trigger("timeAxisViewModelChange",{timeAxisViewModel:e}))}get timeAxisViewModel(){return this._timeAxisViewModel||(this.timeAxisViewModel=null),this._timeAxisViewModel}get suppressFit(){var e,t;return null!==(e=null===(t=this._timeAxisViewModel)||void 0===t?void 0:t.suppressFit)&&void 0!==e?e:this._suppressFit}set suppressFit(e){this._timeAxisViewModel?this.timeAxisViewModel.suppressFit=e:this._suppressFit=e}set timeAxis(e){const t=this,n=t._timeAxis,r={name:"timeAxis",reconfigure({config:e}){t.trigger("timeAxisChange",{config:e})},thisObj:t};t.partner&&!e||n&&n===e||(n&&n.owner===t&&n.destroy(),t.detachListeners("timeAxis"),e&&e.isTimeAxis||(e=u.default.assign({owner:t,viewPreset:t.viewPreset,autoAdjust:t.autoAdjustTimeAxis,mode:"plain",weekStartDay:t.weekStartDay},e),t.startDate&&(e.startDate=t.startDate),t.endDate&&(e.endDate=t.endDate),t.workingTime&&t.applyWorkingTime(e),e=new g.default(e)),e.on(r),t._timeAxis=e)}get timeAxis(){return this._timeAxis||(this.timeAxis=null),this._timeAxis}set workingTime(e){this._workingTime=e,this.isConfiguring||this.applyWorkingTime(this.timeAxis)}get workingTime(){return this._workingTime}applyWorkingTime(e){const t=this,n=t._workingTime;if(n){let t=null;n.fromHour>=0&&n.fromHour<24&&n.toHour>n.fromHour&&n.toHour<=24&&n.toHour-n.fromHour<24&&(t={from:n.fromHour,to:n.toHour});let r=null;n.fromDay>=0&&n.fromDay<7&&n.toDay>n.fromDay&&n.toDay<=7&&n.toDay-n.fromDay<7&&(r={from:n.fromDay,to:n.toDay}),e.include=t||r?{hour:t,day:r}:null}else e.include=null;var r;t.isPainted&&(t.timeAxisColumn.refreshHeader(),null===(r=t.features.columnLines)||void 0===r||r.refresh(),t.refreshWithTransition())}updateStartDate(e){this.setStartDate(e)}setStartDate(e,t=!0){const n=this,r=n._timeAxis||{},{startDate:i,endDate:a,mainUnit:s}=r;if("string"===typeof e&&(e=o.default.parse(e)),n._timeAxis&&a){if(e){let n=a;if(t&&i){const t=o.default.diff(i,a,s,!0);n=o.default.add(e,t,s)}r.setTimeSpan(e,n)}}else n._tempStartDate=e}get startDate(){const e=this;return e._timeAxis?e._timeAxis.startDate:e._tempStartDate||new Date}changeEndDate(e){"string"===typeof e&&(e=o.default.parse(e)),this.setEndDate(e)}setEndDate(e,t=!1){const n=this,r=n._timeAxis||{},{startDate:i,endDate:a,mainUnit:s}=r;if("string"===typeof e&&(e=o.default.parse(e)),n._timeAxis&&i){if(e){let n=i;if(t&&a){const t=o.default.diff(i,a,s,!0);n=o.default.add(e,-t,s)}r.setTimeSpan(n,e)}}else n._tempEndDate=e}get endDate(){const e=this;return e._timeAxis?e._timeAxis.endDate:e._tempEndDate||o.default.add(e.startDate,e.viewPreset.defaultSpan,e.viewPreset.mainHeader.unit)}get features(){return super.features}set features(e){"regionResize"in(e=!0===e?{}:e)||(e.regionResize=!0),super.features=e}get eventStyle(){return this._eventStyle}set eventStyle(e){const t=this;t._eventStyle=e,t.isPainted&&t.refreshWithTransition()}get eventColor(){return this._eventColor}set eventColor(e){const t=this;t._eventColor=e,t.isPainted&&t.refreshWithTransition()}onLocaleChange(){super.onLocaleChange();const e=this.timeAxis.autoAdjust;this.timeAxis.reconfigure({autoAdjust:!1}),this.timeAxis.autoAdjust=e}onInternalResize(e,t,n,r,i){const o=this._bodyRectangle;super.onInternalResize(e,t,n,r,i),!o||n===i&&t===r||this.onSchedulerViewportResize(t,n,o.width,o.height)}onTimeAxisSubGridResize({width:e,height:t,oldWidth:n,oldHeight:r}){const i=this;if(i.isPainted&&e!==n){const t=i._bodyRectangle;i.hasVerticalOverflow&&i.$firstVerticalOverflow?(i.onSchedulerViewportResize.now(e,t.height,n,t.height),i.$firstVerticalOverflow=!1):i.onSchedulerViewportResize(e,t.height,n,t.height)}}onSchedulerViewportResize(e,t,n,r){if(this.isPainted){const i=this,{isHorizontal:o,timeAxisViewModel:s,rowManager:l,partneredWith:c}=i,d=i.timeAxisSubGrid;i.currentOrientation.onViewportResize(e,t,n,r),o&&d.height>=l.totalHeight&&d.height-l.totalHeight<=a.default.scrollBarWidth&&!d.overflowingVertically?s.availableSpace=d.width-a.default.scrollBarWidth:s.availableSpace=o?d.width:i._bodyRectangle.height,c&&!i.isSyncingFromPartner&&c.forEach(e=>{e.isSyncingFromPartner||(e.isSyncingFromPartner=!0,i.eachSubGrid(t=>{const n=e.subGrids[t.region];n.width!==t.width&&(t.collapsed?n.collapse():(n.collapsed&&n.expand(),t.flex?t.flex!==n.flex&&(n.flex=t.flex):n.width=t.width))}),e.isSyncingFromPartner=!1)}),i.trigger("timelineViewportResize",{width:e,height:t,oldWidth:n,oldHeight:r})}}onTimeAxisViewModelUpdate(){this.updateCanvasSize(),this.currentOrientation.onTimeAxisViewModelUpdate()}get currentOrientation(){throw new Error("Implement in subclass")}get isHorizontal(){return!0}get backgroundCanvas(){return this._backgroundCanvas}get foregroundCanvas(){return this._foregroundCanvas}get svgCanvas(){const e=this;if(!e._svgCanvas){const t=e._svgCanvas=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("id",d.default.generateId("svg")),t.retainElement=!0,e.foregroundCanvas.appendChild(t),e.trigger("svgCanvasCreated")}return e._svgCanvas}get timeAxisSubGridElement(){return this.getConfig("regions"),this.timeAxisColumn&&this.timeAxisColumn.subGridElement}updateCanvasSize(){const e=this,t=e.isHorizontal?e.timeAxisViewModel.totalSize:e.timeAxisColumn.width;let n=!1;return e.isVertical&&e.suppressFit&&(a.default.setLength(e.foregroundCanvas,"height",e.timeAxisViewModel.totalSize),n=!0),t!==e.$canvasWidth&&(e.backgroundCanvas&&a.default.setLength(e.backgroundCanvas,"width",t),a.default.setLength(e.foregroundCanvas,"width",t),e.$canvasWidth=e.timeAxisViewModel.totalSize,n=!0),n}getHeaderDomConfigs(e){}getForegroundDomConfigs(e){}async onStoreDataChange({action:e}){"dataset"===e&&this.project.isRepopulatingStores&&await this.project.await("refresh",!1),super.onStoreDataChange(...arguments)}refresh(e=!0){const t=this;t.isPainted&&!t.refreshSuspended&&(t.hasVisibleEvents?t.isEngineReady?t.refreshRows(!1,e):(t.refreshAfterProjectRefresh=!0,t.currentOrientation.refreshAllWhenReady=!0):t.rowManager.trigger("refresh"))}render(){const e=this,t=e.timeAxisSubGridElement;e.useBackgroundCanvas&&(e._backgroundCanvas=a.default.createElement({className:"b-sch-background-canvas",parent:t,nextSibling:t.firstElementChild}));const n=e._foregroundCanvas=a.default.createElement({className:"b-sch-foreground-canvas",style:`font-size:${e.rowHeight-2*e.resourceMargin}px`,parent:t});e.timeAxisSubGrid.insertRowsBefore=n,e.isVertical&&e.suppressFit&&e.updateCanvasSize(),super.render(...arguments),e.visibleDate&&(e.visibleDate instanceof Date&&(e.visibleDate={date:e.visibleDate}),e.scrollToDate(e.visibleDate.date,e.visibleDate))}refreshRows(e=!1,t=!0){this.isConfiguring||(this.currentOrientation.refreshRows(t),super.refreshRows(e))}getDateConstraints(){}runWithTransition(e,t){const n=this;n.isVisible&&(null!=t&&!0!==t||(t=n.transitionDuration),t&&n.enableEventAnimations&&(n.hasTimeout("exitTransition")||(n.isAnimating=!0),D.delay=t,n.setTimeout(D))),e()}exitTransition(){this.isAnimating=!1,this.trigger("transitionend")}async waitForTransition(){this.isEngineReady||await this.project.await("dataReady",!1),this.isAnimating&&await this.await("transitionend")}refreshWithTransition(e,t){this.runWithTransition(()=>this.refresh(e),t)}getVisibleDateRange(){return h.default.deprecate("scheduler","5.0.0","Deprecated in favor of `get visibleDateRange`"),this.visibleDateRange}get visibleDateRange(){return this.currentOrientation.visibleDateRange}formatDuration(e,t=this.durationDisplayPrecision){const n=Math.pow(10,t);return Math.round(e*n)/n}}x.initClass(),h.default.setVersion("scheduler","4.1.4"),x._$name="TimelineBase"},"./lib/Scheduler/view/VerticalTimeAxis.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Scheduler/view/TimeAxisBase.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.default{static get $name(){return"VerticalTimeAxis"}static get configurable(){return{cls:"b-verticaltimeaxis",sizeProperty:"height",positionProperty:"top",wrapText:!0}}buildHorizontalCells(){const e=this,{client:t}=e,n=null===t||void 0===t?void 0:t.stickyHeaders,r=[],i=e.levels.reduce((t,r,i)=>{var a;return r.cells&&t.push(...null===(a=r.cells)||void 0===a?void 0:a.filter(t=>t.start<e.endDate&&t.end>e.startDate).map((t,r,a)=>({className:{"b-sch-header-timeaxis-cell":1,[t.headerCellCls]:t.headerCellCls,["b-align-"+t.align]:t.align,"b-last":r===a.length-1,"b-lowest":i===e.levels.length-1},dataset:o({tickIndex:t.index,cellId:`${i}-${t.index}`,headerPosition:i},window.DEBUG&&{date:t.start.getTime()}),style:{top:t.coord,height:t.width,minHeight:t.width},children:[{className:{"b-sch-header-text":1,"b-sticky-header":n},html:t.value}]}))),t},[]);return null===t||void 0===t||t.getHeaderDomConfigs(r),i.push(...r),{className:e.widgetClassList,dataset:{headerFeature:"headerRow0",headerPosition:0},syncOptions:{releaseThreshold:5,syncIdField:"cellId"},children:i}}get height(){return this.size}}s._$name="VerticalTimeAxis"},"./lib/Scheduler/view/export/SchedulerExportDialog.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Grid/view/export/ExportDialog.js"),o=n("./lib/Scheduler/feature/export/Utils.js"),a=(n("./lib/Scheduler/view/export/field/ScheduleRangeCombo.js"),n("./lib/Core/widget/Field.js"));class s extends i.default{static get $name(){return"SchedulerExportDialog"}static get type(){return"schedulerexportdialog"}static get defaultConfig(){return{scheduleRange:"completeview"}}onLocaleChange(){const e=this.L("labelWidth");this.width=this.L("L{width}"),this.items.forEach(t=>{t instanceof a.default?t.labelWidth=e:"rangeFieldsContainer"===t.ref&&(t.items[0].width=e)})}get fieldProperties(){return["scheduleRange",...super.fieldProperties]}buildDialogItems(e){const t=this,{client:n}=e,{scheduleRange:i}=t.getDefaultFieldValues(e),a=super.buildDialogItems(e),s=t.L("labelWidth");t.columnsStore=n.columns.chain(e=>e.isLeaf&&e.exportable);const l=a.find(e=>"columnsField"===e.ref);return l.store=t.columnsStore,l.value=t.columnsStore.allRecords,a.splice(1,0,{labelWidth:s,type:"schedulerangecombo",ref:"scheduleRangeField",label:"L{Schedule range}",localeClass:t,value:i,onChange({value:e}){const t=e!==o.ScheduleRange.daterange,n=this.owner.widgetMap;n.rangeStartField.hidden=n.rangeEndField.hidden=t}},{type:"container",ref:"rangeFieldsContainer",flex:"1 0 100%",defaults:{localeClass:t},items:[{type:"widget",width:s},{type:"datefield",ref:"rangeStartField",label:"L{Export from}",labelWidth:"3em",hidden:!0,flex:"1 0 25%",localeClass:t,value:n.startDate,max:r.default.max(n.startDate,r.default.add(n.endDate,-1,"d")),onChange({value:e}){this.owner.widgetMap.rangeEndField.min=r.default.add(e,1,"d")}},{type:"widget",width:"0.5em"},{type:"datefield",ref:"rangeEndField",label:"L{Export to}",labelWidth:"1em",hidden:!0,flex:"1 0 25%",localeClass:t,value:n.endDate,min:r.default.min(n.endDate,r.default.add(n.startDate,1,"d")),onChange({value:e}){this.owner.widgetMap.rangeStartField.max=r.default.add(e,-1,"d")}}]}),a}}s._$name="SchedulerExportDialog"},"./lib/Scheduler/view/export/field/ScheduleRangeCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/feature/export/Utils.js"),i=n("./lib/Grid/view/export/field/LocalizableCombo.js");class o extends i.default{static get $name(){return"ScheduleRangeCombo"}static get type(){return"schedulerangecombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return Object.entries(r.ScheduleRange).map(([e,t])=>({id:e,text:this.L(t)}))}}o.initClass(),o._$name="ScheduleRangeCombo"},"./lib/Scheduler/view/mixin/EventNavigation.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/util/Navigator.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/mixin/Delayable.js");const s=e=>e.preventDefault();t.default=e=>class extends(Object(a.default)(e||r.default)){static get $name(){return"EventNavigation"}static get configurable(){return{navigator:{allowCtrlKey:!0,scrollSilently:!0,keys:{Space:"onEventSpaceKey",Enter:"onEventEnterKey",Delete:"onDeleteKey",Backspace:"onDeleteKey"}}}}static get defaultConfig(){return{focusCls:"b-active",enableDeleteKey:!0,onDeleteKeyBuffer:500,navigatePreviousBuffer:200,navigateNextBuffer:200,testConfig:{onDeleteKeyBuffer:1}}}construct(e){const t=this;t.isInTimeAxis=t.isInTimeAxis.bind(t),t.onDeleteKey=t.throttle(t.onDeleteKey,t.onDeleteKeyBuffer,t),super.construct(e)}changeNavigator(e){const t=this;return t.getConfig("subGridConfigs"),new i.default(t.constructor.mergeConfigs({ownerCmp:t,target:t.timeAxisSubGridElement,processEvent:t.processEvent,itemSelector:`.${t.eventCls}-wrap`,focusCls:t.focusCls,navigatePrevious:t.throttle(t.navigatePrevious,{delay:t.navigatePreviousBuffer,throttled:s}),navigateNext:t.throttle(t.navigateNext,{delay:t.navigateNextBuffer,throttled:s})},e))}doDestroy(){this.navigator.destroy(),super.doDestroy()}isInTimeAxis(e){return!e.instanceMeta(this).excluded&&this.timeAxis.isTimeSpanInAxis(e)}accessibleFocusCell(e,t){if((e=this.normalizeCellContext(e)).columnId!==this.timeAxisColumn.id)return super.focusCell(e,t)}normalizeTarget(e){return e.assignmentRecord}getPrevious(e,t){const n=this,{resourceStore:r}=n,{eventSorter:i}=n.currentOrientation,{startDate:o,endDate:a}=n.timeAxis,s=e.event,l=n.eventStore.getEvents({resourceRecord:e.resource,startDate:o,endDate:a}).filter(this.isInTimeAxis).sort(i);let c=e.resource,d=l[l.indexOf(s)-1];if(!d)for(let u=r.indexOf(c)-1;(!d||t&&d===s)&&u>=0;u--){c=r.getAt(u);const e=n.eventStore.getEvents({resourceRecord:c,startDate:o,endDate:a}).filter(n.isInTimeAxis).sort(i);d=e.length&&e[e.length-1]}return n.assignmentStore.getAssignmentForEventAndResource(d,c)}navigatePrevious(e){const t=this,n=t.getPrevious(t.normalizeTarget(e));if(e.preventDefault(),n)return e.ctrlKey||t.clearEventSelection(),t.navigateTo(n,e)}getNext(e,t){const n=this,{resourceStore:r}=n,{eventSorter:i}=n.currentOrientation,{startDate:o,endDate:a}=n.timeAxis,s=e.event,l=n.eventStore.getEvents({resourceRecord:e.resource,startDate:o,endDate:a}).filter(this.isInTimeAxis).sort(i);let c=e.resource,d=l[l.indexOf(s)+1];if(!d)for(let u=r.indexOf(c)+1;(!d||t&&d===s)&&u<r.count;u++)c=r.getAt(u),d=n.eventStore.getEvents({resourceRecord:c,startDate:o,endDate:a}).filter(n.isInTimeAxis).sort(i)[0];return n.assignmentStore.getAssignmentForEventAndResource(d,c)}navigateNext(e){const t=this,n=t.getNext(t.normalizeTarget(e));if(e.preventDefault(),n)return e.ctrlKey||t.clearEventSelection(),t.navigateTo(n,e)}async navigateTo(e,t={}){const n=this;e&&(n.navigator.disabled=!0,await n.scrollAssignmentIntoView(e,null,{animate:100}),n.isDestroyed||(n.navigator.disabled=!1,n.activeAssignment=e,n.navigator.trigger("navigate",{event:t,item:o.default.up(n.getElementFromAssignmentRecord(e),n.navigator.itemSelector)})))}set activeAssignment(e){const t=this.getElementFromAssignmentRecord(e);this.navigator.activeItem=t.parentNode}get activeAssignment(){const{activeItem:e}=this.navigator;if(e)return this.resolveAssignmentRecord(e)}get previousActiveEvent(){const{previousActiveItem:e}=this.navigator;if(e)return this.resolveEventRecord(e)}processEvent(e){const t=this,n=o.default.up(e.target,t.eventSelector);return!t.navigator.disabled&&n&&(e.assignmentRecord=t.resolveAssignmentRecord(n),e.eventRecord=t.resolveEventRecord(n),e.resourceRecord=t.resolveResourceRecord(n)),e}onDeleteKey(e){const t=this;if(!t.readOnly&&t.enableDeleteKey){const e=t.eventStore.usesSingleAssignment?t.selectedEvents:t.selectedAssignments;t.removeEvents(e)}}removeEvents(e,t=null){const n=this;if(!n.readOnly&&e.length){const r={finalize(r=!0){t&&t(r),!1!==r&&(e.some(e=>{var t;return e.isOccurrence||(null===(t=e.event)||void 0===t?void 0:t.isOccurrence)})?e.forEach(e=>e.isOccurrenceAssignment?e.event.remove():e.remove()):(e[0].isAssignment?n.assignmentStore:n.eventStore).remove(e))}};let i;if(i=e[0].isAssignment?n.trigger("beforeAssignmentDelete",{assignmentRecords:e,context:r}):n.trigger("beforeEventDelete",{eventRecords:e,context:r}),!1!==i)return r.finalize(),!0}return!1}onEventSpaceKey(e){}onEventEnterKey(e){}get isActionableLocation(){if(!this.navigator.activeItem)return super.isActionableLocation}get widgetClass(){}}},"./lib/Scheduler/view/mixin/EventSelection.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/util/Collection.js"),o=n("./lib/Core/helper/ArrayHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"EventSelection"}static get configurable(){return{highlightPredecessors:!1,highlightSuccessors:!1}}static get defaultConfig(){return{multiEventSelect:!1,eventSelectionDisabled:!1,eventSelectedCls:"b-sch-event-selected",triggerSelectionChangeOnRemove:!1,maintainSelectionOnDatasetChange:!0,eventAssignHighlightCls:"b-sch-event-assign-selected",selectedCollection:{}}}afterConstruct(){super.afterConstruct(),this.navigator.on({navigate:"onEventNavigate",thisObj:this})}set selectedCollection(e){e instanceof i.default||(e=new i.default(e)),this._selectedCollection=e,e.on({change:"onSelectedCollectionChange",thisObj:this})}get selectedCollection(){return this._selectedCollection}getEventsFromAssignments(e){return o.default.unique(e.map(e=>e.event))}get selectedEvents(){return this.getEventsFromAssignments(this.selectedCollection.values)}set selectedEvents(e){const t=[];e&&!Array.isArray(e)&&(e=[e]),e&&e.forEach(e=>{t.push(...e.assignments)}),this.selectedCollection.splice(0,this.selectedCollection.count,t)}get selectedAssignments(){return this.selectedCollection.values}set selectedAssignments(e){this.selectedCollection.splice(0,this.selectedCollection.count,e||[])}isEventSelected(e){return this.selectedEvents.includes(e)}isAssignmentSelected(e){return this.selectedCollection.includes(e)}select(e,t=!1){e.isAssignment?this.selectAssignment(e,t):this.selectEvent(e,t)}selectEvent(e,t=!1){this.isEventSelected(e)||(t?this.selectedCollection.add(e.assignments):this.selectedEvents=e)}selectAssignment(e,t=!1){this.isAssignmentSelected(e)||(t?this.selectedCollection.add(e):this.selectedAssignments=e)}deselect(e){e.isAssignment?this.deselectAssignment(e):this.deselectEvent(e)}deselectEvent(e){this.isEventSelected(e)&&this.selectedCollection.remove(...e.assignments)}deselectAssignment(e){this.isAssignmentSelected(e)&&this.selectedCollection.remove(e)}selectEvents(e){this.selectedCollection.add(e.reduce((e,t)=>(e.push(...t.assignments),e),[]))}deselectEvents(e){this.selectedCollection.remove(e.reduce((e,t)=>(e.push(...t.assignments),e),[]))}selectAssignments(e){this.selectedCollection.add(e)}deselectAssignments(e){this.selectedCollection.remove(e)}clearEventSelection(){this.selectedAssignments=[]}onSelectedCollectionChange({added:e,removed:t}){const n=this,r=n.selectedAssignments,i=e||[],o=t||[];function a(e,t){const r=e.event;if(r){const i=n.getElementFromAssignmentRecord(e);n.currentOrientation.toggleCls(e,n.eventSelectedCls,t),n.getElementsFromEventRecord(r).forEach(e=>{if(e!==i){const r=n.resolveAssignmentRecord(e);n.currentOrientation.toggleCls(r,n.eventAssignHighlightCls,t),t&&(e.style.animation="none",e.offsetHeight,e.style.animation=""),e.classList[t?"add":"remove"](n.eventAssignHighlightCls)}})}}if(o.forEach(e=>a(e,!1)),i.forEach(e=>a(e,!0)),(n.highlightSuccessors||n.highlightPredecessors)&&n.highlightLinkedEvents(n.selectedEvents),n.$selectedAssignments=r.map(e=>({eventId:e.eventId,resourceId:e.resourceId})),!n.silent){const e=r.length>0?i.length>0&&o.length>0?"update":i.length>0?"select":"deselect":"clear";n.trigger("assignmentSelectionChange",{action:e,selection:r,selected:i,deselected:o}),n.trigger("eventSelectionChange",{action:e,selection:n.selectedEvents,selected:n.getEventsFromAssignments(i),deselected:n.getEventsFromAssignments(o)})}}onAssignmentChange({action:e,records:t}){const n=this;if(n.silent=!n.triggerSelectionChangeOnRemove,"remove"===e)n.deselectAssignments(t);else if("removeall"!==e||n.eventStore.isSettingData){if("dataset"===e&&n.$selectedAssignments)if(n.maintainSelectionOnDatasetChange){const e=n.$selectedAssignments.map(e=>t.find(t=>t.eventId===e.eventId&&t.resourceId===e.resourceId));n.selectedAssignments=o.default.clean(e)}else n.clearEventSelection()}else n.clearEventSelection();n.silent=!1}onInternalEventStoreChange({action:e,records:t}){"dataset"!==e||t.length||this.clearEventSelection(),super.onInternalEventStoreChange(...arguments)}onAssignmentSelectionClick(e,t){const n=this;n.isAssignmentSelected(t)?e.ctrlKey&&n.deselectAssignment(t,n.multiEventSelect):n.selectAssignment(t,e.ctrlKey&&n.multiEventSelect)}onEventNavigate({event:e,item:t}){if(!this.eventSelectionDisabled){const n=t&&(t.nodeType===Element.ELEMENT_NODE?this.resolveAssignmentRecord(t):t);n?(this.clearFocus(!0),this.onAssignmentSelectionClick(e,n)):this.clearEventSelection()}}changeHighlightSuccessors(e){return this.changeLinkedEvents(e)}changeHighlightPredecessors(e){return this.changeLinkedEvents(e)}changeLinkedEvents(e){const t=this;return e?(t.highlighted=t.highlighted||new Set,t.highlightLinkedEvents(t.selectedEvents)):t.highlighted&&t.highlightLinkedEvents(),e}highlightLinkedEvents(e=[]){const t=this,{highlighted:n}=t,r=t.features.dependencies;n.forEach(i=>{e.includes(i)||(i.$highlight=!1,n.delete(i),t.eventStore.includes(i)&&i.dependencies.forEach(e=>r.unhighlight(e,"b-highlight")))}),t.eventStore.beginBatch(),e.forEach(e=>{const i=[e];for(;i.length;){const e=i.pop();n.add(e),t.highlightSuccessors&&e.outgoingDeps.forEach(e=>{r.highlight(e,"b-highlight"),!n.has(e.toEvent)&&i.push(e.toEvent)}),t.highlightPredecessors&&e.incomingDeps.forEach(e=>{r.highlight(e,"b-highlight"),!n.has(e.fromEvent)&&i.push(e.fromEvent)})}n.forEach(e=>e.$highlight=!0)}),t.eventStore.endBatch(),e.length>0?t.element.classList.add("b-highlighting"):t.element.classList.remove("b-highlighting")}onEventDataGenerated(e){(this.highlightSuccessors||this.highlightPredecessors)&&(e.cls["b-highlight"]=e.eventRecord.$highlight),super.onEventDataGenerated(e)}updateProject(e,t){this.clearEventSelection(),super.updateProject(e,t)}doDestroy(){var e;null===(e=this._selectedCollection)||void 0===e||e.destroy(),super.doDestroy()}get widgetClass(){}}},"./lib/Scheduler/view/mixin/RecurringEvents.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");n("./lib/Scheduler/view/recurrence/RecurrenceConfirmationPopup.js"),t.default=e=>class extends(e||r.default){static get $name(){return"RecurringEvents"}static get configurable(){return{enableRecurringEvents:!1,recurrenceConfirmationPopup:{$config:["lazy"],value:{type:"recurrenceconfirmation"}}}}construct(e){super.construct(e),this.on({beforeeventdropfinalize:"onBeforeEventDropFinalize",beforeeventresizefinalize:"onBeforeEventResizeFinalize",beforeEventDelete:"onRecurrableEventBeforeDelete",beforeAssignmentDelete:"onRecurrableAssignmentBeforeDelete",thisObj:this})}changeRecurrenceConfirmationPopup(e,t){const n=this.constructor.reconfigure(t,e,"recurrenceconfirmation");return n.owner=this,n}findRecurringEventToConfirmDelete(e){const{eventEdit:t}=this.features;return e.find(e=>e.supportsRecurring&&(e.isRecurring||e.isOccurrence)&&(!t||!t.isEditing||t.eventRecord!==e))}onRecurrableEventBeforeDelete({eventRecords:e,context:t}){const n=this.findRecurringEventToConfirmDelete(e);if(this.enableRecurringEvents&&n)return this.recurrenceConfirmationPopup.confirm({actionType:"delete",eventRecord:n,changerFn(){t.finalize(!0)},cancelFn(){t.finalize(!1)}}),!1}onRecurrableAssignmentBeforeDelete({assignmentRecords:e,context:t}){const n=e.map(e=>e.event),r=this.findRecurringEventToConfirmDelete(n);if(this.enableRecurringEvents&&r)return this.recurrenceConfirmationPopup.confirm({actionType:"delete",eventRecord:r,changerFn(){t.finalize(!0)},cancelFn(){t.finalize(!1)}}),!1}onBeforeEventDropFinalize({context:e}){if(this.enableRecurringEvents){const{eventRecords:t}=e,n=t.filter(e=>e.supportsRecurring&&(e.isRecurring||e.isOccurrence));n.length&&(e.async=!0,this.recurrenceConfirmationPopup.confirm({actionType:"update",eventRecord:n[0],changerFn(){e.finalize(!0)},cancelFn(){e.finalize(!1)}}))}}onBeforeEventResizeFinalize({context:e}){if(this.enableRecurringEvents){const{eventRecord:t}=e;t.supportsRecurring&&(t.isRecurring||t.isOccurrence)&&(e.async=!0,this.recurrenceConfirmationPopup.confirm({actionType:"update",eventRecord:t,changerFn(){e.finalize(!0)},cancelFn(){e.finalize(!1)}}))}}getOccurrencesFor(e){return this.eventStore.getOccurrencesForTimeSpan(e,this.timeAxis.startDate,this.timeAxis.endDate)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerDom.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerDom"}getElementFromAssignmentRecord(e,t=!1){return this.currentOrientation.getElementFromAssignmentRecord(e,t)}getElementFromEventRecord(e,t,n=!1){return this.currentOrientation.getElementFromEventRecord(e,t,n)}getElementsFromEventRecord(e,t,n=!1){return this.currentOrientation.getElementsFromEventRecord(e,t,n)}resolveResourceRecord(e,t){return this.currentOrientation.resolveRowRecord(e,t)}resolveEventRecord(e){if(e=i.default.up(e,this.eventSelector)){if(e.dataset.eventId)return this.eventStore.getById(e.dataset.eventId);if(e.dataset.assignmentId)return this.assignmentStore.getById(e.dataset.assignmentId).event}return null}resolveTimeSpanRecord(e){return this.resolveEventRecord(e)}resolveAssignmentRecord(e){const t=i.default.up(e,this.eventSelector),n=t&&this.assignmentStore.getById(t.dataset.assignmentId),r=t&&this.eventStore.getById(t.dataset.eventId);return this.assignmentStore.getOccurrence(n,r)}isRowVisible(e){return this.store.indexOf(e)>=0}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerDomEvents.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerDomEvents"}getTimeSpanMouseEventParams(e,t){const n=this.resolveEventRecord(e);return n&&{eventRecord:n,resourceRecord:this.resolveResourceRecord(e),assignmentRecord:this.resolveAssignmentRecord(e),eventElement:e,event:t}}getScheduleMouseEventParams(e,t){return{resourceRecord:this.isVertical?this.resolveResourceRecord(t):this.store.getById(e.id)}}onElementKeyDown(e){super.onElementKeyDown(e);const t=this;t.selectedEvents.length&&t.trigger(t.scheduledEventName+"KeyDown",{eventRecords:t.selectedEvents,assignmentRecords:t.selectedAssignments,event:e,eventRecord:t.selectedEvents,assignmentRecord:t.selectedAssignments})}onElementKeyUp(e){super.onElementKeyUp(e);const t=this;t.selectedEvents.length&&t.trigger(t.scheduledEventName+"KeyUp",{eventRecords:t.selectedEvents,assignmentRecords:t.selectedAssignments,event:e,eventRecord:t.selectedEvents,assignmentRecord:t.selectedAssignments})}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerDragResize.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerDragResize"}construct(e){super.construct(e),this.hasFeature("eventDragCreate")&&this.on({dragCreateEnd:"internalOnDragCreateEnd",thisObj:this})}internalOnDragCreateEnd({newEventRecord:e,resourceRecord:t}){const n=this;if((!n.hasFeature("simpleEventEdit")||n.features.simpleEventEdit.disabled)&&(!n.hasFeature("eventEdit")||n.features.eventEdit.disabled)&&(!n.hasFeature("taskEdit")||n.features.taskEdit.disabled)){const r=t?[t]:[];!1!==n.trigger("beforeEventAdd",{eventRecord:e,resources:r,resourceRecords:r})&&(n.onEventCreated(e),n.eventStore.add(e),e.assign(t))}}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerEventRendering.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/util/DomClassList.js"),o=n("./lib/Scheduler/eventlayout/HorizontalLayoutStack.js"),a=n("./lib/Scheduler/eventlayout/HorizontalLayoutPack.js"),s=n("./lib/Core/helper/EventHelper.js"),l=n("./lib/Core/helper/BrowserHelper.js"),c=n("./lib/Core/helper/ObjectHelper.js"),d=n("./lib/Core/helper/DomHelper.js"),u=n("./lib/Core/helper/StringHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerEventRendering"}static get configurable(){return{milestoneTextPosition:"outside",eventLayout:"stack"}}static get defaultConfig(){return{eventRenderer:null,milestoneAlign:"center",milestoneCharWidth:10,milestoneLayoutMode:"default",milestoneMinWidth:40,eventRendererThisObj:null,horizontalLayoutPackClass:a.default,horizontalLayoutStackClass:o.default,horizontalEventSorterFn:null,eventBarTextField:"name",eventBodyTemplate:null,eventPositionMode:"translate",eventScrollMode:"move",fillTicks:!1,useInitialAnimation:!0,resourceColumns:null,resourceImagePath:null,defaultResourceImageName:null,resourceImageExtension:".jpg",resourceMargin:null,isFirstRender:!0,initialAnimationDuration:2e3}}get eventPrefix(){return this._eventPrefix}set eventPrefix(e){this._eventPrefix=e||this.id+"-"}updateEventLayout(e,t){const n=this;t&&n.element.classList.remove("b-eventlayout-"+t),n.element.classList.add("b-eventlayout-"+e),n.isConfiguring||n.refreshWithTransition()}getEventLayoutHandler(e){const t=this,{timeAxisViewModel:n,horizontal:r}=t;if(!t.isHorizontal)return null;switch(t.layouts||(t.layouts={}),e){case"stack":return t.layouts.horizontalStack||(t.layouts.horizontalStack=new t.horizontalLayoutStackClass({scheduler:t,timeAxisViewModel:n,bandIndexToPxConvertFn:r.layoutEventVerticallyStack,bandIndexToPxConvertThisObj:r})),t.layouts.horizontalStack;case"pack":return t.layouts.horizontalPack||(t.layouts.horizontalPack=new t.horizontalLayoutPackClass({scheduler:t,timeAxisViewModel:n,bandIndexToPxConvertFn:r.layoutEventVerticallyPack,bandIndexToPxConvertThisObj:r})),t.layouts.horizontalPack;default:return null}}get fillTicks(){return this._fillTicks}set fillTicks(e){e!==this._fillTicks&&(this._fillTicks=e,this.isConfiguring||this.refreshWithTransition())}get useInitialAnimation(){return this._useInitialAnimation}set useInitialAnimation(e){const t=this;t._useInitialAnimation&&t.element.classList.remove("b-initial-"+t._useInitialAnimation),t._useInitialAnimation=!0===e?"fade-in":e,e&&(t.element.classList.add("b-initial-"+t._useInitialAnimation),l.default.isFirefox&&t.element.classList.add("b-prevent-event-transitions"))}set horizontalEventSorterFn(e){this._horizontalEventSorterFn=e,this.rendered&&this.refreshWithTransition()}get horizontalEventSorterFn(){return this._horizontalEventSorterFn}set resourceColumns(e){this._resourceColumns=e}get resourceColumns(){var e;return(null===(e=this.timeAxisColumn)||void 0===e?void 0:e.resourceColumns)||this._resourceColumns}get resourceColumnWidth(){return this.resourceColumns?this.resourceColumns.columnWidth:null}getEventsToRender(e,t){return t}repaintEventsForResource(e){this.currentOrientation.repaintEventsForResource(e)}repaintEvent(e){this.eventStore.getResourcesForEvent(e).forEach(e=>this.repaintEventsForResource(e))}getResourceMargin(e){var t;return null!==(t=null===e||void 0===e?void 0:e.resourceMargin)&&void 0!==t?t:this.resourceMargin}getBarMargin(e){var t;return null!==(t=null===e||void 0===e?void 0:e.barMargin)&&void 0!==t?t:this.barMargin}getResourceHeight(e){var t,n;const r=this.getRowById(e);return null!==(t=null!==(n=null===r||void 0===r?void 0:r.maxRequestedHeight)&&void 0!==n?n:e.rowHeight)&&void 0!==t?t:this.rowHeight}getResourceLayoutSettings(e){return{resourceMargin:this.getResourceMargin(e),barMargin:this.getBarMargin(e),rowHeight:this.getResourceHeight(e)}}generateRenderData(e,t,n={viewport:!0}){const r=this,o=r.currentOrientation.getTimeSpanRenderData(e,t,n),{isEvent:a,isMilestone:l}=e,h=a&&e.assignments.find(e=>e.resourceId===t.id),f={className:"b-sch-event-content",dataset:{taskBarFeature:"content"}};if(o){var g;let n=e.isResizable;o.startsOutsideView&&(!0===n?n="end":"start"===n&&(n=!1)),o.endsOutsideView&&(!0===n?n="start":"end"===n&&(n=!1));const p=e.isResourceTimeRange?new i.default:e.cls.clone(),v=e.isResourceTimeRange?e.cls.clone():new i.default,b=Boolean(e.hasPersistableChanges||h&&h.hasPersistableChanges);if(c.default.assign(p,{[t.cls]:t.cls,[r.generatedIdCls]:e.hasGeneratedId,[r.dirtyCls]:b,[r.committingCls]:e.isCommitting,[r.endsOutsideViewCls]:o.endsOutsideView,[r.startsOutsideViewCls]:o.startsOutsideView,"b-clipped-start":o.clippedStart,"b-clipped-end":o.clippedEnd}),v[r.eventCls+"-parent"]=t.isParent,o.wrapperStyle="",a){const i=h&&r.isAssignmentSelected(h);c.default.assign(p,{[r.eventCls]:1,"b-milestone":l,"b-sch-event-narrow":o.width<10,[r.fixedEventCls]:!1===e.isDraggable,["b-sch-event-resizable-"+n]:Boolean(r.features.eventResize),[r.eventSelectedCls]:i,[r.eventAssignHighlightCls]:r.isEventSelected(e)&&!i,"b-recurring":e.isRecurring,"b-occurrence":e.isOccurrence}),o.eventId=e.id;const a=e.eventStyle||t.eventStyle||r.eventStyle,d=e.eventColor||t.eventColor||r.eventColor,u=r.isFirstRender&&r.useInitialAnimation;if(c.default.assign(v,{[r.eventCls+"-wrap"]:1,"b-milestone-wrap":l}),u){const e=o.row?o.row.index:o.top/r.tickSize;o.wrapperStyle=`animation-delay: ${e/20}s;`,r.initialAnimationDetacher||(r.initialAnimationDetacher=s.default.on({element:r.foregroundCanvas,delegate:r.eventSelector,animationend:"stopInitialAnimation",expires:{alt:"stopInitialAnimation",delay:r.initialAnimationDuration},thisObj:r}))}o.eventColor=d,o.eventStyle=a,o.assignmentRecord=o.assignment=h}if(o.wrapperCls=v,o.cls=p,o.iconCls=new i.default(e.get(r.eventBarIconClsField)||e.iconCls),e.isResourceTimeRange?(o.style="",o.wrapperStyle+=e.style||""):o.style=e.style||"",o.resource=o.resourceRecord=t,o.resourceId=o.rowId,a){let n,a=null,s=null;if(r.eventRenderer){const a=r.eventRenderer.call(r.eventRendererThisObj||r,{eventRecord:e,resourceRecord:t,assignmentRecord:o.assignmentRecord,tplData:o,renderData:o});"string"===typeof o.cls&&(o.cls=new i.default(o.cls)),"string"===typeof o.wrapperCls&&(o.wrapperCls=new i.default(o.wrapperCls)),"string"===typeof o.iconCls&&(o.iconCls=new i.default(o.iconCls)),n=r.eventBodyTemplate?r.eventBodyTemplate(a):a}else r.eventBodyTemplate?n=r.eventBodyTemplate(e):r.eventBarTextField&&(n=u.default.encodeHtml(e[r.eventBarTextField]||""));var m;r.eventBodyTemplate?(f.html=n,o.children.push(f)):(f.children=[],l&&"default"===r.milestoneLayoutMode&&null!=n&&""!==n&&f.children.unshift(s={tag:"label",children:[]}),null!==(m=o.iconCls)&&void 0!==m&&m.length&&f.children.unshift({tag:"i",className:o.iconCls}),Array.isArray(n)?(s||f).children.push(...n):u.default.isHtml(n)?f.children.length?a={tag:"span",html:n}:(f.children=null,f.html=n):"string"===typeof n||"object"===typeof n?a=n:null!=n&&(a=String(n)),null!=a&&((s||f).children.push(a),o.cls.add("b-has-content")),(null!=f.html||f.children.length)&&o.children.push(f));const{eventStyle:c,eventColor:h}=o;if(o.wrapperCls["b-sch-style-"+c]=c,d.default.isNamedColor(h))o.wrapperCls["b-sch-color-"+h]=h;else if(h){const e=c?"color":"background-color";o.style=`${e}:${h};`+o.style,o.wrapperCls["b-sch-custom-color"]=1}o.style&&l&&f&&(f.style=o.style,delete o.style)}o.cls["b-sch-event-withicon"]=null===(g=o.iconCls)||void 0===g?void 0:g.length,o.eventContent=f,o.wrapperChildren=[],r.onEventDataGenerated(o)}return o}onEventDataGenerated(e){}restartInitialAnimation(e){var t;const n=this;null===(t=n.initialAnimationDetacher)||void 0===t||t.call(n),n.initialAnimationDetacher=null,n.useInitialAnimation=e,n.isFirstRender=!0,n.refresh()}stopInitialAnimation(){const e=this;e.initialAnimationDetacher(),e.isFirstRender=!1,e.useInitialAnimation=!1,l.default.isFirefox&&e.setTimeout(()=>e.element.classList.remove("b-prevent-event-transitions"),100)}getMilestoneLabelWidth(e){const t=this,n=t.milestoneLayoutMode;if("measure"===n){const n=t.milestoneMeasureElement||(t.milestoneMeasureElement=d.default.createElement({className:"b-sch-event-wrap b-milestone-wrap b-measure",children:[{className:"b-sch-event b-milestone",children:[{className:"b-sch-event-content"}]}],parent:t.foregroundCanvas}));return n.retainElement=!0,n.firstElementChild.firstElementChild.innerHTML=e.name,n.offsetWidth}return"estimate"===n?Math.max(e.name.length*t.milestoneCharWidth,t.milestoneMinWidth):"data"===n?Math.max(e.milestoneWidth,t.milestoneMinWidth):0}set milestoneLayoutMode(e){this._milestoneLayoutMode=e,this.element.classList["default"!==e?"add":"remove"]("b-sch-layout-milestones"),this.isConfiguring||this.refreshWithTransition()}get milestoneLayoutMode(){return this._milestoneLayoutMode}updateMilestoneTextPosition(e){this.element.classList.toggle("b-sch-layout-milestone-text-position-inside","inside"===e)}set milestoneAlign(e){this._milestoneAlign=e,this.isConfiguring||this.refreshWithTransition()}get milestoneAlign(){return this._milestoneAlign}set milestoneCharWidth(e){this._milestoneCharWidth=e,this.isConfiguring||this.refreshWithTransition()}get milestoneCharWidth(){return this._milestoneCharWidth}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerRegions.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerRegions"}getScheduleRegion(e,t,n=!0){return this.currentOrientation.getScheduleRegion(e,t,n)}getResourceRegion(e,t,n){return this.currentOrientation.getRowRegion(e,t,n)}getAssignmentEventBox(e,t){return this.getResourceEventBox(e.event,e.resource,t)}getResourceEventBox(e,t,n=!1,r=!1){return this.currentOrientation.getResourceEventBox(e,t,n,r)}getItemBox(e,t=!1){return e.resources.map(n=>this.getResourceEventBox(e,n,t))}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerScroll.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js");const o=Promise.resolve(),a={block:"nearest",edgeOffset:20},s={highlight:!1,focus:!1};t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerScroll"}scrollEventIntoView(e,t=a){const n=e.resources||[e];if(n.length>1)throw new Error("scrollEventIntoView() is not applicable for events with multiple assignments, please use scrollResourceEventIntoView() instead.");return n.length?this.scrollResourceEventIntoView(n[0],e,null,t):(console.warn("You have asked to scroll to an event which is not assigned to a resource"),o)}scrollAssignmentIntoView(e,...t){return this.scrollResourceEventIntoView(e.resource,e.event,...t)}scrollResourceEventIntoView(e,t,n,r=a){var s;const l=this,c=t.startDate,d=t.endDate,u=t.isScheduled&&c<l.timeAxis.startDate|(d>l.timeAxis.endDate)<<1;let h;if(null==r.edgeOffset&&(r.edgeOffset=20),u&&!1!==r.extendTimeAxis){let e,n,r=l.timeAxis.endDate-l.timeAxis.startDate;3===u?l.timeAxis.setTimeSpan(new Date(c.valueOf()-r/2),new Date(d.getTime()+r/2)):(e=1&u?l.getCoordinateFromDate(t.endDate):l.getCoordinateFromDate(t.startDate),1&u?l.timeAxis.setTimeSpan(new Date(c),new Date(c.valueOf()+r)):l.timeAxis.setTimeSpan(new Date(d.valueOf()-r),new Date(d)),n=1&u?l.getCoordinateFromDate(t.endDate):l.getCoordinateFromDate(t.startDate),l.timeAxisSubGrid.scrollable.scrollBy(n-e))}if(null===(s=l.expandTo)||void 0===s||s.call(l,e),h=l.getElementFromEventRecord(t,e),h){i.default.isFocusable(h)||(h=h.parentNode);const e=l.timeAxisSubGrid.scrollable;return l.timeAxisSubGrid.forceScrollUpdate=!0,e.scrollIntoView(h,r)}return u&&!1===r.extendTimeAxis?(console.warn("You have asked to scroll to an event which is outside the current view and extending timeaxis is disabled"),o):t.isOccurrence||l.eventStore.isAvailable(t)?t.isScheduled?l.scrollUnrenderedEventIntoView(e,t,r):l.scrollResourceIntoView(e,r):(console.warn("You have asked to scroll to an event which is not available"),o)}scrollUnrenderedEventIntoView(e,t,n=a){return new Promise(r=>{const o=Object.assign({edgeOffset:20},n,s),a=this.timeAxisSubGrid.scrollable,l=this.getResourceEventBox(t,e),c=a.viewport;if(!c)return void r();const d=l.translate(c.x-a.x,c.y-a.y),u=a.getDeltaTo(d,o)[this.isHorizontal?"xDelta":"yDelta"],h=this.on({renderEvent:async({eventRecord:e,element:o,targetElement:s})=>{if(e===t){const e=o||s;h(),await f,u>0&&await a.scrollIntoView(e,{edgeOffset:n.edgeOffset}),n.highlight&&i.default.highlight(e),n.focus&&e.focus(),r()}}}),f=a.scrollIntoView(d,o)})}scrollResourceIntoView(e,t=a){return this.isVertical?this.currentOrientation.scrollResourceIntoView(e,t):this.scrollRowIntoView(e,t)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerState.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");const o=["eventLayout","barMargin","mode","eventColor","eventStyle","tickSize","fillTicks"];t.default=e=>class extends(e||r.default){static get $name(){return"SchedulerState"}getState(){const e=this,t=i.default.copyProperties(super.getState(),e,o);return t.zoomLevel=e.zoomLevel,t.zoomLevelOptions={startDate:e.startDate,endDate:e.endDate,viewportCenterDate:e.viewportCenterDate,width:e.tickSize},t}applyState(e){this.suspendRefresh(),e.zoomLevel&&this.zoomToLevel(e.zoomLevel,e.zoomLevelOptions),i.default.copyProperties(this,e,o),super.applyState(e),this.resumeRefresh(!0)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/SchedulerStores.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Core/GlobalEvents.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Scheduler/data/mixin/ProjectConsumer.js");t.default=e=>class extends(Object(s.default)(e||r.default)){static get $name(){return"SchedulerStores"}static get projectStores(){return{resourceStore:{dataName:"resources"},eventStore:{dataName:"events",listeners:{changePreCommit:"onInternalEventStoreChange",clearChanges:"onEventClearChanges",commitStart:"onEventCommitStart",commit:"onEventCommit",exception:"onEventException",idchange:"onEventIdChange",beforeLoad:"applyStartEndParameters"}},assignmentStore:{dataName:"assignments",listeners:{changePreCommit:"onAssignmentChange",commitStart:"onAssignmentCommitStart",commit:"onAssignmentCommit",exception:"onAssignmentException",beforeRemove:{fn:"onAssignmentBeforeRemove",prio:-1e3}}},dependencyStore:{dataName:"dependencies"},calendarManagerStore:{},timeRangeStore:{},resourceTimeRangeStore:{}}}static get configurable(){return{timeRanges:null,resourceTimeRanges:null,store:null,startParamName:"startDate",endParamName:"endDate",passStartEndParameters:!1,removeUnassignedEvent:!0}}updateProject(e,t){super.updateProject(e,t),this.detachListeners("schedulerStores"),e.on({name:"schedulerStores",refresh:"onProjectRefresh",thisObj:this})}onProjectRefresh({isInitialCommit:e}){const t=this;e&&t.isVertical&&(t.refreshAfterProjectRefresh=!1,t.refreshWithTransition()),t.navigateToAfterRefresh&&(t.navigateTo(t.navigateToAfterRefresh),t.navigateToAfterRefresh=null),t.refreshAfterProjectRefresh&&(t.refreshWithTransition(),t.refreshAfterProjectRefresh=!1)}get store(){return!this._store&&this.isVertical&&(this._store=new i.default({data:[{id:"verticalTimeAxisRow",cls:"b-verticaltimeaxis-row"}]})),super.store}set store(e){super.store=e}refreshFromRowOnStoreAdd(e,{isExpand:t}){const n=arguments;this.runWithTransition(()=>{this.currentOrientation.suspended=!t,super.refreshFromRowOnStoreAdd(e,...n),this.currentOrientation.suspended=!1},!t)}onStoreAdd(e){super.onStoreAdd(e),this.calculateRowHeights(e.records)}onStoreUpdateRecord({source:e,record:t,changes:n}){let r=0;"assigned"in n&&r++,"calendar"in n&&r++,r!==Object.keys(n).length&&super.onStoreUpdateRecord(...arguments)}updateResourceStore(e){e&&this.isHorizontal&&(e.metaMapId=this.id,this.store=e)}onEventIdChange(e){this.currentOrientation.onEventStoreIdChange&&this.currentOrientation.onEventStoreIdChange(e)}onInternalEventStoreChange(e){!this._mode||e.isAssign||this.assignmentStore.isRemovingAssignment||this.currentOrientation.onEventStoreChange(e)}onEventCommit({changes:e}){let t=[...e.added,...e.modified].map(e=>this.eventStore.getResourcesForEvent(e));t=Array.prototype.concat.apply([],t),new Set(t).forEach(e=>this.repaintEventsForResource(e))}onEventCommitStart({changes:e}){const{currentOrientation:t,committingCls:n}=this;[...e.added,...e.modified].forEach(e=>e.assignments.forEach(e=>t.toggleCls(e,n,!0)))}onEventException({action:e}){if("commit"===e){const{changes:e}=this.eventStore;[...e.added,...e.modified,...e.removed].forEach(e=>this.repaintEvent(e))}}onAssignmentCommit({changes:e}){this.repaintEventsForAssignmentChanges(e)}onAssignmentCommitStart({changes:e}){const{currentOrientation:t,committingCls:n}=this;[...e.added,...e.modified].forEach(e=>{t.toggleCls(e,n,!0)})}onAssignmentException({action:e}){"commit"===e&&this.repaintEventsForAssignmentChanges(this.assignmentStore.changes)}repaintEventsForAssignmentChanges(e){const t=[...e.added,...e.modified,...e.removed].map(e=>e.getResource());new Set(t).forEach(e=>this.repaintEventsForResource(e))}onEventClearChanges(){this.refresh()}onAssignmentBeforeRemove({source:e,records:t,removingAll:n}){if(n)return;const r=this;let i;if(!r.isConfiguring&&r.activeAssignment&&t.includes(r.activeAssignment)){if("key"===o.default.lastInteractionType)for(let e=0,n=t.length;e<n&&(!i||t.includes(i));e++){const n=t[e];n.resource&&n.resource.isModel&&(i=r.getNext(n)||r.getPrevious(n))}i?(r.navigateTo(i),r.navigateToAfterRefresh=i):a.default.focusWithoutScrolling(r.focusElement)}}applyStartEndParameters({source:e,params:t}){const n=this,r=e.modelClass.fieldMap.startDate;n.passStartEndParameters&&(t[n.startParamName]=r.print(n.startDate),t[n.endParamName]=r.print(n.endDate))}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineDateMapper.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js");const o=new Date;t.default=e=>class extends(e||r.default){static get $name(){return"TimelineDateMapper"}getDateFromCoordinate(e,t,n=!0,r=!1){return n||(e=this.currentOrientation.translateToScheduleCoordinate(e)),this.timeAxisViewModel.getDateFromPosition(e,t,r)}getDateFromXY(e,t,n=!0,r=!1){return this.currentOrientation.getDateFromXY(e,t,n,r)}getDateFromDomEvent(e,t,n=!1){return this.getDateFromXY([e.pageX,e.pageY],t,!1,n)}getStartEndDatesFromRectangle(e,t,n,r=!1){const o=this,{isHorizontal:a}=o,s=a?o.timeAxisSubGrid.width:o.timeAxisSubGrid.height,l=a?e.x:e.top,c=a?e.right:e.bottom;let d,u;return l>=0&&c<s?(d=o.getDateFromCoordinate(l,t,!0),u=o.getDateFromCoordinate(c,t,!0)):l<0?(u=o.getDateFromCoordinate(c,t,!0,r),d=u&&i.default.add(u,-n,"ms")):(d=o.getDateFromCoordinate(l,t,!0,r),u=d&&i.default.add(d,n,"ms")),{start:d,end:u}}get displayDateFormat(){return this._displayDateFormat}set displayDateFormat(e){this._displayDateFormat=e,this.trigger("displayDateFormatChange",{format:e})}getFormattedDate(e){return i.default.format(e,this.displayDateFormat)}getDisplayEndDate(e,t){return 0!==e.getHours()||0!==e.getMinutes()||t&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()||i.default.formatContainsHourInfo(this.displayDateFormat)||(e=i.default.add(e,-1,"day")),e}getFormattedEndDate(e,t){return this.getFormattedDate(this.getDisplayEndDate(e,t))}getCoordinateFromDate(e,t=!0){const n=this,{timeAxisViewModel:r}=n,{isContinuous:a,startMS:s,endMS:l,startDate:c,endDate:d,unit:u}=n.timeAxis,h=e.valueOf();let f;if(!0===t?t={local:!0}:t?"local"in t||(t.local=!0):t={local:!1},e instanceof Date||(o.setTime(e),e=o),a&&e.getTimezoneOffset()===c.getTimezoneOffset()&&c.getTimezoneOffset()===d.getTimezoneOffset()&&-1!==i.default.getUnitToBaseUnitRatio(u,"day")){if(h<s||h>l)return-1;f=Math.round((h-s)/(l-s)*r.totalSize)}else f=r.getPositionFromDate(e,t);return t.local||(f=n.currentOrientation.translateToPageCoordinate(f)),f}getTimeSpanDistance(e,t){return this.timeAxisViewModel.getDistanceBetweenDates(e,t)}get viewportCenterDate(){const e=this,{isHorizontal:t,timeAxis:n}=e,r=t?e.timeAxisSubGrid.scrollable:e.scrollable,i=r.x+r.clientWidth/2,o=r.y+r.clientHeight/2;if(n.isContinuous){const e=t?i/r.scrollWidth:o/r.scrollHeight,a=n.startMS+(n.endMS-n.startMS)*e;return new Date(a)}{const n=t?[i,0]:[0,o];return e.getDateFromXY(n,null,!0)}}get viewportCenterDateCached(){return this.cachedCenterDate||(this.cachedCenterDate=this.viewportCenterDate)}get timeResolution(){return this.timeAxis.resolution}set timeResolution(e){this.timeAxis.resolution="number"===typeof e?{increment:e,unit:this.timeAxis.resolution.unit}:e}set snap(e){this.isConfiguring?this._snap=e:this.timeAxisViewModel.snap=e}get snap(){return this.isConfiguring?this._snap:this.timeAxisViewModel.snap}onSchedulerHorizontalScroll({subGrid:e,scrollLeft:t}){this.scrollingToCenter||(this.cachedCenterDate=null)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineDomEvents.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DomHelper.js"),o=n("./lib/Core/helper/StringHelper.js"),a=n("./lib/Core/helper/EventHelper.js"),s=n("./lib/Core/data/DomDataStore.js");const l={mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut"};t.default=e=>class extends(e||r.default){static get $name(){return"TimelineDomEvents"}static get configurable(){return{scheduledBarEvents:{mousedown:"handleScheduledBarEvent",mouseup:"handleScheduledBarEvent",click:"handleScheduledBarEvent",dblclick:"handleScheduledBarEvent",contextmenu:"handleScheduledBarEvent",mouseover:"handleScheduledBarEvent",mouseout:"handleScheduledBarEvent"},schedulerEvents:{click:"handleScheduleEvent",dblclick:"handleScheduleEvent",contextmenu:"handleScheduleEvent",mousemove:"handleScheduleEvent"}}}initDomEvents(){const e=this;e.scheduledBarEvents.element=e.schedulerEvents.element=e.timeAxisSubGridElement,e.scheduledBarEvents.thisObj=e.schedulerEvents.thisObj=e,a.default.on(e.scheduledBarEvents),a.default.on(e.schedulerEvents)}getTimeSpanMouseEventParams(e,t){throw new Error("Implement in subclass")}getScheduleMouseEventParams(e,t){throw new Error("Implement in subclass")}handleScheduledBarEvent(e){const t=this,n=i.default.up(e.target,t.eventInnerSelector);if(n){const r=l[e.type]||o.default.capitalize(e.type);t.trigger(t.scheduledEventName+r,t.getTimeSpanMouseEventParams(n,e))}}handleScheduleEvent(e){const t=this,n=!i.default.up(e.target,t.eventSelector)&&i.default.up(e.target,"."+t.timeCellCls),r=l[e.type]||o.default.capitalize(e.type);if(n){const i=t.getDateFromDomEvent(e,"floor");if(!i)return;const o=s.default.get(n),a=o.row.dataIndex,l=t.timeAxis.getTickFromDate(i),c=t.timeAxis.getAt(Math.floor(l));c&&t.trigger("schedule"+r,Object.assign({date:i,tickStartDate:c.startDate,tickEndDate:c.endDate,row:o.row,index:a,event:e},t.getScheduleMouseEventParams(o,e)))}}onElementMouseButtonEvent(e){const t=i.default.up(e.target,".b-sch-header-timeaxis-cell");if(t){const n=t.dataset.tickIndex,r=t.parentElement.dataset.headerPosition,i=this.timeAxisViewModel.columnConfig[r][n],a=this.features.contextMenu;a&&e.type===a.triggerEvent||(this.isVertical?this.verticalTimeAxisColumn:this.timeAxisColumn).trigger("timeAxisHeader"+o.default.capitalize(e.type),{startDate:i.start,endDate:i.end,event:e})}}onElementClick(e){this.onElementMouseButtonEvent(e),super.onElementClick(e)}onElementDblClick(e){this.onElementMouseButtonEvent(e),super.onElementDblClick(e)}onElementContextMenu(e){this.onElementMouseButtonEvent(e),super.onElementContextMenu(e)}onElementMouseOver(e){super.onElementMouseOver(e);const t=this,n=e.target;if(n.closest(t.eventInnerSelector)){const r=n.closest(t.eventSelector);if(r.classList.add(t.overScheduledEventClass),r!==t.hoveredEventNode&&!t.preventOverCls){t.hoveredEventNode=r;const n=t.getTimeSpanMouseEventParams(r,e);n&&t.trigger(t.scheduledEventName+"MouseEnter",n)}}else t.hoveredEventNode=null}onElementMouseOut(e){super.onElementMouseOut(e);const t=this;if(e.target.closest(t.eventInnerSelector)&&t.resolveTimeSpanRecord(e.target)&&t.hoveredEventNode){if(e.relatedTarget&&i.default.isDescendant(e.target.closest(t.eventInnerSelector),e.relatedTarget))return;t.unhover(e)}}unhover(e){const t=this,n=t.hoveredEventNode;n&&(n.classList.remove(t.overScheduledEventClass),t.trigger(t.scheduledEventName+"MouseLeave",t.getTimeSpanMouseEventParams(n,e)),t.hoveredEventNode=null)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineEventRendering.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/ObjectHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"TimelineEventRendering"}static get defaultConfig(){return{barMargin:10,resourceMargin:null,managedEventSizing:!0,generatedIdCls:"b-sch-dirty-new",dirtyCls:"b-sch-dirty",committingCls:"b-sch-committing",endsOutsideViewCls:"b-sch-event-endsoutside",startsOutsideViewCls:"b-sch-event-startsoutside",fixedEventCls:"b-sch-event-fixed",eventStyle:"plain",eventColor:"green",tickSize:null}}get barMargin(){return this._barMargin}set barMargin(e){const t=this;i.default.assertNumber(e,"barMargin"),t.isHorizontal&&t.rowHeight&&(e=Math.min(Math.ceil(t.rowHeight/2),e)),t._barMargin!==e&&(t._barMargin=e,t.rendered&&(t.currentOrientation.onBeforeRowHeightChange(),t.refreshWithTransition()))}get resourceMargin(){return null==this._resourceMargin?this.barMargin:this._resourceMargin}set resourceMargin(e){const t=this;i.default.assertNumber(e,"resourceMargin"),t.isHorizontal&&t.rowHeight&&(e=Math.min(Math.ceil(t.rowHeight/2),e)),t._resourceMargin!==e&&(t._resourceMargin=e,t.rendered&&(t.currentOrientation.onBeforeRowHeightChange(),t.refreshWithTransition()))}set tickSize(e){i.default.assertNumber(e,"tickSize"),this.timeAxisViewModel.tickSize=e}get tickSize(){return this.timeAxisViewModel.tickSize}static get eventColors(){return["red","pink","purple","violet","indigo","blue","cyan","teal","green","lime","yellow","orange","deep-orange","gray"]}static get eventStyles(){return["plain","border","hollow","colored","line","dashed","minimal","rounded"]}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineScroll.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/util/Rectangle.js"),o=n("./lib/Core/helper/DateHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"TimelineScroll"}scrollToDate(e,t={}){const n=this,r=n.timeAxisSubGrid.scrollable.viewport,o=n.getCoordinateFromDate(e,!0),a=n.isHorizontal?new i.default(n.getCoordinateFromDate(e,!1),r.y,n.timeAxisViewModel.tickSize,r.height):new i.default(r.x,n.getCoordinateFromDate(e,!1),r.width,n.timeAxisViewModel.tickSize);return n.scrollToCoordinate(o,a,e,t)}scrollToNow(e={}){return this.scrollToDate(new Date,e)}async scrollToCoordinate(e,t,n,r={}){const i=this;if(e<0){const e=i.endDate-i.startDate,{unit:t,increment:a}=i.timeAxis,s=o.default.floor(new Date(n.getTime()-e/2),a+" "+t),l=o.default.add(s,e);return s-i.startDate!==0&&l-i.endDate!==0?(i.setTimeSpan(s,l),i.scrollToDate(n,r)):void 0}return await i.timeAxisSubGrid.scrollable.scrollIntoView(t,r),!i.isDestroyed&&i.nextAnimationFrame()}set scrollLeft(e){this.timeAxisSubGrid.scrollable.x=e}set scrollTop(e){this.scrollable.y=e}get scrollLeft(){return this.timeAxisSubGrid.scrollable.x}get scrollTop(){return this.scrollable.y}scrollHorizontallyTo(e,t=!0){return this.timeAxisSubGrid.scrollable.scrollTo(e,null,t)}scrollVerticallyTo(e,t=!0){return this.scrollable.scrollTo(null,e,t)}scrollTo(e,t=!0){return this.timeAxisSubGrid.scrollable.scrollTo(e,null,t)}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineViewPresets.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Scheduler/preset/PresetManager.js"),o=n("./lib/Scheduler/preset/ViewPreset.js"),a=n("./lib/Core/helper/ObjectHelper.js"),s=n("./lib/Scheduler/preset/PresetStore.js");const l=(e=0,t=0)=>t-e;t.default=e=>class extends(e||r.default){static get $name(){return"TimelineViewPresets"}static get configurable(){return{viewPreset:"weekAndDayLetter"}}static get defaultConfig(){return{displayDateFormat:null,presets:!0}}set presets(e){!0===e&&(e=i.default.allRecords),this._presets=new s.default({owner:this,data:e})}get presets(){return this._presets}normalizePreset(e){const t=e,{presets:n}=this;if(!(e instanceof o.default)){if("object"===typeof e){if(e.base){const t=n.getById(e.base)||i.default.getById(e.base);if(!t)throw new Error(`ViewPreset base '${e.base}' does not exist`);e=a.default.merge(a.default.clone(t.data),i.default.createRecord(e).data)}e.id?e=n.createRecord(e):(e=n.createRecord(a.default.assign({},e))).id=e.generateId(n)}else e="number"===typeof e?n.getAt(e):n.getById(e)||i.default.getById(e);if(!e)throw new Error("Invalid ViewPreset requested: "+t)}return n.add(e)[0]}changeViewPreset(e,t){const n=this;if(!(e instanceof o.default)&&e.name&&!e.base)throw new Error("ViewPreset name config replaced by base config. See https://www.bryntum.com/docs/scheduler/#guides/upgrades/3.0.0.md");e=n.normalizePreset(e);const r=n.lastViewPresetOptions||{},i=e.options||(e.options={}),a=i.event={startDate:i.startDate,endDate:i.endDate,from:t,to:e,preset:e},s=!n._viewPreset||!n._viewPreset.equals(e),c=l(i.startDate,r.startDate)||l(i.endDate,r.endDate)||l(i.centerDate,r.centerDate)||i.startDate&&l(i.startDate,n.startDate)||i.endDate&&l(i.endDate,n.endDate);if((s||c)&&(s||(n._viewPreset=null),n.isConfiguring||!1!==n.trigger("beforePresetChange",a)))return e}updateViewPreset(e){const t=this,{options:n}=e,{event:r,startDate:i,endDate:o}=n,{isHorizontal:a,_timeAxis:s}=t;let{centerDate:l}=n;if(t._viewPresetChanging=!0,t.displayDateFormat=t.config.displayDateFormat||e.displayDateFormat,s&&!t.isConfiguring){if(t.lastViewPresetOptions=n,s.isConfigured){t.suspendRefresh();const n={weekStartDay:t.weekStartDay,startTime:t.startTime,endTime:t.endTime};i?(n.startDate=i,n.endDate=o,!l&&o&&(l=new Date((i.getTime()+o.getTime())/2))):(n.startDate=s.startDate,n.endDate=o||s.endDate,l||(l=t.viewportCenterDate)),s.isConfigured=!1,s.viewPreset=e,s.reconfigure(n,!0),t.timeAxisViewModel.reconfigure({viewPreset:t.viewPreset,headers:e.headers,columnLinesFor:null!=e.columnLinesFor?e.columnLinesFor:e.headers.length-1,tickSize:a?e.tickWidth:e.tickHeight||e.tickWidth||60}),t.resumeRefresh()}if(t.refresh(),!n.notScroll&&t.isPainted)if(l){t.cachedCenterDate=l,r.centerDate=l;const e=t.isHorizontal?t.timeAxisSubGrid.width:t.scrollable.clientHeight,n=Math.max(Math.floor(t.getCoordinateFromDate(l,!0)-e/2),0);t.viewPresetActiveScroll=t.isHorizontal?{left:n}:{top:n},t.scrollingToCenter=!0,t.isHorizontal?t.scrollHorizontallyTo(n,!1):t.scrollVerticallyTo(n,!1),t.setTimeout(()=>{t.scrollingToCenter=!1},100)}else t.isHorizontal?t.scrollHorizontallyTo(0,!1):t.scrollVerticallyTo(0,!1)}t.dataset.presetId=e.id,t.trigger("presetChange",r),t._viewPresetChanging=!1}doDestroy(){this._presets.owner===this&&this._presets.destroy(),super.doDestroy()}get widgetClass(){}}},"./lib/Scheduler/view/mixin/TimelineZoomable.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/helper/DateHelper.js"),o=n("./lib/Core/helper/EventHelper.js");t.default=e=>class extends(e||r.default){static get $name(){return"TimelineZoomable"}static get defaultConfig(){return{zoomOnMouseWheel:!0,zoomOnTimeAxisDoubleClick:!0,preventScrollZoom:null,minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,zoomKeepsOriginalTimespan:null}}construct(e){const t=this;super.construct(e),t.zoomOnMouseWheel&&o.default.on({element:t.timeAxisSubGridElement,wheel:"onWheel",throttled:{buffer:100,alt(e){e.ctrlKey&&e.preventDefault()}},thisObj:t,capture:!0,passive:!1}),t.zoomOnTimeAxisDoubleClick&&t.on("timeaxisheaderdblclick",({startDate:e,endDate:n})=>{t.zoomToSpan({startDate:e,endDate:n})})}get maxZoomLevel(){return this._maxZoomLevel||this.presets.count-1}set maxZoomLevel(e){if("number"!==typeof e&&(e=this.presets.count-1),e<0||e>=this.presets.count)throw new Error("Invalid range for `maxZoomLevel`");this._maxZoomLevel=e}get minZoomLevel(){return this._minZoomLevel||0}set minZoomLevel(e){if("number"!==typeof e&&(e=0),e<0||e>=this.presets.count)throw new Error("Invalid range for `minZoomLevel`");this._minZoomLevel=e}get zoomLevel(){return this.presets.indexOf(this.viewPreset)}set zoomLevel(e){this.zoomToLevel(e)}getMilliSecondsPerPixelForZoomLevel(e,t){const{bottomHeader:n}=e,r=this.isHorizontal?e.tickWidth:e.tickHeight;return Math.round((i.default.add(new Date(1,0,1),n.increment||1,n.unit)-new Date(1,0,1))/(t?r:e.actualWidth||r))}zoomTo(e){const t=this;"object"===typeof e?e.preset?t.zoomToLevel(e.preset,e):null!=e.level?t.zoomToLevel(e.level,e):t.zoomToSpan(e):t.zoomToLevel(e)}zoomToLevel(e,t={}){"number"===typeof e&&(e=Math.min(Math.max(e,this.minZoomLevel),this.maxZoomLevel));const n=this,r=n.isVertical?"tickHeight":"tickWidth",i=n.normalizePreset(e),o=i[r],a=t.startDate?new Date(t.startDate):null,s=t.endDate?new Date(t.endDate):null;let l=a&&s?{startDate:a,endDate:s}:null;const c=t.centerDate||(l?new Date((a.getTime()+s.getTime())/2):n.viewportCenterDateCached),d=n.isVertical?n.scrollable.clientHeight:n.timeAxisSubGrid.width;return 0===d?null:(l||(l=n.calculateOptimalDateRange(c,d,i)),"width"in t&&i.setData(r,t.width),n.isZooming=!0,i.options={startDate:l.startDate||n.startDate,endDate:l.endDate||n.endDate,centerDate:c},n.viewPreset=i,i.actualWidth=n.timeAxisViewModel.tickSize,n.isZooming=!1,i.setData(r,o),n.zoomLevel)}zoomToFit(e){const t=this.eventStore.getTotalTimeSpan();(e=Object.assign({leftMargin:0,rightMargin:0},e,t)).startDate&&e.endDate&&this.zoomToSpan(e)}zoomToSpan(e={}){if((e.leftMargin||e.rightMargin)&&(e.adjustStart=0,e.adjustEnd=0),e.leftMargin||(e.leftMargin=0),e.rightMargin||(e.rightMargin=0),!e.startDate||!e.endDate)throw new Error("zoomToSpan: must provide startDate + endDate dates");const t=this,n=e.adjustStart>=0||e.adjustEnd>=0;let{startDate:r,endDate:o}=e;if(n&&(r=i.default.add(r,-e.adjustStart,t.timeAxis.mainUnit),o=i.default.add(o,e.adjustEnd,t.timeAxis.mainUnit)),r<=o){const{availableSpace:a}=t.timeAxisViewModel,s=t.presets.allRecords,l=o-r||1;let c,d,u=t.zoomLevel;-1===u&&(u=0);let h,f=t.getMilliSecondsPerPixelForZoomLevel(s[u],!0),g=u+(c=l/f+e.leftMargin+e.rightMargin>a?-1:1),m=null;for(;g>=0&&g<=s.length-1;){h=s[g],f=t.getMilliSecondsPerPixelForZoomLevel(h,!0);const n=l/f+e.leftMargin+e.rightMargin;if(-1===c){if(n<=a){m=g;break}}else{if(!(n<=a))break;u!==g-c&&(m=g)}g+=c}m=null!=m?m:g-c,h=s[m];const p=h.bottomHeader.unit;(e.leftMargin||e.rightMargin)&&(r=new Date(r.getTime()-f*e.leftMargin),o=new Date(o.getTime()+f*e.rightMargin));const v=i.default.getDurationInUnit(r,o,p,!0)/h.bottomHeader.increment;if(0===v)return null;const b=Math.floor(a/v),y=e.centerDate||new Date((r.getTime()+o.getTime())/2);return d=n?{startDate:r,endDate:o}:t.calculateOptimalDateRange(y,a,h),t.zoomToLevel(m,Object.assign(d,{width:b,centerDate:y}))}return null}zoomIn(e=1){const t=this.zoomLevel;return t>=this.maxZoomLevel?null:this.zoomToLevel(t+e)}zoomOut(e=1){const t=this.zoomLevel;return t<=this.minZoomLevel?null:this.zoomToLevel(t-e)}zoomInFull(){return this.zoomToLevel(this.maxZoomLevel)}zoomOutFull(){return this.zoomToLevel(this.minZoomLevel)}calculateOptimalDateRange(e,t,n,r){if(r)return r;const{timeAxis:o}=this,{bottomHeader:a}=n,s=this.isHorizontal?n.tickWidth:n.tickHeight;if(this.zoomKeepsOriginalTimespan)return{startDate:o.startDate,endDate:o.endDate};const l=a.unit,c=Math.ceil(t/s*a.increment*this.visibleZoomFactor/2),d=i.default.add(e,-c,l),u=i.default.add(e,c,l);return{startDate:o.floorDate(d,!1,l,a.increment),endDate:o.ceilDate(u,!1,l,a.increment)}}onWheel(e){const t=this;e.ctrlKey&&(e.preventDefault(),t.preventScrollZoom||(e.deltaY>0?t.zoomOut():e.deltaY<0&&t.zoomIn(),t.preventScrollZoom=!0,t.setTimeout(()=>t.preventScrollZoom=!1,30)))}setTimeSpan(e,t){this.timeAxis.setTimeSpan(e,t)}shift(e,t){this.timeAxis.shift(e,t)}shiftNext(e){this.timeAxis.shiftNext(e)}shiftPrevious(e){this.timeAxis.shiftPrevious(e)}get widgetClass(){}}},"./lib/Scheduler/view/model/TimeAxisViewModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/mixin/Events.js"),o=n("./lib/Scheduler/preset/PresetManager.js"),a=n("./lib/Scheduler/preset/ViewPreset.js");n("./lib/Scheduler/data/TimeAxis.js");class s extends(Object(i.default)()){static get defaultConfig(){return{timeAxis:null,availableSpace:null,tickSize:100,snap:!1,forceFit:!1,headers:null,mode:"horizontal",suppressFit:!1,columnConfig:[],viewPreset:null,columnLinesFor:null,originalTickSize:null,headersDatesCache:[]}}construct(e){const t=this;t.unitToPixelsCache={},super.construct(e);const n=t.timeAxis.viewPreset||t.viewPreset;if(n)if(n instanceof a.default)t.consumeViewPreset(n);else{const e=o.default.getPreset(n);e&&t.consumeViewPreset(e)}t.timeAxis.on("reconfigure",t.onTimeAxisReconfigure,t),t.configured=!0}doDestroy(){this.timeAxis.un("reconfigure",this.onTimeAxisReconfigure,this),super.doDestroy()}get columnConfig(){return this._columnConfig}set columnConfig(e){this._columnConfig=e}get headers(){return this._headers}set headers(e){if(e&&e.length&&e[e.length-1].cellGenerator)throw new Error("`cellGenerator` cannot be used for the bottom level of your headers. Use TimeAxis#generateTicks() instead.");this._headers=e}get isTimeAxisViewModel(){return!0}get isHorizontal(){return"vertical"!==this.mode}get isVertical(){return"vertical"===this.mode}set forceFit(e){e!==this._forceFit&&(this._forceFit=e,this.update())}reconfigure(e){this.headers=null,this.setConfig(e),this.trigger("reconfigure")}onTimeAxisReconfigure({source:e,suppressRefresh:t}){this.viewPreset!==e.viewPreset&&this.consumeViewPreset(e.viewPreset),t||this.update()}update(e,t=!1,n=!1){const r=this,{timeAxis:i,headers:o}=r;if(r.isConfiguring||r._availableSpace===e)return void(n&&r.trigger("update"));if(r._availableSpace=Math.max(e||r.availableSpace||0,0),"number"!==typeof r.availableSpace)throw new Error("Invalid available space provided to TimeAxisModel");r.columnConfig=[];const a=r._tickSize=r.calculateTickSize(r.originalTickSize);if("number"!==typeof a||a<=0)throw new Error("Invalid timeAxis tick size");r.unitToPixelsCache={},r._totalSize=null;for(let s=0,{length:l}=o;s<l;s++){const e=o[s];if(e.cellGenerator){const t=e.cellGenerator.call(r,i.startDate,i.endDate);r.columnConfig[s]=r.createHeaderRow(s,e,t)}else r.columnConfig[s]=r.createHeaderRow(s,e)}t||r.trigger("update")}getDistanceBetweenDates(e,t){return Math.round(this.getPositionFromDate(t)-this.getPositionFromDate(e))}getDistanceForDuration(e){return this.getSingleUnitInPixels("millisecond")*e}getPositionFromDate(e,t={}){const n=this.getScaledTick(e,t);return-1===n?-1:Math.round(this.tickSize*(n-this.timeAxis.visibleTickStart))}getScaledTick(e,{respectExclusion:t,snapToNextIncluded:n,isEnd:i,min:o,max:a}){const{timeAxis:s}=this,{include:l,unit:c}=s;let d=s.getTickFromDate(e);if(-1!==d&&t&&l){let t=!1;if(l.hour&&r.default.compareUnits(c,"hour")>0&&"day"!==c){const{from:i,to:o,lengthFactor:a,center:s}=l.hour,c=e.getHours(),d=Math.min(Math.max(c,i),o);if(!n&&d!==c)return-1;const u=s-(s-(d+e.getMinutes()/60))*a;e=r.default.add(e,u-c,"h"),t=!0}if(l.day&&r.default.compareUnits(c,"day")>0){const{from:c,to:d,lengthFactor:u,center:h}=l.day;let f=e.getDay();i&&0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&0===e.getMilliseconds()&&--f<0&&(f=6);let g=0;if(f<c||f>=d){if(!n)return-1;if(g=i?(d-f-8)%7:(c-f+7)%7,e=r.default.add(e,g,"d"),e=r.default.startOf(e,"d",!1),a&&e.getTime()>=a||o&&e.getTime()<=o)return-1}const{weekStartDay:m}=s,p=0===e.getDay()?0:h,v=e.getDay()+e.getHours()/24,b=p-(p-v)*u;e=r.default.add(e,b-v+m,"d"),t=!0}t&&(e=r.default.constrain(e,s.startDate,s.endDate),d=s.getTickFromDate(e))}return d}getDateFromPosition(e,t,n=!1){const i=this.timeAxis,o=this.getScaledPosition(e)/this.tickSize+i.visibleTickStart;return o<0||o>i.count?n?o<0?r.default.add(i.startDate,o,i.unit):r.default.add(i.endDate,o-i.count,i.unit):null:i.getDateFromTick(o,t)}getScaledPosition(e){const{include:t,unit:n,weekStartDay:i}=this.timeAxis;if(t){const o=this.getSingleUnitInPixels("day");if(t.day&&r.default.compareUnits(n,"day")>0){const{from:n,lengthFactor:r}=t.day,a=e%(7*o);e=a/r+(n-i)*o+(e-a)}if(t.hour&&r.default.compareUnits(n,"hour")>0&&"day"!==n){const{from:n,lengthFactorExcl:r}=t.hour,i=e%o;e=i/r+n*this.getSingleUnitInPixels("hour")+(e-i)}}return e}getSingleUnitInPixels(e){const t=this;return t.unitToPixelsCache[e]||(t.unitToPixelsCache[e]=r.default.getUnitToBaseUnitRatio(t.timeAxis.unit,e,!0)*t.tickSize/t.timeAxis.increment)}get snapPixelAmount(){if(this.snap){const{resolution:e}=this.timeAxis;return(e.increment||1)*this.getSingleUnitInPixels(e.unit)}return 1}get tickSize(){return this._tickSize}set tickSize(e){this.setTickSize(e,!1)}setTickSize(e,t){this._tickSize=this.originalTickSize=e,this.update(void 0,t)}get timeResolution(){return this.timeAxis.resolution}calculateTickSize(e){const t=this,{forceFit:n,timeAxis:i,suppressFit:o}=t,a=i.unit;let s=0,l=1;if(t.snap){const e=i.resolution;l=r.default.getUnitToBaseUnitRatio(a,e.unit)*e.increment}if(o)s=e;else{const r=i.visibleTickTimeSpan,o=Math[n?"floor":"round"](t.availableSpace/r);if(s=n||e<o?o:e,l>0&&(!n||l<1)){const e=n?"floor":"round";s=Math.round(Math.max(1,Math[e](l*s))/l)}}return s}get totalSize(){return this._totalSize||(this._totalSize=Math.round(this.tickSize*this.timeAxis.visibleTickTimeSpan))}get availableSpace(){return this._availableSpace}set availableSpace(e){const t=this;if(t._availableSpace=Math.max(0,e),t._availableSpace>0){const e=t.calculateTickSize(t.originalTickSize);e>0&&e!==t.tickSize&&t.update()}}getDates(e=this.columnLinesFor,t=!1,n=!1){const i=this,o=[],a=t?i.lowestHeader:e,s=i.majorHeaderLevel,l=i.headers&&i.headers[e].unit,c=null!=s&&i.headers&&i.headers[s].unit,d=null!=s&&r.default.doesUnitsAlign(c,l);if(i.headers&&i.headers[a].cellGenerator){const e=i.columnConfig[a];for(let t=1,n=e.length;t<n;t++)o.push({date:e[t].startDate})}else i.forEachInterval(a,(t,r)=>{o.push({date:n?r:t,isMajor:s!==e&&d&&i.isMajorTick(n?r:t)})});return o}get forceFit(){return this._forceFit}fitToAvailableSpace(e){const t=Math.floor(this.availableSpace/this.timeAxis.visibleTickTimeSpan);this.setTickSize(t,e)}get snap(){return this._snap}set snap(e){e!==this._snap&&(this._snap=e,this.configured&&this.update())}createHeaderRow(e,t,n){const i=this,o=[],a=t.align,s=r.default.clearTime(new Date),l=t.headerCellCls||"",c=(n,c,u,h)=>{let f=r.default.format(n,t.dateFormat);const g={align:a,start:n,end:c,value:h?h.header:f,headerCellCls:l,width:this.getDistanceBetweenDates(n,c),index:u};0!==g.width&&(g.coord=d,d+=g.width,i.headersDatesCache[e][n.getTime()]=1,t.renderer&&(f=t.renderer.call(t.thisObj||i,n,c,g,u),g.value=null==f?"":f),"day"!==t.unit||t.increment&&1!==t.increment||(g.headerCellCls+=" b-sch-dayheadercell-"+n.getDay(),r.default.clearTime(n,!0)-s===0&&(g.headerCellCls+=" b-sch-dayheadercell-today")),o.push(g))};let d=0;return i.headersDatesCache[e]={},n?n.forEach((e,t)=>c(e.start,e.end,t,e)):i.forEachInterval(e,c),o}get mainHeader(){return"mainHeaderLevel"in this?this.headers[this.mainHeaderLevel]:this.bottomHeader}get bottomHeader(){return this.headers[this.headers.length-1]}get lowestHeader(){return this.headers.length-1}get majorHeaderLevel(){const{headers:e}=this;return e?Math.max(e.length-2,0):null}isMajorTick(e){const t=this.majorHeaderLevel;return null!=t&&this.headersDatesCache[t]&&this.headersDatesCache[t][e.getTime()]||!1}forEachInterval(e,t,n=this){const{headers:r,timeAxis:i}=this;if(r)if(e===r.length-1)i.forEach((e,r)=>t.call(n,e.startDate,e.endDate,r));else{const o=r[e];i.forEachAuxInterval(o.unit,o.increment,t,n)}}forEachMainInterval(e,t){this.forEachInterval(this.mainHeaderLevel,e,t)}consumeViewPreset(e){const t=this;t.headers=null,t._thisIsAUsedExpression(t.tickSize),t.viewPreset=e,Object.assign(t,{headers:e.headers,columnLinesFor:e.columnLinesFor,mainHeaderLevel:e.mainHeaderLevel,_tickSize:t.isHorizontal?e.tickWidth:e.tickHeight}),t.originalTickSize=t.tickSize}}s._$name="TimeAxisViewModel"},"./lib/Scheduler/view/orientation/BaseRendering.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){getElementFromAssignmentRecord(e,t=!1){if(this.scheduler.isPainted&&e){var n;const r=this.scheduler.foregroundCanvas.syncIdMap[e.id];return t?r:null===r||void 0===r||null===(n=r.syncIdMap)||void 0===n?void 0:n.event}return null}getElementFromEventRecord(e,t=e.resource,n=!1){const r=this.assignmentStore.getAssignmentForEventAndResource(e,t);return this.getElementFromAssignmentRecord(r,n)}getElementsFromEventRecord(e,t,n=!1){const r=this;return t?[r.getElementFromEventRecord(e,t,n)]:e.resources.reduce((t,i)=>{const o=r.getElementFromEventRecord(e,i,n);return o&&t.push(o),t},[])}}},"./lib/Scheduler/view/orientation/HorizontalRendering.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Core/helper/DomSync.js"),i=n("./lib/Core/Base.js"),o=n("./lib/Core/data/Model.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/util/Rectangle.js"),l=n("./lib/Core/helper/DateHelper.js"),c=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js"),d=n("./lib/Scheduler/view/orientation/BaseRendering.js");const u={releaseElement:1,reuseElement:1},h={newElement:1,reuseOwnElement:1,reuseElement:1},f=({startDateMS:e},{startDateMS:t})=>e-t,g={startDate:1,endDate:1,duration:1};function m(e,t,n,r,i){if(e.fillTicks){let e=t.getTickFromDate(n);if(e>=0){i&&e===Math.round(e)&&e>0&&e--;const n=Math.floor(e);return t.getAt(n)[i?"endDate":"startDate"].getTime()}}return r}class p extends(i.default.mixin(d.default,c.default)){static get configurable(){return{scrollBuffer:0,bufferSize:150,verticalBufferSize:150}}static get properties(){return{resourceMap:new Map,rowMap:new Map,eventConfigs:[],isFirstRefresh:!0}}construct(e){const t=this;t.client=t.scheduler=e,t.eventSorter=t.eventSorter.bind(e),e.rowManager.on({name:"rowManager",renderDone:"onRenderDone",removeRows:"onRemoveRows",translateRow:"onTranslateRow",beforeRowHeight:"onBeforeRowHeightChange",thisObj:t}),t.toDrawOnProjectRefresh=new Set,t.toDrawOnDataReady=new Set,super.construct({})}init(){}updateVerticalBufferSize(){const{rowManager:e}=this.scheduler;this.scheduler.isPainted&&e.renderRows(e.rows)}get visibleDateRange(){return this._visibleDateRange}getDateFromXY(e,t,n,r=!1){let i=e[0];return n||(i=this.translateToScheduleCoordinate(i)),this.scheduler.timeAxisViewModel.getDateFromPosition(i,t,r)}translateToScheduleCoordinate(e){return e-Math.floor(this.scheduler.timeAxisSubGridElement.getBoundingClientRect().left)+this.scheduler.scrollLeft}translateToPageCoordinate(e){const t=this.scheduler.timeAxisSubGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}getScheduleRegion(e,t,n=!0){const r=this,{scheduler:i}=r,{timeAxisSubGridElement:o,timeAxis:a}=i,c=i.getResourceMargin(e);let d;if(e){const n=t&&r.getElementsFromEventRecord(t,e)[0];if(d=s.default.from(i.getRowById(e.id).getElement("locked")),n){const e=s.default.from(n,o);d.y=e.y,d.bottom=e.bottom}else d.y=d.y+c,d.bottom=d.bottom-c}else d=s.default.from(o).moveTo(null,0),d.width=o.scrollWidth,d.y=d.y+c,d.bottom=d.bottom-c;const u=a.startDate,h=a.endDate,f=i.getDateConstraints(e,t)||{start:u,end:h};let g=i.getCoordinateFromDate(l.default.max(u,f.start)),m=i.getCoordinateFromDate(l.default.min(h,f.end));return n||(g=r.translateToPageCoordinate(g),m=r.translateToPageCoordinate(m)),d.left=Math.min(g,m),d.right=Math.max(g,m),d}getRowRegion(e,t,n){const{scheduler:r}=this,{timeAxis:i}=r,o=r.getRowById(e.id);if(!o)return null;const a=i.startDate,c=i.endDate,d=t?l.default.max(a,t):a,u=n?l.default.min(c,n):c,h=r.getCoordinateFromDate(d),f=r.getCoordinateFromDate(u,!0,!0),g=o.top,m=Math.min(h,f),p=g+o.offsetHeight;return new s.default(m,g,Math.max(h,f)-m,p-g)}getResourceEventBox(e,t,n,r=!1){const i=this.resourceMap.get(t.id);let o=null,a=!1;if(i&&(o=i.eventsData.find(t=>t.eventRecord===e)),o||(o=this.getTimeSpanRenderData(e,t,{viewport:!0,timeAxis:n}),a=!0),o){const e=this.scheduler.getRecordCoords(t,!0,r),n=o.top+e.top,i=new s.default(o.left,n,o.width,o.height);return a&&(i.layout=!1),i.rowTop=e.top,i.rowBottom=e.bottom,i}return null}resolveRowRecord(e){const t=this,{scheduler:n}=t,r=e.nodeType?e:e.target,i=r.nodeType===Element.TEXT_NODE?r.parentElement:r,o=a.default.up(i,n.eventSelector);return o?t.resourceStore.getById(o.dataset.resourceId):n.getRecordFromElement(i)}attachToProject(e){super.attachToProject(e),this.refreshAllWhenReady=!0,this.scheduler.isConfiguring||this.clearAll({clearDom:!0}),null===e||void 0===e||e.on({name:"project",refresh:"onProjectRefresh",dataReady:"onProjectDataReady",thisObj:this})}onProjectDataReady(){const{scheduler:e,toDrawOnDataReady:t}=this;e.refreshSuspended||(t.size&&(this.clearResources(t),this.refreshResources(t)),t.clear())}onProjectRefresh(){const e=this,{scheduler:t,toDrawOnProjectRefresh:n}=e;if(!t.refreshSuspended){if(e.refreshAllWhenReady){t.calculateAllRowHeights(!0);const{rowManager:n}=t;n.topRow?(e.clearAll(),n.topRow.dataIndex>=t.store.count?t.renderRows(!1):t.refreshWithTransition(!1,!e.isFirstRefresh),e.isFirstRefresh=!1):n.reinitialize(),e.refreshAllWhenReady=!1}else n.size&&e.refreshResources(n);n.clear()}}attachToAssignmentStore(e){this.refreshAllWhenReady=!0,super.attachToAssignmentStore(e),e&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentStoreChange",refreshPreCommit:"onAssignmentStoreRefresh",thisObj:this})}onAssignmentStoreChange({action:e,records:t,replaced:n,record:r,changes:i}){const o=this,a=new Set((t||(r?[r]:[])).map(e=>e.resourceId));if(!o.resourceStore.isRemoving&&!o.resourceStore.isChangingId)switch(e){case"dataset":return void(o.eventStore.usesSingleAssignment||(a.size?o.refreshResourcesWhenReady(a):(o.clearAll(),o.scheduler.refreshWithTransition())));case"add":case"remove":case"updateMultiple":return void o.refreshResourcesWhenReady(a);case"removeall":return void(o.refreshAllWhenReady=!0);case"replace":return n.forEach(([e,t])=>{a.add(e.resourceId),a.add(t.resourceId)}),void o.refreshResourcesWhenReady(a);case"filter":return o.clearAll(),o.scheduler.calculateAllRowHeights(!0),void o.scheduler.refreshWithTransition();case"update":("eventId"in i||"resourceId"in i||"id"in i)&&("resourceId"in i&&a.add(i.resourceId.oldValue),o.refreshResources(a,!0))}}onAssignmentStoreRefresh({action:e,records:t}){}attachToEventStore(e){this.refreshAllWhenReady=!0,super.attachToEventStore(e),e&&e.on({name:"eventStore",refreshPreCommit:"onEventStoreRefresh",thisObj:this})}onEventStoreRefresh({action:e}){"batch"===e&&this.scheduler.isEngineReady&&(this.clearAll(),this.scheduler.refreshWithTransition())}onEventStoreChange({action:e,records:t,record:n,replaced:r,changes:i}){const o=this,a=t||(n?[n]:[]),s=a[0]&&a[0].isResourceTimeRange,l=new Set;if(a.forEach(e=>{var t;null===(t=e.resources)||void 0===t||t.forEach(e=>l.add(e.id))}),s)o.refreshResources(l);else{switch(e){case"batch":case"sort":case"group":case"move":case"remove":return;case"clearchanges":case"dataset":return o.clearAll(),void(o.refreshAllWhenReady=!0);case"add":case"updateMultiple":break;case"replace":r.forEach(([,e])=>{e.resources.map(e=>l.add(e.id))});break;case"removeall":case"filter":return o.scheduler.isEngineReady?(o.clearAll(),o.scheduler.calculateAllRowHeights(!0),void o.scheduler.refreshWithTransition()):void(o.refreshAllWhenReady=!0);case"update":{const e=n.$entity?!Object.keys(i).some(e=>!n.$entity.getField(e)):!Object.keys(i).some(e=>!g[e]);let t=0;var c;return"startDate"in i&&t++,"endDate"in i&&t++,"duration"in i&&t++,"resourceId"in i&&l.add(i.resourceId.oldValue),void((!e||t&&(!("duration"in i)||1!==t)||"percentDone"in i)&&(null!==(c=o.project)&&void 0!==c&&c.propagatingLoadChanges?l.forEach(e=>o.toDrawOnDataReady.add(e)):o.refreshResources(l)))}}o.refreshResourcesWhenReady(l)}}attachToResourceStore(e){this.refreshAllWhenReady=!0,super.attachToResourceStore(e),e&&(this.clearAll({clearLayoutCache:!0}),e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",thisObj:this}))}onResourceStoreChange({action:e,isExpand:t,record:n,records:r,changes:i}){const o=this,a=n?[n.id]:null===r||void 0===r?void 0:r.map(e=>e.id);switch(e){case"add":return void(t||o.refreshResourcesWhenReady(a));case"update":return void(o.project.isBatchingChanges||i.isLeaf||o.refreshResources(a));case"filter":return;case"removeall":return void o.clearAll({clearLayoutCache:!0})}o.clearResources(a)}onTranslateRow({row:e}){null!=e.id&&this.refreshRow(e,!1)}calculateRowHeight(e){const{scheduler:t}=this,n=t.getResourceHeight(e),r=e.eventLayout||t.eventLayout;if("stack"===r&&t.isEngineReady&&!e.isSpecialRow&&e.assigned.size>1){const{assignmentStore:i,eventStore:o,timeAxis:a}=t,{barMargin:s,resourceMargin:l}=t.getResourceLayoutSettings(e),c=n-2*l,d=(o.isFiltered||i.isFiltered)&&(t=>t.assignments.some(t=>t.resource===e&&i.includes(t))),u=o.getEvents({resourceRecord:e,includeOccurrences:t.enableRecurringEvents,startDate:a.startDate,endDate:a.endDate,filter:d}).sort(f).map(t=>({eventRecord:t,resourceRecord:e,startMS:t.startDateMS,endMS:t.endDate?t.endDateMS:t.startDateMS})),h=t.getEventLayoutHandler(r).layoutEventsInBands(u,!0);return h*c+(h-1)*s+2*l}return n}doUpdateTimeView(){this.updateFromHorizontalScroll(this.scheduler.timeAxisSubGrid.scrollable.x)}onTimeAxisViewModelUpdate(){const e=this;e.clearAll(),e.scheduler.refreshSuspended&&(e.detachListeners("renderingSuspend"),e.scheduler.on({name:"renderingSuspend",resumeRefresh(){e.scheduler.isEngineReady&&e.doUpdateTimeView()},thisObj:e,once:!0})),e.doUpdateTimeView()}getConnectorStartSide(e){return"left"}getConnectorEndSide(e){return"right"}refreshRows(e){e&&this.clearAll()}onLocaleChange(){this.clearAll()}onViewportResize(){}onDragAbort({context:e,dragData:t}){this.resourceStore.indexOf(t.record.resource)<this.scheduler.topRow.dataIndex&&e.element.remove()}toggleCls(e,t,n=!0,r=!1){const i=this.getElementFromAssignmentRecord(e,r),o=this.resourceMap.get(e.isModel?e.get("resourceId"):e.resourceId),a=null===o||void 0===o?void 0:o.eventsData.find(t=>t.eventId===e.eventId);a&&(a[r?"wrapperCls":"cls"][t]=n),i&&(i.classList[n?"add":"remove"](t),i.lastDomConfig.className[t]=n)}onRemoveRows({rows:e}){e.forEach(e=>this.rowMap.delete(e)),this.onRenderDone()}updateFromHorizontalScroll(e){const t=this,{scheduler:n,scrollBuffer:r}=t,{timeAxisSubGrid:i,timeAxis:o}=n,a=i.width,s=i.scrollable.maxX<=Math.round(e)+5,l=n.getDateFromCoordinate(Math.max(0,e-r)),c=s?o.endDate:n.getDateFromCoordinate(e+a+r)||o.endDate;if(l){t._visibleDateRange={startDate:l,endDate:c,startMS:l.getTime(),endMS:c.getTime()},t.viewportCoords={left:e-r,right:e+a+r};const i=n.timeView.range={startDate:l,endDate:c};if(n.onVisibleDateRangeChange(i),n.trigger("visibleRangeChange",i),!n.refreshSuspended&&n.rowManager.rows.length){if(null===n.rowManager.rows[0].id)return;n.rowManager.rows.forEach(e=>t.refreshRow(e,!1)),t.onRenderDone()}}}repaintEventsForResource(e){this.refreshResources([e.id])}onBeforeRowHeightChange(){this.clearAll()}refreshResourcesWhenReady(e){this.clearResources(e),e.forEach(e=>this.toDrawOnProjectRefresh.add(e))}refreshResources(e,t=!0){const{scheduler:n}=this,r=[],i=[];this.clearResources(e),n.refreshSuspended||(e.forEach(e=>{const t=n.getRowById(e);t?r.push(t):i.push(t)}),n.runWithTransition(()=>{n.calculateRowHeights(i.map(e=>this.resourceStore.getById(e)),!0),n.rowManager.renderRows(r)},t))}layoutEventVerticallyStack(e,t,n){const{barMargin:r,resourceMargin:i,rowHeight:o}=this.scheduler.getResourceLayoutSettings(n);return 0===e?i:i+e*(o-2*i)+e*r}layoutEventVerticallyPack(e,t,n,r){const{barMargin:i,resourceMargin:o,rowHeight:a}=this.scheduler.getResourceLayoutSettings(r),s=1/t,l=e*s,c=(a-2*o-(s-1)*i)*t;return{top:o+l*c+l*i,height:c}}addTemporaryDragElement(e,t=e.resource){const{scheduler:n}=this,r=n.generateRenderData(e,t,{timeAxis:!0,viewport:!0});r.absoluteTop=r.row?r.top+r.row.top:n.getResourceEventBox(e,t,!0).top;const i=this.renderEvent(r),{dataset:o}=i;delete i.tabIndex,delete o.eventId,delete o.resourceId,delete o.assignmentId,delete o.syncId,o.transient=!0,i.parent=this.scheduler.foregroundCanvas,i.retainElement=!0;const s=a.default.createElement(i);return s.innerElement=s.firstChild,e.instanceMeta(n).hasTemporaryDragElement=!0,s}eventSorter(e,t){if(this.horizontalEventSorterFn)return this.horizontalEventSorterFn(e.eventRecord||e,t.eventRecord||t);const n=e.isModel?e.startDateMS:e.dataStartMS||e.startMS,r=e.isModel?e.endDateMS:e.dataEndMS||e.endMS,i=t.isModel?t.startDateMS:t.dataStartMS||t.startMS,o=t.isModel?t.endDateMS:t.dataEndMS||t.endMS,a=e.isModel?e.name:e.eventRecord.name,s=t.isModel?t.name:t.eventRecord.name;return n-i||o-r||(a<s?-1:a==s?0:1)}calculateMS(e){const{scheduler:t}=this,{timeAxis:n,timeAxisViewModel:r}=t;let i=m(t,n,e.startDate,e.startDateMS,!1),o=m(t,n,e.endDate,e.endDateMS,!0),a=o-i;if("default"!==t.milestoneLayoutMode&&0===a){const n=r.getSingleUnitInPixels("minute");switch(a=t.getMilestoneLabelWidth(e)*(1/n)*60*1e3,t.milestoneAlign){case"start":case"left":o=i+a;break;case"end":case"right":o=i,i=o-a;break;default:o=i+a/2,i=o-a}}return{startMS:i,endMS:o,durationMS:a}}getTimeSpanRenderData(e,t,n=!1){const r=this,{scheduler:i}=r,{timeAxis:o,timeAxisViewModel:a}=i,s=!0===n||n.timeAxis,l=!0===n||n.viewport;if(s||o.isTimeSpanInAxis(e)){const n=i.getRowById(t);if(n||l){const s=a.getSingleUnitInPixels("minute"),l=e.startDate,c=e.endDate||l,d=o.startMS,u=o.endMS,{startMS:h,endMS:f,durationMS:g}=r.calculateMS(e),m=h<d|(h>u)<<1,p=f>u|(f<=d)<<1,v=g/6e4,b=p?s*v:null;let y,C=i.getCoordinateFromDate(f,{local:!0,respectExclusion:!0,isEnd:!0}),S=!1,w=!1;if(m?y=(h-d)/6e4*s:(y=i.getCoordinateFromDate(h,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:-1!==C}),S=-1===y),p?C=y+b:w=-1===C,w&&!S&&(C=i.getCoordinateFromDate(f,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0})),b>9999999&&(1===m?1===p?(y=-100,C=i.timeAxisColumn.width+100):y=C-9999999:1===p&&(C=y+9999999)),S&&w&&(y=i.getCoordinateFromDate(h,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:!0,max:f}),C=i.getCoordinateFromDate(f,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0,min:h}),y===C))return e.instanceMeta(i).excluded=!0,null;const{resourceMargin:E,rowHeight:D}=i.getResourceLayoutSettings(t),x={eventRecord:e,taskRecord:e,left:Math.min(y,C),width:Math.abs(C-y)||(e.isMilestone?0:1),start:l,end:c,rowId:t.id,children:[],startMS:h,endMS:f,startsOutsideView:m,endsOutsideView:p,clippedStart:S,clippedEnd:w,row:n};return i.fillTicks&&(x.dataStartMS=x.start.getTime(),x.dataEndMS=x.end.getTime()),x.top=Math.max(0,E),i.managedEventSizing&&(x.height=Math.max(D-2*E,1)),x}}}layoutResourceEvents(e,t=!1){const{scheduler:n}=this,{eventStore:r,assignmentStore:i,timeAxis:o}=n,a=r.getEvents({includeOccurrences:n.enableRecurringEvents,resourceRecord:e,startDate:o.startDate,endDate:o.endDate,filter:(i.isFiltered||r.isFiltered)&&(t=>t.assignments.some(t=>t.resource===e&&i.includes(t)))}),s=(n.getEventsToRender(e,a)||[]).reduce((r,i)=>{if(t||o.isTimeSpanInAxis(i)){const t=n.generateRenderData(i,e,!1);t&&r.push(t)}return r},[]);s.sort(this.eventSorter);let l=n.getResourceHeight(e);const c=s.filter(e=>e.eventRecord.isEvent),d=e.eventLayout||n.eventLayout,u=n.getEventLayoutHandler(d);if("stack"===d){const{barMargin:t,resourceMargin:r}=n.getResourceLayoutSettings(e),i=u.applyLayout(c,e);l=i*(l-2*r)+(i-1)*t+2*r}else"pack"===d&&u.applyLayout(c,e);return{rowHeight:l,eventsData:s}}renderEvent(e,t){const{scheduler:n}=this,{resourceRecord:r,assignmentRecord:i,eventRecord:o}=e,a=i?this.assignmentStore.getOccurrence(i,o).id:e.eventId,s={className:e.wrapperCls,tabIndex:"0",children:[{className:e.cls,style:e.style||"",children:e.children,dataset:{taskFeature:"event"},syncOptions:{syncIdField:"taskBarFeature"}},...e.wrapperChildren],style:{transform:`translate(${e.left}px, ${e.absoluteTop}px)`,height:e.fillSize?t:e.height,width:e.width>0?e.width:null,style:e.wrapperStyle,fontSize:e.height+"px"},dataset:{resourceId:r.id,eventId:e.eventId,syncId:a},elementData:e,retainElement:(null===i||void 0===i?void 0:i.instanceMeta(n).retainElement)||o.instanceMeta(n).retainElement,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}};return e.zIndex&&(s.zIndex=e.zIndex),i&&(s.dataset.assignmentId=i.id),e.elementConfig=s,n.trigger("beforeRenderEvent",{renderData:e,domConfig:s}),s}refreshRow(e,t=!0){let n,r;e.isModel?(n=this.scheduler.rowManager.getRowFor(e),r=e):(n=e,r=this.resourceStore.getById(e.id)),t&&this.clearResources([e]),n&&(this.renderer({row:n,record:r}),t&&this.onRenderDone())}renderer({row:e,record:t,size:n={}}){var r,i;if(t.isSpecialRow)return void this.rowMap.delete(e);const o=this,{bufferSize:a,scheduler:s}=o,l=(null===(r=s.features.labels)||void 0===r?void 0:r.left)||(null===(i=s.features.labels)||void 0===i?void 0:i.right),{left:c,right:d}=o.viewportCoords,u=[];let h,f,g=o.resourceMap.get(t.id);if(!g||g.invalid){if(o.suspended)return;g=o.layoutResourceEvents(t,!1),o.resourceMap.set(t.id,g)}n.height=g.rowHeight,g.eventsData.forEach(t=>{h=c,f=d,(l||0===t.width)&&(h-=a,f+=a),t.left+t.width>=h&&t.left<=f&&(t.absoluteTop=t.top+e.top,u.push(o.renderEvent(t,g.rowHeight)))}),o.rowMap.set(e,u)}onRenderDone(){var e;const{scheduler:t,rowMap:n,verticalBufferSize:i}=this,o=[],s=null!==(e=t._scrollTop)&&void 0!==e?e:0,l=s-i,c=s+t._bodyRectangle.height+i;n.forEach((e,t)=>{(i<0||t.bottom>l&&t.top<c)&&o.push.apply(o,e)}),r.default.sync({domConfig:{onlyChildren:!0,children:o},targetElement:t.foregroundCanvas,syncIdField:"syncId",callback({action:e,domConfig:n,lastDomConfig:r,targetElement:i}){var o;if("none"!==e&&null!==n&&void 0!==n&&null!==(o=n.className)&&void 0!==o&&o[t.eventCls+"-wrap"]){const o=h[e];if(u[e]&&null!==r&&void 0!==r&&r.elementData){const{eventRecord:e,resourceRecord:n,assignmentRecord:o}=r.elementData,s={renderData:r.elementData,element:i,eventRecord:e,resourceRecord:n,assignmentRecord:o};i===a.default.getActiveElement(i)&&t.focusElement.focus(),t.trigger("releaseEvent",s)}if(o){const{eventRecord:r,resourceRecord:o,assignmentRecord:a}=n.elementData,s={renderData:n.elementData,tplData:n.elementData,element:i,isReusingElement:"reuseElement"===e,isRepaint:"reuseOwnElement"===e,eventRecord:r,resourceRecord:o,assignmentRecord:a};t.trigger("renderEvent",s)}}}})}clearResources(e){e instanceof Set?e=Array.from(e):Array.isArray(e)||(e=[e]),e.map(o.default.asId).forEach(e=>{const t=this.resourceMap.get(e);t&&(t.invalid=!0);const n=this.scheduler.getRowById(e);n&&this.rowMap.delete(n)})}clearAll({clearDom:e=!1,clearLayoutCache:t=!1}={}){const{layouts:n}=this.scheduler;if(t&&n)for(const r in n)n[r].clearCache();if(e){const{foregroundCanvas:e}=this.scheduler;e.syncIdMap=e.lastDomConfig=null;for(const t of e.children)t.lastDomConfig=t.elementData=null}this.resourceMap.clear(),this.rowMap.clear()}}p._$name="HorizontalRendering"},"./lib/Scheduler/view/orientation/VerticalRendering.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Delayable.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/DomSync.js"),s=n("./lib/Core/helper/ObjectHelper.js"),l=n("./lib/Scheduler/eventlayout/VerticalLayout.js"),c=n("./lib/Core/helper/util/Rectangle.js"),d=n("./lib/Core/helper/DateHelper.js"),u=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js"),h=n("./lib/Scheduler/view/orientation/BaseRendering.js");const f={releaseElement:1,reuseElement:1},g={newElement:1,reuseOwnElement:1,reuseElement:1},m={startDate:1,endDate:1,duration:1},p=Object.freeze({});class v extends(r.default.mixin(i.default,h.default,u.default)){static get properties(){return{eventMap:new Map,resourceMap:new Map,releasedElements:{},toDrawOnProjectRefresh:new Set,resourceBufferSize:1}}construct(e){this.client=this.scheduler=e,this.verticalLayout=new l.default({scheduler:e}),super.construct({})}init(){const e=this,{scheduler:t}=e;e.resourceColumns=t.timeAxisColumn.resourceColumns,e.resourceColumns.resourceStore=e.resourceStore,e.resourceColumns.on({name:"resourceColumns",columnWidthChange:"onResourceColumnWidthChange",thisObj:e}),e.initialized=!0,t.isPainted&&e.renderer(),e.resourceColumns.availableWidth=t.timeAxisSubGridElement.offsetWidth}resolveRowRecord(e,t){const{scheduler:n}=this,r=e.nodeType?null:e,i=r?r.target:e,a=r?[r.offsetX,r.offsetY]:t,s=i.nodeType===Element.TEXT_NODE?i.parentElement:i,l=o.default.up(s,n.eventSelector);if(l)return n.resourceStore.getById(l.dataset.resourceId);if(!o.default.up(i,".b-sch-timeaxis-cell"))return null;if(!a)throw new Error("Vertical mode needs coordinates to resolve this element. Can also be called with a browser\n                event instead of element to extract element and coordinates from");const c=Math.floor(a[0]/this.resourceColumns.columnWidth);return n.resourceStore.getAt(c)}toggleCls(e,t,n=!0,r=!1){var i;const o=null===(i=this.eventMap.get(e.eventId))||void 0===i?void 0:i[e.resourceId];if(o){o.renderData[r?"wrapperCls":"cls"][t]=n;const i=this.getElementFromAssignmentRecord(e,r);i&&i.classList[n?"add":"remove"](t)}}getDateFromXY(e,t,n,r=!1){let i=e[1];return n||(i=this.translateToScheduleCoordinate(i)),this.scheduler.timeAxisViewModel.getDateFromPosition(i,t,r)}translateToScheduleCoordinate(e){return e-this.scheduler._bodyRectangle.y+this.scheduler.scrollTop}translateToPageCoordinate(e){return e+this.scheduler._bodyRectangle.y-this.scheduler.scrollTop}getResourceEventBox(e,t){var n;const r=e.id,i=t.id;let{renderData:o}=(null===(n=this.eventMap.get(r))||void 0===n?void 0:n[i])||p;var a,s;return o||(this.layoutResource(this.scheduler.resourceStore.getById(i)),o=null===(a=this.eventMap.get(r))||void 0===a||null===(s=a[i])||void 0===s?void 0:s.renderData),o?new c.default(o.left,o.top,o.width,o.bottom-o.top):null}getScheduleRegion(e,t,n){const r=this,{scheduler:i}=r,o=c.default.from(i.timeAxisSubGridElement);e&&(o.left=r.resourceStore.indexOf(e)*i.resourceColumnWidth,o.right=o.left+i.resourceColumnWidth);const a=i.timeAxis.startDate,s=i.timeAxis.endDate,l=i.getDateConstraints(e,t)||{start:a,end:s},u=i.getCoordinateFromDate(d.default.max(a,l.start)),h=i.getCoordinateFromDate(d.default.min(s,l.end));return n?(o.top=u,o.bottom=h):(o.top=r.translateToPageCoordinate(u),o.bottom=r.translateToPageCoordinate(h)),o}getRowRegion(e,t,n){const{scheduler:r}=this,i=this.resourceStore.indexOf(e)*r.resourceColumnWidth,o=r.timeAxis.startDate,a=r.timeAxis.endDate,s=t?d.default.max(o,t):o,l=n?d.default.min(a,n):a,u=r.getCoordinateFromDate(s),h=r.getCoordinateFromDate(l,!0,!0),f=Math.min(u,h),g=Math.abs(u-h);return new c.default(i,f,r.resourceColumnWidth,g)}get visibleDateRange(){const e=this.scheduler,t=e.scrollable.y,n=e.scrollable.clientHeight;return{startDate:e.getDateFromCoordinate(t),endDate:e.getDateFromCoordinate(t+n)||e.timeAxis.endDate}}onResourceColumnWidthChange({width:e,oldWidth:t}){const n=this,{scheduler:r}=n;n.resourceColumns.width=r.timeAxisColumn.width=n.resourceStore.count*e,n.clearAll(),n.refresh(Math.abs(e-t)>30)}attachToProject(e){super.attachToProject(e),e&&e.on({name:"project",refresh:"onProjectRefresh",thisObj:this})}onProjectRefresh(){const e=this,{scheduler:t,toDrawOnProjectRefresh:n}=e;t.rendered&&!t.refreshSuspended&&(e.refreshAllWhenReady?(e.clearAll(),e.refresh(),e.refreshAllWhenReady=!1):n.size&&e.refresh(),n.clear())}attachToEventStore(e){super.attachToEventStore(e),this.refreshAllWhenReady=!0,e&&e.on({name:"eventStore",refreshPreCommit:"onEventStoreRefresh",thisObj:this})}onEventStoreRefresh({action:e}){"batch"===e&&(this.refreshAllWhenReady=!0)}onEventStoreChange({action:e,records:t,record:n,replaced:r,changes:i,isAssign:o}){const a=this,s=t||(n?[n]:[]),l=new Set;switch(s.forEach(e=>{e.resources.forEach(e=>l.add(e.id))}),e){case"sort":case"group":case"move":case"remove":return;case"dataset":return void a.refreshAllResourcesWhenReady();case"add":case"updateMultiple":break;case"replace":r.forEach(([,e])=>{e.resources.map(e=>l.add(e.id))}),a.clearResources(l);break;case"removeall":case"filter":return a.clearAll(),void a.refresh();case"update":{const e=n.$entity?!Object.keys(i).some(e=>!n.$entity.getField(e)):!Object.keys(i).some(e=>!m[e]);let t=0;return"startDate"in i&&t++,"endDate"in i&&t++,"duration"in i&&t++,void((!e||t>1)&&(a.clearResources(l),a.refresh()))}}a.refreshResourcesWhenReady(l)}attachToResourceStore(e){const t=this;super.attachToResourceStore(e),t.refreshAllWhenReady=!0,t.resourceColumns&&(t.resourceColumns.resourceStore=e),e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",refreshPreCommit:"onResourceStoreRefresh",load:()=>t.scheduler.unmaskBody(),thisObj:t,prio:1}),t.initialized&&(t.firstResource=t.lastResource=null,t.clearAll(),t.renderer())}onResourceStoreChange({source:e,action:t,records:n,record:r,replaced:i,changes:o}){const a=this,s=n||(i?i.map(e=>e[1]):r?[r]:[]),l=new Set(s.map(e=>e.id));if(a.firstResource=a.lastResource=null,a.scheduler.isEngineReady){switch(t){case"update":null!==o&&void 0!==o&&o.id?a.clearResources([o.id.oldValue,o.id.value]):a.clearResources([r.id]);break;case"filter":a.clearAll()}a.refresh(!0)}else{switch(t){case"dataset":case"remove":case"removeall":return void a.refreshAllResourcesWhenReady();case"replace":case"add":for(let t=s.reduce((t,n)=>Math.min(t,e.indexOf(n)),e.count);t<e.count;t++)l.add(e.getAt(t).id)}a.refreshResourcesWhenReady(l)}}onResourceStoreRefresh({action:e}){const t=this;if("group"===e)throw new Error("Grouping of resources not supported in vertical mode");"sort"===e&&(t.firstResource=t.lastResource=null,t.clearAll(),t.refresh())}attachToAssignmentStore(e){super.attachToAssignmentStore(e),this.refreshAllWhenReady=!0,e&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentStoreChange",refreshPreCommit:"onAssignmentStoreRefresh",thisObj:this})}onAssignmentStoreChange({action:e,records:t,replaced:n,record:r,changes:i}){const o=this,a=new Set((t||(r?[r]:[])).map(e=>e.resourceId));if(o.scheduler.isEngineReady){switch(e){case"filter":o.clearAll();break;case"update":if("resourceId"in i&&a.add(i.resourceId.oldValue),!Object.keys(i).filter(e=>"resource"!==e&&"event"!==e).length)return;o.clearResources(a)}o.refresh(!0)}else{switch(i&&"resourceId"in i&&a.add(i.resourceId.oldValue),e){case"removeall":return void o.refreshAllResourcesWhenReady();case"replace":n.forEach(([e,t])=>{a.add(e.resourceId),a.add(t.resourceId)})}o.refreshResourcesWhenReady(a)}}onAssignmentStoreRefresh({action:e,records:t}){"batch"===e&&(this.clearResources(t.map(e=>e.resourceId)),this.renderer())}refreshRows(e){e&&(this.clearAll(),this.scheduler.refreshFromRerender=!1)}repaintEventsForResource(e){this.renderResource(e)}updateFromHorizontalScroll(e){e!==this.prevScrollLeft&&(this.renderer(),this.prevScrollLeft=e)}updateFromVerticalScroll(){this.renderer()}scrollResourceIntoView(e,t){const{scheduler:n}=this,r=n.resourceStore.indexOf(e)*n.resourceColumnWidth;return n.scrollHorizontallyTo(r,t)}onViewportResize(e){this.resourceColumns.availableWidth=e,this.renderer()}onLocaleChange(){this.clearAll()}onDragAbort(){}onBeforeRowHeightChange(){}onTimeAxisViewModelUpdate(){}updateElementId(){}releaseTimeSpanDiv(){}refreshResourcesWhenReady(e){this.clearResources(e),e.forEach(e=>this.toDrawOnProjectRefresh.add(e))}refreshAllResourcesWhenReady(){this.clearAll(),this.refreshAllWhenReady=!0}get resourceRange(){return this.getResourceRange(!0)}get visibleResources(){const{first:e,last:t}=this.getResourceRange();return{first:this.resourceStore.getAt(e),last:this.resourceStore.getAt(t)}}getResourceRange(e){const{scheduler:t,resourceStore:n}=this;let r=this.resourceBufferSize;return e||(r=0),n&&n.count?{first:Math.max(Math.floor(t.scrollLeft/t.resourceColumnWidth)-r,0),last:Math.min(Math.floor((t.scrollLeft+t.timeAxisSubGrid.width)/t.resourceColumnWidth)+r,n.count-1)}:{first:-1,last:-1}}get dateRange(){const{scheduler:e}=this;let t=e.getDateFromCoordinate(Math.min(e.scrollTop+e.bodyHeight+e.tickSize-1,(e.virtualScrollHeight||e.scrollable.scrollHeight)-1));t||(t=e.timeAxis.last.endDate);let n=e.getDateFromCoordinate(Math.max(e.scrollTop-e.tickSize,0));return n||(n=e.timeAxis.first.startDate,t=e.getDateFromCoordinate(e.bodyHeight+e.tickSize-1)),{topDate:n,bottomDate:t}}getTimeSpanRenderData(e,t,n=!1){const{scheduler:r}=this,{startDate:i,endDate:o}=e,a=r.getResourceMargin(t),s=r.getCoordinateFromDate(i),l=this.resourceStore.indexOf(t)*r.resourceColumnWidth,c=r.resourceColumnWidth-2*a,d=i.getTime(),u=o.getTime();let h=r.getCoordinateFromDate(o),f=h-s;return-1===h&&(f=Math.round((u-d)*r.timeAxisViewModel.getSingleUnitInPixels("millisecond")),h=s+f),{eventRecord:e,resourceRecord:t,left:l,top:s,bottom:h,width:c,height:f,startDate:i,endDate:o,startDateMS:d,endDateMS:u,children:[],start:i,end:o,startMs:d,endMs:u}}eventSorter(e,t){const n=e.dataStartMs||e.startDateMS,r=e.dataEndMs||e.endDateMS,i=t.dataStartMs||t.startDateMS,o=t.dataEndMs||t.endDateMS,a=e.isModel?e.name:e.eventRecord.name,s=t.isModel?t.name:t.eventRecord.name;return n-i||o-r||(a<s?-1:a==s?0:1)}layoutResource(e){const t=this,{scheduler:n}=t,{id:r}=e,{assignmentStore:i,eventStore:o}=n,a=t.resourceMap.set(r,{}).get(r),l=n.resourceStore.indexOf(e),{barMargin:c,resourceMargin:d}=n.getResourceLayoutSettings(e);let u=e.assignments.reduce((e,t)=>(i.isAvailable(t)&&o.isAvailable(t.event)&&e.push(t.event),e),[]);u=n.getEventsToRender(e,u);const h=u.reduce((i,o)=>{const c=n.generateRenderData(o,e),d={renderData:c};return s.default.getMapPath(t.eventMap,c.eventId,{})[r]=d,a[c.eventId]=d,c.fillSize?(c.left=l*n.resourceColumnWidth,c.width=n.resourceColumnWidth):i.push(c),i},[]);return h.sort(t.eventSorter),t.verticalLayout.applyLayout(h,n.resourceColumnWidth,d,c,l,e.eventLayout||n.eventLayout),a}addTemporaryDragElement(e){const{scheduler:t}=this,n=t.generateRenderData(e,e.resource,{timeAxis:!0,viewport:!0});n.top=n.row?n.top+n.row.top:t.getResourceEventBox(e,e.resource,!0).top;const r=this.renderEvent({renderData:n}),{dataset:i}=r;delete r.tabIndex,delete i.eventId,delete i.resourceId,delete i.assignmentId,delete i.syncId,i.transient=!0,r.parent=this.scheduler.foregroundCanvas,r.retainElement=!0;const a=o.default.createElement(r);return a.innerElement=a.firstChild,e.instanceMeta(t).hasTemporaryDragElement=!0,a}renderEvent(e){const t=e.renderData,{resourceRecord:n,assignmentRecord:r}=t,i={className:t.wrapperCls,tabIndex:"0",children:[{className:t.cls,style:(t.internalStyle||"")+(t.style||""),children:t.children,dataset:{taskFeature:"event"},syncOptions:{syncIdField:"taskBarFeature"}},...t.wrapperChildren],style:{transform:`translate(${t.left}px, ${t.top}px)`,height:t.height,width:t.width,style:t.wrapperStyle||""},dataset:{resourceId:n.id,eventId:t.eventId,syncId:r?r.id:t.eventId},elementData:e,retainElement:(r||t.eventRecord).instanceMeta(this.scheduler).retainElement,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}};return t.zIndex&&(i.zIndex=t.zIndex),r&&(i.dataset.assignmentId=r.id),this.scheduler.trigger("beforeRenderEvent",{renderData:t,domConfig:i}),e.elementConfig=i,i}renderResource(e){const t=this,{topDateMS:n,bottomDateMS:r}=t,i=[];let o=t.resourceMap.get(e.id);o||(o=t.layoutResource(e));for(const a in o){const e=o[a],{endDateMS:s,startDateMS:l,eventRecord:c}=e.renderData;s>=n&&l<=r&&!c.instanceMeta(t.scheduler).hasTemporaryDragElement&&i.push(t.renderEvent(e))}return i}isEventElement(e){const t=e&&e.className;return t&&t[this.scheduler.eventCls+"-wrap"]}renderer(){const e=this,{scheduler:t}=e,{resourceStore:n}=t,{first:r,last:i}=e.resourceRange,{topDate:s,bottomDate:l}=e.dateRange,c=[],u=[];if(e.initialized&&e.scheduler.isEngineReady){if(!d.default.isEqual(s,e.topDate)||!d.default.isEqual(l,e.bottomDate)){e.topDate=s,e.bottomDate=l,e.topDateMS=s.getTime(),e.bottomDateMS=l.getTime();const n=e.timeView.range={startDate:s,endDate:l};t.onVisibleDateRangeChange(n),t.trigger("visibleRangeChange",n)}if(-1!==r&&-1!==i)for(let t=r;t<=i;t++)c.push.apply(c,e.renderResource(n.getAt(t)));if(t.getForegroundDomConfigs(u),c.push.apply(c,u),a.default.sync({domConfig:{onlyChildren:!0,children:c},targetElement:t.foregroundCanvas,syncIdField:"syncId",callback({action:n,domConfig:r,lastDomConfig:i,targetElement:a}){if(e.isEventElement(r)){const s=g[n];if(f[n]&&e.isEventElement(i)&&!i.isReleased){const e=i.elementData.renderData,n={renderData:e,assignmentRecord:e.assignmentRecord,eventRecord:e.eventRecord,resourceRecord:e.resourceRecord,element:a};a===o.default.getActiveElement(a)&&t.focusElement.focus(),t.trigger("releaseEvent",n)}if(s){const e=r.elementData.renderData,i={renderData:e,tplData:e,assignmentRecord:e.assignmentRecord,eventRecord:e.eventRecord,resourceRecord:e.resourceRecord,element:a,isReusingElement:"reuseElement"===n,isRepaint:"reuseOwnElement"===n};i.reusingElement="reuseElement"===n,t.trigger("renderEvent",i)}}}}),e.firstResource!==r||e.lastResource!==i){const n=e.resourceColumns.visibleResources={firstResource:r,lastResource:i};e.firstResource=r,e.lastResource=i,t.onVisibleResourceRangeChange(n),t.trigger("resourceRangeChange",n)}}}refresh(e){this.scheduler.runWithTransition(()=>this.renderer(),e)}refreshResources(e){this.clearResources(e),this.refresh()}get timeView(){return this.scheduler.timeView}clearResources(e){const{resourceMap:t,eventMap:n}=this;e.forEach(e=>{t.has(e)&&(Object.values(t.get(e)).forEach(({renderData:{eventId:t}})=>{delete n.get(t)[e]}),t.delete(e))})}clearAll(){this.resourceMap.clear(),this.eventMap.clear()}}v._$name="VerticalRendering"},"./lib/Scheduler/view/recurrence/RecurrenceConfirmationPopup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Popup.js");class i extends r.default{static get $name(){return"RecurrenceConfirmationPopup"}static get type(){return"recurrenceconfirmation"}static get defaultConfig(){return{localizableProperties:[],align:"b-t",autoShow:!1,autoClose:!1,closeAction:"onRecurrenceClose",modal:!0,centered:!0,scrollAction:"realign",constrainTo:window,draggable:!0,closable:!0,floating:!0,eventRecord:null,cls:"b-sch-recurrenceconfirmation",bbar:{defaults:{localeClass:this},items:{changeMultipleButton:{weight:100,color:"b-green",text:"L{Object.Yes}",onClick:"up.onChangeMultipleButtonClick"},changeSingleButton:{weight:200,color:"b-gray",text:"L{update-only-this-btn-text}",onClick:"up.onChangeSingleButtonClick"},cancelButton:{weight:300,color:"b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelButtonClick"}}}}}get changeMultipleButton(){return this.widgetMap.changeMultipleButton}get changeSingleButton(){return this.widgetMap.changeSingleButton}get cancelButton(){return this.widgetMap.cancelButton}onChangeMultipleButtonClick(){this.processMultipleRecords(),this.hide()}onChangeSingleButtonClick(){this.processSingleRecord(),this.hide()}onCancelButtonClick(){this.cancelFn&&this.cancelFn.call(this.thisObj),this.hide()}onRecurrenceClose(){this.cancelFn&&this.cancelFn.call(this.thisObj),this.hide()}confirm(e={}){const t=this;return["actionType","eventRecord","title","html","changerFn","cancelFn","thisObj"].forEach(n=>{n in e&&(t[n]=e[n])}),t.updatePopupContent(),super.show(e)}updatePopupContent(){const e=this,{changeMultipleButton:t,changeSingleButton:n,cancelButton:r}=e.widgetMap,{eventRecord:i,actionType:o="update"}=e,a=i&&i.isRecurring;a?(t.text=e.L("L{Object.Yes}"),e.html=e.L(o+"-all-message")):(t.text=e.L(o+"-further-btn-text"),e.html=e.L(o+"-further-message")),n.text=e.L(o+"-only-this-btn-text"),r.text=e.L("L{Object.Cancel}"),a?n.hide():n.show(),e.width=e.L("L{width}"),e.title=e.L(o+"-title")}processMultipleRecords(){const{eventRecord:e,changerFn:t,thisObj:n}=this;e.beginBatch(),this.callback(t,n,[e]),e.endBatch()}processSingleRecord(){const{eventRecord:e,changerFn:t,thisObj:n}=this;e.beginBatch(),e.recurrence=null,this.callback(t,n,[e]),e.recurrenceRule=null,e.endBatch()}updateLocalization(){this.updatePopupContent(),super.updateLocalization()}}i.initClass(),i._$name="RecurrenceConfirmationPopup"},"./lib/Scheduler/view/recurrence/RecurrenceEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js"),i=n("./lib/Core/widget/Popup.js");n("./lib/Core/widget/Widget.js"),n("./lib/Core/widget/Button.js"),n("./lib/Core/widget/Checkbox.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/NumberField.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceFrequencyCombo.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceDaysCombo.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceDaysButtonGroup.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceMonthDaysButtonGroup.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceMonthsButtonGroup.js"),n("./lib/Scheduler/view/recurrence/field/RecurrenceStopConditionCombo.js"),n("./lib/Scheduler/view/recurrence/field/RecurrencePositionsCombo.js");class o extends i.default{static get $name(){return"RecurrenceEditor"}static get type(){return"recurrenceeditor"}static get configurable(){return{draggable:!0,closable:!0,floating:!0,cls:"b-recurrenceeditor",title:"L{Repeat event}",autoClose:!0,width:400,defaults:{localeClass:this},items:{frequencyField:{type:"recurrencefrequencycombo",name:"frequency",label:"L{Frequency}",weight:10,onChange:"up.onFrequencyFieldChange"},intervalField:{type:"numberfield",weight:15,name:"interval",label:"L{Every}",min:1,required:!0},daysButtonField:{type:"recurrencedaysbuttongroup",weight:20,name:"days",forFrequency:"WEEKLY"},monthDaysRadioField:{type:"checkbox",weight:30,toggleGroup:"radio",forFrequency:"MONTHLY",label:"L{Each}",checked:!0,onChange:"up.onMonthDaysRadioFieldChange"},monthDaysButtonField:{type:"recurrencemonthdaysbuttongroup",weight:40,name:"monthDays",forFrequency:"MONTHLY"},monthsButtonField:{type:"recurrencemonthsbuttongroup",weight:50,name:"months",forFrequency:"YEARLY"},positionAndDayRadioField:{type:"checkbox",weight:60,toggleGroup:"radio",forFrequency:"MONTHLY|YEARLY",label:"L{On the}",onChange:"up.onPositionAndDayRadioFieldChange"},positionsCombo:{type:"recurrencepositionscombo",weight:80,name:"positions",forFrequency:"MONTHLY|YEARLY"},daysCombo:{type:"recurrencedayscombo",weight:90,name:"days",forFrequency:"MONTHLY|YEARLY",flex:1},stopRecurrenceField:{type:"recurrencestopconditioncombo",weight:100,label:"L{End repeat}",onChange:"up.onStopRecurrenceFieldChange"},countField:{type:"numberfield",weight:110,name:"count",min:2,required:!0,disabled:!0,label:" "},endDateField:{type:"datefield",weight:120,name:"endDate",hidden:!0,disabled:!0,label:" ",required:!0}},bbar:{defaults:{localeClass:this},items:{foo:{type:"widget",cls:"b-label-filler",weight:100},saveButton:{color:"b-green",text:"L{Save}",onClick:"up.onSaveClick",weight:200},cancelButton:{color:"b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelClick",weight:300}}}}}updateReadOnly(e){super.updateReadOnly(e),this.bbar.hidden=e}updateRecord(e){super.updateRecord(e);const t=this,n=e.timeSpan,i=n&&n.startDate,{daysButtonField:o,monthDaysButtonField:a,monthsButtonField:s,monthDaysRadioField:l,positionAndDayRadioField:c,stopRecurrenceField:d}=t.widgetMap;i&&(e.days&&e.days.length||(o.value=[r.default.encodeDay(i.getDay())]),e.monthDays&&e.monthDays.length||(a.value=i.getDate()),e.months&&e.months.length||(s.value=i.getMonth()+1)),e.days&&e.positions?(c.check(),t.isPainted||l.uncheck()):(l.check(),t.isPainted||c.uncheck()),d.recurrence=e}onSaveClick(){const e=this;e.saveHandler?e.saveHandler.call(e.thisObj||e,e,e.record):(e.syncEventRecord(),e.close())}onCancelClick(){const e=this;e.cancelHandler?e.cancelHandler.call(e.thisObj||e,e,e.record):e.close()}syncEventRecord(e){const t=this.getValues(t=>t.name in e&&!t.disabled);e.set(t)}toggleStopFields(){const{countField:e,endDateField:t}=this.widgetMap;switch(this.widgetMap.stopRecurrenceField.value){case"count":e.show(),e.enable(),t.hide(),t.disable();break;case"date":e.hide(),e.disable(),t.show(),t.enable();break;default:e.hide(),t.hide(),e.disable(),t.disable()}}onMonthDaysRadioFieldChange({checked:e}){const{monthDaysButtonField:t}=this.widgetMap;t.disabled=!e||!this.isWidgetAvailableForFrequency(t)}onPositionAndDayRadioFieldChange({checked:e}){const{daysCombo:t,positionsCombo:n}=this.widgetMap;t.disabled=n.disabled=!e||!this.isWidgetAvailableForFrequency(t)}onStopRecurrenceFieldChange(){this.toggleStopFields()}isWidgetAvailableForFrequency(e,t=this.widgetMap.frequencyField.value){return!e.forFrequency||e.forFrequency.indexOf(t)>-1}onFrequencyFieldChange({value:e,valid:t}){const n=this,r=n.queryAll(e=>"forFrequency"in e);if(t&&e){for(let t=0;t<r.length;t++){const i=r[t];n.isWidgetAvailableForFrequency(i,e)?(i.show(),i.enable()):(i.hide(),i.disable())}n.widgetMap.intervalField.hint=n.L(e+"intervalUnit"),n.toggleFieldsState()}}toggleFieldsState(){const{widgetMap:e}=this;this.onMonthDaysRadioFieldChange({checked:e.monthDaysRadioField.checked}),this.onPositionAndDayRadioFieldChange({checked:e.positionAndDayRadioField.checked}),this.onStopRecurrenceFieldChange()}updateLocalization(){const{countField:e,intervalField:t,frequencyField:n}=this.widgetMap;e.hint=this.L("L{time(s)}"),n.value&&(t.hint=this.L(n.value+"intervalUnit")),super.updateLocalization()}}o.initClass(),o._$name="RecurrenceEditor"},"./lib/Scheduler/view/recurrence/RecurrenceLegendButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Button.js"),i=n("./lib/Scheduler/data/util/recurrence/RecurrenceLegend.js");class o extends r.default{static get $name(){return"RecurrenceLegendButton"}static get type(){return"recurrencelegendbutton"}static get defaultConfig(){return{localizableProperties:[],recurrence:null}}set recurrence(e){this._recurrence=e,this.updateLegend()}get recurrence(){return this._recurrence}set eventStartDate(e){this._eventStartDate=e,this.updateLegend()}get eventStartDate(){return this._eventStartDate}updateLegend(){const{recurrence:e}=this;this.text=e?i.default.getLegend(e,this.eventStartDate):""}onLocaleChange(){this.updateLegend()}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}}o.initClass(),o._$name="RecurrenceLegendButton"},"./lib/Scheduler/view/recurrence/field/RecurrenceCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Scheduler/view/recurrence/field/RecurrenceFrequencyCombo.js");class i extends r.default{static get $name(){return"RecurrenceCombo"}static get type(){return"recurrencecombo"}static get defaultConfig(){return{customValue:"custom",placeholder:"None",splitCls:"b-recurrencecombo-split",items:!0,highlightExternalChange:!1}}buildLocalizedItems(){return[{value:"none",text:this.L("L{None}")},...super.buildLocalizedItems(),{value:this.customValue,text:this.L("L{Custom}"),cls:this.splitCls}]}set value(e){e=e||"none",super.value=e}get value(){return super.value}set recurrence(e){const t=this;t.value=e?t.isCustomRecurrence(e)?t.customValue:e.frequency:null}isCustomRecurrence(e){const{interval:t,days:n,monthDays:r,months:i}=e;return Boolean(t>1||n&&n.length||r&&r.length||i&&i.length)}}i.initClass(),i._$name="RecurrenceCombo"},"./lib/Scheduler/view/recurrence/field/RecurrenceDaysButtonGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/widget/ButtonGroup.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js");class a extends i.default{static get $name(){return"RecurrenceDaysButtonGroup"}static get type(){return"recurrencedaysbuttongroup"}static get defaultConfig(){return{defaults:{cls:"b-raised",toggleable:!0}}}construct(e={}){e.columns=7,e.items=this.buildItems(),super.construct(e)}updateItemText(e){const t=o.default.decodeDay(e.value)[0];e.text=r.default.getDayName(t).substring(0,3)}buildItems(){const e=this;if(!e.__items){const t=r.default.weekStartDay,n=r.default.getDayNames().map((e,t)=>({text:e.substring(0,3),value:o.default.encodeDay(t)}));e.__items=n.slice(t).concat(n.slice(0,t))}return e.__items}set value(e){e&&Array.isArray(e)&&(e=e.join(",")),super.value=e}get value(){let e=super.value;return e&&Array.isArray(e)&&(e=e.join(",")),e}onLocaleChange(){this.items.forEach(this.updateItemText,this)}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}a.initClass(),a._$name="RecurrenceDaysButtonGroup"},"./lib/Scheduler/view/recurrence/field/RecurrenceDaysCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/widget/Combo.js"),o=n("./lib/Scheduler/data/util/recurrence/RecurrenceDayRuleEncoder.js"),a=n("./lib/Core/widget/mixin/LocalizableComboItems.js");class s extends(Object(a.default)(i.default)){static get $name(){return"RecurrenceDaysCombo"}static get type(){return"recurrencedayscombo"}static get defaultConfig(){const e=["SU","MO","TU","WE","TH","FR","SA"],t=e.join(",");return{allDaysValue:t,editable:!1,defaultValue:t,workingDaysValue:e.filter((e,t)=>!r.default.nonWorkingDays[t]).join(","),nonWorkingDaysValue:e.filter((e,t)=>r.default.nonWorkingDays[t]).join(","),splitCls:"b-recurrencedays-split",displayField:"text",valueField:"value"}}buildLocalizedItems(){const e=this;return e._weekDays=null,e.weekDays.concat([{value:e.allDaysValue,text:e.L("L{day}"),cls:e.splitCls},{value:e.workingDaysValue,text:e.L("L{weekday}")},{value:e.nonWorkingDaysValue,text:e.L("L{weekend day}")}])}get weekDays(){const e=this;if(!e._weekDays){const t=r.default.weekStartDay,n=r.default.getDayNames().map((e,t)=>({text:e,value:o.default.encodeDay(t)}));e._weekDays=n.slice(t).concat(n.slice(0,t))}return e._weekDays}set value(e){const t=this;e&&Array.isArray(e)&&(e=e.join(",")),e&&t.store.findRecord("value",e)||(e=t.defaultValue),super.value=e}get value(){let e=super.value;return e&&Array.isArray(e)&&(e=e.join(",")),e}}s.initClass(),s._$name="RecurrenceDaysCombo"},"./lib/Scheduler/view/recurrence/field/RecurrenceFrequencyCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/widget/mixin/LocalizableComboItems.js");class o extends(Object(i.default)(r.default)){static get $name(){return"RecurrenceFrequencyCombo"}static get type(){return"recurrencefrequencycombo"}static get defaultConfig(){return{editable:!1,displayField:"text",valueField:"value"}}buildLocalizedItems(){return[{value:"DAILY",text:this.L("L{Daily}")},{value:"WEEKLY",text:this.L("L{Weekly}")},{value:"MONTHLY",text:this.L("L{Monthly}")},{value:"YEARLY",text:this.L("L{Yearly}")}]}}o.initClass(),o._$name="RecurrenceFrequencyCombo"},"./lib/Scheduler/view/recurrence/field/RecurrenceMonthDaysButtonGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/ButtonGroup.js");class i extends r.default{static get $name(){return"RecurrenceMonthDaysButtonGroup"}static get type(){return"recurrencemonthdaysbuttongroup"}static get defaultConfig(){return{defaults:{toggleable:!0,cls:"b-raised"}}}get minValue(){return 1}get maxValue(){return 31}construct(e={}){e.columns=7,e.items=this.buildItems(),super.construct(e)}buildItems(){const e=this,t=[];for(let n=e.minValue;n<=e.maxValue;n++)t.push({text:n+"",value:n});return t}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}i.initClass(),i._$name="RecurrenceMonthDaysButtonGroup"},"./lib/Scheduler/view/recurrence/field/RecurrenceMonthsButtonGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/helper/DateHelper.js"),i=n("./lib/Core/widget/ButtonGroup.js");class o extends i.default{static get $name(){return"RecurrenceMonthsButtonGroup"}static get type(){return"recurrencemonthsbuttongroup"}static get defaultConfig(){return{defaults:{toggleable:!0,cls:"b-raised"}}}construct(e={}){e.columns=4,e.items=this.buildItems(),super.construct(e)}buildItems(){return r.default.getMonthNames().map((e,t)=>({text:e.substring(0,3),value:t+1}))}updateItemText(e){e.text=r.default.getMonthName(e.value-1).substring(0,3)}onLocaleChange(){this.items.forEach(this.updateItemText,this)}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}o.initClass(),o._$name="RecurrenceMonthsButtonGroup"},"./lib/Scheduler/view/recurrence/field/RecurrencePositionsCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/helper/ArrayHelper.js"),i=n("./lib/Core/widget/Combo.js"),o=n("./lib/Core/widget/mixin/LocalizableComboItems.js");class a extends(Object(o.default)(i.default)){static get $name(){return"RecurrencePositionsCombo"}static get type(){return"recurrencepositionscombo"}static get defaultConfig(){return{editable:!1,splitCls:"b-sch-recurrencepositions-split",displayField:"text",valueField:"value",defaultValue:1,maxPosition:5}}buildLocalizedItems(){return this.buildDayNumbers().concat([{value:"-1",text:this.L("L{position-1}"),cls:this.splitCls}])}buildDayNumbers(){const e=this;return r.default.populate(e.maxPosition,t=>({value:t,text:e.L("position"+(t+1))}))}set value(e){const t=this;e&&Array.isArray(e)&&(e=e.join(",")),e&&t.store.findRecord("value",e)||(e=t.defaultValue),super.value=e}get value(){const e=super.value;return e?(""+e).split(",").map(e=>parseInt(e,10)):[]}}a.initClass(),a._$name="RecurrencePositionsCombo"},"./lib/Scheduler/view/recurrence/field/RecurrenceStopConditionCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/widget/mixin/LocalizableComboItems.js");class o extends(Object(i.default)(r.default)){static get $name(){return"RecurrenceStopConditionCombo"}static get type(){return"recurrencestopconditioncombo"}static get defaultConfig(){return{editable:!1,placeholder:"Never",displayField:"text",valueField:"value"}}buildLocalizedItems(){return[{value:"never",text:this.L("L{Never}")},{value:"count",text:this.L("L{After}")},{value:"date",text:this.L("L{On date}")}]}set value(e){e=e||"never",super.value=e}get value(){return super.value}get recurrence(){return this._recurrence}set recurrence(e){let t=null;e.endDate?t="date":e.count&&(t="count"),this._recurrence=e,this.value=t}}o.initClass(),o._$name="RecurrenceStopConditionCombo"},"./lib/Scheduler/widget/ResourceCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/helper/DomHelper.js");class o extends r.default{static get $name(){return"ResourceCombo"}static get type(){return"resourcecombo"}static get configurable(){return{showEventColor:!1,picker:{cls:"b-resourcecombo-picker",itemIconTpl(e,t){const{eventColor:n}=e,r=!i.default.isNamedColor(n);return`<div class="b-icon b-icon-square${!n||r?"":" b-sch-foreground-"+n}"${n?r?` style="color:${n}"`:"":' style="display:none"'}></div>`}}}}changeShowEventColor(e){return Boolean(e)}updateShowEventColor(e){const{_picker:t}=this,n=e?"add":"remove";this.element.classList[n]("b-show-event-color"),null===t||void 0===t||t.element.classList[n]("b-show-event-color")}changePicker(e,t){var n;return null===(n=e=super.changePicker(e,t))||void 0===n||n.element.classList[this.showEventColor?"add":"remove"]("b-show-event-color"),e}get innerElements(){return[{class:"b-icon b-resource-icon b-icon-square b-hide-display",reference:"resourceIcon"},this.inputElement]}syncInputFieldValue(){var e,t;const n=this,{resourceIcon:r,lastResourceIconCls:o}=n,{classList:a}=r,s=null!==(e=null===(t=n.selected)||void 0===t?void 0:t.eventColor)&&void 0!==e?e:"";super.syncInputFieldValue(),r.style.color="",o&&a.remove(o),n.lastResourceIconCls=null,s?(i.default.isNamedColor(s)?(n.lastResourceIconCls="b-sch-foreground-"+s,a.add(n.lastResourceIconCls)):r.style.color=s,a.remove("b-hide-display")):a.add("b-hide-display")}}o.initClass(),o._$name="ResourceCombo"},"./lib/Scheduler/widget/ResourceFilter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/widget/List.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Core/helper/DomHelper.js"),a=n("./lib/Core/helper/StringHelper.js");class s extends r.default{static get $name(){return"ResourceFilter"}static get type(){return"resourcefilter"}static get delayable(){return{applyFilter:"raf"}}static get configurable(){return{eventStore:null,multiSelect:!0,toggleAllIfCtrlPressed:!0,itemTpl:e=>a.default.encodeHtml(e.name)}}itemIconTpl(e,t){const{eventColor:n}=e,r=o.default.isNamedColor(n)?" b-sch-foreground-"+n:"",i=!r&&n?` style="color:${n}"`:"";return this.multiSelect?`<div class="b-selected-icon b-icon${r}"${i}></div>`:""}updateEventStore(e){var t;const{resourceStore:n}=e,r=this.initialConfig.store instanceof i.default?this.initialConfig.store.initialConfig:null===(t=this.store)||void 0===t?void 0:t.config;this.store=n.makeChained(null,null,r),n.count?this.initFilter():n.project.on({name:"project",refresh:"initFilter",thisObj:this})}initFilter(){const{eventStore:e}=this;e.count&&e.resourceStore.count&&(this.selected.add(this.store.getRange()),this.detachListeners("project"))}onSelectionChange({source:e}){const t=this,n=e.count===t.eventStore.resourceStore.count;super.onSelectionChange(...arguments),t.resourceFilter?(t.resourceFilter.disabled=n,t.applyFilter()):t.resourceFilter=t.eventStore.addFilter({id:t.id+"-filter-instance",filterBy:e=>!e.resource||t.selected.includes(e.resources),disabled:n},!0)}applyFilter(){this.eventStore.filter()}}s.initClass(),s._$name="ResourceFilter"},"./lib/Scheduler/widget/UndoRedo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Container.js");n("./lib/Core/widget/Combo.js");const i=e=>e.isProjectConsumer;class o extends r.default{static get $name(){return"UndoRedo"}static get type(){return"undoredo"}static get configurable(){return{scheduler:null,project:null,text:null,color:null,showZeroActionBadge:null,cls:"b-undo-controls b-toolbar",layoutStyle:{alignItems:"stretch",flexFlow:"row nowrap",overflow:"visible"},items:{undoBtn:{type:"button",icon:"b-icon-undo",tooltip:"L{UndoRedo.UndoLastAction}",disabled:!0,onAction:"up.onUndo"},transactionsCombo:{type:"combo",valueField:"idx",editable:!1,store:{},emptyText:"No items in the undo queue",onAction:"up.onTransactionSelected",displayValueRenderer:"up.transactionsDisplayValueRenderer"},redoBtn:{type:"button",icon:"b-icon-redo",tooltip:"L{UndoRedo.RedoLastAction}",disabled:!0,onAction:"up.onRedo"}}}}construct(){super.construct(...arguments),this.stm||(this.scheduler=this.up(i)),this.stm.on({recordingstop:"updateUndoRedoControls",restoringstop:"updateUndoRedoControls",queueReset:"updateUndoRedoControls",disabled:"updateUndoRedoControls",thisObj:this})}changeItems(e){const{undoBtn:t,redoBtn:n}=e;return this.color&&(t&&(t.color=this.color),n&&(n.color=this.color)),this.text&&(t&&(t.text="Undo"),n&&(n.text="Redo")),super.changeItems(e)}changeScheduler(e){return e.isProjectConsumer?e:bryntum.get(e)}updateScheduler(e){const{crudManager:t}=e;t?t.on({load:"onCrudManagerLoad",thisObj:this}):this.onCrudManagerLoad(),this.stm=e.project.stm}updateProject(e){this.stm=e.stm}async onCrudManagerLoad(){await this.scheduler.project.commitAsync(),this.isDestroyed||(this.stm.enable(),this.fillUndoRedoCombo())}fillUndoRedoCombo(){this.widgetMap.transactionsCombo&&(this.widgetMap.transactionsCombo.items=this.stm.queue.map((e,t)=>[t,e||"Transaction "+t]))}updateUndoRedoControls(){const{stm:e,showZeroActionBadge:t}=this,{undoBtn:n,redoBtn:r}=this.widgetMap;n.badge=e.position||(t?"0":""),r.badge=e.length-e.position||(t?"0":""),n.disabled=!e.canUndo,r.disabled=!e.canRedo,this.fillUndoRedoCombo()}transactionsDisplayValueRenderer(e,t){var n;const r=(null===(n=this.stm)||void 0===n?void 0:n.position)||0;return`${r} undo actions / ${t.store.count-r} redo actions`}onUndo(){this.stm.canUndo&&this.stm.undo()}onRedo(){this.stm.canRedo&&this.stm.redo()}onTransactionSelected(e){const t=this.stm,n=e.value;n>=0&&(t.canUndo&&n<t.position?t.undo(t.position-n):t.canRedo&&n>=t.position&&t.redo(n-t.position+1))}}o.initClass(),o._$name="UndoRedo"},"./lib/SchedulerPro/column/DurationColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Grid/data/ColumnStore.js"),i=n("./lib/Grid/column/NumberColumn.js"),o=n("./lib/Core/data/Duration.js"),a=n("./lib/Core/helper/DateHelper.js"),s=n("./lib/Core/helper/ObjectHelper.js");n("./lib/Core/widget/DurationField.js");class l extends i.default{static get $name(){return"DurationColumn"}static get type(){return"duration"}static get isGanttColumn(){return!0}static get fields(){return[{name:"decimalPrecision",defaultValue:1}]}static get defaults(){return{min:null,max:null,step:1,largeStep:0,field:"fullDuration",text:"L{Duration}",instantUpdate:!0,filterType:"duration",sortable(e,t){return e[this.field]-t[this.field]}}}construct(){super.construct(...arguments);const e=this.sortable;this.sortable=(...t)=>e.call(this,...t)}get defaultEditor(){const{max:e,min:t,step:n,largeStep:r}=this;return s.default.cleanupProperties({type:"duration",name:this.field,max:e,min:t,step:n,largeStep:r})}get durationUnitField(){return this.field+"Unit"}formatValue(e,t){e instanceof o.default&&(t=e.unit,e=e.magnitude);const n="number"===typeof this.grid.durationDisplayPrecision?this.grid.durationDisplayPrecision:this.decimalPrecision,r=Math.pow(10,n);return Math.round(e*r)/r+" "+a.default.getLocalizedNameOfUnit(t,1!==e)}defaultRenderer({record:e,isExport:t}){const n=e[this.field],r=typeof n,i="number"===r?n:n&&n.magnitude,o="number"===r?e[this.durationUnitField]:n&&n.unit;return"number"!==typeof i?t?"":null:this.formatValue(i,o)}}r.default.registerColumnType(l),l._$name="DurationColumn"},"./lib/SchedulerPro/column/ResourceCalendarColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js"),a=n("./lib/SchedulerPro/widget/CalendarField.js");class s extends(r.default.mixin(o.default)){static get $name(){return"ResourceCalendarColumn"}static get type(){return"resourceCalendar"}static get defaults(){return{field:"calendar",text:"Calendar",editor:{type:a.default.type,clearable:!0,allowInvalid:!1}}}attachToProject(e){e&&(this.defaultCalendar=e.defaultCalendar,this.editor.store=e.calendarManagerStore)}attachToResourceStore(e){super.attachToResourceStore(e),e&&e.on({name:"resourceStore",update:"onResourceUpdate",thisObj:this})}onResourceUpdate({record:e,changes:t}){const n=t[this.field];if(n){if("string"===typeof n.oldValue&&n.value.id===n.oldValue)return;this.refreshCell(e)}}renderer({value:e}){if(e===this.defaultCalendar)return"";if(e&&e.id){const t=this.editor.store.getById(e.id);return t&&t[this.editor.displayField]||""}return""}}i.default.registerColumnType(s),s._$name="ResourceCalendarColumn"},"./lib/SchedulerPro/column/ScaleColumn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Grid/column/Column.js"),i=n("./lib/Grid/data/ColumnStore.js"),o=n("./lib/Core/widget/graph/Scale.js");class a extends r.default{static get $name(){return"ScaleColumn"}static get type(){return"scale"}static get isScaleColumn(){return!0}static get fields(){return["scalePoints"]}static get defaults(){return{text:"\xa0",width:40,minWidth:40,cellCls:"b-scale-cell",editor:!1,sortable:!1,groupable:!1,filterable:!1,scalePoints:[{value:4},{value:8,text:8}]}}onDestroy(){this.scaleWidget.destroy()}set width(e){super.width=e,this.scaleWidget.width=e}get width(){return super.width}applyValue(e,t,n){return"scalePoints"===t&&(this.scaleWidget[t]=n),super.applyValue(...arguments)}get scaleWidget(){const e=this;return e._scaleWidget||(e._scaleWidget=new o.default({owner:e.grid,appendTo:e.grid.floatRoot,cls:"b-hide-offscreen",align:"right",scalePoints:e.scalePoints,monitorResize:!1}),Object.defineProperties(e._scaleWidget,{width:{get:()=>e.width,set(t){this.element.style.width=t+"px",this._width=e.width}},height:{get(){return this._height},set(e){this.element.style.height=e+"px",this._height=e}}}),e._scaleWidget.width=e.width),e._scaleWidget}renderer({cellElement:e}){const{scaleWidget:t}=this;t.height=this.grid.rowHeight,t.refresh();const n=t.element.cloneNode(!0);n.removeAttribute("id"),n.classList.remove("b-hide-offscreen"),e.innerHTML="",e.appendChild(n)}}i.default.registerColumnType(a),a._$name="ScaleColumn"},"./lib/SchedulerPro/data/AssignmentStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/data/mixin/AssignmentStoreMixin.js"),o=n("./lib/SchedulerPro/model/AssignmentModel.js"),a=n("./lib/Engine/quark/store/ChronoAssignmentStoreMixin.js"),s=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class l extends(Object(s.default)(Object(i.default)(a.ChronoAssignmentStoreMixin.derive(r.default)))){static get defaultConfig(){return{modelClass:o.default}}}l._$name="AssignmentStore"},"./lib/SchedulerPro/data/CalendarManagerStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/SchedulerPro/data/mixin/PartOfProject.js"),o=n("./lib/SchedulerPro/model/CalendarModel.js"),a=n("./lib/Engine/quark/store/ChronoCalendarManagerStoreMixin.js");class s extends(Object(i.default)(a.ChronoCalendarManagerStoreMixin.derive(r.default))){static get defaultConfig(){return{tree:!0,modelClass:o.default,loadPriority:100,syncPriority:100,storeId:"calendars"}}}s._$name="CalendarManagerStore"},"./lib/SchedulerPro/data/DependencyStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/data/mixin/DependencyStoreMixin.js"),o=n("./lib/SchedulerPro/model/DependencyModel.js"),a=n("./lib/Engine/quark/store/ChronoDependencyStoreMixin.js"),s=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class l extends(Object(s.default)(Object(i.default)(a.ChronoDependencyStoreMixin.derive(r.default)))){static get defaultConfig(){return{modelClass:o.default}}}l._$name="DependencyStore"},"./lib/SchedulerPro/data/EventStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/data/mixin/EventStoreMixin.js"),o=n("./lib/Scheduler/data/mixin/SharedEventStoreMixin.js"),a=n("./lib/Scheduler/data/mixin/RecurringEventsMixin.js"),s=n("./lib/SchedulerPro/model/EventModel.js"),l=n("./lib/Engine/quark/store/ChronoEventStoreMixin.js"),c=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class d extends(Object(c.default)(Object(o.default)(Object(a.default)(Object(i.default)(l.ChronoEventStoreMixin.derive(r.default)))))){static get defaultConfig(){return{modelClass:s.default}}}d._$name="EventStore"},"./lib/SchedulerPro/data/ResourceStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/data/AjaxStore.js"),i=n("./lib/Scheduler/data/mixin/ResourceStoreMixin.js"),o=n("./lib/SchedulerPro/model/ResourceModel.js"),a=n("./lib/Engine/quark/store/ChronoResourceStoreMixin.js"),s=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class l extends(Object(s.default)(Object(i.default)(a.ChronoResourceStoreMixin.derive(r.default)))){static get defaultConfig(){return{modelClass:o.default}}}l._$name="ResourceStore"},"./lib/SchedulerPro/data/mixin/PartOfProject.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");const i=(e,t)=>{if(e!==t)throw new Error("Store set is prohibited for Scheduler Pro entity!")};t.default=e=>class extends(e||r.default){static get $name(){return"PartOfProject"}get taskStore(){return this.eventStore}set taskStore(e){this.eventStore=e}get eventStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.eventStore}get leftProjectEventStore(){const e=this.leftProject;return(null===e||void 0===e?void 0:e.getEventStore())||null}set eventStore(e){i(this.eventStore,e)}get dependencyStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.dependencyStore}set dependencyStore(e){i(this.dependencyStore,e)}get assignmentStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.assignmentStore}set assignmentStore(e){i(this.assignmentStore,e)}get resourceStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.resourceStore}set resourceStore(e){i(this.resourceStore,e)}get calendarManagerStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.calendarManagerStore}set calendarManagerStore(e){i(this.calendarManagerStore,e)}}},"./lib/SchedulerPro/data/mixin/ProjectCrudManager.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Scheduler/data/mixin/ProjectCrudManager.js"),i=n("./lib/Core/Base.js");t.default=e=>class extends((e||i.default).mixin(r.default)){static get properties(){return{deprecatedProjectCalendarProperties:["hoursPerDay","daysPerWeek","daysPerMonth"]}}construct(...e){const t=this;super.construct(...e),t.addPrioritizedStore(t.calendarManagerStore),t.addPrioritizedStore(t.assignmentStore),t.addPrioritizedStore(t.dependencyStore),t.addPrioritizedStore(t.resourceStore),t.addPrioritizedStore(t.eventStore),t.timeRangeStore&&t.addPrioritizedStore(t.timeRangeStore),t.resourceTimeRangeStore&&t.addPrioritizedStore(t.resourceTimeRangeStore)}adjustDeprecatedResponse(e){const t=null===e||void 0===e?void 0:e.project,n=null===t||void 0===t?void 0:t.calendar,{deprecatedProjectCalendarProperties:r}=this;if(r&&n&&e.calendars){var i;const o=(null===(i=e.calendars.rows)||void 0===i?void 0:i.slice())||[];let a;for(;a=o.shift();){if(a.id==n){r.forEach(e=>{!t[e]&&a[e]&&(t[e]=a[e])});break}a.children&&o.push(...a.children)}}return e}get project(){return this}set project(e){super.project=e}async applyResponse(e,t,n){if(!this.isDestroyed)return t=this.adjustDeprecatedResponse(t),super.applyResponse(e,t,n)}}},"./lib/SchedulerPro/feature/EventResize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/EventResize.js");class o extends i.default{static get $name(){return"EventResize"}async internalUpdateRecord(e,t){return t.run("calculateProjectedDuration",e.startDate,e.endDate)!==t.duration&&super.internalUpdateRecord(e,t)}}o._$name="EventResize",r.default.registerFeature(o,!0,"SchedulerPro")},"./lib/SchedulerPro/feature/PercentBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/Core/mixin/InstancePlugin.js"),i=n("./lib/Grid/feature/GridFeatureManager.js"),o=n("./lib/Core/helper/DragHelper.js"),a=n("./lib/Core/helper/DomHelper.js"),s=n("./lib/Core/helper/DomSync.js");function l(e){return"b-task-percent-bar"+(e[0]?"-"+e[0]:"")}class c extends r.default{static get $name(){return"PercentBar"}static get configurable(){return{allowResize:!0,showPercentage:!0,valueField:"percentDone",displayField:"renderedPercentDone"}}static get pluginConfig(){return{chain:["onPaint","onTaskDataGenerated","onEventDataGenerated"]}}onPaint({firstPaint:e}){if(e){const e=this,{client:t}=e;e.drag=new o.default({name:"percentBarHandle",mode:"translateX",targetSelector:`${t.eventSelector}:not(.${t.eventCls}-parent) .b-task-percent-bar-handle`,dragThreshold:1,outerElement:t.timeAxisSubGridElement,listeners:{beforeDragStart:"onBeforeDragStart",dragStart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onDragAbort",thisObj:e}}),e.detachListeners("view"),e.client.on({name:"view",[t.scheduledEventName+"mouseenter"]:"onTimeSpanMouseEnter",[t.scheduledEventName+"mouseleave"]:"onTimeSpanMouseLeave",thisObj:e})}}updateAllowResize(e){this.client.element.classList[e?"remove":"add"](l`drag-disabled`)}updateShowPercentage(e){this.client.element.classList[e?"add":"remove"](l`show-percentage`)}doDestroy(){this.drag&&this.drag.destroy(),super.doDestroy()}doDisable(e){this.client.isPainted&&this.client.refresh(),super.doDisable(e)}cleanup(e){const t=this;e.element.closest(t.client.eventSelector).classList.remove(l`resizing`),t.client.element.classList.remove(l`resizing-task`),t.isMouseInsideEvent||(t.handle.remove(),t.handle=null)}appendDOMConfig(e,t){!e.isEvent&&!e.isTask||e.isMilestone||this.disabled||t.unshift({className:l`outer`,dataset:{taskBarFeature:"percentBar"},children:[{className:l``,dataset:{percent:e[this.displayField]},style:{width:e[this.valueField]+"%"}}]})}onEventDataGenerated(e){this.appendDOMConfig(e.eventRecord,e.children)}onTaskDataGenerated(e){this.appendDOMConfig(e.task,e.children)}onTimeSpanMouseEnter(e){const t=this,n=e[t.client.scheduledEventName+"Record"];if(!n.isMilestone&&!t.disabled)if(t.drag.context)n===t.drag.context.taskRecord&&(t.isMouseInsideEvent=!0);else{const r=e[t.client.scheduledEventName+"Element"],i=s.default.getChild(r,t.client.scheduledEventName);t.handle||(t.handle=a.default.createElement({parent:i,className:l`handle`,style:{left:n[t.valueField]+"%"},dataset:{percent:n[t.valueField]}})),t.isMouseInsideEvent=!0}}onTimeSpanMouseLeave(){const e=this;!e.drag.context&&e.handle&&(e.handle.remove(),e.handle=null),e.isMouseInsideEvent=!1}onBeforeDragStart({source:e,context:t}){const n=s.default.getChild(t.element.parentElement,"percentBar"),r=n.firstElementChild,i=r.offsetWidth,o=n.offsetWidth,a=this.client.resolveEventRecord(t.element);e.minX=-i,e.maxX=o-i,Object.assign(t,{percentBar:r,initialX:i,outerWidth:o,taskRecord:a})}onDragStart({context:e}){const{client:t}=this;e.element.closest(t.eventSelector).classList.add(l`resizing`),t.element.classList.add(l`resizing-task`),e.element.retainElement=!0}onDrag({context:e}){const t=Math.round((e.initialX+e.newX)/e.outerWidth*100);e.percent=e.percentBar.dataset.percent=e.element.dataset.percent=t,e.percentBar.style.width=t+"%"}onDragAbort({context:e}){e.percentBar.style.width=e.taskRecord[this.valueField]+"%",this.cleanup(e)}onDrop({context:e}){e.taskRecord[this.valueField]=e.percent,e.element.style.cssText=`left: ${e.percent}%`,this.cleanup(e)}get featureClass(){}}c._$name="PercentBar",i.default.registerFeature(c,!1,"SchedulerPro"),i.default.registerFeature(c,!0,"Gantt")},"./lib/SchedulerPro/feature/ResourceNonWorkingTime.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/feature/GridFeatureManager.js"),i=n("./lib/Scheduler/feature/base/ResourceTimeRangesBase.js"),o=n("./lib/Scheduler/model/ResourceTimeRangeModel.js"),a=n("./lib/Core/helper/DateHelper.js");class s extends i.default{static get $name(){return"ResourceNonWorkingTime"}static get configurable(){return{idPrefix:"resourcenonworkingtime",rangeCls:"b-sch-resourcetimerange b-sch-resourcenonworkingtime",maxTimeAxisUnit:"hour",resourceTimeRangeModelClass:o.default}}static get properties(){return{resourceMap:new Map}}construct(){super.construct(...arguments),this.client.timeAxis.on({name:"timeAxis",reconfigure:"onTimeAxisReconfigure",prio:100,thisObj:this})}attachToResourceStore(e){super.attachToResourceStore(e),e&&e.on({name:"resourceStore",changePreCommit:"onResourceChange",thisObj:this})}attachToCalendarManagerStore(e){super.attachToCalendarManagerStore(e),e&&e.on({name:"calendarManagerStore",changePreCommit:"onCalendarChange",thisObj:this})}onTimeAxisReconfigure(){this.resourceMap.clear()}onResourceChange({action:e,records:t,record:n,changes:r}){if("update"===e){const e=r.calendar;!e||"string"===typeof e.oldValue&&e.value.id===e.oldValue||(this.resourceMap.delete(n.id),this.scheduler.currentOrientation.refreshRow(n))}"remove"===e&&t.forEach(e=>this.resourceMap.delete(e.id)),"removeall"===e&&this.resourceMap.clear()}onCalendarChange({action:e,records:t,record:n,changes:r}){}getEventsToRender(e,t){const n=this,{resourceMap:r,scheduler:i}=n,{timeAxis:o}=i,s=!n.maxTimeAxisUnit||a.default.compareUnits(o.unit,n.maxTimeAxisUnit)<=0;if(!n.disabled&&s&&i.isEngineReady){if(!r.has(e.id)){const t=e.effectiveCalendar.getNonWorkingTimeRanges(i.startDate,i.endDate).map((t,r)=>new n.resourceTimeRangeModelClass({id:`r${e.id}i${r}`,startDate:t.startDate,endDate:t.endDate,resourceId:e.id,isNonWorking:!0}));r.set(e.id,t)}t.push(...r.get(e.id))}return t}shouldInclude({isNonWorking:e}){return e}}s.featureClass="",s._$name="ResourceNonWorkingTime",r.default.registerFeature(s,!1,"SchedulerPro")},"./lib/SchedulerPro/feature/TaskEdit.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("./lib/Core/mixin/Delayable.js"),i=n("./lib/SchedulerPro/feature/mixin/ProTaskEditStm.js"),o=n("./lib/Core/mixin/InstancePlugin.js"),a=n("./lib/Grid/feature/GridFeatureManager.js"),s=n("./lib/Core/helper/DomHelper.js"),l=n("./lib/Core/widget/Field.js"),c=n("./lib/Core/widget/MessageDialog.js"),d=n("./lib/Core/widget/Widget.js"),u=(n("./lib/SchedulerPro/widget/GanttTaskEditor.js"),n("./lib/SchedulerPro/widget/SchedulerTaskEditor.js"),n("./lib/Core/helper/ObjectHelper.js")),h=n("./lib/Engine/scheduling/Types.js"),f=n("./lib/Core/helper/VersionHelper.js");class g extends(o.default.mixin(r.default,i.default)){static get $name(){return"TaskEdit"}static get pluginConfig(){return{chain:["getEventMenuItems","onEventEnterKey"],assign:["editEvent"]}}static get defaultConfig(){return{triggerEvent:"eventdblclick",editorClassMap:{[h.ProjectType.SchedulerBasic]:"schedulertaskeditor",[h.ProjectType.SchedulerPro]:"schedulertaskeditor",[h.ProjectType.Gantt]:"gantttaskeditor"},editorClass:null,editorConfig:null,showDeleteButton:null,confirmDelete:!0,saveAndCloseOnEnter:!0,weekStartDay:null}}static get configurable(){return{items:null}}construct(e,t){e.taskEdit=this,super.construct(e,u.default.assign({weekStartDay:e.weekStartDay},t)),e.on({[this.triggerEvent]:"onActivateEditor",readOnly:"onClientReadOnlyToggle",dragCreateEnd:"onDragCreateEnd",thisObj:this})}doDestroy(){var e;this.detachFromProject(),null===(e=this.editor)||void 0===e||e.destroy(),this.deleteConfirmationPromise&&c.default.hide(),super.doDestroy()}onClientReadOnlyToggle({readOnly:e}){this.editor&&(this.editor.readOnly=e)}get scheduler(){return this.client}getElementFromTaskRecord(e,t){return this.client.getElementFromEventRecord(e,t)}scrollEventIntoView(e,t){this.client.scrollResourceEventIntoView(t,e)}get isValid(){return this.editor.eachWidget(e=>!!(!0===e.isValid||e.hidden||e.disabled||e instanceof l.default&&!e.name)||!1!==e.isValid,!0)}get project(){return this.scheduler.project}attachToProject(){this.detachFromProject(),this.project.on({name:"project",loadstart:()=>this.save(),dataReady:"onDataReady",thisObj:this})}detachFromProject(){this.detachListeners("project")}onDataReady(){const{record:e}=this;null!==e&&void 0!==e&&e.project&&this.scheduler.taskStore.includes(e)?this.load(e,!0):this.editor.close()}get isEditing(){return!!this._editing}onActivateEditor({eventRecord:e,resourceRecord:t,eventElement:n}){this.editEvent(e,t,n)}async editEvent(e,t=null,n=null){const r=this,{scheduler:i}=r;var o;if(r.isEditing&&r.cancel(),r._canceling&&await r._canceling,t||(t=e.resource||(null===(o=e.resources)||void 0===o?void 0:o[0])),!r.disabled){const{taskStore:o}=i;let a;r._editing=!0,r.captureStm(),r.startStmTransaction(),i.project.suspendAutoSync(),"function"===typeof e&&(e=e()),e.isOccurrence||o.includes(e)||(a=!0,o.add(e),t&&i.assignmentStore.assignEventToResource(e,t),await i.project.commitAsync()),!n&&o.includes(e)&&t&&await r.scrollEventIntoView(e,t);const l=n||s.default.down(r.getElementFromTaskRecord(e,t),i.eventInnerSelector),c=r.getEditor(e);!1!==i.trigger("beforeTaskEdit",{taskEdit:r,taskRecord:e,taskElement:l})?(i.element.classList.add("b-taskeditor-editing"),i.trigger("beforeTaskEditShow",{taskEdit:r,taskRecord:e,taskElement:l,editor:c}),r.load(e),r.getEditor().widgetMap.deleteButton&&(r.getEditor().widgetMap.deleteButton.hidden=i.readOnly||a||!1===r.showDeleteButton),r.attachToProject(),c.centered?await c.show():l?await c.showBy({target:l,anchor:!0,offset:-5}):await c.showBy({target:i.element,anchor:!1,align:"c-c"})):(await r.rejectStmTransaction(),r.disableStm(),r.freeStm(),r._editing=!1)}}getEditor(e=this.record){var t;const n=this,r=((null===e||void 0===e?void 0:e.project)||n.project).getType(),i=(null===(t=n.editorClass)||void 0===t?void 0:t.type)||n.editorClassMap[r]||n.editorClassMap[h.ProjectType.Unknown]||"schedulertaskeditor";var o,a;return n.editor&&n.editor.type===i||(null===(o=n.editor)||void 0===o||o.destroy(),n.editor=d.default.create(u.default.merge({type:i,eventEditFeature:n,weekStartDay:n.weekStartDay,saveAndCloseOnEnter:n.saveAndCloseOnEnter,owner:n.client,dependencyIdField:(null===(a=n.editorConfig)||void 0===a?void 0:a.dependencyIdField)||n.client.dependencyIdField,project:n.project,durationDisplayPrecision:n.client.durationDisplayPrecision,tabPanelItems:n.items,listeners:{cancel:"onCancel",delete:"onDelete",save:"onSave",thisObj:n},tabsConfig:n.tabsConfig},n.editorConfig))),n.editor.readOnly=n.client.readOnly,n.editor}load(e,t){const n=this.getEditor(e);this._loading=!0,this.record=e,n.loadEvent(e,t),this._loading=!1}async save(){const e=this,{scheduler:t}=e;if(e.isEditing){const n=e.getEditor();if(!e.isValid||!1===e.trigger("beforeTaskSave",{taskRecord:e.record,editor:n}))return;e.detachFromProject(),n.beforeSave(),e.commitStmTransaction(),e.freeStm(),e._editing=!1,n.close().then(()=>n.afterSave()),t.project.resumeAutoSync(!0),t.element.classList.remove("b-taskeditor-editing"),e.trigger("afterTaskSave",{taskRecord:e.record,editor:n}),t.trigger("afterTaskEdit",{taskRecord:e.record,editor:n})}}async doCancel(){const e=this,{scheduler:t}=e;if(e.isEditing){e._editing=!1,e.detachFromProject();const n=e.record,r=e.project,i=e.getEditor();if(i.beforeCancel(),e.isDestroyed)return;if(await e.rejectStmTransaction(),e.isDestroyed)return;if(e.disableStm(),await r.propagateAsync(),e.isDestroyed)return;e.freeStm(),i.afterCancel(),t.project.resumeAutoSync(!1),e.scheduler.element.classList.remove("b-taskeditor-editing"),t.trigger("taskEditCanceled",{taskRecord:n,editor:i}),t.trigger("afterTaskEdit",{taskRecord:n,editor:i})}}async cancel(){const e=this;return e._canceling||(e._canceling=e.doCancel().finally(()=>e._canceling=void 0))}async delete(){const e=this,t=e.getEditor();!1!==e.trigger("beforeTaskDelete",{taskRecord:e.record,editor:t})&&(e.detachFromProject(),t.beforeDelete(),e.record.remove(),e.freeStm(),await e.project.commitAsync(),e.isDestroyed||(e.scheduler.project.resumeAutoSync(!0),e._editing=!1,t.close(),t.afterDelete(),e.scheduler.element.classList.remove("b-taskeditor-editing"),e.scheduler.trigger("afterTaskEdit",{editor:t})))}onSave(){this.requestAnimationFrame(()=>this.save())}onCancel(){this.requestAnimationFrame(()=>this.cancel())}async onDelete(){const e=this;if(e.confirmDelete){const{editor:t}=e,n=t.autoClose;t.autoClose=!1,e.deleteConfirmationPromise=c.default.confirm({title:"L{TaskEdit.ConfirmDeletionTitle}",message:"L{TaskEdit.ConfirmDeletionMessage}",rootElement:e.rootElement});const r=await e.deleteConfirmationPromise;t.autoClose=n,e.deleteConfirmationPromise=null,r===c.default.yesButton&&e.delete()}else e.requestAnimationFrame(()=>e.delete())}onDragCreateEnd({newEventRecord:e,resourceRecord:t,proxyElement:n}){this.disabled||(this.scheduler.onEventCreated(e),this.editEvent(e,t))}getEventMenuItems({eventRecord:e,resourceRecord:t,items:n}){this.scheduler.readOnly||(n.editEvent={text:"L{Edit task}",localeClass:this,icon:"b-icon b-icon-edit",weight:-200,disabled:this.disabled,onItem:()=>this.editEvent(e,t)})}onEventEnterKey({assignmentRecord:e,eventRecord:t}){e?this.editEvent(t,e.resource):t&&this.editEvent(t,t.resource)}trigger(e,t){if(/task/i.test(e)){const n=this.scheduler.trigger(...arguments),r=e.replace(/task/,"event").replace(/Task/,"Event");t.eventRecord=t.taskRecord,t.eventRecords=[t.taskRecord];const i=this.scheduler.trigger(r,t);return n&&i}return super.trigger(...arguments)}get showDeleteButton(){return this._showDeleteButton}set showDeleteButton(e){f.default.deprecate("SchedulerPro","5.0.0","`showDeleteButton` config is deprecated, in favor of `editorConfig`. Please see https://bryntum.com/docs/scheduler-pro/#SchedulerPro/guides/upgrades/4.0.4.md for more information."),this._showDeleteButton=e}}g._$name="TaskEdit",a.default.registerFeature(g,!0,"SchedulerPro"),a.default.registerFeature(g,!1,"ResourceHistogram")},"./lib/SchedulerPro/feature/mixin/ProTaskEditStm.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");t.default=e=>class extends(e||r.default){static get $name(){return"TaskEditStm"}captureStm(){const e=this,t=e.project.getStm();e.stmInitiallyDisabled=t.disabled,e.stmInitiallyAutoRecord=t.autoRecord,e.stmInitiallyDisabled?(t.enable(),t.autoRecord=!1):(e.stmInitiallyAutoRecord&&(t.autoRecord=!1),t.isRecording&&t.stopTransaction())}startStmTransaction(){this.project.getStm().startTransaction()}commitStmTransaction(){const e=this.project.getStm();e.stopTransaction(),this.stmInitiallyDisabled&&e.resetQueue()}async rejectStmTransaction(){const e=this.project.getStm(),{client:t}=this;e.transaction.length?(t.suspendRefresh(),e.forEachStore(e=>e.beginBatch()),e.rejectTransaction(),e.forEachStore(e=>e.endBatch()),await t.resumeRefresh(!0)):e.stopTransaction()}enableStm(){this.project.getStm().enable()}disableStm(){this.project.getStm().disable()}freeStm(){const e=this.project.getStm();e.disabled=this.stmInitiallyDisabled,e.autoRecord=this.stmInitiallyAutoRecord}}},"./lib/SchedulerPro/localization/En.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/localization/LocaleManager.js"),i=n("./lib/Scheduler/localization/En.js");const o=n("./lib/Core/localization/LocaleHelper.js").default.mergeLocales(i.default,{ConstraintTypePicker:{none:"None",muststarton:"Must start on",mustfinishon:"Must finish on",startnoearlierthan:"Start no earlier than",startnolaterthan:"Start no later than",finishnoearlierthan:"Finish no earlier than",finishnolaterthan:"Finish no later than"},CalendarField:{"Default calendar":"Default calendar"},TaskEditorBase:{Information:"Information",Save:"Save",Cancel:"Cancel",Delete:"Delete",calculateMask:"Calculating...",saveError:"Can't save, please correct errors first"},TaskEdit:{"Edit task":"Edit task",ConfirmDeletionTitle:"Confirm deletion",ConfirmDeletionMessage:"Are you sure you want to delete the event?"},GanttTaskEditor:{editorWidth:"44em"},SchedulerTaskEditor:{editorWidth:"32em"},SchedulerGeneralTab:{labelWidth:"6em",General:"General",Name:"Name",Resources:"Resources","% complete":"% complete",Duration:"Duration",Start:"Start",Finish:"Finish"},GeneralTab:{labelWidth:"6.5em",General:"General",Name:"Name","% complete":"% complete",Duration:"Duration",Start:"Start",Finish:"Finish",Effort:"Effort",Dates:"Dates"},SchedulerAdvancedTab:{labelWidth:"13em",Calendar:"Calendar",Advanced:"Advanced","Manually scheduled":"Manually scheduled","Constraint type":"Constraint type","Constraint date":"Constraint date"},AdvancedTab:{labelWidth:"11.5em",Advanced:"Advanced",Calendar:"Calendar","Scheduling mode":"Scheduling mode","Effort driven":"Effort driven","Manually scheduled":"Manually scheduled","Constraint type":"Constraint type","Constraint date":"Constraint date",Constraint:"Constraint",Rollup:"Rollup"},DependencyTab:{Predecessors:"Predecessors",Successors:"Successors",ID:"ID",Name:"Name",Type:"Type",Lag:"Lag",cyclicDependency:"Cyclic dependency",invalidDependency:"Invalid dependency"},NotesTab:{Notes:"Notes"},ResourcesTab:{unitsTpl:({value:e})=>e+"%",Resources:"Resources",Resource:"Resource",Units:"Units"},SchedulingModePicker:{Normal:"Normal","Fixed Duration":"Fixed Duration","Fixed Units":"Fixed Units","Fixed Effort":"Fixed Effort"},ResourceHistogram:{barTipInRange:"<b>{resource}</b> {startDate} - {endDate}<br>{allocated} of {available} allocated",barTipOnDate:"<b>{resource}</b> on {startDate}<br>{allocated} of {available} allocated"},DurationColumn:{Duration:"Duration"}});t.default=o,r.default.registerLocale("En",{desc:"English",locale:o})},"./lib/SchedulerPro/model/AssignmentModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/Scheduler/model/mixin/AssignmentModelMixin.js"),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProAssignmentMixin.js"),a=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class s extends(Object(a.default)(Object(i.default)(o.SchedulerProAssignmentMixin.derive(r.default)))){static get $name(){return"AssignmentModel"}static get isProAssignmentModel(){return!0}}s._$name="AssignmentModel"},"./lib/SchedulerPro/model/CalendarIntervalModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/SchedulerPro/data/mixin/PartOfProject.js"),o=n("./lib/Engine/calendar/CalendarIntervalMixin.js");class a extends(Object(i.default)(o.CalendarIntervalMixin.derive(r.default))){static get $name(){return"CalendarIntervalModel"}}a._$name="CalendarIntervalModel"},"./lib/SchedulerPro/model/CalendarModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/data/Model.js"),i=n("./lib/SchedulerPro/data/mixin/PartOfProject.js"),o=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js"),a=n("./lib/SchedulerPro/model/CalendarIntervalModel.js");class s extends(Object(i.default)(o.BaseCalendarMixin.derive(r.default))){static get $name(){return"CalendarModel"}static get fields(){return[]}toString(){return this.name||""}static get defaultConfig(){return{calendarIntervalModelClass:a.default}}}s._$name="CalendarModel"},"./lib/SchedulerPro/model/DependencyModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/SchedulerPro/data/mixin/PartOfProject.js"),i=n("./lib/Scheduler/model/DependencyBaseModel.js"),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProDependencyMixin.js");class a extends(Object(r.default)(o.SchedulerProDependencyMixin.derive(i.default))){static get $name(){return"DependencyModel"}static get isProDependencyModel(){return!0}}a._$name="DependencyModel"},"./lib/SchedulerPro/model/EventModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n("./lib/SchedulerPro/data/mixin/PartOfProject.js"),i=n("./lib/SchedulerPro/model/mixin/PercentDoneMixin.js"),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProEvent.js"),a=n("./lib/Scheduler/model/mixin/EventModelMixin.js"),s=n("./lib/Scheduler/model/TimeSpan.js"),l=n("./lib/Scheduler/model/mixin/RecurringTimeSpan.js");class c extends(o.SchedulerProEvent.derive(s.default).mixin(l.default,r.default,a.default,i.default)){static get $name(){return"EventModel"}static get isProEventModel(){return!0}static get fields(){return[{name:"showInTimeline",type:"boolean"},"note"]}isEditable(e){switch(e){case"earlyStartDate":case"earlyEndDate":return!1;case"percentDone":case"renderedPercentDone":return this.isLeaf;case"endDate":case"duration":case"fullDuration":return this.isLeaf||this.manuallyScheduled}return super.isEditable(e)}}c._$name="EventModel"},"./lib/SchedulerPro/model/ProjectModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProProjectMixin.js"),i=n("./lib/Scheduler/model/mixin/ProjectModelMixin.js"),o=n("./lib/SchedulerPro/data/mixin/ProjectCrudManager.js"),a=n("./lib/SchedulerPro/model/AssignmentModel.js"),s=n("./lib/SchedulerPro/model/CalendarModel.js"),l=n("./lib/SchedulerPro/model/DependencyModel.js"),c=n("./lib/SchedulerPro/model/EventModel.js"),d=n("./lib/SchedulerPro/model/ResourceModel.js"),u=n("./lib/SchedulerPro/data/CalendarManagerStore.js"),h=n("./lib/SchedulerPro/data/DependencyStore.js"),f=n("./lib/SchedulerPro/data/EventStore.js"),g=n("./lib/SchedulerPro/data/ResourceStore.js"),m=n("./lib/SchedulerPro/data/AssignmentStore.js");class p extends(Object(o.default)(r.SchedulerProProjectMixin.derive(Object(i.default)()))){static get $name(){return"ProjectModel"}static get defaultConfig(){return{calendarModelClass:s.default,dependencyModelClass:l.default,eventModelClass:c.default,assignmentModelClass:a.default,resourceModelClass:d.default,calendarManagerStoreClass:u.default,dependencyStoreClass:h.default,eventStoreClass:f.default,assignmentStoreClass:m.default,resourceStoreClass:g.default,calendarsData:null}}}p._$name="ProjectModel"},"./lib/SchedulerPro/model/ResourceModel.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Grid/data/GridRowModel.js"),i=n("./lib/Scheduler/model/mixin/ResourceModelMixin.js"),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProResourceMixin.js"),a=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");class s extends(Object(a.default)(Object(i.default)(o.SchedulerProResourceMixin.derive(r.default)))){static get $name(){return"ResourceModel"}}s._$name="ResourceModel"},"./lib/SchedulerPro/model/mixin/PercentDoneMixin.js":function(e,t,n){"use strict";n.r(t),t.default=e=>class extends e{static get $name(){return"PercentDoneMixin"}get isStarted(){return this.percentDone>0}get isCompleted(){return this.percentDone>=100}get isInProgress(){return this.isStarted&&!this.isCompleted}copy(){const e=super.copy(...arguments);return e.percentDone=0,e.clearChanges(),e}get renderedPercentDone(){const e="number"!==typeof this.percentDone||isNaN(this.percentDone)?0:this.percentDone;return e<=99?Math.round(e):Math.floor(e)}set renderedPercentDone(e){this.percentDone=e}}},"./lib/SchedulerPro/view/ResourceHistogram.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./lib/SchedulerPro/view/SchedulerProBase.js"),i=(n("./lib/SchedulerPro/column/ScaleColumn.js"),n("./lib/Scheduler/feature/NonWorkingTime.js"),n("./lib/SchedulerPro/localization/En.js"),n("./lib/Scheduler/column/TimeAxisColumn.js"),n("./lib/Grid/feature/Tree.js"),n("./lib/Grid/feature/RegionResize.js"),n("./lib/Core/widget/graph/Histogram.js")),o=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProResourceMixin.js"),a=n("./lib/Engine/scheduling/Types.js"),s=n("./lib/ChronoGraph/chrono/Identifier.js"),l=n("./lib/Core/helper/DateHelper.js"),c=n("./lib/Engine/quark/model/scheduler_basic/BaseCalendarMixin.js");class d extends r.default{static get $name(){return"ResourceHistogram"}static get type(){return"resourcehistogram"}static get defaultConfig(){return{rowHeight:50,effortUnit:a.TimeUnit.Hour,barTextEffortUnit:null,barTipEffortUnit:null,showMaxEffort:!0,showBarText:!1,showBarTip:!1,series:{maxEffort:{type:"outline",field:"maxEffort"},effort:{type:"bar",field:"effort"}},getRectClass:null,getBarTip:null,getBarText:null,fixedRowHeight:!0}}construct(e){const t=this;t.allocationReportByResource=new Map,super.construct(e),t.scheduleRefreshRows=t.createOnFrame(t.refreshRows,[],t,!0),t.horizontal.refreshResourcesWhenReady=t.horizontal.onAssignmentStoreChange=t.horizontal.renderer=function(){},t.rowManager.on({beforeRowHeight:"onBeforeRowHeight",thisObj:t}),t.timeAxis.on({endReconfigure:"onTimeAxisEndReconfigure",thisObj:this})}onDestroy(){this.histogramWidget.destroy()}updateProject(e){this.detachListeners("resourceHistogramProject"),this._project=e,e.on({name:"resourceHistogramProject",startApplyResponse:"onProjectStartApplyResponse",refresh:"internalOnProjectRefresh",repopulateReplica:"onRepopulateReplica",thisObj:this}),this.store=e.resourceStore}scheduleRefreshRows(){}getEventsToRender(){}getRowHeight(){return this.rowHeight}get scaleColumn(){return this.columns.query(e=>e.isScaleColumn)[0]}get scalePoints(){return this._scalePoints}set scalePoints(e){const{project:t,histogramWidget:n,scaleColumn:r}=this,i=e[e.length-1],{value:o,unit:s}=i;this.scaleUnit=s,this._scalePoints=e;let l=o;if(r){const{scaleWidget:e}=r;l+=e.scaleMaxPadding*o}n.topValue=t.convertDuration(l,s,a.TimeUnit.Millisecond),r&&(r.scalePoints=e)}buildScalePointText(e){return`${e.value}${l.default.getShortNameOfUnit(e.unit)}`}generateScalePoints(){const{project:e,timeAxis:t}=this,n=[];let r,{unit:i,increment:o}=t;1===o&&(i=l.default.getSmallerUnit(i),o=Math.round(e.convertDuration(o,t.unit,i)));for(const s of[7,5,4,3,2])if(!(o%s)){r=o/s;break}r||(r=o);for(let s=r;s<=o;s+=r)n.push({value:s});const a=n[n.length-1];return a.unit=i,a.text=this.buildScalePointText(a),n}updateViewPreset(e){const t=this;t._updatingViewPreset=!0,super.updateViewPreset(...arguments),t._updatingViewPreset=!1,t.project.isInitialCommitPerformed&&t.isPainted&&t.onTimeAxisEndReconfigure()}onRepopulateReplica(){this.ticksIdentifier=null,this.allocationReportByResource.clear()}buildTicksIdentifier(){const e=this,t=e.project.getGraph();return e.ticksIdentifier||(e.ticksIdentifier=t.addIdentifier(s.CalculatedValueGen.new())),e.ticksIdentifier.writeToGraph(t,new c.BaseCalendarMixin({unspecifiedTimeIsWorking:!1,intervals:e.timeAxis.ticks.map(e=>({startDate:e.startDate,endDate:e.endDate,isWorking:!0}))})),e.collectTicksWidth(),e.ticksIdentifier}collectTicksWidth(){const{ticks:e}=this.timeAxis,t=e[0].endDate-e[0].startDate,n={0:t};let r=t,i=!0;for(let o=1,{length:a}=e;o<a;o++){const a=e[o],s=a.endDate-a.startDate;t!==s&&(i=!1),r+=s,n[o]=s}if(i)this.ticksWidth=null;else{const t={};for(let i=0,{length:o}=e;i<o;i++)t[i]=n[i]/r;this.ticksWidth=t}}resumeRefresh(e){super.resumeRefresh(!1),!this.refreshSuspended&&e&&(this.rowManager.topRow?this.refreshWithTransition():(this.rowManager.reinitialize(),this.histogramWidget.data=[],this.histogramWidget.refresh()))}internalOnProjectRefresh(){const e=this;e.ticksIdentifier||e.onTimeAxisEndReconfigure(),e.resumeRefresh(!e.rowManager.topRow)}get columns(){return super.columns}set columns(e){const t=this;super.columns=e,t.isDestroying||(t.timeAxisColumn.renderer=t.renderResourceHistogram,t.timeAxisColumn.cellCls="b-resourcehistogram-cell",e.some(e=>"scale"===e.type)||t.columns.rootNode.insertChild({type:"scale"},t.timeAxisColumn))}onProjectStartApplyResponse(){this.suspendRefresh()}get histogramWidget(){const e=this;if(!e._histogramWidget){const t=e.series;!e.showMaxEffort&&t.maxEffort&&(t.maxEffort=!1),e._histogramWidget=new i.default({owner:e,appendTo:e.element,cls:"b-hide-offscreen b-resourcehistogram-histogram",height:e.rowHeight,width:e.timeAxisColumn?e.timeAxisColumn.width:0,omitZeroHeightBars:!0,data:[],getRectClass:e.getRectClass,getBarText:e.getBarText,getBarTip:e.getBarTip,series:t})}return e._histogramWidget}getRectClass(e,t,n,r){if("effort"===e.id)switch(!0){case n.isOverallocated:return"b-overallocated";case n.isUnderallocated:return"b-underallocated"}return""}getEffortText(e,t){const{scaleUnit:n,project:r}=this;t=t||n;const i=l.default.getShortNameOfUnit(t),o=r.convertDuration(e,a.TimeUnit.Millisecond,t);return`${parseFloat(o.toFixed(1))}${i}`}getBarTipEffortUnit(e,t,n,r){const{effortUnit:i,barTipEffortUnit:o,timeAxis:a}=this,s=o||i;return l.default.compareUnits(a.unit,s)<0?a.unit:s}getBarTip(e,t,n,r){const i=this.owner,{showBarTip:o,timeAxis:s}=i;let c="";if(o&&n.effort){const e=i.getBarTipEffortUnit(...arguments),t=i.getEffortText(n.effort,e),r=i.getEffortText(n.maxEffort,e);let o="L",d=i.L("L{barTipInRange}");0==l.default.compareUnits(s.unit,a.TimeUnit.Day)?d=i.L("L{barTipOnDate}"):l.default.compareUnits(s.unit,a.TimeUnit.Second)<=0?o="HH:mm:ss A":l.default.compareUnits(s.unit,a.TimeUnit.Hour)<=0&&(o="LT"),c=d.replace("{resource}",n.resource.name).replace("{startDate}",l.default.format(n.tick.startDate,o)).replace("{endDate}",l.default.format(n.tick.endDate,o)).replace("{allocated}",t).replace("{available}",r)}return c}getBarTextEffortUnit(e,t,n,r){const{effortUnit:i,barTextEffortUnit:o,timeAxis:a}=this,s=o||i;return l.default.compareUnits(a.unit,s)<0?a.unit:s}getBarText(e,t){const{showBarText:n}=this.owner;let r="";if(n&&e.effort){const t=this.owner.getBarTextEffortUnit(...arguments);r=this.owner.getEffortText(e.effort,t)}return r}get showBarText(){return this._showBarText}set showBarText(e){this._showBarText=e,this.scheduleRefreshRows()}get showBarTip(){return this._showBarTip}set showBarTip(e){this._showBarTip=e,this.scheduleRefreshRows()}get showMaxEffort(){return this._showMaxEffort}set showMaxEffort(e){const t=this;if(t._showMaxEffort=e,t._histogramWidget){const{series:n}=t._histogramWidget;e?"object"===typeof e?n.maxEffort=e:"object"===typeof t._seriesMaxEffort?n.maxEffort=t._seriesMaxEffort:(n.maxEffort={type:"outline",field:"maxEffort"},n.maxEffort.id="maxEffort"):n.maxEffort&&(t._seriesMaxEffort=n.maxEffort,delete n.maxEffort),t.scheduleRefreshRows()}}onTimeAxisEndReconfigure(){if(!this._updatingViewPreset){const{unit:e,increment:t}=this.timeAxis;e===this._lastTimeAxisUnit&&t===this._lastTimeAxisIncrement||(this._lastTimeAxisUnit=e,this._lastTimeAxisIncrement=t,this._generatedScalePoints=this.scalePoints=this.generateScalePoints()),this.buildTicksIdentifier()}}onBeforeRowHeight({height:e}){if(this._timeAxisColumn){const{histogramWidget:t}=this;t.height=e,t.onElementResize(t.element)}}onTimeAxisViewModelUpdate(){const{histogramWidget:e}=this;e.width=this.timeAxisViewModel.totalSize,e.onElementResize(e.element)}renderResourceAllocationInfo(e,t){if(this.ticksWidth)for(let i=0,{length:o}=e;i<o;i++)e[i].width=this.ticksWidth[i];const{histogramWidget:n}=this;n.data=e,n.refresh();const r=n.element.cloneNode(!0);r.removeAttribute("id"),r.classList.remove("b-hide-offscreen"),t.innerHTML="",t.appendChild(r)}renderRows(){const e=this;return!e.ticksIdentifier&&e.project.isInitialCommitPerformed&&(e.onTimeAxisEndReconfigure(),e.timeView.startDate&&e.timeView.endDate||(e.timeView.range={startDate:e.startDate,endDate:e.endDate})),super.renderRows(...arguments)}buildResourceAllocationReport(e){return o.ResourceAllocationInfo.new({resource:e,ticks:this.ticksIdentifier})}renderResourceHistogram({grid:e,cellElement:t,record:n}){if(e.project.isInitialCommitPerformed&&!n.isSpecialRow){const{allocationReportByResource:r}=e,i=r.get(n);if(i)i.allocation&&(i.graph?e.renderResourceAllocationInfo(i.allocation,t):r.delete(n));else{const t=e.project.getGraph(),i=e.buildResourceAllocationReport(n),{observers:o,entities:a}=n;r.set(n,i),t.addEntity(i),a.add(i),o.add(t.observe((function*(){return yield i.$.allocation}),t=>{if(!e.isDestroying){const r=e.getCell({id:n.id,columnId:e.timeAxisColumn.id});e.renderResourceAllocationInfo(t,r)}}))}}}updateLocalization(){this._generatedScalePoints===this.scalePoints&&this.scalePoints&&this.scalePoints.forEach(e=>{e.text&&e.unit&&(e.text=this.buildScalePointText(e))}),super.updateLocalization(...arguments)}}d.initClass(),d._$name="ResourceHistogram"},"./lib/SchedulerPro/view/SchedulerPro.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/view/SchedulerProBase.js");n("./lib/Scheduler/feature/ColumnLines.js"),n("./lib/Scheduler/feature/Dependencies.js"),n("./lib/Scheduler/feature/DependencyEdit.js"),n("./lib/Scheduler/feature/EventDrag.js"),n("./lib/Scheduler/feature/EventDragCreate.js"),n("./lib/Scheduler/feature/EventFilter.js"),n("./lib/Scheduler/feature/EventMenu.js"),n("./lib/Scheduler/feature/EventTooltip.js"),n("./lib/Scheduler/feature/NonWorkingTime.js"),n("./lib/Scheduler/feature/ScheduleMenu.js"),n("./lib/Scheduler/feature/ScheduleTooltip.js"),n("./lib/Scheduler/feature/StickyEvents.js"),n("./lib/Scheduler/feature/TimeAxisHeaderMenu.js"),n("./lib/Grid/feature/CellEdit.js"),n("./lib/Grid/feature/CellMenu.js"),n("./lib/Grid/feature/ColumnDragToolbar.js"),n("./lib/Grid/feature/ColumnPicker.js"),n("./lib/Grid/feature/ColumnReorder.js"),n("./lib/Grid/feature/ColumnResize.js"),n("./lib/Grid/feature/Filter.js"),n("./lib/Grid/feature/FilterBar.js"),n("./lib/Grid/feature/Group.js"),n("./lib/Grid/feature/HeaderMenu.js"),n("./lib/Grid/feature/Sort.js"),n("./lib/Grid/feature/Stripe.js"),n("./lib/Grid/column/CheckColumn.js"),n("./lib/SchedulerPro/feature/EventResize.js"),n("./lib/SchedulerPro/feature/TaskEdit.js");class i extends r.default{static get $name(){return"SchedulerPro"}static get type(){return"schedulerpro"}}i.initClass(),i._$name="SchedulerPro"},"./lib/SchedulerPro/view/SchedulerProBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Scheduler/view/SchedulerBase.js"),o=n("./lib/SchedulerPro/model/ProjectModel.js"),a=n("./lib/Core/helper/VersionHelper.js");n("./lib/SchedulerPro/localization/En.js");class s extends i.default{static get $name(){return"SchedulerProBase"}static get type(){return"schedulerprobase"}static get configurable(){return{projectModelClass:o.default,dependencyIdField:"id"}}static get isSchedulerPro(){return!0}toggleEmptyText(){const e=this;e.bodyContainer&&r.default.toggleClasses(e.bodyContainer,"b-grid-empty",!(e.rowManager.rowCount||e.project.isLoadingOrSyncing))}get taskStore(){return this.project.eventStore}internalAddEvent(e,t,n){if(!this.taskEdit||!this.taskEdit.isEditing)return super.internalAddEvent(e,t,n);this.on({aftertaskedit:()=>super.internalAddEvent(e,t,n),once:!0})}}s.initClass(),a.default.setVersion("schedulerpro","4.1.4"),s._$name="SchedulerProBase"},"./lib/SchedulerPro/widget/CalendarField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/ModelCombo.js");class i extends r.default{static get $name(){return"CalendarField"}static get type(){return"calendarfield"}static get defaultConfig(){return{valueField:"id",displayField:"name",editable:!1,store:null,listItemTpl:e=>e.name||this.L("L{Default calendar}"),displayValueRenderer:e=>e?e.name:this.L("L{Default calendar}")}}get value(){return super.value}set value(e){e&&e.isDefault&&e.isDefault()&&(e=null),super.value=e}}i.initClass(),i._$name="CalendarField"},"./lib/SchedulerPro/widget/ConstraintTypePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/data/Store.js");class o extends r.default{static get $name(){return"ConstraintTypePicker"}static get type(){return"constrainttypepicker"}static get configurable(){return{valueField:"id"}}updateLocalization(){super.updateLocalization(),this.store.data=this.buildStoreData()}buildStoreData(){const e=this;return[{id:"none",text:e.L("L{none}")},{id:"muststarton",text:e.L("L{muststarton}")},{id:"mustfinishon",text:e.L("L{mustfinishon}")},{id:"startnoearlierthan",text:e.L("L{startnoearlierthan}")},{id:"startnolaterthan",text:e.L("L{startnolaterthan}")},{id:"finishnoearlierthan",text:e.L("L{finishnoearlierthan}")},{id:"finishnolaterthan",text:e.L("L{finishnolaterthan}")}]}set value(e){super.value=e}get value(){const e=super.value;return"none"===e?null:e}get store(){return this._store||(this.store=new i.default({data:this.buildStoreData(),allowNullId:!0})),this._store}set store(e){super.store=e}}o.initClass(),o._$name="ConstraintTypePicker"},"./lib/SchedulerPro/widget/DependencyTypePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/localization/LocaleManager.js");const o=e=>e.map((e,t)=>[t,e]);class a extends r.default{static get $name(){return"DependencyTypePicker"}static get type(){return"dependencytypepicker"}construct(e){super.construct(e),i.default.on({locale:()=>{this.items=o(this.L("L{DependencyType.long}"))},thisObj:this})}get store(){return this._items||(this.items=this._items=o(this.L("L{DependencyType.long}"))),super.store}set store(e){super.store=e}}a.initClass(),a._$name="DependencyTypePicker"},"./lib/SchedulerPro/widget/EffortField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/DurationField.js");class i extends r.default{static get $name(){return"EffortField"}static get type(){return"effort"}static get alias(){return"effortfield"}}i.initClass(),i._$name="EffortField"},"./lib/SchedulerPro/widget/EndDateField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/DateField.js"),i=n("./lib/Core/helper/DateHelper.js");class o extends r.default{static get $name(){return"EndDateField"}static get type(){return"enddatefield"}static get alias(){return"enddate"}static get defaultConfig(){return{project:null,eventRecord:null}}get min(){var e;let t=this._min;const n=null===(e=this.eventRecord)||void 0===e?void 0:e.startDate;return n&&(t=i.default.max(t||n,n)),t}set min(e){super.min=e}get calendarProvider(){return this.eventRecord||this.project}get backShiftDate(){const e=this;let t=e.calendarProvider.run("skipWorkingTime",e.value,!1,e._step.magnitude,e._step.unit);return t=t&&e.calendarProvider.run("skipNonWorkingTime",t,!1),t}get forwardShiftDate(){return this.calendarProvider.run("skipWorkingTime",this.value,!0,this._step.magnitude,this._step.unit)}transformTimeValue(e){const{calendarProvider:t,keepTime:n}=this;if(t&&"entered"!==n){const n=i.default.clearTime(e),r=i.default.add(n,1,"day"),o=t.run("skipNonWorkingTime",r,!1);if(i.default.isValidDate(o)&&i.default.isEqual(o,n,"day"))return i.default.copyTimeValues(n,o)}return super.transformTimeValue(e)}}o.initClass(),o._$name="EndDateField"},"./lib/SchedulerPro/widget/GanttTaskEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/widget/TaskEditorBase.js"),i=(n("./lib/SchedulerPro/widget/taskeditor/GeneralTab.js"),n("./lib/SchedulerPro/widget/taskeditor/SuccessorsTab.js"),n("./lib/SchedulerPro/widget/taskeditor/PredecessorsTab.js"),n("./lib/SchedulerPro/widget/taskeditor/ResourcesTab.js"),n("./lib/SchedulerPro/widget/taskeditor/AdvancedTab.js"),n("./lib/SchedulerPro/widget/taskeditor/NotesTab.js"),n("./lib/Core/widget/TabPanel.js"),n("./lib/Core/helper/VersionHelper.js"));class o extends r.default{static get type(){return"gantttaskeditor"}static get $name(){return"GanttTaskEditor"}static get defaultConfig(){return{items:[{type:"tabpanel",defaultType:"formtab",ref:"tabs",flex:"1 0 100%",autoHeight:!0,layoutConfig:{alignItems:"stretch",alignContent:"stretch"},items:{generalTab:{type:"generaltab",weight:100},predecessorsTab:{type:"predecessorstab",weight:200},successorsTab:{type:"successorstab",weight:300},resourcesTab:{type:"resourcestab",weight:400},advancedTab:{type:"advancedtab",weight:500},notesTab:{type:"notestab",weight:600}}}]}}processWidgetConfig(e){return"tabs"===e.ref&&this.extraItems&&i.default.deprecate("Gantt","5.0.0","`extraItems` config is deprecated, in favor of `items` config. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md for more information."),super.processWidgetConfig(e)}startConfigure(e){e.tabsConfig&&i.default.deprecate("Gantt","5.0.0","`tabsConfig` config is deprecated, in favor of `items` config. Please see https://bryntum.com/docs/gantt/#Gantt/guides/upgrades/4.0.0.md for more information."),super.startConfigure(e)}}o.initClass(),o._$name="GanttTaskEditor"},"./lib/SchedulerPro/widget/ModelCombo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/Core/widget/Combo.js");class i extends r.default{static get $name(){return"ModelCombo"}static get type(){return"modelcombo"}get value(){const e=super.value;return this.store.getById(e)||e}set value(e){super.value=e}}i.initClass(),i._$name="ModelCombo"},"./lib/SchedulerPro/widget/SchedulerTaskEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/widget/TaskEditorBase.js"),i=(n("./lib/SchedulerPro/widget/taskeditor/SchedulerGeneralTab.js"),n("./lib/SchedulerPro/widget/taskeditor/SuccessorsTab.js"),n("./lib/SchedulerPro/widget/taskeditor/PredecessorsTab.js"),n("./lib/SchedulerPro/widget/taskeditor/ResourcesTab.js"),n("./lib/SchedulerPro/widget/taskeditor/SchedulerAdvancedTab.js"),n("./lib/SchedulerPro/widget/taskeditor/NotesTab.js"),n("./lib/Core/helper/VersionHelper.js"));class o extends r.default{static get type(){return"schedulertaskeditor"}static get $name(){return"SchedulerTaskEditor"}static get defaultConfig(){return{items:[{type:"tabpanel",defaultType:"formtab",ref:"tabs",flex:"1 0 100%",autoHeight:!0,layoutConfig:{alignItems:"stretch",alignContent:"stretch"},items:{generalTab:{type:"schedulergeneraltab",weight:100},predecessorsTab:{type:"predecessorstab",weight:200},successorsTab:{type:"successorstab",weight:300},advancedTab:{type:"scheduleradvancedtab",weight:500},notesTab:{type:"notestab",weight:600}}}]}}processWidgetConfig(e){return"tabs"===e.ref&&this.extraItems&&i.default.deprecate("SchedulerPro","5.0.0","`extraItems` config is deprecated, in favor of `items` config. Please see https://bryntum.com/docs/scheduler-pro/#SchedulerPro/guides/upgrades/4.0.0.md for more information."),super.processWidgetConfig(e)}startConfigure(e){e.tabsConfig&&i.default.deprecate("SchedulerPro","5.0.0","`tabsConfig` config is deprecated, in favor of `items` config. Please see https://bryntum.com/docs/scheduler-pro/#SchedulerPro/guides/upgrades/4.0.0.md for more information."),super.startConfigure(e)}}o.initClass(),o._$name="SchedulerTaskEditor"},"./lib/SchedulerPro/widget/SchedulingModePicker.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Combo.js"),i=n("./lib/Core/data/Store.js"),o=n("./lib/Engine/scheduling/Types.js");class a extends r.default{static get $name(){return"SchedulingModePicker"}static get type(){return"schedulingmodecombo"}buildStoreData(){return[{id:o.SchedulingMode.Normal,text:this.L("L{Normal}")},{id:o.SchedulingMode.FixedDuration,text:this.L("L{Fixed Duration}")},{id:o.SchedulingMode.FixedUnits,text:this.L("L{Fixed Units}")},{id:o.SchedulingMode.FixedEffort,text:this.L("L{Fixed Effort}")}]}get store(){return this._store||(this.store=new i.default({data:this.buildStoreData()})),this._store}set store(e){super.store=e}updateLocalization(){super.updateLocalization(),this.store.data=this.buildStoreData()}}a.initClass(),a._$name="SchedulingModePicker"},"./lib/SchedulerPro/widget/StartDateField.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/Core/widget/DateField.js"),i=n("./lib/Core/helper/DateHelper.js");class o extends r.default{static get $name(){return"StartDateField"}static get type(){return"startdatefield"}static get alias(){return"startdate"}static get defaultConfig(){return{project:null,eventRecord:null}}get calendarProvider(){return this.eventRecord||this.project}get backShiftDate(){return this.calendarProvider.run("skipWorkingTime",this.value,!1,this._step.magnitude,this._step.unit)}get forwardShiftDate(){const e=this;let t=e.calendarProvider.run("skipWorkingTime",e.value,!0,e._step.magnitude,e._step.unit);return t=t&&e.calendarProvider.run("skipNonWorkingTime",t,!0),t}transformTimeValue(e){const{calendarProvider:t,keepTime:n}=this;if(t&&"entered"!==n){const n=i.default.clearTime(e),r=t.run("skipNonWorkingTime",n);if(i.default.isValidDate(r)&&i.default.isEqual(r,n,"day"))return i.default.copyTimeValues(n,r)}return super.transformTimeValue(e)}}o.initClass(),o._$name="StartDateField"},"./lib/SchedulerPro/widget/TaskEditorBase.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./lib/Core/helper/ObjectHelper.js"),i=n("./lib/Core/widget/Popup.js"),o=n("./lib/Core/widget/Toast.js"),a=n("./lib/Core/widget/Widget.js"),s=n("./lib/SchedulerPro/widget/taskeditor/mixin/ReadyStatePropagator.js");n("./lib/SchedulerPro/localization/En.js");class l extends(i.default.mixin(s.default)){static get $name(){return"TaskEditorBase"}static get type(){return"taskeditorbase"}static get configurable(){return{localizableProperties:["width"],title:"L{Information}",cls:"b-schedulerpro-taskeditor",closable:!0,layout:"fit",draggable:{handleSelector:":not(button,.b-field-inner)"},items:null,bbar:{hideWhenEmpty:!0,defaults:{localeClass:this},items:{saveButton:{text:"L{Save}",color:"b-green",weight:100},deleteButton:{text:"L{Delete}",color:"b-gray",weight:200},cancelButton:{text:"L{Object.Cancel}",color:"b-gray",weight:300}}},width:{$config:{localeKey:"L{editorWidth}"}}}}static get defaultConfig(){return{axisLock:"flexible",autoClose:!0,onChange:null,onCancel:null,onSave:null,autoShow:!1,scrollAction:"realign",durationDisplayPrecision:1,extraItems:null,tabsConfig:null,tabPanelItems:null,defaultTabs:null,calculateMask:null,calculateMaskDelay:100,localizableProperties:["calculateMask"],project:null,dependencyIdField:null}}processWidgetConfig(e){var t;if(null!==(t=e.type)&&void 0!==t&&t.includes("date")&&null==e.weekStartDay&&(e.weekStartDay=this.weekStartDay),"tabs"===e.ref&&this.extraItems){const t={};for(const e in this.extraItems)t[e.replace("tab","Tab")]={items:Array.isArray(this.extraItems[e])?r.default.transformArrayToNamedObject(this.extraItems[e]):this.extraItems[e]};r.default.merge(e.items,t)}return e}changeItems(e){const{tabsConfig:t,tabPanelItems:n={}}=this,i=r.default.clone(e),o=i.find(e=>"tabs"===e.ref);if(t)for(const r in t)n[r.replace("tab","Tab")]=t[r];return r.default.merge(o.items,n),super.changeItems(i)}afterConfigure(){var e;const t=this,n=t.widgetMap,{cancelButton:r,deleteButton:i,saveButton:o}=(null===(e=t.bbar)||void 0===e?void 0:e.widgetMap)||{};null===o||void 0===o||o.on("click",t.onSaveClick,t),null===r||void 0===r||r.on("click",t.onCancelClick,t),null===i||void 0===i||i.on("click",t.onDeleteClick,t),Object.values(n).forEach(e=>{e.isDurationField?e.decimalPrecision=this.durationDisplayPrecision:"startDate"===e.ref||"endDate"===e.ref?e.project=this.project:"predecessorsTab"!==e.ref&&"successorsTab"!==e.ref||(e.grid.durationDisplayPrecision=this.durationDisplayPrecision,e.dependencyIdField=e.dependencyIdField||t.dependencyIdField),e.isReadyStatePropagator&&e.on("readystatechange",t.onReadyStateChange,t)})}get canSave(){let e=!0;return Object.values(this.widgetMap).forEach(t=>{t.isReadyStatePropagator&&(e=e&&t.canSave)}),e}async hide(){return this.detachListeners("project"),this.detachListeners("eventStore"),this._delayedAction=null,this.trigger("cancel"),super.hide()}toggleFieldsDisabled(e){this.eachWidget(t=>{t.isField&&t.name&&void 0!==e.isEditable(t.name)&&(t.disabled=!e.isEditable(t.name))})}loadEvent(e,t=!1){const n=this;n.loadedRecord=e,n.toggleFieldsDisabled(e),n.callWidgetHook("loadEvent",e,t),n.detachListeners("project"),e.project.on({name:"project",beforeCommit:"onProjectBeforeCommit",dataReady:"onProjectDataReady",thisObj:n}),n.detachListeners("eventStore"),e.project.eventStore.on({name:"eventStore",remove:"onTaskRemove",thisObj:n})}callWidgetHook(e,...t){this.eachWidget(n=>{"function"===typeof n[e]&&n[e](...t)})}onDocumentMouseDown(e){const t=this;let n=null;if(Object.values(t.widgetMap).some(e=>e._activeCellEdit)){const{event:r}=e,{saveButton:i,cancelButton:o,deleteButton:a}=t.widgetMap,s=r.target.closest("button");if(s)switch(s){case null===i||void 0===i?void 0:i.element:n=t.onSaveClick;break;case null===o||void 0===o?void 0:o.element:n=t.onCancelClick;break;case null===a||void 0===a?void 0:a.element:n=t.onDeleteClick}}t._delayedAction=n,super.onDocumentMouseDown(e)}onSaveClick(){const e=this;e._delayedAction=null,e.canSave?e.trigger("save"):o.default.show({rootElement:e.rootElement,html:e.L("L{saveError}")})}onCancelClick(){this.close()}onDeleteClick(){this._delayedAction=null,this.trigger("delete")}onPropagationRequested(){this.trigger("requestPropagation")}onReadyStateChange({source:e,canSave:t}){this.requestReadyStateChange(),e.couldSaveTitle||(e.couldSaveTitle=e.title),e.parent===this.widgetMap.tabs&&(t?(e.tab.element.classList.remove("b-invalid"),e.tab.icon=null,e.title=e.couldSaveTitle,e.couldSaveTitle=null):(e.tab.element.classList.add("b-invalid"),e.tab.icon="b-icon-warning",e.title=e.couldSaveTitle))}onTaskRemove(){this.afterDelete()}onProjectBeforeCommit(){this.calculateMask&&this.mask({text:this.calculateMask,showDelay:this.calculateMaskDelay})}onProjectDataReady({records:e}){var t;const n=this;n.calculateMask&&n.unmask(),e.has(n.loadedRecord)&&n.callWidgetHook("afterProjectChange"),null===(t=n._delayedAction)||void 0===t||t.call(n)}beforeSave(){this.callWidgetHook("beforeSave")}afterSave(){this.callWidgetHook("afterSave")}beforeCancel(){this.callWidgetHook("beforeCancel")}afterCancel(){this.callWidgetHook("afterCancel")}beforeDelete(){this.callWidgetHook("beforeDelete")}afterDelete(){this.callWidgetHook("afterDelete")}onInternalKeyDown(e){if("Enter"===e.key&&this.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()){if(e.target.matches("input")){const t=a.default.fromElement(e.target);null!==t&&void 0!==t&&t.internalOnChange&&t.internalOnChange()}e.preventDefault(),this.onSaveClick()}super.onInternalKeyDown(e)}updateReadOnly(e){const{deleteButton:t,saveButton:n,cancelButton:r,tabs:i}=this.widgetMap,{items:o}=i;super.updateReadOnly(e),t&&(t.hidden=e),n&&(n.hidden=e),r&&(r.hidden=e);for(let a=0,{length:s}=o;a<s;a++)o[a].readOnly=e}}l.initClass(),l._$name="TaskEditorBase"},"./lib/SchedulerPro/widget/Timeline.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/Core/helper/DomHelper.js"),i=n("./lib/Scheduler/view/SchedulerBase.js"),o=(n("./lib/Scheduler/feature/TimeRanges.js"),n("./lib/Core/data/Store.js")),a=n("./lib/Engine/quark/model/scheduler_pro/SchedulerProProjectMixin.js");class s extends i.default{static get $name(){return"Timeline"}static get type(){return"timeline"}static get defaultConfig(){return{height:"13em",eventLayout:"pack",barMargin:1,forceFit:!0,timeAxis:{autoAdjust:!1},readOnly:!0,zoomOnMouseWheel:!1,zoomOnTimeAxisDoubleClick:!1,eventColor:null,eventStyle:null,rowHeight:48,displayDateFormat:"L",features:{cellEdit:!1,cellMenu:!1,columnAutoWidth:!1,columnLines:!1,columnPicker:!1,columnReorder:!1,columnResize:!1,contextMenu:!1,eventContextMenu:!1,eventDrag:!1,eventDragCreate:!1,eventEdit:!1,eventFilter:!1,eventMenu:!1,eventResize:!1,eventTooltip:!1,group:!1,headerMenu:!1,regionResize:!1,scheduleContextMenu:!1,scheduleMenu:!1,scheduleTooltip:!1,sort:!1,timeAxisHeaderMenu:!1,timeRanges:{showCurrentTimeLine:!0}},resources:[{id:1}],columns:[]}}static get delayable(){return{fillFromTaskStore:100}}construct(e){const t=this;t.startDateLabel=document.createElement("label"),t.startDateLabel.className="b-timeline-startdate",t.endDateLabel=document.createElement("label"),t.endDateLabel.className="b-timeline-enddate";let n=!0;if("project"in e){if(!e.project)throw new Error("You need to configure the Timeline with a Project");e.project instanceof a.SchedulerProProjectMixin&&(t.taskStore=e.project.eventStore,e.project.isInitialCommitPerformed||(n=!1,e.project.on({refresh({isInitialCommit:e}){e&&this.fillFromTaskStore()},once:!0,thisObj:this})),delete e.project)}super.construct(e),t.features.timeRanges&&(t.features.timeRanges.store=new o.default),n&&t.fillFromTaskStore.now(),t.taskStore.on({refreshPreCommit:t.fillFromTaskStore,changePreCommit:t.onTaskStoreChange,thisObj:t}),t.on({resize:t.onSizeChanged,thisObj:t}),t.bodyContainer.appendChild(t.startDateLabel),t.bodyContainer.appendChild(t.endDateLabel)}onSizeChanged({width:e,oldWidth:t}){this.suspendRefresh(),this.updateRowHeight(),this.resumeRefresh(),e!==t&&this.fitTimeline()}updateRowHeight(){r.default.isOrphaned(this.bodyContainer)||(this.rowHeight=this.bodyContainer.offsetHeight)}fitTimeline(){this.eventStore.count>0&&this.zoomToFit({leftMargin:50,rightMargin:50}),this.updateStartEndLabels()}updateStartEndLabels(){const e=this;e.startDateLabel.innerHTML=e.getFormattedDate(e.startDate),e.endDateLabel.innerHTML=e.getFormattedDate(e.endDate)}async onTaskStoreChange({action:e,record:t,records:n,changes:r,isCollapse:i}){const o=this,a=o.eventStore;let s;switch(e){case"add":n.forEach(e=>{e.showInTimeline&&(a.add(o.cloneTask(e)),s=!0)});break;case"remove":i||n.forEach(e=>{e.showInTimeline&&(a.remove(e.id),s=!0)});break;case"removeall":o.fillFromTaskStore();break;case"update":{const e=t;if(r.showInTimeline)e.showInTimeline?a.add(o.cloneTask(e)):a.remove(a.getById(e.id)),s=!0;else if(e.showInTimeline){const t=a.getById(e.id);if(t){const n=Object.assign({},e.data);delete n.expanded,delete n.duration,delete n.durationUnit,delete n.calendar,t.set(n),s=!0}}break}}s&&o.fitTimeline()}cloneTask(e){return{id:e.id,resourceId:1,startDate:e.startDate,endDate:e.endDate,name:e.name}}render(){super.render(...arguments),this.updateRowHeight()}async fillFromTaskStore(){const e=this,t=[];e.taskStore.traverse(n=>{n.showInTimeline&&n.isScheduled&&t.push(e.cloneTask(n))}),e.suspendRefresh(),e.events=t,await e.project.commitAsync(),e.isDestroyed||(e.resumeRefresh(!0),e.fitTimeline())}onLocaleChange(){this.updateStartEndLabels(),super.onLocaleChange()}}s.initClass(),s._$name="Timeline"},"./lib/SchedulerPro/widget/taskeditor/AdvancedTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js");n("./lib/SchedulerPro/widget/CalendarField.js"),n("./lib/SchedulerPro/widget/ConstraintTypePicker.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/Checkbox.js"),n("./lib/SchedulerPro/widget/SchedulingModePicker.js");class i extends r.default{static get $name(){return"AdvancedTab"}static get type(){return"advancedtab"}static get defaultConfig(){return{localeClass:this,title:"L{Advanced}",cls:"b-advanced-tab",defaults:{localeClass:this},items:{calendarField:{type:"calendarfield",weight:100,ref:"",name:"calendar",label:"L{Calendar}",flex:"1 0 50%",cls:"b-inline"},manuallyScheduledField:{type:"checkbox",weight:200,name:"manuallyScheduled",label:"L{Manually scheduled}",flex:"1 0 50%"},schedulingModeField:{type:"schedulingmodecombo",weight:300,name:"schedulingMode",label:"L{Scheduling mode}",flex:"1 0 50%",cls:"b-inline"},effortDrivenField:{type:"checkbox",weight:400,name:"effortDriven",label:"L{Effort driven}",flex:"1 0 50%"},divider:{weight:500,html:"",dataset:{text:this.L("L{Constraint}")},cls:"b-divider",flex:"1 0 100%"},constraintTypeField:{type:"constrainttypepicker",weight:600,name:"constraintType",label:"L{Constraint type}",pickerWidth:"14em",clearable:!0,flex:"1 0 50%",cls:"b-inline"},constraintDateField:{type:"date",weight:700,name:"constraintDate",label:"L{Constraint date}",flex:"1 0 50%",cls:"b-inline"},rollupField:{type:"checkbox",weight:800,name:"rollup",label:"L{Rollup}",flex:"1 0 50%",cls:"b-inline"}}}}get calendarField(){return this.widgetMap.calendarField}get constraintTypeField(){return this.widgetMap.constraintTypeField}get constraintDateField(){return this.widgetMap.constraintDateField}get effortDrivenField(){return this.widgetMap.effortDrivenField}get manuallyScheduledField(){return this.widgetMap.manuallyScheduledField}get rollupField(){return this.widgetMap.rollupField}get schedulingModeField(){return this.widgetMap.schedulingModeField}loadEvent(e){const t=!this.record,{calendarField:n,constraintTypeField:r}=this;if(n&&t&&(n.store=e.project.calendarManagerStore),null!==r&&void 0!==r&&r.isConstraintTypePicker){const{store:t}=r;t.removeFilter("constraintTypeApplicable"),t.filter({id:"constraintTypeApplicable",filterBy:t=>e.run("isConstraintTypeApplicable",t.id)})}super.loadEvent(e)}afterDelete(){const{constraintTypeField:e}=this;null!==e&&void 0!==e&&e.isConstraintTypePicker&&e.store.removeFilter("constraintTypeApplicable"),super.afterDelete(...arguments)}}i.initClass(),i._$name="AdvancedTab"},"./lib/SchedulerPro/widget/taskeditor/DependencyTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./lib/SchedulerPro/widget/taskeditor/EditorTab.js"),i=n("./lib/Engine/scheduling/Types.js");n("./lib/SchedulerPro/widget/DependencyTypePicker.js"),n("./lib/SchedulerPro/column/DurationColumn.js"),n("./lib/SchedulerPro/widget/ModelCombo.js"),n("./lib/Grid/view/Grid.js");const o=(e,t)=>{e.instanceMeta(t).valid=!1},a=(e,t)=>!1!==e.instanceMeta(t).valid;class s extends r.default{static get $name(){return"DependencyTab"}static get type(){return"dependencytab"}static makeIdRenderer(e){return({record:t,row:n,grid:r})=>{let i;if(a(t,r)){const n=t[e];i=!n||n.hasGeneratedId?"*":n.id}else n.addCls("b-invalid"),i='<div class="b-icon b-icon-warning"></div>';return i}}static get configurable(){return{dependencyIdField:null,layoutStyle:{flexFlow:"column nowrap"},sortField:null,taskComboSortField:"name",items:{grid:{type:"grid",weight:100,flex:"1 1 auto",emptyText:"",asyncEventSuffix:"PreCommit",disableGridRowModelWarning:!0,features:{group:!1},columns:{data:{id:{localeClass:this,text:"L{ID}",flex:1,editor:!1,htmlEncode:!1,hidden:!0},name:{localeClass:this,text:"L{Name}",flex:5,renderer:({value:e,grid:t})=>{if(e){const n=e[t.parent.dependencyIdField];return e.name+(null==n||e.hasGeneratedId?"":` (${n})`)}return""},finalizeCellEdit:"up.finalizeLinkedTaskCellEdit",editor:{type:"modelcombo",displayField:"name",valueField:"id",editable:!1,allowInvalid:!0}},type:{localeClass:this,text:"L{Type}",field:"type",flex:3,sortable:!1,editor:"dependencytypepicker",renderer({value:e}){return this.L("L{DependencyType.long}")[e]}},lag:{localeClass:this,text:"L{Lag}",type:"duration",field:"fullLag",flex:2,editor:{allowNegative:!0}}}}},toolbar:{type:"toolbar",dock:"bottom",cls:"b-compact-bbar",items:{add:{type:"button",weight:210,cls:"b-add-button b-green",icon:"b-icon b-icon-add",onAction:"up.onAddClick"},remove:{type:"button",weight:220,cls:"b-remove-button b-red",icon:"b-icon b-icon-trash",disabled:!0,onAction:"up.onRemoveClick"}}}}}}async finalizeLinkedTaskCellEdit({grid:e,value:t,record:n}){const{project:r}=e.store.masterStore,i="toEvent"==this.direction,o=i?n.fromEvent:t,a=i?t:n.toEvent;switch(await r.validateDependency(o,a,n.type,n)){case 0:return!0;case 1:return"L{DependencyTab.cyclicDependency}"}return"L{DependencyTab.invalidDependency}"}afterConstruct(){super.afterConstruct();const e=this,t=e.grid=e.widgetMap.grid;t.on({selectionChange:"onGridSelectionChange",startCellEdit:"onGridStartCellEdit",finishCellEdit:"onGridFinishCellEdit",cancelCellEdit:"onGridCancelCellEdit",thisObj:e}),t.columns.find(t=>t.field===e.direction).editor.listItemTpl=t=>{let n=t[e.dependencyIdField];return n=null==n||t.hasGeneratedId?"":`(${n})`,`${t.name} ${n}`}}updateReadOnly(e){const{add:t,remove:n}=this.widgetMap;super.updateReadOnly(...arguments),t.hidden=n.hidden=e}get taskCombo(){const{grid:e}=this,t=e&&e.columns.get(this.direction);return t&&t.editor}loadEvent(e){const t=this,{grid:n}=t,r=!n.store.isChained,i=!r&&e!==t.record;super.loadEvent(e);const o=t.taskCombo,{dependencyStore:a,eventStore:s}=t.project;r?(t.depStoreGeneration=a.storage.generation,t.eventStoreGeneration=s.storage.generation,n.store=a.makeChained(e=>e[t.negDirection]===t.record,null),o.store=s.makeChained(e=>e!==t.record,null,{doRelayToMaster:[],excludeCollapsedRecords:!1}),o.store.sort(t.taskComboSortField),o.store.filterBy(e=>!n.store.find(n=>{const r=n[t.direction],i=t._activeCellEdit,o=i&&r===i.record[t.direction];return r===e&&!o})),o.on({thisObj:t,change:"onGridCellEditChange"})):(i||a.storage.generation!==t.depStoreGeneration?(n.store.fillFromMaster(),t.depStoreGeneration=a.storage.generation):n.refreshRows(),(i||s.storage.generation!==t.eventStoreGeneration)&&(o.store.fillFromMaster(),t.eventStoreGeneration=s.storage.generation)),i&&t.grid.store.sort(t.sortField),t.requestReadyStateChange()}async insertNewDependency(){const e=this,{grid:t}=e,n=t.store,r=e.project.dependencyStore,[a]=n.insert(0,{type:i.DependencyType.EndToStart,lag:0,lagUnit:i.TimeUnit.Day,[e.negDirection]:e.record});return e.depStoreGeneration=r.storage.generation,t.features.cellEdit.startEditing({field:e.direction,id:a.id}),o(a,t),a}onAddClick(){this.insertNewDependency()}onRemoveClick(){const e=this.grid,t=e.selectedRecords;this.project.dependencyStore.remove(t),e.selectedRecord=e.store.getNext(t[0]),this.taskCombo.store.fillFromMaster()}onGridSelectionChange({selection:e}){const t=this.widgetMap.remove;null!==e&&void 0!==e&&e.length&&!this.up(e=>e.readOnly)?t.enable():t.disable()}clearActiveEditorErrors(){const e=this._activeCellEdit;e&&e.column.field===this.direction&&e.editor.inputField.clearError()}onGridCellEditChange(){this.clearActiveEditorErrors()}onGridStartCellEdit({editorContext:e}){const t=this,n=t._editingDependency=e.record,{grid:r}=t,i=t.direction;t._activeCellEdit=e,e.column.field===i&&(a(n,r)?t.clearActiveEditorErrors():n[i]?e.editor.inputField.setError("L{DependencyTab.cyclicDependency}"):e.editor.inputField.setError("L{DependencyTab.invalidDependency}"))}async onGridFinishCellEdit({editorContext:e}){const t=this,{record:n,column:r}=e,{grid:i,direction:o}=t;r.field===o?(((e,t)=>{e.instanceMeta(t).valid=!0})(n,i),t.taskCombo.store.fillFromMaster()):t.redrawDependencyRow(n),t._activeCellEdit=t._editingDependency=null,t.requestReadyStateChange()}afterCancel(){this._activeCellEdit&&this.grid.features.cellEdit.cancelEditing(!0)}onGridCancelCellEdit(e){const t=this,n=t._editingDependency;n&&(n[t.direction]||(o(n,t.grid),t.redrawDependencyRow(n)),t._activeCellEdit=t._editingDependency=null),t.requestReadyStateChange()}redrawDependencyRow(e){const{grid:t}=this,n=t.rowManager.getRowById(e);n&&t.store.indexOf(e)>=0&&n.render(t.store.indexOf(e),e)}get canSave(){const{grid:e}=this;return e.store.reduce((t,n)=>t&&a(n,e),!0)}}s._$name="DependencyTab"},"./lib/SchedulerPro/widget/taskeditor/EditorTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./lib/Core/widget/Container.js"),i=n("./lib/SchedulerPro/widget/taskeditor/mixin/EventLoader.js"),o=n("./lib/SchedulerPro/widget/taskeditor/mixin/ReadyStatePropagator.js");class a extends(r.default.mixin(i.default,o.default)){static get $name(){return"EditorTab"}static get type(){return"editortab"}static get configurable(){return{title:null}}}a._$name="EditorTab"},"./lib/SchedulerPro/widget/taskeditor/FormTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/EditorTab.js");class i extends r.default{static get $name(){return"FormTab"}static get type(){return"formtab"}static get defaultConfig(){return{layoutStyle:{flexFlow:"row wrap",alignItems:"flex-start",alignContent:"flex-start"},autoUpdateRecord:!0}}onFieldChange({source:e,valid:t,userAction:n}){n&&(t=void 0!==t?t:"function"===typeof e.isValid?e.isValid():e.isValid)&&super.onFieldChange(...arguments)}}i.initClass(),i._$name="FormTab"},"./lib/SchedulerPro/widget/taskeditor/GeneralTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js");n("./lib/SchedulerPro/widget/StartDateField.js"),n("./lib/SchedulerPro/widget/EndDateField.js"),n("./lib/SchedulerPro/widget/EffortField.js"),n("./lib/Core/widget/NumberField.js");class i extends r.default{static get $name(){return"GeneralTab"}static get type(){return"generaltab"}static get defaultConfig(){return{title:"L{General}",cls:"b-general-tab",defaults:{localeClass:this},items:{name:{type:"text",weight:100,required:!0,label:"L{Name}",clearable:!0,name:"name",cls:"b-name"},percentDone:{type:"number",weight:200,label:"L{% complete}",name:"renderedPercentDone",cls:"b-percent-done b-inline",flex:"1 0 50%",min:0,max:100},effort:{type:"effort",weight:300,label:"L{Effort}",name:"fullEffort",flex:"1 0 50%"},divider:{html:"",weight:400,dataset:{text:this.L("L{Dates}")},cls:"b-divider",flex:"1 0 100%"},startDate:{type:"startdate",weight:500,label:"L{Start}",name:"startDate",cls:"b-start-date b-inline",flex:"1 0 50%"},endDate:{type:"enddate",weight:600,label:"L{Finish}",name:"endDate",cls:"b-end-date",flex:"1 0 50%"},duration:{type:"durationfield",weight:700,label:"L{Duration}",name:"fullDuration",flex:".5 0",cls:"b-inline"}}}}loadEvent(e){const t={unit:e.durationUnit,magnitude:1},{startDate:n,endDate:r,effort:i}=this.widgetMap;n&&(n.step=t,n.eventRecord=e),r&&(r.step=t,r.eventRecord=e),i&&(i.unit=e.effortUnit),super.loadEvent(e)}}i.initClass(),i._$name="GeneralTab"},"./lib/SchedulerPro/widget/taskeditor/NotesTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js");n("./lib/Core/widget/TextAreaField.js");class i extends r.default{static get $name(){return"NotesTab"}static get type(){return"notestab"}static get configurable(){return{cls:"b-notes-tab",title:this.L("L{Notes}"),tab:{icon:"b-icon-note",titleProperty:"tooltip"},layoutConfig:{alignItems:"flex-start",alignContent:"stretch"},items:{noteField:{weight:100,type:"textareafield",cls:"b-taskeditor-notes-field",name:"note"}}}}}i.initClass(),i._$name="NotesTab"},"./lib/SchedulerPro/widget/taskeditor/PredecessorsTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/DependencyTab.js");class i extends r.default{static get $name(){return"PredecessorsTab"}static get type(){return"predecessorstab"}static get configurable(){return{cls:"b-predecessors-tab",direction:"fromEvent",negDirection:"toEvent",title:"L{DependencyTab.Predecessors}",sortField:"fromEventName",items:{grid:{columns:{data:{id:{renderer:this.makeIdRenderer("fromEvent")},name:{field:"fromEvent"}}}}}}}}i.initClass(),i._$name="PredecessorsTab"},"./lib/SchedulerPro/widget/taskeditor/ResourcesTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i})),n("./lib/Grid/view/Grid.js");var r=n("./lib/SchedulerPro/widget/taskeditor/EditorTab.js");n("./lib/Grid/column/NumberColumn.js");class i extends r.default{static get $name(){return"ResourcesTab"}static get type(){return"resourcestab"}static get configurable(){return{title:"L{Resources}",cls:"b-resources-tab",layoutStyle:{flexFlow:"column nowrap"},items:{grid:{type:"grid",weight:100,flex:"1 1 auto",columns:{data:{resource:{localeClass:this,text:"L{Resource}",field:"resource",flex:7,renderer:({value:e})=>(null===e||void 0===e?void 0:e.name)||"",editor:{type:"modelcombo",displayField:"name",valueField:"id",editable:!1}},units:{type:"number",localeClass:this,text:"L{Units}",field:"units",flex:3,renderer:e=>this.L("L{unitsTpl}",e),min:0,max:100,step:10}}},disableGridRowModelWarning:!0,asyncEventSuffix:"PreCommit"},toolbar:{type:"toolbar",dock:"bottom",cls:"b-compact-bbar",items:{add:{type:"button",weight:210,cls:"b-add-button b-green",icon:"b-icon b-icon-add"},remove:{type:"button",weight:220,cls:"b-remove-button b-red",icon:"b-icon b-icon-trash",disabled:!0}}}}}}afterConstruct(){super.afterConstruct();const e=this,t=e.addButton=e.widgetMap.add,n=e.removeButton=e.widgetMap.remove,r=e.grid=e.widgetMap.grid;null===t||void 0===t||t.on("click",e.onAddClick,e),null===n||void 0===n||n.on("click",e.onRemoveClick,e),r.on({selectionChange:"onGridSelectionChange",startCellEdit:"onGridStartCellEdit",finishCellEdit:"onGridFinishCellEdit",cancelCellEdit:"onGridCancelCellEdit",thisObj:e})}updateReadOnly(e){const{add:t,remove:n}=this.widgetMap;super.updateReadOnly(...arguments),t.hidden=n.hidden=e}get resourceCombo(){var e;const t=null===(e=this.grid)||void 0===e?void 0:e.columns.get("resource");return null===t||void 0===t?void 0:t.editor}loadEvent(e){const t=this,{grid:n}=t,r=!n.store.isChained,i=!r&&e!==t.record;super.loadEvent(e);const{resourceCombo:o}=t,{assignmentStore:a,resourceStore:s}=t.project;e.isTask||n.columns.get("units").hide(),r?(t.assignmentStoreGeneration=a.storage.generation,t.resourceStoreGeneration=s.storage.generation,n.store=a.makeChained(e=>t.record&&e.event===t.record,null),o.store=s.makeChained(e=>t.record&&!t.record.isAssignedTo(e)||!t.activeAssignment||t.activeAssignment.resource===e)):((i||a.storage.generation!==t.assignmentStoreGeneration)&&n.store.fillFromMaster(),(i||s.storage.generation!==t.resourceStoreGeneration)&&o.store.fillFromMaster())}get activeAssignment(){return this.grid.features.cellEdit.activeRecord}async insertNewAssignment(){const{project:e,grid:t}=this,n=e.assignmentStore,[r]=n.insert(0,{event:this.record,resource:null,units:100});return this.assignmentStoreGeneration=n.storage.generation,t.features.cellEdit.startEditing({field:"resource",id:r.id}),r}beforeSave(){this.pruneInvalidAssignments()}onAddClick(){this.insertNewAssignment()}onRemoveClick(){const{grid:e}=this;e.store.remove(e.selectedRecords),e.selectedRecords=null,this.removeButton.disable()}onGridSelectionChange({selection:e}){this.removeButton.disabled=!(null!==e&&void 0!==e&&e.length)}onGridStartCellEdit({editorContext:e}){"resource"===e.column.field&&(this.resourceCombo.store.fillFromMaster(),this._editingAssignment=e.record,this._activeCellEdit=e)}onGridFinishCellEdit(){this._activeCellEdit=this._editingAssignment=null}onGridCancelCellEdit(){this._activeCellEdit=this._editingAssignment=null}pruneInvalidAssignments(){const{store:e}=this.grid;e.remove(e.query(e=>!e.isValid))}}i.initClass(),i._$name="ResourcesTab"},"./lib/SchedulerPro/widget/taskeditor/SchedulerAdvancedTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js");n("./lib/SchedulerPro/widget/CalendarField.js"),n("./lib/SchedulerPro/widget/ConstraintTypePicker.js"),n("./lib/Core/widget/DateField.js"),n("./lib/Core/widget/Checkbox.js"),n("./lib/SchedulerPro/widget/SchedulingModePicker.js");class i extends r.default{static get $name(){return"SchedulerAdvancedTab"}static get type(){return"scheduleradvancedtab"}static get configurable(){return{cls:"b-advanced-tab",tab:{icon:"b-icon-advanced",tooltip:"L{SchedulerAdvancedTab.Advanced}"},defaults:{localeClass:this},items:{calendarField:{type:"calendarfield",name:"calendar",label:"L{Calendar}",weight:100},constraintTypeField:{type:"constrainttypepicker",name:"constraintType",label:"L{Constraint type}",clearable:!0,weight:200},constraintDateField:{type:"date",name:"constraintDate",label:"L{Constraint date}",weight:300},manuallyScheduledField:{type:"checkbox",name:"manuallyScheduled",label:"L{Manually scheduled}",weight:400}}}}get calendarField(){return this.widgetMap.calendarField}get constraintTypeField(){return this.widgetMap.constraintTypeField}get constraintDateField(){return this.widgetMap.constraintDateField}get manuallyScheduledField(){return this.widgetMap.manuallyScheduledField}loadEvent(e){this.record;const{calendarField:t}=this;t&&(t.store=e.project.calendarManagerStore,t.hidden=!e.project.calendarManagerStore.count),super.loadEvent(...arguments)}}i.initClass(),i._$name="SchedulerAdvancedTab"},"./lib/SchedulerPro/widget/taskeditor/SchedulerGeneralTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js"),i=n("./lib/Core/helper/DateHelper.js");n("./lib/SchedulerPro/widget/CalendarField.js"),n("./lib/Core/widget/Checkbox.js"),n("./lib/Core/widget/DateTimeField.js"),n("./lib/SchedulerPro/widget/StartDateField.js"),n("./lib/SchedulerPro/widget/EndDateField.js");class o extends r.default{static get $name(){return"SchedulerGeneralTab"}static get type(){return"schedulergeneraltab"}static get defaultConfig(){return{title:"L{General}",cls:"b-general-tab",defaults:{localeClass:this,weight:10},items:{nameField:{type:"text",required:!0,label:"L{Name}",clearable:!0,name:"name",cls:"b-name",weight:100},resourcesField:{type:"combo",label:"L{Resources}",name:"resources",editable:!0,valueField:"id",displayField:"name",highlightExternalChange:!1,cls:"b-resources",weight:200},startDateField:{type:"datetime",label:"L{Start}",name:"startDate",cls:"b-start-date",flex:"1 0 100%",weight:300,dateField:{type:"startdatefield"}},endDateField:{type:"datetime",label:"L{Finish}",name:"endDate",cls:"b-end-date",flex:"1 0 100%",weight:400,dateField:{type:"enddatefield"}},durationField:{type:"durationfield",label:"L{Duration}",name:"fullDuration",flex:"1 0 50%",cls:"b-duration b-inline",weight:500},percentDoneField:{type:"number",label:"L{% complete}",name:"renderedPercentDone",cls:"b-percent-done",flex:"1 0 50%",min:0,max:100,weight:600}}}}loadEvent(e){const t={unit:e.durationUnit,magnitude:1},{isParent:n,project:r}=e,{durationField:o,percentDoneField:a,startDateField:s,endDateField:l,resourcesField:c}=this.widgetMap;var d;this.record,o&&(o.disabled=n,a||o.element.classList.remove("b-inline")),a&&(a.disabled=n),s&&(s.dateField.eventRecord=e,i.default.compareUnits(t.unit,"hour")>0?s.dateField.step=t:s.timeField.step=t),l&&(l.dateField.eventRecord=e,i.default.compareUnits(t.unit,"hour")>0?l.dateField.step=t:l.timeField.step=t,l.disabled=n),c&&(c.multiSelect=null!==(d=c.config.multiSelect)&&void 0!==d?d:!r.eventStore.usesSingleAssignment,c.store=new r.resourceStore.constructor({chained:!0,masterStore:r.resourceStore,chainedFilterFn:e=>!e.isSpecialRow})),super.loadEvent(...arguments)}onFieldChange({source:e,valid:t,userAction:n,value:r}){if(n&&t){const{eventStore:t}=this.record,n="resources"===e.name&&0===r.length&&this.autoUpdateRecord&&t.removeUnassignedEvent;n&&(t.removeUnassignedEvent=!1),super.onFieldChange(...arguments),n&&(t.removeUnassignedEvent=!0)}}beforeSave(){0===this.record.resources.length&&this.record.eventStore.removeUnassignedEvent&&this.record.remove(),super.beforeSave()}}o.initClass(),o._$name="SchedulerGeneralTab"},"./lib/SchedulerPro/widget/taskeditor/SuccessorsTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./lib/SchedulerPro/widget/taskeditor/DependencyTab.js");class i extends r.default{static get $name(){return"SuccessorsTab"}static get type(){return"successorstab"}static get configurable(){return{cls:"b-successors-tab",direction:"toEvent",negDirection:"fromEvent",title:"L{DependencyTab.Successors}",sortField:"toEventName",items:{grid:{columns:{data:{id:{renderer:this.makeIdRenderer("toEvent")},name:{field:"toEvent"}}}}}}}}i.initClass(),i._$name="SuccessorsTab"},"./lib/SchedulerPro/widget/taskeditor/mixin/EventLoader.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/widget/Container.js");t.default=e=>class extends(e||r.default){get project(){var e;return null===(e=this.record)||void 0===e?void 0:e.project}loadEvent(e,t){this.setRecord(e,t)}resetData(){this.record=null}beforeSave(){}afterSave(){this.resetData()}beforeCancel(){}afterCancel(){this.resetData()}beforeDelete(){}afterDelete(){this.resetData()}get widgetClass(){}}},"./lib/SchedulerPro/widget/taskeditor/mixin/ReadyStatePropagator.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js"),i=n("./lib/Core/mixin/Events.js");t.default=e=>class extends(e||Object(i.default)(r.default)){get isReadyStatePropagator(){return!0}get canSave(){return!0}requestReadyStateChange(){this.trigger("readystatechange",{canSave:this.canSave})}get widgetClass(){}}},"./webpack/webpack.core.entry.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/Base.js");n.d(t,"Base",(function(){return r.default}));var i=n("./lib/Core/Config.js");n.d(t,"Config",(function(){return i.default}));var o=n("./lib/Core/GlobalEvents.js");n.d(t,"GlobalEvents",(function(){return o.default}));var a=n("./lib/Core/data/AjaxStore.js");n.d(t,"AjaxStore",(function(){return a.default}));var s=n("./lib/Core/data/DomDataStore.js");n.d(t,"DomDataStore",(function(){return s.default}));var l=n("./lib/Core/data/Duration.js");n.d(t,"Duration",(function(){return l.default}));var c=n("./lib/Core/data/Model.js");n.d(t,"Model",(function(){return c.default}));var d=n("./lib/Core/data/Store.js");n.d(t,"Store",(function(){return d.default}));var u=n("./lib/Core/data/field/BooleanDataField.js");n.d(t,"BooleanDataField",(function(){return u.default}));var h=n("./lib/Core/data/field/DataField.js");n.d(t,"DataField",(function(){return h.default}));var f=n("./lib/Core/data/field/DateDataField.js");n.d(t,"DateDataField",(function(){return f.default}));var g=n("./lib/Core/data/field/IntegerDataField.js");n.d(t,"IntegerDataField",(function(){return g.default}));var m=n("./lib/Core/data/field/ModelDataField.js");n.d(t,"ModelDataField",(function(){return m.default}));var p=n("./lib/Core/data/field/NumberDataField.js");n.d(t,"NumberDataField",(function(){return p.default}));var v=n("./lib/Core/data/field/ObjectDataField.js");n.d(t,"ObjectDataField",(function(){return v.default}));var b=n("./lib/Core/data/field/StringDataField.js");n.d(t,"StringDataField",(function(){return b.default}));var y=n("./lib/Core/data/mixin/StoreChained.js");n.d(t,"StoreChained",(function(){return y.default}));var C=n("./lib/Core/data/mixin/StoreCRUD.js");n.d(t,"StoreCRUD",(function(){return C.default}));var S=n("./lib/Core/data/mixin/StoreFilter.js");n.d(t,"StoreFilter",(function(){return S.default}));var w=n("./lib/Core/data/mixin/StoreGroup.js");n.d(t,"StoreGroup",(function(){return w.default}));var E=n("./lib/Core/data/mixin/StoreProxy.js");n.d(t,"StoreProxy",(function(){return E.default}));var D=n("./lib/Core/data/mixin/StoreRelation.js");n.d(t,"StoreRelation",(function(){return D.default}));var x=n("./lib/Core/data/mixin/StoreSearch.js");n.d(t,"StoreSearch",(function(){return x.default}));var j=n("./lib/Core/data/mixin/StoreSort.js");n.d(t,"StoreSort",(function(){return j.default}));var T=n("./lib/Core/data/mixin/StoreState.js");n.d(t,"StoreState",(function(){return T.default}));var R=n("./lib/Core/data/mixin/StoreSum.js");n.d(t,"StoreSum",(function(){return R.default}));var M=n("./lib/Core/data/mixin/StoreSync.js");n.d(t,"StoreSync",(function(){return M.default}));var k=n("./lib/Core/data/mixin/StoreTree.js");n.d(t,"StoreTree",(function(){return k.default}));var P=n("./lib/Core/data/mixin/TreeNode.js");n.d(t,"TreeNode",(function(){return P.default}));var O=n("./lib/Core/data/stm/action/ActionBase.js");n.d(t,"ActionBase",(function(){return O.default}));var F=n("./lib/Core/data/stm/mixin/ModelStm.js");n.d(t,"ModelStm",(function(){return F.default}));var A=n("./lib/Core/data/stm/state/StateBase.js");n.d(t,"StateBase",(function(){return A.default}));var I=n("./lib/Core/data/stm/StateTrackingManager.js");n.d(t,"StateTrackingManager",(function(){return I.default}));var L=n("./lib/Core/data/stm/mixin/StoreStm.js");n.d(t,"StoreStm",(function(){return L.default}));var H=n("./lib/Core/data/stm/Transaction.js");n.d(t,"Transaction",(function(){return H.default}));var _=n("./lib/Core/helper/AjaxHelper.js");n.d(t,"AjaxHelper",(function(){return _.default}));var B=n("./lib/Core/helper/ArrayHelper.js");n.d(t,"ArrayHelper",(function(){return B.default}));var $=n("./lib/Core/helper/AsyncHelper.js");n.d(t,"AsyncHelper",(function(){return $.default}));var G=n("./lib/Core/helper/BrowserHelper.js");n.d(t,"BrowserHelper",(function(){return G.default}));var N=n("./lib/Core/helper/CSSHelper.js");n.d(t,"CSSHelper",(function(){return N.default}));var z=n("./lib/Core/helper/DateHelper.js");n.d(t,"DateHelper",(function(){return z.default}));var V=n("./lib/Core/helper/DomHelper.js");n.d(t,"DomHelper",(function(){return V.default}));var W=n("./lib/Core/helper/DomSync.js");n.d(t,"DomSync",(function(){return W.default}));var U=n("./lib/Core/helper/DragHelper.js");n.d(t,"DragHelper",(function(){return U.default}));var q=n("./lib/Core/helper/EventHelper.js");n.d(t,"EventHelper",(function(){return q.default}));var Y=n("./lib/Core/helper/FunctionHelper.js");n.d(t,"FunctionHelper",(function(){return Y.default}));var K=n("./lib/Core/helper/IdHelper.js");n.d(t,"IdHelper",(function(){return K.default}));var X=n("./lib/Core/helper/ObjectHelper.js");n.d(t,"ObjectHelper",(function(){return X.default}));var Q=n("./lib/Core/helper/ResizeHelper.js");n.d(t,"ResizeHelper",(function(){return Q.default}));var Z=n("./lib/Core/helper/ResizeMonitor.js");n.d(t,"ResizeMonitor",(function(){return Z.default}));var J=n("./lib/Core/helper/StringHelper.js");n.d(t,"StringHelper",(function(){return J.default}));var ee=n("./lib/Core/helper/TemplateHelper.js");n.d(t,"TemplateHelper",(function(){return ee.default}));var te=n("./lib/Core/helper/VersionHelper.js");n.d(t,"VersionHelper",(function(){return te.default}));var ne=n("./lib/Core/helper/WidgetHelper.js");n.d(t,"WidgetHelper",(function(){return ne.default}));var re=n("./lib/Core/helper/XMLHelper.js");n.d(t,"XMLHelper",(function(){return re.default}));var ie=n("./lib/Core/helper/util/DataGenerator.js");n.d(t,"DataGenerator",(function(){return ie.default}));var oe=n("./lib/Core/helper/util/DemoBot.js");n.d(t,"DemoBot",(function(){return oe.default}));var ae=n("./lib/Core/helper/util/DomClassList.js");n.d(t,"DomClassList",(function(){return ae.default}));var se=n("./lib/Core/helper/util/Formatter.js");n.d(t,"Formatter",(function(){return se.default}));var le=n("./lib/Core/helper/util/Fullscreen.js");n.d(t,"Fullscreen",(function(){return le.default}));var ce=n("./lib/Core/helper/util/NumberFormat.js");n.d(t,"NumberFormat",(function(){return ce.default}));var de=n("./lib/Core/helper/util/Objects.js");n.d(t,"Objects",(function(){return de.default}));var ue=n("./lib/Core/helper/util/Point.js");n.d(t,"Point",(function(){return ue.default}));var he=n("./lib/Core/helper/util/Promissory.js");n.d(t,"Promissory",(function(){return he.default}));var fe=n("./lib/Core/helper/util/RandomGenerator.js");n.d(t,"RandomGenerator",(function(){return fe.default}));var ge=n("./lib/Core/helper/util/Rectangle.js");n.d(t,"Rectangle",(function(){return ge.default}));var me=n("./lib/Core/helper/util/Scroller.js");n.d(t,"Scroller",(function(){return me.default}));var pe=n("./lib/Core/localization/LocaleHelper.js");n.d(t,"LocaleHelper",(function(){return pe.default}));var ve=n("./lib/Core/localization/LocaleManager.js");n.d(t,"LocaleManager",(function(){return ve.default}));var be=n("./lib/Core/localization/Localizable.js");n.d(t,"Localizable",(function(){return be.default}));var ye=n("./lib/Core/mixin/Delayable.js");n.d(t,"Delayable",(function(){return ye.default}));var Ce=n("./lib/Core/mixin/Draggable.js");n.d(t,"Draggable",(function(){return Ce.default}));var Se=n("./lib/Core/mixin/Droppable.js");n.d(t,"Droppable",(function(){return Se.default}));var we=n("./lib/Core/mixin/Events.js");n.d(t,"Events",(function(){return we.default}));var Ee=n("./lib/Core/mixin/Factoryable.js");n.d(t,"Factoryable",(function(){return Ee.default}));var De=n("./lib/Core/mixin/Featureable.js");n.d(t,"Featureable",(function(){return De.default}));var xe=n("./lib/Core/mixin/Finalizable.js");n.d(t,"Finalizable",(function(){return xe.default}));var je=n("./lib/Core/mixin/Hoverable.js");n.d(t,"Hoverable",(function(){return je.default}));var Te=n("./lib/Core/mixin/Identifiable.js");n.d(t,"Identifiable",(function(){return Te.default}));var Re=n("./lib/Core/mixin/InstancePlugin.js");n.d(t,"InstancePlugin",(function(){return Re.default}));var Me=n("./lib/Core/mixin/LoadMaskable.js");n.d(t,"LoadMaskable",(function(){return Me.default}));var ke=n("./lib/Core/mixin/Override.js");n.d(t,"Override",(function(){return ke.default}));var Pe=n("./lib/Core/mixin/Pluggable.js");n.d(t,"Pluggable",(function(){return Pe.default}));var Oe=n("./lib/Core/mixin/State.js");n.d(t,"State",(function(){return Oe.default}));var Fe=n("./lib/Core/util/Bag.js");n.d(t,"Bag",(function(){return Fe.default}));var Ae=n("./lib/Core/util/ClickRepeater.js");n.d(t,"ClickRepeater",(function(){return Ae.default}));var Ie=n("./lib/Core/util/Collection.js");n.d(t,"Collection",(function(){return Ie.default}));var Le=n("./lib/Core/util/CollectionFilter.js");n.d(t,"CollectionFilter",(function(){return Le.default}));var He=n("./lib/Core/util/CollectionSorter.js");n.d(t,"CollectionSorter",(function(){return He.default}));var _e=n("./lib/Core/util/drag/DragContext.js");n.d(t,"DragContext",(function(){return _e.default}));var Be=n("./lib/Core/util/drag/DragProxy.js");n.d(t,"DragProxy",(function(){return Be.default}));var $e=n("./lib/Core/util/drag/DragTipProxy.js");n.d(t,"DragTipProxy",(function(){return $e.default}));var Ge=n("./lib/Core/util/DynamicObject.js");n.d(t,"DynamicObject",(function(){return Ge.default}));var Ne=n("./lib/Core/util/Month.js");n.d(t,"Month",(function(){return Ne.default}));var ze=n("./lib/Core/util/Parser.js");n.d(t,"Parser",(function(){return ze.default}));var Ve=n("./lib/Core/widget/BooleanCombo.js");n.d(t,"BooleanCombo",(function(){return Ve.default}));var We=n("./lib/Core/widget/Button.js");n.d(t,"Button",(function(){return We.default}));var Ue=n("./lib/Core/widget/ButtonGroup.js");n.d(t,"ButtonGroup",(function(){return Ue.default}));var qe=n("./lib/Core/widget/CalendarPanel.js");n.d(t,"CalendarPanel",(function(){return qe.default}));var Ye=n("./lib/Core/widget/Checkbox.js");n.d(t,"Checkbox",(function(){return Ye.default}));var Ke=n("./lib/Core/widget/ChipView.js");n.d(t,"ChipView",(function(){return Ke.default}));var Xe=n("./lib/Core/widget/Combo.js");n.d(t,"Combo",(function(){return Xe.default}));var Qe=n("./lib/Core/widget/Container.js");n.d(t,"Container",(function(){return Qe.default}));var Ze=n("./lib/Core/widget/DateField.js");n.d(t,"DateField",(function(){return Ze.default}));var Je=n("./lib/Core/widget/DatePicker.js");n.d(t,"DatePicker",(function(){return Je.default}));var et=n("./lib/Core/widget/DateTimeField.js");n.d(t,"DateTimeField",(function(){return et.default}));var tt=n("./lib/Core/widget/DisplayField.js");n.d(t,"DisplayField",(function(){return tt.default}));var nt=n("./lib/Core/widget/DurationField.js");n.d(t,"DurationField",(function(){return nt.default}));var rt=n("./lib/Core/widget/Editor.js");n.d(t,"Editor",(function(){return rt.default}));var it=n("./lib/Core/widget/Field.js");n.d(t,"Field",(function(){return it.default}));var ot=n("./lib/Core/widget/FileField.js");n.d(t,"FileField",(function(){return ot.default}));var at=n("./lib/Core/widget/FilePicker.js");n.d(t,"FilePicker",(function(){return at.default}));var st=n("./lib/Core/widget/FilterField.js");n.d(t,"FilterField",(function(){return st.default}));var lt=n("./lib/Core/widget/List.js");n.d(t,"List",(function(){return lt.default}));var ct=n("./lib/Core/widget/Mask.js");n.d(t,"Mask",(function(){return ct.default}));var dt=n("./lib/Core/widget/Menu.js");n.d(t,"Menu",(function(){return dt.default}));var ut=n("./lib/Core/widget/MenuItem.js");n.d(t,"MenuItem",(function(){return ut.default}));var ht=n("./lib/Core/widget/MessageDialog.js");n.d(t,"MessageDialog",(function(){return ht.default}));var ft=n("./lib/Core/widget/NumberField.js");n.d(t,"NumberField",(function(){return ft.default}));var gt=n("./lib/Core/widget/PagingToolbar.js");n.d(t,"PagingToolbar",(function(){return gt.default}));var mt=n("./lib/Core/widget/Panel.js");n.d(t,"Panel",(function(){return mt.default}));var pt=n("./lib/Core/widget/PickerField.js");n.d(t,"PickerField",(function(){return pt.default}));var vt=n("./lib/Core/widget/Popup.js");n.d(t,"Popup",(function(){return vt.default}));var bt=n("./lib/Core/widget/Renderable.js");n.d(t,"Renderable",(function(){return bt.default}));var yt=n("./lib/Core/widget/Ripple.js");n.d(t,"Ripple",(function(){return yt.default}));var Ct=n("./lib/Core/widget/Slider.js");n.d(t,"Slider",(function(){return Ct.default}));var St=n("./lib/Core/widget/SlideToggle.js");n.d(t,"SlideToggle",(function(){return St.default}));var wt=n("./lib/Core/widget/Splitter.js");n.d(t,"Splitter",(function(){return wt.default}));var Et=n("./lib/Core/widget/Tab.js");n.d(t,"Tab",(function(){return Et.default}));var Dt=n("./lib/Core/widget/TabBar.js");n.d(t,"TabBar",(function(){return Dt.default}));var xt=n("./lib/Core/widget/TabPanel.js");n.d(t,"TabPanel",(function(){return xt.default}));var jt=n("./lib/Core/widget/TextAreaField.js");n.d(t,"TextAreaField",(function(){return jt.default}));var Tt=n("./lib/Core/widget/TextField.js");n.d(t,"TextField",(function(){return Tt.default}));var Rt=n("./lib/Core/widget/TimeField.js");n.d(t,"TimeField",(function(){return Rt.default}));var Mt=n("./lib/Core/widget/TimePicker.js");n.d(t,"TimePicker",(function(){return Mt.default}));var kt=n("./lib/Core/widget/Toast.js");n.d(t,"Toast",(function(){return kt.default}));var Pt=n("./lib/Core/widget/Tool.js");n.d(t,"Tool",(function(){return Pt.default}));var Ot=n("./lib/Core/widget/Toolbar.js");n.d(t,"Toolbar",(function(){return Ot.default}));var Ft=n("./lib/Core/widget/Tooltip.js");n.d(t,"Tooltip",(function(){return Ft.default}));var At=n("./lib/Core/widget/Widget.js");n.d(t,"Widget",(function(){return At.default}));var It=n("./lib/Core/widget/layout/Layout.js");n.d(t,"Layout",(function(){return It.default}));var Lt=n("./lib/Core/widget/mixin/Badge.js");n.d(t,"Badge",(function(){return Lt.default}));var Ht=n("./lib/Core/widget/mixin/Rotatable.js");n.d(t,"Rotatable",(function(){return Ht.default}));var _t=n("./lib/Core/widget/mixin/Toolable.js");n.d(t,"Toolable",(function(){return _t.default}));var Bt=n("./lib/Core/widget/graph/Histogram.js");n.d(t,"Histogram",(function(){return Bt.default}));var $t=n("./lib/Core/widget/graph/Scale.js");n.d(t,"Scale",(function(){return $t.default}));var Gt=n("./lib/Core/widget/util/AvatarRendering.js");n.d(t,"AvatarRendering",(function(){return Gt.default})),window&&!window.bryntum&&(window.bryntum={})},"./webpack/webpack.core.entry.wc.js":function(e,t,n){"use strict";n.r(t);var r=n("./lib/Core/customElements/WidgetTag.js");n.d(t,"WidgetTag",(function(){return r.default}))},"./webpack/webpack.entry.js":function(e,t,n){"use strict";n.r(t);var r=n("./webpack/webpack.core.entry.js");n.d(t,"Base",(function(){return r.Base})),n.d(t,"Config",(function(){return r.Config})),n.d(t,"GlobalEvents",(function(){return r.GlobalEvents})),n.d(t,"AjaxStore",(function(){return r.AjaxStore})),n.d(t,"DomDataStore",(function(){return r.DomDataStore})),n.d(t,"Duration",(function(){return r.Duration})),n.d(t,"Model",(function(){return r.Model})),n.d(t,"Store",(function(){return r.Store})),n.d(t,"BooleanDataField",(function(){return r.BooleanDataField})),n.d(t,"DataField",(function(){return r.DataField})),n.d(t,"DateDataField",(function(){return r.DateDataField})),n.d(t,"IntegerDataField",(function(){return r.IntegerDataField})),n.d(t,"ModelDataField",(function(){return r.ModelDataField})),n.d(t,"NumberDataField",(function(){return r.NumberDataField})),n.d(t,"ObjectDataField",(function(){return r.ObjectDataField})),n.d(t,"StringDataField",(function(){return r.StringDataField})),n.d(t,"StoreChained",(function(){return r.StoreChained})),n.d(t,"StoreCRUD",(function(){return r.StoreCRUD})),n.d(t,"StoreFilter",(function(){return r.StoreFilter})),n.d(t,"StoreGroup",(function(){return r.StoreGroup})),n.d(t,"StoreProxy",(function(){return r.StoreProxy})),n.d(t,"StoreRelation",(function(){return r.StoreRelation})),n.d(t,"StoreSearch",(function(){return r.StoreSearch})),n.d(t,"StoreSort",(function(){return r.StoreSort})),n.d(t,"StoreState",(function(){return r.StoreState})),n.d(t,"StoreSum",(function(){return r.StoreSum})),n.d(t,"StoreSync",(function(){return r.StoreSync})),n.d(t,"StoreTree",(function(){return r.StoreTree})),n.d(t,"TreeNode",(function(){return r.TreeNode})),n.d(t,"ActionBase",(function(){return r.ActionBase})),n.d(t,"ModelStm",(function(){return r.ModelStm})),n.d(t,"StateBase",(function(){return r.StateBase})),n.d(t,"StateTrackingManager",(function(){return r.StateTrackingManager})),n.d(t,"StoreStm",(function(){return r.StoreStm})),n.d(t,"Transaction",(function(){return r.Transaction})),n.d(t,"AjaxHelper",(function(){return r.AjaxHelper})),n.d(t,"ArrayHelper",(function(){return r.ArrayHelper})),n.d(t,"AsyncHelper",(function(){return r.AsyncHelper})),n.d(t,"BrowserHelper",(function(){return r.BrowserHelper})),n.d(t,"CSSHelper",(function(){return r.CSSHelper})),n.d(t,"DateHelper",(function(){return r.DateHelper})),n.d(t,"DomHelper",(function(){return r.DomHelper})),n.d(t,"DomSync",(function(){return r.DomSync})),n.d(t,"DragHelper",(function(){return r.DragHelper})),n.d(t,"EventHelper",(function(){return r.EventHelper})),n.d(t,"FunctionHelper",(function(){return r.FunctionHelper})),n.d(t,"IdHelper",(function(){return r.IdHelper})),n.d(t,"ObjectHelper",(function(){return r.ObjectHelper})),n.d(t,"ResizeHelper",(function(){return r.ResizeHelper})),n.d(t,"ResizeMonitor",(function(){return r.ResizeMonitor})),n.d(t,"StringHelper",(function(){return r.StringHelper})),n.d(t,"TemplateHelper",(function(){return r.TemplateHelper})),n.d(t,"VersionHelper",(function(){return r.VersionHelper})),n.d(t,"WidgetHelper",(function(){return r.WidgetHelper})),n.d(t,"XMLHelper",(function(){return r.XMLHelper})),n.d(t,"DataGenerator",(function(){return r.DataGenerator})),n.d(t,"DemoBot",(function(){return r.DemoBot})),n.d(t,"DomClassList",(function(){return r.DomClassList})),n.d(t,"Formatter",(function(){return r.Formatter})),n.d(t,"Fullscreen",(function(){return r.Fullscreen})),n.d(t,"NumberFormat",(function(){return r.NumberFormat})),n.d(t,"Objects",(function(){return r.Objects})),n.d(t,"Point",(function(){return r.Point})),n.d(t,"Promissory",(function(){return r.Promissory})),n.d(t,"RandomGenerator",(function(){return r.RandomGenerator})),n.d(t,"Rectangle",(function(){return r.Rectangle})),n.d(t,"Scroller",(function(){return r.Scroller})),n.d(t,"LocaleHelper",(function(){return r.LocaleHelper})),n.d(t,"LocaleManager",(function(){return r.LocaleManager})),n.d(t,"Localizable",(function(){return r.Localizable})),n.d(t,"Delayable",(function(){return r.Delayable})),n.d(t,"Draggable",(function(){return r.Draggable})),n.d(t,"Droppable",(function(){return r.Droppable})),n.d(t,"Events",(function(){return r.Events})),n.d(t,"Factoryable",(function(){return r.Factoryable})),n.d(t,"Featureable",(function(){return r.Featureable})),n.d(t,"Finalizable",(function(){return r.Finalizable})),n.d(t,"Hoverable",(function(){return r.Hoverable})),n.d(t,"Identifiable",(function(){return r.Identifiable})),n.d(t,"InstancePlugin",(function(){return r.InstancePlugin})),n.d(t,"LoadMaskable",(function(){return r.LoadMaskable})),n.d(t,"Override",(function(){return r.Override})),n.d(t,"Pluggable",(function(){return r.Pluggable})),n.d(t,"State",(function(){return r.State})),n.d(t,"Bag",(function(){return r.Bag})),n.d(t,"ClickRepeater",(function(){return r.ClickRepeater})),n.d(t,"Collection",(function(){return r.Collection})),n.d(t,"CollectionFilter",(function(){return r.CollectionFilter})),n.d(t,"CollectionSorter",(function(){return r.CollectionSorter})),n.d(t,"DragContext",(function(){return r.DragContext})),n.d(t,"DragProxy",(function(){return r.DragProxy})),n.d(t,"DragTipProxy",(function(){return r.DragTipProxy})),n.d(t,"DynamicObject",(function(){return r.DynamicObject})),n.d(t,"Month",(function(){return r.Month})),n.d(t,"Parser",(function(){return r.Parser})),n.d(t,"BooleanCombo",(function(){return r.BooleanCombo})),n.d(t,"Button",(function(){return r.Button})),n.d(t,"ButtonGroup",(function(){return r.ButtonGroup})),n.d(t,"CalendarPanel",(function(){return r.CalendarPanel})),n.d(t,"Checkbox",(function(){return r.Checkbox})),n.d(t,"ChipView",(function(){return r.ChipView})),n.d(t,"Combo",(function(){return r.Combo})),n.d(t,"Container",(function(){return r.Container})),n.d(t,"DateField",(function(){return r.DateField})),n.d(t,"DatePicker",(function(){return r.DatePicker})),n.d(t,"DateTimeField",(function(){return r.DateTimeField})),n.d(t,"DisplayField",(function(){return r.DisplayField})),n.d(t,"DurationField",(function(){return r.DurationField})),n.d(t,"Editor",(function(){return r.Editor})),n.d(t,"Field",(function(){return r.Field})),n.d(t,"FileField",(function(){return r.FileField})),n.d(t,"FilePicker",(function(){return r.FilePicker})),n.d(t,"FilterField",(function(){return r.FilterField})),n.d(t,"List",(function(){return r.List})),n.d(t,"Mask",(function(){return r.Mask})),n.d(t,"Menu",(function(){return r.Menu})),n.d(t,"MenuItem",(function(){return r.MenuItem})),n.d(t,"MessageDialog",(function(){return r.MessageDialog})),n.d(t,"NumberField",(function(){return r.NumberField})),n.d(t,"PagingToolbar",(function(){return r.PagingToolbar})),n.d(t,"Panel",(function(){return r.Panel})),n.d(t,"PickerField",(function(){return r.PickerField})),n.d(t,"Popup",(function(){return r.Popup})),n.d(t,"Renderable",(function(){return r.Renderable})),n.d(t,"Ripple",(function(){return r.Ripple})),n.d(t,"Slider",(function(){return r.Slider})),n.d(t,"SlideToggle",(function(){return r.SlideToggle})),n.d(t,"Splitter",(function(){return r.Splitter})),n.d(t,"Tab",(function(){return r.Tab})),n.d(t,"TabBar",(function(){return r.TabBar})),n.d(t,"TabPanel",(function(){return r.TabPanel})),n.d(t,"TextAreaField",(function(){return r.TextAreaField})),n.d(t,"TextField",(function(){return r.TextField})),n.d(t,"TimeField",(function(){return r.TimeField})),n.d(t,"TimePicker",(function(){return r.TimePicker})),n.d(t,"Toast",(function(){return r.Toast})),n.d(t,"Tool",(function(){return r.Tool})),n.d(t,"Toolbar",(function(){return r.Toolbar})),n.d(t,"Tooltip",(function(){return r.Tooltip})),n.d(t,"Widget",(function(){return r.Widget})),n.d(t,"Layout",(function(){return r.Layout})),n.d(t,"Badge",(function(){return r.Badge})),n.d(t,"Rotatable",(function(){return r.Rotatable})),n.d(t,"Toolable",(function(){return r.Toolable})),n.d(t,"Histogram",(function(){return r.Histogram})),n.d(t,"Scale",(function(){return r.Scale})),n.d(t,"AvatarRendering",(function(){return r.AvatarRendering}));var i=n("./lib/Engine/vendor/later/later.js");n.d(t,"later",(function(){return i.default}));var o=n("./lib/Engine/scheduling/Types.js");n.d(t,"ConstraintType",(function(){return o.ConstraintType})),n.d(t,"SchedulingMode",(function(){return o.SchedulingMode})),n.d(t,"TimeUnit",(function(){return o.TimeUnit})),n.d(t,"ProjectType",(function(){return o.ProjectType}));var a=n("./lib/Engine/quark/model/gantt/GanttProjectMixin.js");n.d(t,"GanttProjectMixin",(function(){return a.GanttProjectMixin}));var s=n("./lib/Grid/column/ActionColumn.js");n.d(t,"ActionColumn",(function(){return s.default}));var l=n("./lib/Grid/column/AggregateColumn.js");n.d(t,"AggregateColumn",(function(){return l.default}));var c=n("./lib/Grid/column/CheckColumn.js");n.d(t,"CheckColumn",(function(){return c.default}));var d=n("./lib/Grid/column/Column.js");n.d(t,"Column",(function(){return d.default}));var u=n("./lib/Grid/column/DateColumn.js");n.d(t,"DateColumn",(function(){return u.default}));var h=n("./lib/Grid/column/NumberColumn.js");n.d(t,"NumberColumn",(function(){return h.default}));var f=n("./lib/Grid/column/PercentColumn.js");n.d(t,"PercentColumn",(function(){return f.default}));var g=n("./lib/Grid/column/RatingColumn.js");n.d(t,"RatingColumn",(function(){return g.default}));var m=n("./lib/Grid/column/RowNumberColumn.js");n.d(t,"RowNumberColumn",(function(){return m.default}));var p=n("./lib/Grid/column/TemplateColumn.js");n.d(t,"TemplateColumn",(function(){return p.default}));var v=n("./lib/Grid/column/TimeColumn.js");n.d(t,"TimeColumn",(function(){return v.default}));var b=n("./lib/Grid/column/TreeColumn.js");n.d(t,"TreeColumn",(function(){return b.default}));var y=n("./lib/Grid/column/WidgetColumn.js");n.d(t,"WidgetColumn",(function(){return y.default}));var C=n("./lib/Grid/data/ColumnStore.js");n.d(t,"ColumnStore",(function(){return C.default}));var S=n("./lib/Grid/data/GridRowModel.js");n.d(t,"GridRowModel",(function(){return S.default}));var w=n("./lib/Grid/feature/CellEdit.js");n.d(t,"GridCellEdit",(function(){return w.default}));var E=n("./lib/Grid/feature/CellMenu.js");n.d(t,"CellMenu",(function(){return E.default}));var D=n("./lib/Grid/feature/CellTooltip.js");n.d(t,"CellTooltip",(function(){return D.default}));var x=n("./lib/Grid/feature/ColumnAutoWidth.js");n.d(t,"ColumnAutoWidth",(function(){return x.default}));var j=n("./lib/Grid/feature/ColumnDragToolbar.js");n.d(t,"ColumnDragToolbar",(function(){return j.default}));var T=n("./lib/Grid/feature/ColumnPicker.js");n.d(t,"ColumnPicker",(function(){return T.default}));var R=n("./lib/Grid/feature/ColumnReorder.js");n.d(t,"ColumnReorder",(function(){return R.default}));var M=n("./lib/Grid/feature/ColumnResize.js");n.d(t,"ColumnResize",(function(){return M.default}));var k=n("./lib/Grid/feature/ContextMenu.js");n.d(t,"ContextMenu",(function(){return k.default}));var P=n("./lib/Grid/feature/base/ContextMenuBase.js");n.d(t,"ContextMenuBase",(function(){return P.default}));var O=n("./lib/Grid/feature/Filter.js");n.d(t,"Filter",(function(){return O.default}));var F=n("./lib/Grid/feature/FilterBar.js");n.d(t,"FilterBar",(function(){return F.default}));var A=n("./lib/Grid/feature/GridFeatureManager.js");n.d(t,"GridFeatureManager",(function(){return A.default}));var I=n("./lib/Grid/feature/Group.js");n.d(t,"Group",(function(){return I.default}));var L=n("./lib/Grid/feature/GroupSummary.js");n.d(t,"GridGroupSummary",(function(){return L.default}));var H=n("./lib/Grid/feature/HeaderMenu.js");n.d(t,"HeaderMenu",(function(){return H.default}));var _=n("./lib/Grid/feature/QuickFind.js");n.d(t,"QuickFind",(function(){return _.default}));var B=n("./lib/Grid/feature/RegionResize.js");n.d(t,"RegionResize",(function(){return B.default}));var $=n("./lib/Grid/feature/RowReorder.js");n.d(t,"RowReorder",(function(){return $.default}));var G=n("./lib/Grid/feature/Search.js");n.d(t,"Search",(function(){return G.default}));var N=n("./lib/Grid/feature/Sort.js");n.d(t,"Sort",(function(){return N.default}));var z=n("./lib/Grid/feature/Stripe.js");n.d(t,"Stripe",(function(){return z.default}));var V=n("./lib/Grid/feature/Summary.js");n.d(t,"GridSummary",(function(){return V.default}));var W=n("./lib/Grid/feature/Tree.js");n.d(t,"Tree",(function(){return W.default}));var U=n("./lib/Grid/view/export/ExportDialog.js");n.d(t,"ExportDialog",(function(){return U.default}));var q=n("./lib/Grid/feature/export/exporter/Exporter.js");n.d(t,"Exporter",(function(){return q.default}));var Y=n("./lib/Grid/view/export/field/ExportOrientationCombo.js");n.d(t,"ExportOrientationCombo",(function(){return Y.default}));var K=n("./lib/Grid/view/export/field/ExportRowsCombo.js");n.d(t,"ExportRowsCombo",(function(){return K.default}));var X=n("./lib/Grid/view/export/field/LocalizableCombo.js");n.d(t,"LocalizableCombo",(function(){return X.default}));var Q=n("./lib/Grid/feature/export/exporter/MultiPageExporter.js");n.d(t,"GridMultiPageExporter",(function(){return Q.default}));var Z=n("./lib/Grid/feature/export/exporter/MultiPageVerticalExporter.js");n.d(t,"GridMultiPageVerticalExporter",(function(){return Z.default}));var J=n("./lib/Grid/feature/export/PdfExport.js");n.d(t,"GridPdfExport",(function(){return J.default}));var ee=n("./lib/Grid/feature/export/exporter/SinglePageExporter.js");n.d(t,"GridSinglePageExporter",(function(){return ee.default}));var te=n("./lib/Grid/feature/export/Utils.js");n.d(t,"FileFormat",(function(){return te.FileFormat})),n.d(t,"Orientation",(function(){return te.Orientation})),n.d(t,"PaperFormat",(function(){return te.PaperFormat})),n.d(t,"RowsRange",(function(){return te.RowsRange}));var ne=n("./lib/Grid/feature/experimental/ExcelExporter.js");n.d(t,"GridExcelExporter",(function(){return ne.default}));var re=n("./lib/Grid/util/ScrollManager.js");n.d(t,"ScrollManager",(function(){return re.default}));var ie=n("./lib/Grid/util/TableExporter.js");n.d(t,"TableExporter",(function(){return ie.default}));var oe=n("./lib/Grid/row/Row.js");n.d(t,"Row",(function(){return oe.default}));var ae=n("./lib/Grid/view/Bar.js");n.d(t,"Bar",(function(){return ae.default}));var se=n("./lib/Grid/view/Footer.js");n.d(t,"Footer",(function(){return se.default}));var le=n("./lib/Grid/view/Grid.js");n.d(t,"Grid",(function(){return le.default}));var ce=n("./lib/Grid/view/GridBase.js");n.d(t,"GridBase",(function(){return ce.default}));var de=n("./lib/Grid/view/Header.js");n.d(t,"Header",(function(){return de.default}));var ue=n("./lib/Grid/row/RowManager.js");n.d(t,"RowManager",(function(){return ue.default}));var he=n("./lib/Grid/view/SubGrid.js");n.d(t,"SubGrid",(function(){return he.default}));var fe=n("./lib/Grid/view/TreeGrid.js");n.d(t,"TreeGrid",(function(){return fe.default}));var ge=n("./lib/Grid/view/mixin/GridElementEvents.js");n.d(t,"GridElementEvents",(function(){return ge.default}));var me=n("./lib/Grid/view/mixin/GridFeatures.js");n.d(t,"GridFeatures",(function(){return me.default}));var pe=n("./lib/Grid/view/mixin/GridResponsive.js");n.d(t,"GridResponsive",(function(){return pe.default}));var ve=n("./lib/Grid/view/mixin/GridSelection.js");n.d(t,"GridSelection",(function(){return ve.default}));var be=n("./lib/Grid/view/mixin/GridState.js");n.d(t,"GridState",(function(){return be.default}));var ye=n("./lib/Grid/view/mixin/GridSubGrids.js");n.d(t,"GridSubGrids",(function(){return ye.default}));var Ce=n("./lib/Scheduler/crud/AbstractCrudManager.js");n.d(t,"AbstractCrudManager",(function(){return Ce.default}));var Se=n("./lib/Scheduler/crud/AbstractCrudManagerMixin.js");n.d(t,"AbstractCrudManagerMixin",(function(){return Se.default}));var we=n("./lib/Scheduler/crud/transport/AjaxTransport.js");n.d(t,"AjaxTransport",(function(){return we.default}));var Ee=n("./lib/Scheduler/crud/encoder/JsonEncoder.js");n.d(t,"JsonEncoder",(function(){return Ee.default}));var De=n("./lib/Scheduler/crud/mixin/CrudManagerView.js");n.d(t,"CrudManagerView",(function(){return De.default}));var xe=n("./lib/Scheduler/data/AssignmentStore.js");n.d(t,"SchedulerAssignmentStore",(function(){return xe.default}));var je=n("./lib/Scheduler/data/CrudManager.js");n.d(t,"CrudManager",(function(){return je.default}));var Te=n("./lib/Scheduler/data/DependencyStore.js");n.d(t,"SchedulerDependencyStore",(function(){return Te.default}));var Re=n("./lib/Scheduler/data/EventStore.js");n.d(t,"SchedulerEventStore",(function(){return Re.default}));var Me=n("./lib/Scheduler/data/ResourceStore.js");n.d(t,"SchedulerResourceStore",(function(){return Me.default}));var ke=n("./lib/Scheduler/data/ResourceTimeRangeStore.js");n.d(t,"ResourceTimeRangeStore",(function(){return ke.default}));var Pe=n("./lib/Scheduler/data/TimeAxis.js");n.d(t,"TimeAxis",(function(){return Pe.default}));var Oe=n("./lib/Scheduler/data/mixin/AssignmentStoreMixin.js");n.d(t,"AssignmentStoreMixin",(function(){return Oe.default}));var Fe=n("./lib/Scheduler/data/mixin/AttachToProjectMixin.js");n.d(t,"AttachToProjectMixin",(function(){return Fe.default}));var Ae=n("./lib/Scheduler/data/mixin/DependencyStoreMixin.js");n.d(t,"DependencyStoreMixin",(function(){return Ae.default}));var Ie=n("./lib/Scheduler/data/mixin/EventStoreMixin.js");n.d(t,"EventStoreMixin",(function(){return Ie.default}));var Le=n("./lib/Scheduler/data/mixin/PartOfBaseProject.js");n.d(t,"PartOfBaseProject",(function(){return Le.default}));var He=n("./lib/Scheduler/data/mixin/PartOfProject.js");n.d(t,"SchedulerPartOfProject",(function(){return He.default}));var _e=n("./lib/Scheduler/data/mixin/ProjectConsumer.js");n.d(t,"ProjectConsumer",(function(){return _e.default}));var Be=n("./lib/Scheduler/data/mixin/ProjectCrudManager.js");n.d(t,"SchedulerProjectCrudManager",(function(){return Be.default}));var $e=n("./lib/Scheduler/data/mixin/RecurringEventsMixin.js");n.d(t,"RecurringEventsMixin",(function(){return $e.default}));var Ge=n("./lib/Scheduler/data/mixin/RecurringTimeSpansMixin.js");n.d(t,"RecurringTimeSpansMixin",(function(){return Ge.default}));var Ne=n("./lib/Scheduler/data/mixin/ResourceStoreMixin.js");n.d(t,"ResourceStoreMixin",(function(){return Ne.default}));var ze=n("./lib/Scheduler/data/mixin/SharedEventStoreMixin.js");n.d(t,"SharedEventStoreMixin",(function(){return ze.default}));var Ve=n("./lib/Scheduler/feature/base/DragCreateBase.js");n.d(t,"DragCreateBase",(function(){return Ve.default}));var We=n("./lib/Scheduler/feature/base/EditBase.js");n.d(t,"EditBase",(function(){return We.default}));var Ue=n("./lib/Scheduler/feature/base/ResizeBase.js");n.d(t,"ResizeBase",(function(){return Ue.default}));var qe=n("./lib/Scheduler/feature/base/ResourceTimeRangesBase.js");n.d(t,"ResourceTimeRangesBase",(function(){return qe.default}));var Ye=n("./lib/Scheduler/feature/base/TimeSpanMenuBase.js");n.d(t,"TimeSpanMenuBase",(function(){return Ye.default}));var Ke=n("./lib/Scheduler/feature/base/TimeSpanRecordContextMenuBase.js");n.d(t,"TimeSpanRecordContextMenuBase",(function(){return Ke.default}));var Xe=n("./lib/Scheduler/feature/base/TooltipBase.js");n.d(t,"TooltipBase",(function(){return Xe.default}));var Qe=n("./lib/Scheduler/feature/base/DragBase.js");n.d(t,"DragBase",(function(){return Qe.default}));var Ze=n("./lib/Scheduler/feature/AbstractTimeRanges.js");n.d(t,"AbstractTimeRanges",(function(){return Ze.default}));var Je=n("./lib/Scheduler/feature/ColumnLines.js");n.d(t,"ColumnLines",(function(){return Je.default}));var et=n("./lib/Scheduler/feature/Dependencies.js");n.d(t,"SchedulerDependencies",(function(){return et.default}));var tt=n("./lib/Scheduler/feature/DependencyEdit.js");n.d(t,"SchedulerDependencyEdit",(function(){return tt.default}));var nt=n("./lib/Scheduler/feature/EventContextMenu.js");n.d(t,"EventContextMenu",(function(){return nt.default}));var rt=n("./lib/Scheduler/feature/EventDrag.js");n.d(t,"EventDrag",(function(){return rt.default}));var it=n("./lib/Scheduler/feature/EventDragCreate.js");n.d(t,"EventDragCreate",(function(){return it.default}));var ot=n("./lib/Scheduler/feature/EventDragSelect.js");n.d(t,"EventDragSelect",(function(){return ot.default}));var at=n("./lib/Scheduler/feature/EventEdit.js");n.d(t,"EventEdit",(function(){return at.default}));var st=n("./lib/Scheduler/feature/EventFilter.js");n.d(t,"EventFilter",(function(){return st.default}));var lt=n("./lib/Scheduler/feature/EventMenu.js");n.d(t,"EventMenu",(function(){return lt.default}));var ct=n("./lib/Scheduler/feature/EventResize.js");n.d(t,"SchedulerEventResize",(function(){return ct.default}));var dt=n("./lib/Scheduler/feature/EventTooltip.js");n.d(t,"EventTooltip",(function(){return dt.default}));var ut=n("./lib/Scheduler/feature/GroupSummary.js");n.d(t,"GroupSummary",(function(){return ut.default}));var ht=n("./lib/Scheduler/feature/HeaderContextMenu.js");n.d(t,"HeaderContextMenu",(function(){return ht.default}));var ft=n("./lib/Scheduler/feature/HeaderZoom.js");n.d(t,"HeaderZoom",(function(){return ft.default}));var gt=n("./lib/Scheduler/feature/Labels.js");n.d(t,"SchedulerLabels",(function(){return gt.default}));var mt=n("./lib/Scheduler/feature/NonWorkingTime.js");n.d(t,"NonWorkingTime",(function(){return mt.default}));var pt=n("./lib/Scheduler/feature/Pan.js");n.d(t,"Pan",(function(){return pt.default}));var vt=n("./lib/Scheduler/feature/ResourceTimeRanges.js");n.d(t,"ResourceTimeRanges",(function(){return vt.default}));var bt=n("./lib/Scheduler/feature/ScheduleContextMenu.js");n.d(t,"ScheduleContextMenu",(function(){return bt.default}));var yt=n("./lib/Scheduler/feature/ScheduleMenu.js");n.d(t,"ScheduleMenu",(function(){return yt.default}));var Ct=n("./lib/Scheduler/feature/ScheduleTooltip.js");n.d(t,"ScheduleTooltip",(function(){return Ct.default}));var St=n("./lib/Scheduler/feature/SimpleEventEdit.js");n.d(t,"SimpleEventEdit",(function(){return St.default}));var wt=n("./lib/Scheduler/feature/StickyEvents.js");n.d(t,"StickyEvents",(function(){return wt.default}));var Et=n("./lib/Scheduler/feature/Summary.js");n.d(t,"Summary",(function(){return Et.default}));var Dt=n("./lib/Scheduler/feature/TimeAxisHeaderMenu.js");n.d(t,"TimeAxisHeaderMenu",(function(){return Dt.default}));var xt=n("./lib/Scheduler/feature/TimeRanges.js");n.d(t,"TimeRanges",(function(){return xt.default}));var jt=n("./lib/Scheduler/feature/mixin/DependencyCreation.js");n.d(t,"DependencyCreation",(function(){return jt.default}));var Tt=n("./lib/Scheduler/feature/mixin/RecurringEventEdit.js");n.d(t,"RecurringEventEdit",(function(){return Tt.default}));var Rt=n("./lib/Scheduler/feature/export/exporter/MultiPageExporter.js");n.d(t,"SchedulerMultiPageExporter",(function(){return Rt.default}));var Mt=n("./lib/Scheduler/feature/export/exporter/MultiPageVerticalExporter.js");n.d(t,"SchedulerMultiPageVerticalExporter",(function(){return Mt.default}));var kt=n("./lib/Scheduler/feature/export/PdfExport.js");n.d(t,"SchedulerPdfExport",(function(){return kt.default}));var Pt=n("./lib/Scheduler/view/export/field/ScheduleRangeCombo.js");n.d(t,"ScheduleRangeCombo",(function(){return Pt.default}));var Ot=n("./lib/Scheduler/view/export/SchedulerExportDialog.js");n.d(t,"SchedulerExportDialog",(function(){return Ot.default}));var Ft=n("./lib/Scheduler/feature/export/exporter/SinglePageExporter.js");n.d(t,"SchedulerSinglePageExporter",(function(){return Ft.default}));var At=n("./lib/Scheduler/feature/export/Utils.js");n.d(t,"ScheduleRange",(function(){return At.ScheduleRange}));var It=n("./lib/Scheduler/feature/experimental/ExcelExporter.js");n.d(t,"ExcelExporter",(function(){return It.default}));var Lt=n("./lib/Scheduler/column/ResourceInfoColumn.js");n.d(t,"ResourceInfoColumn",(function(){return Lt.default}));var Ht=n("./lib/Scheduler/column/TimeAxisColumn.js");n.d(t,"SchedulerTimeAxisColumn",(function(){return Ht.default}));var _t=n("./lib/Scheduler/model/AssignmentModel.js");n.d(t,"SchedulerAssignmentModel",(function(){return _t.default}));var Bt=n("./lib/Scheduler/model/DependencyBaseModel.js");n.d(t,"DependencyBaseModel",(function(){return Bt.default}));var $t=n("./lib/Scheduler/model/DependencyModel.js");n.d(t,"SchedulerDependencyModel",(function(){return $t.default}));var Gt=n("./lib/Scheduler/model/EventModel.js");n.d(t,"SchedulerEventModel",(function(){return Gt.default}));var Nt=n("./lib/Scheduler/model/ProjectModel.js");n.d(t,"SchedulerProjectModel",(function(){return Nt.default}));var zt=n("./lib/Scheduler/model/RecurrenceModel.js");n.d(t,"RecurrenceModel",(function(){return zt.default}));var Vt=n("./lib/Scheduler/model/ResourceModel.js");n.d(t,"SchedulerResourceModel",(function(){return Vt.default}));var Wt=n("./lib/Scheduler/model/ResourceTimeRangeModel.js");n.d(t,"ResourceTimeRangeModel",(function(){return Wt.default}));var Ut=n("./lib/Scheduler/model/TimeSpan.js");n.d(t,"TimeSpan",(function(){return Ut.default}));var qt=n("./lib/Scheduler/model/mixin/AssignmentModelMixin.js");n.d(t,"AssignmentModelMixin",(function(){return qt.default}));var Yt=n("./lib/Scheduler/model/mixin/EventModelMixin.js");n.d(t,"EventModelMixin",(function(){return Yt.default}));var Kt=n("./lib/Scheduler/model/mixin/ProjectModelMixin.js");n.d(t,"ProjectModelMixin",(function(){return Kt.default}));var Xt=n("./lib/Scheduler/model/mixin/RecurringTimeSpan.js");n.d(t,"RecurringTimeSpan",(function(){return Xt.default}));var Qt=n("./lib/Scheduler/model/mixin/ResourceModelMixin.js");n.d(t,"ResourceModelMixin",(function(){return Qt.default}));var Zt=n("./lib/Scheduler/preset/PresetManager.js");n.d(t,"PresetManager",(function(){return Zt.default}));var Jt=n("./lib/Scheduler/preset/PresetStore.js");n.d(t,"PresetStore",(function(){return Jt.default}));var en=n("./lib/Scheduler/preset/ViewPreset.js");n.d(t,"ViewPreset",(function(){return en.default}));var tn=n("./lib/Scheduler/util/RectangularPathFinder.js");n.d(t,"RectangularPathFinder",(function(){return tn.default}));var nn=n("./lib/Scheduler/util/ScheduleTableExporter.js");n.d(t,"ScheduleTableExporter",(function(){return nn.default}));var rn=n("./lib/Scheduler/view/HorizontalTimeAxis.js");n.d(t,"HorizontalTimeAxis",(function(){return rn.default}));var on=n("./lib/Scheduler/view/Scheduler.js");n.d(t,"Scheduler",(function(){return on.default}));var an=n("./lib/Scheduler/view/SchedulerBase.js");n.d(t,"SchedulerBase",(function(){return an.default}));var sn=n("./lib/Scheduler/view/model/TimeAxisViewModel.js");n.d(t,"TimeAxisViewModel",(function(){return sn.default}));var ln=n("./lib/Scheduler/view/TimelineBase.js");n.d(t,"TimelineBase",(function(){return ln.default}));var cn=n("./lib/Scheduler/view/ResourceHeader.js");n.d(t,"ResourceHeader",(function(){return cn.default}));var dn=n("./lib/Scheduler/view/mixin/EventNavigation.js");n.d(t,"EventNavigation",(function(){return dn.default}));var un=n("./lib/Scheduler/view/mixin/EventSelection.js");n.d(t,"EventSelection",(function(){return un.default}));var hn=n("./lib/Scheduler/view/mixin/RecurringEvents.js");n.d(t,"RecurringEvents",(function(){return hn.default}));var fn=n("./lib/Scheduler/view/mixin/SchedulerDom.js");n.d(t,"SchedulerDom",(function(){return fn.default}));var gn=n("./lib/Scheduler/view/mixin/SchedulerDomEvents.js");n.d(t,"SchedulerDomEvents",(function(){return gn.default}));var mn=n("./lib/Scheduler/view/mixin/SchedulerDragResize.js");n.d(t,"SchedulerDragResize",(function(){return mn.default}));var pn=n("./lib/Scheduler/view/mixin/SchedulerEventRendering.js");n.d(t,"SchedulerEventRendering",(function(){return pn.default}));var vn=n("./lib/Scheduler/view/mixin/SchedulerRegions.js");n.d(t,"SchedulerRegions",(function(){return vn.default}));var bn=n("./lib/Scheduler/view/mixin/SchedulerScroll.js");n.d(t,"SchedulerScroll",(function(){return bn.default}));var yn=n("./lib/Scheduler/view/mixin/SchedulerState.js");n.d(t,"SchedulerState",(function(){return yn.default}));var Cn=n("./lib/Scheduler/view/mixin/SchedulerStores.js");n.d(t,"SchedulerStores",(function(){return Cn.default}));var Sn=n("./lib/Scheduler/view/mixin/TimelineDateMapper.js");n.d(t,"TimelineDateMapper",(function(){return Sn.default}));var wn=n("./lib/Scheduler/view/mixin/TimelineDomEvents.js");n.d(t,"TimelineDomEvents",(function(){return wn.default}));var En=n("./lib/Scheduler/view/mixin/TimelineEventRendering.js");n.d(t,"TimelineEventRendering",(function(){return En.default}));var Dn=n("./lib/Scheduler/view/mixin/TimelineScroll.js");n.d(t,"TimelineScroll",(function(){return Dn.default}));var xn=n("./lib/Scheduler/view/mixin/TimelineViewPresets.js");n.d(t,"TimelineViewPresets",(function(){return xn.default}));var jn=n("./lib/Scheduler/view/mixin/TimelineZoomable.js");n.d(t,"TimelineZoomable",(function(){return jn.default}));var Tn=n("./lib/Scheduler/view/recurrence/field/RecurrenceCombo.js");n.d(t,"RecurrenceCombo",(function(){return Tn.default}));var Rn=n("./lib/Scheduler/view/recurrence/RecurrenceConfirmationPopup.js");n.d(t,"RecurrenceConfirmationPopup",(function(){return Rn.default}));var Mn=n("./lib/Scheduler/view/recurrence/field/RecurrenceDaysButtonGroup.js");n.d(t,"RecurrenceDaysButtonGroup",(function(){return Mn.default}));var kn=n("./lib/Scheduler/view/recurrence/field/RecurrenceDaysCombo.js");n.d(t,"RecurrenceDaysCombo",(function(){return kn.default}));var Pn=n("./lib/Scheduler/view/recurrence/RecurrenceEditor.js");n.d(t,"RecurrenceEditor",(function(){return Pn.default}));var On=n("./lib/Scheduler/view/recurrence/field/RecurrenceFrequencyCombo.js");n.d(t,"RecurrenceFrequencyCombo",(function(){return On.default}));var Fn=n("./lib/Scheduler/view/recurrence/RecurrenceLegendButton.js");n.d(t,"RecurrenceLegendButton",(function(){return Fn.default}));var An=n("./lib/Scheduler/view/recurrence/field/RecurrenceMonthDaysButtonGroup.js");n.d(t,"RecurrenceMonthDaysButtonGroup",(function(){return An.default}));var In=n("./lib/Scheduler/view/recurrence/field/RecurrenceMonthsButtonGroup.js");n.d(t,"RecurrenceMonthsButtonGroup",(function(){return In.default}));var Ln=n("./lib/Scheduler/view/recurrence/field/RecurrencePositionsCombo.js");n.d(t,"RecurrencePositionsCombo",(function(){return Ln.default}));var Hn=n("./lib/Scheduler/view/recurrence/field/RecurrenceStopConditionCombo.js");n.d(t,"RecurrenceStopConditionCombo",(function(){return Hn.default}));var _n=n("./lib/Scheduler/widget/ResourceCombo.js");n.d(t,"ResourceCombo",(function(){return _n.default}));var Bn=n("./lib/Scheduler/widget/ResourceFilter.js");n.d(t,"ResourceFilter",(function(){return Bn.default}));var $n=n("./lib/Scheduler/widget/UndoRedo.js");n.d(t,"UndoRedo",(function(){return $n.default}));var Gn=n("./lib/Scheduler/customElements/TimelineBaseTag.js");n.d(t,"TimelineBaseTag",(function(){return Gn.default}));var Nn=n("./lib/SchedulerPro/data/AssignmentStore.js");n.d(t,"SchedulerProAssignmentStore",(function(){return Nn.default}));var zn=n("./lib/SchedulerPro/data/CalendarManagerStore.js");n.d(t,"SchedulerProCalendarManagerStore",(function(){return zn.default}));var Vn=n("./lib/SchedulerPro/data/DependencyStore.js");n.d(t,"SchedulerProDependencyStore",(function(){return Vn.default}));var Wn=n("./lib/SchedulerPro/data/EventStore.js");n.d(t,"EventStore",(function(){return Wn.default}));var Un=n("./lib/SchedulerPro/data/ResourceStore.js");n.d(t,"SchedulerProResourceStore",(function(){return Un.default}));var qn=n("./lib/SchedulerPro/data/mixin/PartOfProject.js");n.d(t,"PartOfProject",(function(){return qn.default}));var Yn=n("./lib/SchedulerPro/data/mixin/ProjectCrudManager.js");n.d(t,"ProjectCrudManager",(function(){return Yn.default}));var Kn=n("./lib/SchedulerPro/model/AssignmentModel.js");n.d(t,"SchedulerProAssignmentModel",(function(){return Kn.default}));var Xn=n("./lib/SchedulerPro/model/CalendarIntervalModel.js");n.d(t,"SchedulerProCalendarIntervalModel",(function(){return Xn.default}));var Qn=n("./lib/SchedulerPro/model/CalendarModel.js");n.d(t,"SchedulerProCalendarModel",(function(){return Qn.default}));var Zn=n("./lib/SchedulerPro/model/DependencyModel.js");n.d(t,"SchedulerProDependencyModel",(function(){return Zn.default}));var Jn=n("./lib/SchedulerPro/model/EventModel.js");n.d(t,"EventModel",(function(){return Jn.default}));var er=n("./lib/SchedulerPro/model/ProjectModel.js");n.d(t,"SchedulerProProjectModel",(function(){return er.default}));var tr=n("./lib/SchedulerPro/model/ResourceModel.js");n.d(t,"SchedulerProResourceModel",(function(){return tr.default}));var nr=n("./lib/SchedulerPro/model/mixin/PercentDoneMixin.js");n.d(t,"PercentDoneMixin",(function(){return nr.default}));var rr=n("./lib/SchedulerPro/column/DurationColumn.js");n.d(t,"DurationColumn",(function(){return rr.default}));var ir=n("./lib/SchedulerPro/column/ResourceCalendarColumn.js");n.d(t,"ResourceCalendarColumn",(function(){return ir.default}));var or=n("./lib/SchedulerPro/column/ScaleColumn.js");n.d(t,"ScaleColumn",(function(){return or.default}));var ar=n("./lib/SchedulerPro/feature/mixin/ProTaskEditStm.js");n.d(t,"ProTaskEditStm",(function(){return ar.default}));var sr=n("./lib/SchedulerPro/widget/CalendarField.js");n.d(t,"CalendarField",(function(){return sr.default}));var lr=n("./lib/SchedulerPro/widget/ConstraintTypePicker.js");n.d(t,"ConstraintTypePicker",(function(){return lr.default}));var cr=n("./lib/SchedulerPro/widget/DependencyTypePicker.js");n.d(t,"DependencyTypePicker",(function(){return cr.default}));var dr=n("./lib/SchedulerPro/widget/EffortField.js");n.d(t,"EffortField",(function(){return dr.default}));var ur=n("./lib/SchedulerPro/widget/EndDateField.js");n.d(t,"EndDateField",(function(){return ur.default}));var hr=n("./lib/SchedulerPro/widget/GanttTaskEditor.js");n.d(t,"GanttTaskEditor",(function(){return hr.default}));var fr=n("./lib/SchedulerPro/widget/ModelCombo.js");n.d(t,"ModelCombo",(function(){return fr.default}));var gr=n("./lib/SchedulerPro/widget/SchedulerTaskEditor.js");n.d(t,"SchedulerTaskEditor",(function(){return gr.default}));var mr=n("./lib/SchedulerPro/widget/SchedulingModePicker.js");n.d(t,"SchedulingModePicker",(function(){return mr.default}));var pr=n("./lib/SchedulerPro/widget/StartDateField.js");n.d(t,"StartDateField",(function(){return pr.default}));var vr=n("./lib/SchedulerPro/widget/TaskEditorBase.js");n.d(t,"TaskEditorBase",(function(){return vr.default}));var br=n("./lib/SchedulerPro/widget/Timeline.js");n.d(t,"Timeline",(function(){return br.default}));var yr=n("./lib/SchedulerPro/widget/taskeditor/AdvancedTab.js");n.d(t,"AdvancedTab",(function(){return yr.default}));var Cr=n("./lib/SchedulerPro/widget/taskeditor/DependencyTab.js");n.d(t,"DependencyTab",(function(){return Cr.default}));var Sr=n("./lib/SchedulerPro/widget/taskeditor/EditorTab.js");n.d(t,"EditorTab",(function(){return Sr.default}));var wr=n("./lib/SchedulerPro/widget/taskeditor/FormTab.js");n.d(t,"FormTab",(function(){return wr.default}));var Er=n("./lib/SchedulerPro/widget/taskeditor/GeneralTab.js");n.d(t,"GeneralTab",(function(){return Er.default}));var Dr=n("./lib/SchedulerPro/widget/taskeditor/NotesTab.js");n.d(t,"NotesTab",(function(){return Dr.default}));var xr=n("./lib/SchedulerPro/widget/taskeditor/PredecessorsTab.js");n.d(t,"PredecessorsTab",(function(){return xr.default}));var jr=n("./lib/SchedulerPro/widget/taskeditor/ResourcesTab.js");n.d(t,"ResourcesTab",(function(){return jr.default}));var Tr=n("./lib/SchedulerPro/widget/taskeditor/SchedulerAdvancedTab.js");n.d(t,"SchedulerAdvancedTab",(function(){return Tr.default}));var Rr=n("./lib/SchedulerPro/widget/taskeditor/SchedulerGeneralTab.js");n.d(t,"SchedulerGeneralTab",(function(){return Rr.default}));var Mr=n("./lib/SchedulerPro/widget/taskeditor/SuccessorsTab.js");n.d(t,"SuccessorsTab",(function(){return Mr.default}));var kr=n("./lib/SchedulerPro/widget/taskeditor/mixin/EventLoader.js");n.d(t,"EventLoader",(function(){return kr.default}));var Pr=n("./lib/SchedulerPro/widget/taskeditor/mixin/ReadyStatePropagator.js");n.d(t,"ReadyStatePropagator",(function(){return Pr.default}));var Or=n("./lib/SchedulerPro/feature/PercentBar.js");n.d(t,"PercentBar",(function(){return Or.default}));var Fr=n("./lib/SchedulerPro/feature/ResourceNonWorkingTime.js");n.d(t,"ResourceNonWorkingTime",(function(){return Fr.default}));var Ar=n("./lib/SchedulerPro/feature/TaskEdit.js");n.d(t,"SchedulerProTaskEdit",(function(){return Ar.default}));var Ir=n("./lib/SchedulerPro/view/ResourceHistogram.js");n.d(t,"ResourceHistogram",(function(){return Ir.default}));var Lr=n("./lib/SchedulerPro/view/SchedulerProBase.js");n.d(t,"SchedulerProBase",(function(){return Lr.default}));var Hr=n("./lib/SchedulerPro/view/SchedulerPro.js");n.d(t,"SchedulerPro",(function(){return Hr.default}));var _r=n("./lib/Gantt/data/CalendarManagerStore.js");n.d(t,"CalendarManagerStore",(function(){return _r.default}));var Br=n("./lib/Gantt/column/AddNewColumn.js");n.d(t,"AddNewColumn",(function(){return Br.default}));var $r=n("./lib/Gantt/column/AllColumns.js");n.d(t,"AllColumns",(function(){return $r.default}));var Gr=n("./lib/Gantt/column/CalendarColumn.js");n.d(t,"CalendarColumn",(function(){return Gr.default}));var Nr=n("./lib/Gantt/column/ConstraintDateColumn.js");n.d(t,"ConstraintDateColumn",(function(){return Nr.default}));var zr=n("./lib/Gantt/column/ConstraintTypeColumn.js");n.d(t,"ConstraintTypeColumn",(function(){return zr.default}));var Vr=n("./lib/Gantt/column/DeadlineDateColumn.js");n.d(t,"DeadlineDateColumn",(function(){return Vr.default}));var Wr=n("./lib/Gantt/column/DependencyColumn.js");n.d(t,"DependencyColumn",(function(){return Wr.default}));var Ur=n("./lib/Gantt/column/EarlyEndDateColumn.js");n.d(t,"EarlyEndDateColumn",(function(){return Ur.default}));var qr=n("./lib/Gantt/column/EarlyStartDateColumn.js");n.d(t,"EarlyStartDateColumn",(function(){return qr.default}));var Yr=n("./lib/Gantt/column/EffortColumn.js");n.d(t,"EffortColumn",(function(){return Yr.default}));var Kr=n("./lib/Gantt/column/EndDateColumn.js");n.d(t,"EndDateColumn",(function(){return Kr.default}));var Xr=n("./lib/Gantt/column/EventModeColumn.js");n.d(t,"EventModeColumn",(function(){return Xr.default}));var Qr=n("./lib/Gantt/column/GanttDateColumn.js");n.d(t,"GanttDateColumn",(function(){return Qr.default}));var Zr=n("./lib/Gantt/column/LateEndDateColumn.js");n.d(t,"LateEndDateColumn",(function(){return Zr.default}));var Jr=n("./lib/Gantt/column/LateStartDateColumn.js");n.d(t,"LateStartDateColumn",(function(){return Jr.default}));var ei=n("./lib/Gantt/column/ManuallyScheduledColumn.js");n.d(t,"ManuallyScheduledColumn",(function(){return ei.default}));var ti=n("./lib/Gantt/column/MilestoneColumn.js");n.d(t,"MilestoneColumn",(function(){return ti.default}));var ni=n("./lib/Gantt/column/NameColumn.js");n.d(t,"NameColumn",(function(){return ni.default}));var ri=n("./lib/Gantt/column/NoteColumn.js");n.d(t,"NoteColumn",(function(){return ri.default}));var ii=n("./lib/Gantt/column/PercentDoneColumn.js");n.d(t,"PercentDoneColumn",(function(){return ii.default}));var oi=n("./lib/Gantt/column/PredecessorColumn.js");n.d(t,"PredecessorColumn",(function(){return oi.default}));var ai=n("./lib/Gantt/column/ResourceAssignmentColumn.js");n.d(t,"ResourceAssignmentColumn",(function(){return ai.default}));var si=n("./lib/Gantt/column/ResourceAssignmentGridResourceColumn.js");n.d(t,"ResourceAssignmentGridResourceColumn",(function(){return si.default}));var li=n("./lib/Gantt/column/RollupColumn.js");n.d(t,"RollupColumn",(function(){return li.default}));var ci=n("./lib/Gantt/column/SchedulingModeColumn.js");n.d(t,"SchedulingModeColumn",(function(){return ci.default}));var di=n("./lib/Gantt/column/SequenceColumn.js");n.d(t,"SequenceColumn",(function(){return di.default}));var ui=n("./lib/Gantt/column/ShowInTimelineColumn.js");n.d(t,"ShowInTimelineColumn",(function(){return ui.default}));var hi=n("./lib/Gantt/column/StartDateColumn.js");n.d(t,"StartDateColumn",(function(){return hi.default}));var fi=n("./lib/Gantt/column/SuccessorColumn.js");n.d(t,"SuccessorColumn",(function(){return fi.default}));var gi=n("./lib/Gantt/column/TimeAxisColumn.js");n.d(t,"TimeAxisColumn",(function(){return gi.default}));var mi=n("./lib/Gantt/column/TotalSlackColumn.js");n.d(t,"TotalSlackColumn",(function(){return mi.default}));var pi=n("./lib/Gantt/column/WBSColumn.js");n.d(t,"WBSColumn",(function(){return pi.default}));var vi=n("./lib/Gantt/data/AssignmentsManipulationStore.js");n.d(t,"AssignmentsManipulationStore",(function(){return vi.default}));var bi=n("./lib/Gantt/data/AssignmentStore.js");n.d(t,"AssignmentStore",(function(){return bi.default}));var yi=n("./lib/Gantt/data/DependencyStore.js");n.d(t,"DependencyStore",(function(){return yi.default}));var Ci=n("./lib/Gantt/data/ResourceStore.js");n.d(t,"ResourceStore",(function(){return Ci.default}));var Si=n("./lib/Gantt/data/TaskStore.js");n.d(t,"TaskStore",(function(){return Si.default}));var wi=n("./lib/Gantt/data/Wbs.js");n.d(t,"Wbs",(function(){return wi.default}));var Ei=n("./lib/Gantt/data/field/WbsField.js");n.d(t,"WbsField",(function(){return Ei.default}));var Di=n("./lib/Gantt/feature/Baselines.js");n.d(t,"Baselines",(function(){return Di.default}));var xi=n("./lib/Gantt/feature/CellEdit.js");n.d(t,"CellEdit",(function(){return xi.default}));var ji=n("./lib/Gantt/feature/CriticalPaths.js");n.d(t,"CriticalPaths",(function(){return ji.default}));var Ti=n("./lib/Gantt/feature/Dependencies.js");n.d(t,"Dependencies",(function(){return Ti.default}));var Ri=n("./lib/Gantt/feature/DependencyEdit.js");n.d(t,"DependencyEdit",(function(){return Ri.default}));var Mi=n("./lib/Gantt/feature/Indicators.js");n.d(t,"Indicators",(function(){return Mi.default}));var ki=n("./lib/Gantt/feature/Labels.js");n.d(t,"Labels",(function(){return ki.default}));var Pi=n("./lib/Gantt/feature/ProgressLine.js");n.d(t,"ProgressLine",(function(){return Pi.default}));var Oi=n("./lib/Gantt/feature/ProjectLines.js");n.d(t,"ProjectLines",(function(){return Oi.default}));var Fi=n("./lib/Gantt/feature/Rollups.js");n.d(t,"Rollups",(function(){return Fi.default}));var Ai=n("./lib/Gantt/feature/TaskContextMenu.js");n.d(t,"TaskContextMenu",(function(){return Ai.default}));var Ii=n("./lib/Gantt/feature/TaskDrag.js");n.d(t,"TaskDrag",(function(){return Ii.default}));var Li=n("./lib/Gantt/feature/TaskDragCreate.js");n.d(t,"TaskDragCreate",(function(){return Li.default}));var Hi=n("./lib/Gantt/feature/TaskEdit.js");n.d(t,"TaskEdit",(function(){return Hi.default}));var _i=n("./lib/Gantt/feature/TaskMenu.js");n.d(t,"TaskMenu",(function(){return _i.default}));var Bi=n("./lib/Gantt/feature/TaskResize.js");n.d(t,"TaskResize",(function(){return Bi.default}));var $i=n("./lib/Gantt/feature/TaskTooltip.js");n.d(t,"TaskTooltip",(function(){return $i.default}));var Gi=n("./lib/Gantt/feature/export/exporter/MultiPageExporter.js");n.d(t,"MultiPageExporter",(function(){return Gi.default}));var Ni=n("./lib/Gantt/feature/export/exporter/MultiPageVerticalExporter.js");n.d(t,"MultiPageVerticalExporter",(function(){return Ni.default}));var zi=n("./lib/Gantt/feature/export/PdfExport.js");n.d(t,"PdfExport",(function(){return zi.default}));var Vi=n("./lib/Gantt/feature/export/exporter/SinglePageExporter.js");n.d(t,"SinglePageExporter",(function(){return Vi.default}));var Wi=n("./lib/Gantt/model/AssignmentModel.js");n.d(t,"AssignmentModel",(function(){return Wi.default}));var Ui=n("./lib/Gantt/model/Baseline.js");n.d(t,"Baseline",(function(){return Ui.default}));var qi=n("./lib/Gantt/model/CalendarIntervalModel.js");n.d(t,"CalendarIntervalModel",(function(){return qi.default}));var Yi=n("./lib/Gantt/model/CalendarModel.js");n.d(t,"CalendarModel",(function(){return Yi.default}));var Ki=n("./lib/Gantt/model/DependencyModel.js");n.d(t,"DependencyModel",(function(){return Ki.default}));var Xi=n("./lib/Gantt/model/ProjectModel.js");n.d(t,"ProjectModel",(function(){return Xi.default}));var Qi=n("./lib/Gantt/model/ResourceModel.js");n.d(t,"ResourceModel",(function(){return Qi.default}));var Zi=n("./lib/Gantt/model/TaskModel.js");n.d(t,"TaskModel",(function(){return Zi.default}));var Ji=n("./lib/Gantt/util/ProjectGenerator.js");n.d(t,"ProjectGenerator",(function(){return Ji.default}));var eo=n("./lib/Gantt/util/ResourceAssignmentParser.js");n.d(t,"ResourceAssignmentParser",(function(){return eo.default}));var to=n("./lib/Gantt/widget/AssignmentField.js");n.d(t,"AssignmentField",(function(){return to.default}));var no=n("./lib/Gantt/widget/AssignmentGrid.js");n.d(t,"AssignmentGrid",(function(){return no.default}));var ro=n("./lib/Gantt/widget/AssignmentPicker.js");n.d(t,"AssignmentPicker",(function(){return ro.default}));var io=n("./lib/Gantt/widget/CalendarPicker.js");n.d(t,"CalendarPicker",(function(){return io.default}));var oo=n("./lib/Gantt/widget/DependencyField.js");n.d(t,"DependencyField",(function(){return oo.default}));var ao=n("./lib/Gantt/widget/TaskEditor.js");n.d(t,"TaskEditor",(function(){return ao.default}));var so=n("./lib/Gantt/feature/export/MspExport.js");n.d(t,"GanttMspExport",(function(){return so.default}));var lo=n("./lib/Gantt/view/mixin/GanttDom.js");n.d(t,"GanttDom",(function(){return lo.default}));var co=n("./lib/Gantt/view/mixin/GanttRegions.js");n.d(t,"GanttRegions",(function(){return co.default}));var uo=n("./lib/Gantt/view/mixin/GanttScroll.js");n.d(t,"GanttScroll",(function(){return uo.default}));var ho=n("./lib/Gantt/view/mixin/GanttState.js");n.d(t,"GanttState",(function(){return ho.default}));var fo=n("./lib/Gantt/view/mixin/GanttStores.js");n.d(t,"GanttStores",(function(){return fo.default}));var go=n("./lib/Gantt/view/mixin/GanttTimelineDateMapper.js");n.d(t,"GanttTimelineDateMapper",(function(){return go.default}));var mo=n("./lib/Gantt/view/mixin/TaskNavigation.js");n.d(t,"TaskNavigation",(function(){return mo.default}));var po=n("./lib/Gantt/view/Gantt.js");n.d(t,"Gantt",(function(){return po.default}));var vo=n("./lib/Gantt/view/GanttBase.js");n.d(t,"GanttBase",(function(){return vo.default}))},"./webpack/webpack.entry.umd.js":function(e,t,n){"use strict";n.r(t);var r=n("./webpack/webpack.entry.js");n.d(t,"Base",(function(){return r.Base})),n.d(t,"Config",(function(){return r.Config})),n.d(t,"GlobalEvents",(function(){return r.GlobalEvents})),n.d(t,"AjaxStore",(function(){return r.AjaxStore})),n.d(t,"DomDataStore",(function(){return r.DomDataStore})),n.d(t,"Duration",(function(){return r.Duration})),n.d(t,"Model",(function(){return r.Model})),n.d(t,"Store",(function(){return r.Store})),n.d(t,"BooleanDataField",(function(){return r.BooleanDataField})),n.d(t,"DataField",(function(){return r.DataField})),n.d(t,"DateDataField",(function(){return r.DateDataField})),n.d(t,"IntegerDataField",(function(){return r.IntegerDataField})),n.d(t,"ModelDataField",(function(){return r.ModelDataField})),n.d(t,"NumberDataField",(function(){return r.NumberDataField})),n.d(t,"ObjectDataField",(function(){return r.ObjectDataField})),n.d(t,"StringDataField",(function(){return r.StringDataField})),n.d(t,"StoreChained",(function(){return r.StoreChained})),n.d(t,"StoreCRUD",(function(){return r.StoreCRUD})),n.d(t,"StoreFilter",(function(){return r.StoreFilter})),n.d(t,"StoreGroup",(function(){return r.StoreGroup})),n.d(t,"StoreProxy",(function(){return r.StoreProxy})),n.d(t,"StoreRelation",(function(){return r.StoreRelation})),n.d(t,"StoreSearch",(function(){return r.StoreSearch})),n.d(t,"StoreSort",(function(){return r.StoreSort})),n.d(t,"StoreState",(function(){return r.StoreState})),n.d(t,"StoreSum",(function(){return r.StoreSum})),n.d(t,"StoreSync",(function(){return r.StoreSync})),n.d(t,"StoreTree",(function(){return r.StoreTree})),n.d(t,"TreeNode",(function(){return r.TreeNode})),n.d(t,"ActionBase",(function(){return r.ActionBase})),n.d(t,"ModelStm",(function(){return r.ModelStm})),n.d(t,"StateBase",(function(){return r.StateBase})),n.d(t,"StateTrackingManager",(function(){return r.StateTrackingManager})),n.d(t,"StoreStm",(function(){return r.StoreStm})),n.d(t,"Transaction",(function(){return r.Transaction})),n.d(t,"AjaxHelper",(function(){return r.AjaxHelper})),n.d(t,"ArrayHelper",(function(){return r.ArrayHelper})),n.d(t,"AsyncHelper",(function(){return r.AsyncHelper})),n.d(t,"BrowserHelper",(function(){return r.BrowserHelper})),n.d(t,"CSSHelper",(function(){return r.CSSHelper})),n.d(t,"DateHelper",(function(){return r.DateHelper})),n.d(t,"DomHelper",(function(){return r.DomHelper})),n.d(t,"DomSync",(function(){return r.DomSync})),n.d(t,"DragHelper",(function(){return r.DragHelper})),n.d(t,"EventHelper",(function(){return r.EventHelper})),n.d(t,"FunctionHelper",(function(){return r.FunctionHelper})),n.d(t,"IdHelper",(function(){return r.IdHelper})),n.d(t,"ObjectHelper",(function(){return r.ObjectHelper})),n.d(t,"ResizeHelper",(function(){return r.ResizeHelper})),n.d(t,"ResizeMonitor",(function(){return r.ResizeMonitor})),n.d(t,"StringHelper",(function(){return r.StringHelper})),n.d(t,"TemplateHelper",(function(){return r.TemplateHelper})),n.d(t,"VersionHelper",(function(){return r.VersionHelper})),n.d(t,"WidgetHelper",(function(){return r.WidgetHelper})),n.d(t,"XMLHelper",(function(){return r.XMLHelper})),n.d(t,"DataGenerator",(function(){return r.DataGenerator})),n.d(t,"DemoBot",(function(){return r.DemoBot})),n.d(t,"DomClassList",(function(){return r.DomClassList})),n.d(t,"Formatter",(function(){return r.Formatter})),n.d(t,"Fullscreen",(function(){return r.Fullscreen})),n.d(t,"NumberFormat",(function(){return r.NumberFormat})),n.d(t,"Objects",(function(){return r.Objects})),n.d(t,"Point",(function(){return r.Point})),n.d(t,"Promissory",(function(){return r.Promissory})),n.d(t,"RandomGenerator",(function(){return r.RandomGenerator})),n.d(t,"Rectangle",(function(){return r.Rectangle})),n.d(t,"Scroller",(function(){return r.Scroller})),n.d(t,"LocaleHelper",(function(){return r.LocaleHelper})),n.d(t,"LocaleManager",(function(){return r.LocaleManager})),n.d(t,"Localizable",(function(){return r.Localizable})),n.d(t,"Delayable",(function(){return r.Delayable})),n.d(t,"Draggable",(function(){return r.Draggable})),n.d(t,"Droppable",(function(){return r.Droppable})),n.d(t,"Events",(function(){return r.Events})),n.d(t,"Factoryable",(function(){return r.Factoryable})),n.d(t,"Featureable",(function(){return r.Featureable})),n.d(t,"Finalizable",(function(){return r.Finalizable})),n.d(t,"Hoverable",(function(){return r.Hoverable})),n.d(t,"Identifiable",(function(){return r.Identifiable})),n.d(t,"InstancePlugin",(function(){return r.InstancePlugin})),n.d(t,"LoadMaskable",(function(){return r.LoadMaskable})),n.d(t,"Override",(function(){return r.Override})),n.d(t,"Pluggable",(function(){return r.Pluggable})),n.d(t,"State",(function(){return r.State})),n.d(t,"Bag",(function(){return r.Bag})),n.d(t,"ClickRepeater",(function(){return r.ClickRepeater})),n.d(t,"Collection",(function(){return r.Collection})),n.d(t,"CollectionFilter",(function(){return r.CollectionFilter})),n.d(t,"CollectionSorter",(function(){return r.CollectionSorter})),n.d(t,"DragContext",(function(){return r.DragContext})),n.d(t,"DragProxy",(function(){return r.DragProxy})),n.d(t,"DragTipProxy",(function(){return r.DragTipProxy})),n.d(t,"DynamicObject",(function(){return r.DynamicObject})),n.d(t,"Month",(function(){return r.Month})),n.d(t,"Parser",(function(){return r.Parser})),n.d(t,"BooleanCombo",(function(){return r.BooleanCombo})),n.d(t,"Button",(function(){return r.Button})),n.d(t,"ButtonGroup",(function(){return r.ButtonGroup})),n.d(t,"CalendarPanel",(function(){return r.CalendarPanel})),n.d(t,"Checkbox",(function(){return r.Checkbox})),n.d(t,"ChipView",(function(){return r.ChipView})),n.d(t,"Combo",(function(){return r.Combo})),n.d(t,"Container",(function(){return r.Container})),n.d(t,"DateField",(function(){return r.DateField})),n.d(t,"DatePicker",(function(){return r.DatePicker})),n.d(t,"DateTimeField",(function(){return r.DateTimeField})),n.d(t,"DisplayField",(function(){return r.DisplayField})),n.d(t,"DurationField",(function(){return r.DurationField})),n.d(t,"Editor",(function(){return r.Editor})),n.d(t,"Field",(function(){return r.Field})),n.d(t,"FileField",(function(){return r.FileField})),n.d(t,"FilePicker",(function(){return r.FilePicker})),n.d(t,"FilterField",(function(){return r.FilterField})),n.d(t,"List",(function(){return r.List})),n.d(t,"Mask",(function(){return r.Mask})),n.d(t,"Menu",(function(){return r.Menu})),n.d(t,"MenuItem",(function(){return r.MenuItem})),n.d(t,"MessageDialog",(function(){return r.MessageDialog})),n.d(t,"NumberField",(function(){return r.NumberField})),n.d(t,"PagingToolbar",(function(){return r.PagingToolbar})),n.d(t,"Panel",(function(){return r.Panel})),n.d(t,"PickerField",(function(){return r.PickerField})),n.d(t,"Popup",(function(){return r.Popup})),n.d(t,"Renderable",(function(){return r.Renderable})),n.d(t,"Ripple",(function(){return r.Ripple})),n.d(t,"Slider",(function(){return r.Slider})),n.d(t,"SlideToggle",(function(){return r.SlideToggle})),n.d(t,"Splitter",(function(){return r.Splitter})),n.d(t,"Tab",(function(){return r.Tab})),n.d(t,"TabBar",(function(){return r.TabBar})),n.d(t,"TabPanel",(function(){return r.TabPanel})),n.d(t,"TextAreaField",(function(){return r.TextAreaField})),n.d(t,"TextField",(function(){return r.TextField})),n.d(t,"TimeField",(function(){return r.TimeField})),n.d(t,"TimePicker",(function(){return r.TimePicker})),n.d(t,"Toast",(function(){return r.Toast})),n.d(t,"Tool",(function(){return r.Tool})),n.d(t,"Toolbar",(function(){return r.Toolbar})),n.d(t,"Tooltip",(function(){return r.Tooltip})),n.d(t,"Widget",(function(){return r.Widget})),n.d(t,"Layout",(function(){return r.Layout})),n.d(t,"Badge",(function(){return r.Badge})),n.d(t,"Rotatable",(function(){return r.Rotatable})),n.d(t,"Toolable",(function(){return r.Toolable})),n.d(t,"Histogram",(function(){return r.Histogram})),n.d(t,"Scale",(function(){return r.Scale})),n.d(t,"AvatarRendering",(function(){return r.AvatarRendering})),n.d(t,"later",(function(){return r.later})),n.d(t,"ConstraintType",(function(){return r.ConstraintType})),n.d(t,"SchedulingMode",(function(){return r.SchedulingMode})),n.d(t,"TimeUnit",(function(){return r.TimeUnit})),n.d(t,"ProjectType",(function(){return r.ProjectType})),n.d(t,"GanttProjectMixin",(function(){return r.GanttProjectMixin})),n.d(t,"ActionColumn",(function(){return r.ActionColumn})),n.d(t,"AggregateColumn",(function(){return r.AggregateColumn})),n.d(t,"CheckColumn",(function(){return r.CheckColumn})),n.d(t,"Column",(function(){return r.Column})),n.d(t,"DateColumn",(function(){return r.DateColumn})),n.d(t,"NumberColumn",(function(){return r.NumberColumn})),n.d(t,"PercentColumn",(function(){return r.PercentColumn})),n.d(t,"RatingColumn",(function(){return r.RatingColumn})),n.d(t,"RowNumberColumn",(function(){return r.RowNumberColumn})),n.d(t,"TemplateColumn",(function(){return r.TemplateColumn})),n.d(t,"TimeColumn",(function(){return r.TimeColumn})),n.d(t,"TreeColumn",(function(){return r.TreeColumn})),n.d(t,"WidgetColumn",(function(){return r.WidgetColumn})),n.d(t,"ColumnStore",(function(){return r.ColumnStore})),n.d(t,"GridRowModel",(function(){return r.GridRowModel})),n.d(t,"GridCellEdit",(function(){return r.GridCellEdit})),n.d(t,"CellMenu",(function(){return r.CellMenu})),n.d(t,"CellTooltip",(function(){return r.CellTooltip})),n.d(t,"ColumnAutoWidth",(function(){return r.ColumnAutoWidth})),n.d(t,"ColumnDragToolbar",(function(){return r.ColumnDragToolbar})),n.d(t,"ColumnPicker",(function(){return r.ColumnPicker})),n.d(t,"ColumnReorder",(function(){return r.ColumnReorder})),n.d(t,"ColumnResize",(function(){return r.ColumnResize})),n.d(t,"ContextMenu",(function(){return r.ContextMenu})),n.d(t,"ContextMenuBase",(function(){return r.ContextMenuBase})),n.d(t,"Filter",(function(){return r.Filter})),n.d(t,"FilterBar",(function(){return r.FilterBar})),n.d(t,"GridFeatureManager",(function(){return r.GridFeatureManager})),n.d(t,"Group",(function(){return r.Group})),n.d(t,"GridGroupSummary",(function(){return r.GridGroupSummary})),n.d(t,"HeaderMenu",(function(){return r.HeaderMenu})),n.d(t,"QuickFind",(function(){return r.QuickFind})),n.d(t,"RegionResize",(function(){return r.RegionResize})),n.d(t,"RowReorder",(function(){return r.RowReorder})),n.d(t,"Search",(function(){return r.Search})),n.d(t,"Sort",(function(){return r.Sort})),n.d(t,"Stripe",(function(){return r.Stripe})),n.d(t,"GridSummary",(function(){return r.GridSummary})),n.d(t,"Tree",(function(){return r.Tree})),n.d(t,"ExportDialog",(function(){return r.ExportDialog})),n.d(t,"Exporter",(function(){return r.Exporter})),n.d(t,"ExportOrientationCombo",(function(){return r.ExportOrientationCombo})),n.d(t,"ExportRowsCombo",(function(){return r.ExportRowsCombo})),n.d(t,"LocalizableCombo",(function(){return r.LocalizableCombo})),n.d(t,"GridMultiPageExporter",(function(){return r.GridMultiPageExporter})),n.d(t,"GridMultiPageVerticalExporter",(function(){return r.GridMultiPageVerticalExporter})),n.d(t,"GridPdfExport",(function(){return r.GridPdfExport})),n.d(t,"GridSinglePageExporter",(function(){return r.GridSinglePageExporter})),n.d(t,"FileFormat",(function(){return r.FileFormat})),n.d(t,"Orientation",(function(){return r.Orientation})),n.d(t,"PaperFormat",(function(){return r.PaperFormat})),n.d(t,"RowsRange",(function(){return r.RowsRange})),n.d(t,"GridExcelExporter",(function(){return r.GridExcelExporter})),n.d(t,"ScrollManager",(function(){return r.ScrollManager})),n.d(t,"TableExporter",(function(){return r.TableExporter})),n.d(t,"Row",(function(){return r.Row})),n.d(t,"Bar",(function(){return r.Bar})),n.d(t,"Footer",(function(){return r.Footer})),n.d(t,"Grid",(function(){return r.Grid})),n.d(t,"GridBase",(function(){return r.GridBase})),n.d(t,"Header",(function(){return r.Header})),n.d(t,"RowManager",(function(){return r.RowManager})),n.d(t,"SubGrid",(function(){return r.SubGrid})),n.d(t,"TreeGrid",(function(){return r.TreeGrid})),n.d(t,"GridElementEvents",(function(){return r.GridElementEvents})),n.d(t,"GridFeatures",(function(){return r.GridFeatures})),n.d(t,"GridResponsive",(function(){return r.GridResponsive})),n.d(t,"GridSelection",(function(){return r.GridSelection})),n.d(t,"GridState",(function(){return r.GridState})),n.d(t,"GridSubGrids",(function(){return r.GridSubGrids})),n.d(t,"AbstractCrudManager",(function(){return r.AbstractCrudManager})),n.d(t,"AbstractCrudManagerMixin",(function(){return r.AbstractCrudManagerMixin})),n.d(t,"AjaxTransport",(function(){return r.AjaxTransport})),n.d(t,"JsonEncoder",(function(){return r.JsonEncoder})),n.d(t,"CrudManagerView",(function(){return r.CrudManagerView})),n.d(t,"SchedulerAssignmentStore",(function(){return r.SchedulerAssignmentStore})),n.d(t,"CrudManager",(function(){return r.CrudManager})),n.d(t,"SchedulerDependencyStore",(function(){return r.SchedulerDependencyStore})),n.d(t,"SchedulerEventStore",(function(){return r.SchedulerEventStore})),n.d(t,"SchedulerResourceStore",(function(){return r.SchedulerResourceStore})),n.d(t,"ResourceTimeRangeStore",(function(){return r.ResourceTimeRangeStore})),n.d(t,"TimeAxis",(function(){return r.TimeAxis})),n.d(t,"AssignmentStoreMixin",(function(){return r.AssignmentStoreMixin})),n.d(t,"AttachToProjectMixin",(function(){return r.AttachToProjectMixin})),n.d(t,"DependencyStoreMixin",(function(){return r.DependencyStoreMixin})),n.d(t,"EventStoreMixin",(function(){return r.EventStoreMixin})),n.d(t,"PartOfBaseProject",(function(){return r.PartOfBaseProject})),n.d(t,"SchedulerPartOfProject",(function(){return r.SchedulerPartOfProject})),n.d(t,"ProjectConsumer",(function(){return r.ProjectConsumer})),n.d(t,"SchedulerProjectCrudManager",(function(){return r.SchedulerProjectCrudManager})),n.d(t,"RecurringEventsMixin",(function(){return r.RecurringEventsMixin})),n.d(t,"RecurringTimeSpansMixin",(function(){return r.RecurringTimeSpansMixin})),n.d(t,"ResourceStoreMixin",(function(){return r.ResourceStoreMixin})),n.d(t,"SharedEventStoreMixin",(function(){return r.SharedEventStoreMixin})),n.d(t,"DragCreateBase",(function(){return r.DragCreateBase})),n.d(t,"EditBase",(function(){return r.EditBase})),n.d(t,"ResizeBase",(function(){return r.ResizeBase})),n.d(t,"ResourceTimeRangesBase",(function(){return r.ResourceTimeRangesBase})),n.d(t,"TimeSpanMenuBase",(function(){return r.TimeSpanMenuBase})),n.d(t,"TimeSpanRecordContextMenuBase",(function(){return r.TimeSpanRecordContextMenuBase})),n.d(t,"TooltipBase",(function(){return r.TooltipBase})),n.d(t,"DragBase",(function(){return r.DragBase})),n.d(t,"AbstractTimeRanges",(function(){return r.AbstractTimeRanges})),n.d(t,"ColumnLines",(function(){return r.ColumnLines})),n.d(t,"SchedulerDependencies",(function(){return r.SchedulerDependencies})),n.d(t,"SchedulerDependencyEdit",(function(){return r.SchedulerDependencyEdit})),n.d(t,"EventContextMenu",(function(){return r.EventContextMenu})),n.d(t,"EventDrag",(function(){return r.EventDrag})),n.d(t,"EventDragCreate",(function(){return r.EventDragCreate})),n.d(t,"EventDragSelect",(function(){return r.EventDragSelect})),n.d(t,"EventEdit",(function(){return r.EventEdit})),n.d(t,"EventFilter",(function(){return r.EventFilter})),n.d(t,"EventMenu",(function(){return r.EventMenu})),n.d(t,"SchedulerEventResize",(function(){return r.SchedulerEventResize})),n.d(t,"EventTooltip",(function(){return r.EventTooltip})),n.d(t,"GroupSummary",(function(){return r.GroupSummary})),n.d(t,"HeaderContextMenu",(function(){return r.HeaderContextMenu})),n.d(t,"HeaderZoom",(function(){return r.HeaderZoom})),n.d(t,"SchedulerLabels",(function(){return r.SchedulerLabels})),n.d(t,"NonWorkingTime",(function(){return r.NonWorkingTime})),n.d(t,"Pan",(function(){return r.Pan})),n.d(t,"ResourceTimeRanges",(function(){return r.ResourceTimeRanges})),n.d(t,"ScheduleContextMenu",(function(){return r.ScheduleContextMenu})),n.d(t,"ScheduleMenu",(function(){return r.ScheduleMenu})),n.d(t,"ScheduleTooltip",(function(){return r.ScheduleTooltip})),n.d(t,"SimpleEventEdit",(function(){return r.SimpleEventEdit})),n.d(t,"StickyEvents",(function(){return r.StickyEvents})),n.d(t,"Summary",(function(){return r.Summary})),n.d(t,"TimeAxisHeaderMenu",(function(){return r.TimeAxisHeaderMenu})),n.d(t,"TimeRanges",(function(){return r.TimeRanges})),n.d(t,"DependencyCreation",(function(){return r.DependencyCreation})),n.d(t,"RecurringEventEdit",(function(){return r.RecurringEventEdit})),n.d(t,"SchedulerMultiPageExporter",(function(){return r.SchedulerMultiPageExporter})),n.d(t,"SchedulerMultiPageVerticalExporter",(function(){return r.SchedulerMultiPageVerticalExporter})),n.d(t,"SchedulerPdfExport",(function(){return r.SchedulerPdfExport})),n.d(t,"ScheduleRangeCombo",(function(){return r.ScheduleRangeCombo})),n.d(t,"SchedulerExportDialog",(function(){return r.SchedulerExportDialog})),n.d(t,"SchedulerSinglePageExporter",(function(){return r.SchedulerSinglePageExporter})),n.d(t,"ScheduleRange",(function(){return r.ScheduleRange})),n.d(t,"ExcelExporter",(function(){return r.ExcelExporter})),n.d(t,"ResourceInfoColumn",(function(){return r.ResourceInfoColumn})),n.d(t,"SchedulerTimeAxisColumn",(function(){return r.SchedulerTimeAxisColumn})),n.d(t,"SchedulerAssignmentModel",(function(){return r.SchedulerAssignmentModel})),n.d(t,"DependencyBaseModel",(function(){return r.DependencyBaseModel})),n.d(t,"SchedulerDependencyModel",(function(){return r.SchedulerDependencyModel})),n.d(t,"SchedulerEventModel",(function(){return r.SchedulerEventModel})),n.d(t,"SchedulerProjectModel",(function(){return r.SchedulerProjectModel})),n.d(t,"RecurrenceModel",(function(){return r.RecurrenceModel})),n.d(t,"SchedulerResourceModel",(function(){return r.SchedulerResourceModel})),n.d(t,"ResourceTimeRangeModel",(function(){return r.ResourceTimeRangeModel})),n.d(t,"TimeSpan",(function(){return r.TimeSpan})),n.d(t,"AssignmentModelMixin",(function(){return r.AssignmentModelMixin})),n.d(t,"EventModelMixin",(function(){return r.EventModelMixin})),n.d(t,"ProjectModelMixin",(function(){return r.ProjectModelMixin})),n.d(t,"RecurringTimeSpan",(function(){return r.RecurringTimeSpan})),n.d(t,"ResourceModelMixin",(function(){return r.ResourceModelMixin})),n.d(t,"PresetManager",(function(){return r.PresetManager})),n.d(t,"PresetStore",(function(){return r.PresetStore})),n.d(t,"ViewPreset",(function(){return r.ViewPreset})),n.d(t,"RectangularPathFinder",(function(){return r.RectangularPathFinder})),n.d(t,"ScheduleTableExporter",(function(){return r.ScheduleTableExporter})),n.d(t,"HorizontalTimeAxis",(function(){return r.HorizontalTimeAxis})),n.d(t,"Scheduler",(function(){return r.Scheduler})),n.d(t,"SchedulerBase",(function(){return r.SchedulerBase})),n.d(t,"TimeAxisViewModel",(function(){return r.TimeAxisViewModel})),n.d(t,"TimelineBase",(function(){return r.TimelineBase})),n.d(t,"ResourceHeader",(function(){return r.ResourceHeader})),n.d(t,"EventNavigation",(function(){return r.EventNavigation})),n.d(t,"EventSelection",(function(){return r.EventSelection})),n.d(t,"RecurringEvents",(function(){return r.RecurringEvents})),n.d(t,"SchedulerDom",(function(){return r.SchedulerDom})),n.d(t,"SchedulerDomEvents",(function(){return r.SchedulerDomEvents})),n.d(t,"SchedulerDragResize",(function(){return r.SchedulerDragResize})),n.d(t,"SchedulerEventRendering",(function(){return r.SchedulerEventRendering})),n.d(t,"SchedulerRegions",(function(){return r.SchedulerRegions})),n.d(t,"SchedulerScroll",(function(){return r.SchedulerScroll})),n.d(t,"SchedulerState",(function(){return r.SchedulerState})),n.d(t,"SchedulerStores",(function(){return r.SchedulerStores})),n.d(t,"TimelineDateMapper",(function(){return r.TimelineDateMapper})),n.d(t,"TimelineDomEvents",(function(){return r.TimelineDomEvents})),n.d(t,"TimelineEventRendering",(function(){return r.TimelineEventRendering})),n.d(t,"TimelineScroll",(function(){return r.TimelineScroll})),n.d(t,"TimelineViewPresets",(function(){return r.TimelineViewPresets})),n.d(t,"TimelineZoomable",(function(){return r.TimelineZoomable})),n.d(t,"RecurrenceCombo",(function(){return r.RecurrenceCombo})),n.d(t,"RecurrenceConfirmationPopup",(function(){return r.RecurrenceConfirmationPopup})),n.d(t,"RecurrenceDaysButtonGroup",(function(){return r.RecurrenceDaysButtonGroup})),n.d(t,"RecurrenceDaysCombo",(function(){return r.RecurrenceDaysCombo})),n.d(t,"RecurrenceEditor",(function(){return r.RecurrenceEditor})),n.d(t,"RecurrenceFrequencyCombo",(function(){return r.RecurrenceFrequencyCombo})),n.d(t,"RecurrenceLegendButton",(function(){return r.RecurrenceLegendButton})),n.d(t,"RecurrenceMonthDaysButtonGroup",(function(){return r.RecurrenceMonthDaysButtonGroup})),n.d(t,"RecurrenceMonthsButtonGroup",(function(){return r.RecurrenceMonthsButtonGroup})),n.d(t,"RecurrencePositionsCombo",(function(){return r.RecurrencePositionsCombo})),n.d(t,"RecurrenceStopConditionCombo",(function(){return r.RecurrenceStopConditionCombo})),n.d(t,"ResourceCombo",(function(){return r.ResourceCombo})),n.d(t,"ResourceFilter",(function(){return r.ResourceFilter})),n.d(t,"UndoRedo",(function(){return r.UndoRedo})),n.d(t,"TimelineBaseTag",(function(){return r.TimelineBaseTag})),n.d(t,"SchedulerProAssignmentStore",(function(){return r.SchedulerProAssignmentStore})),n.d(t,"SchedulerProCalendarManagerStore",(function(){return r.SchedulerProCalendarManagerStore})),n.d(t,"SchedulerProDependencyStore",(function(){return r.SchedulerProDependencyStore})),n.d(t,"EventStore",(function(){return r.EventStore})),n.d(t,"SchedulerProResourceStore",(function(){return r.SchedulerProResourceStore})),n.d(t,"PartOfProject",(function(){return r.PartOfProject})),n.d(t,"ProjectCrudManager",(function(){return r.ProjectCrudManager})),n.d(t,"SchedulerProAssignmentModel",(function(){return r.SchedulerProAssignmentModel})),n.d(t,"SchedulerProCalendarIntervalModel",(function(){return r.SchedulerProCalendarIntervalModel})),n.d(t,"SchedulerProCalendarModel",(function(){return r.SchedulerProCalendarModel})),n.d(t,"SchedulerProDependencyModel",(function(){return r.SchedulerProDependencyModel})),n.d(t,"EventModel",(function(){return r.EventModel})),n.d(t,"SchedulerProProjectModel",(function(){return r.SchedulerProProjectModel})),n.d(t,"SchedulerProResourceModel",(function(){return r.SchedulerProResourceModel})),n.d(t,"PercentDoneMixin",(function(){return r.PercentDoneMixin})),n.d(t,"DurationColumn",(function(){return r.DurationColumn})),n.d(t,"ResourceCalendarColumn",(function(){return r.ResourceCalendarColumn})),n.d(t,"ScaleColumn",(function(){return r.ScaleColumn})),n.d(t,"ProTaskEditStm",(function(){return r.ProTaskEditStm})),n.d(t,"CalendarField",(function(){return r.CalendarField})),n.d(t,"ConstraintTypePicker",(function(){return r.ConstraintTypePicker})),n.d(t,"DependencyTypePicker",(function(){return r.DependencyTypePicker})),n.d(t,"EffortField",(function(){return r.EffortField})),n.d(t,"EndDateField",(function(){return r.EndDateField})),n.d(t,"GanttTaskEditor",(function(){return r.GanttTaskEditor})),n.d(t,"ModelCombo",(function(){return r.ModelCombo})),n.d(t,"SchedulerTaskEditor",(function(){return r.SchedulerTaskEditor})),n.d(t,"SchedulingModePicker",(function(){return r.SchedulingModePicker})),n.d(t,"StartDateField",(function(){return r.StartDateField})),n.d(t,"TaskEditorBase",(function(){return r.TaskEditorBase})),n.d(t,"Timeline",(function(){return r.Timeline})),n.d(t,"AdvancedTab",(function(){return r.AdvancedTab})),n.d(t,"DependencyTab",(function(){return r.DependencyTab})),n.d(t,"EditorTab",(function(){return r.EditorTab})),n.d(t,"FormTab",(function(){return r.FormTab})),n.d(t,"GeneralTab",(function(){return r.GeneralTab})),n.d(t,"NotesTab",(function(){return r.NotesTab})),n.d(t,"PredecessorsTab",(function(){return r.PredecessorsTab})),n.d(t,"ResourcesTab",(function(){return r.ResourcesTab})),n.d(t,"SchedulerAdvancedTab",(function(){return r.SchedulerAdvancedTab})),n.d(t,"SchedulerGeneralTab",(function(){return r.SchedulerGeneralTab})),n.d(t,"SuccessorsTab",(function(){return r.SuccessorsTab})),n.d(t,"EventLoader",(function(){return r.EventLoader})),n.d(t,"ReadyStatePropagator",(function(){return r.ReadyStatePropagator})),n.d(t,"PercentBar",(function(){return r.PercentBar})),n.d(t,"ResourceNonWorkingTime",(function(){return r.ResourceNonWorkingTime})),n.d(t,"SchedulerProTaskEdit",(function(){return r.SchedulerProTaskEdit})),n.d(t,"ResourceHistogram",(function(){return r.ResourceHistogram})),n.d(t,"SchedulerProBase",(function(){return r.SchedulerProBase})),n.d(t,"SchedulerPro",(function(){return r.SchedulerPro})),n.d(t,"CalendarManagerStore",(function(){return r.CalendarManagerStore})),n.d(t,"AddNewColumn",(function(){return r.AddNewColumn})),n.d(t,"AllColumns",(function(){return r.AllColumns})),n.d(t,"CalendarColumn",(function(){return r.CalendarColumn})),n.d(t,"ConstraintDateColumn",(function(){return r.ConstraintDateColumn})),n.d(t,"ConstraintTypeColumn",(function(){return r.ConstraintTypeColumn})),n.d(t,"DeadlineDateColumn",(function(){return r.DeadlineDateColumn})),n.d(t,"DependencyColumn",(function(){return r.DependencyColumn})),n.d(t,"EarlyEndDateColumn",(function(){return r.EarlyEndDateColumn})),n.d(t,"EarlyStartDateColumn",(function(){return r.EarlyStartDateColumn})),n.d(t,"EffortColumn",(function(){return r.EffortColumn})),n.d(t,"EndDateColumn",(function(){return r.EndDateColumn})),n.d(t,"EventModeColumn",(function(){return r.EventModeColumn})),n.d(t,"GanttDateColumn",(function(){return r.GanttDateColumn})),n.d(t,"LateEndDateColumn",(function(){return r.LateEndDateColumn})),n.d(t,"LateStartDateColumn",(function(){return r.LateStartDateColumn})),n.d(t,"ManuallyScheduledColumn",(function(){return r.ManuallyScheduledColumn})),n.d(t,"MilestoneColumn",(function(){return r.MilestoneColumn})),n.d(t,"NameColumn",(function(){return r.NameColumn})),n.d(t,"NoteColumn",(function(){return r.NoteColumn})),n.d(t,"PercentDoneColumn",(function(){return r.PercentDoneColumn})),n.d(t,"PredecessorColumn",(function(){return r.PredecessorColumn})),n.d(t,"ResourceAssignmentColumn",(function(){return r.ResourceAssignmentColumn})),n.d(t,"ResourceAssignmentGridResourceColumn",(function(){return r.ResourceAssignmentGridResourceColumn})),n.d(t,"RollupColumn",(function(){return r.RollupColumn})),n.d(t,"SchedulingModeColumn",(function(){return r.SchedulingModeColumn})),n.d(t,"SequenceColumn",(function(){return r.SequenceColumn})),n.d(t,"ShowInTimelineColumn",(function(){return r.ShowInTimelineColumn})),n.d(t,"StartDateColumn",(function(){return r.StartDateColumn})),n.d(t,"SuccessorColumn",(function(){return r.SuccessorColumn})),n.d(t,"TimeAxisColumn",(function(){return r.TimeAxisColumn})),n.d(t,"TotalSlackColumn",(function(){return r.TotalSlackColumn})),n.d(t,"WBSColumn",(function(){return r.WBSColumn})),n.d(t,"AssignmentsManipulationStore",(function(){return r.AssignmentsManipulationStore})),n.d(t,"AssignmentStore",(function(){return r.AssignmentStore})),n.d(t,"DependencyStore",(function(){return r.DependencyStore})),n.d(t,"ResourceStore",(function(){return r.ResourceStore})),n.d(t,"TaskStore",(function(){return r.TaskStore})),n.d(t,"Wbs",(function(){return r.Wbs})),n.d(t,"WbsField",(function(){return r.WbsField})),n.d(t,"Baselines",(function(){return r.Baselines})),n.d(t,"CellEdit",(function(){return r.CellEdit})),n.d(t,"CriticalPaths",(function(){return r.CriticalPaths})),n.d(t,"Dependencies",(function(){return r.Dependencies})),n.d(t,"DependencyEdit",(function(){return r.DependencyEdit})),n.d(t,"Indicators",(function(){return r.Indicators})),n.d(t,"Labels",(function(){return r.Labels})),n.d(t,"ProgressLine",(function(){return r.ProgressLine})),n.d(t,"ProjectLines",(function(){return r.ProjectLines})),n.d(t,"Rollups",(function(){return r.Rollups})),n.d(t,"TaskContextMenu",(function(){return r.TaskContextMenu})),n.d(t,"TaskDrag",(function(){return r.TaskDrag})),n.d(t,"TaskDragCreate",(function(){return r.TaskDragCreate})),n.d(t,"TaskEdit",(function(){return r.TaskEdit})),n.d(t,"TaskMenu",(function(){return r.TaskMenu})),n.d(t,"TaskResize",(function(){return r.TaskResize})),n.d(t,"TaskTooltip",(function(){return r.TaskTooltip})),n.d(t,"MultiPageExporter",(function(){return r.MultiPageExporter})),n.d(t,"MultiPageVerticalExporter",(function(){return r.MultiPageVerticalExporter})),n.d(t,"PdfExport",(function(){return r.PdfExport})),n.d(t,"SinglePageExporter",(function(){return r.SinglePageExporter})),n.d(t,"AssignmentModel",(function(){return r.AssignmentModel})),n.d(t,"Baseline",(function(){return r.Baseline})),n.d(t,"CalendarIntervalModel",(function(){return r.CalendarIntervalModel})),n.d(t,"CalendarModel",(function(){return r.CalendarModel})),n.d(t,"DependencyModel",(function(){return r.DependencyModel})),n.d(t,"ProjectModel",(function(){return r.ProjectModel})),n.d(t,"ResourceModel",(function(){return r.ResourceModel})),n.d(t,"TaskModel",(function(){return r.TaskModel})),n.d(t,"ProjectGenerator",(function(){return r.ProjectGenerator})),n.d(t,"ResourceAssignmentParser",(function(){return r.ResourceAssignmentParser})),n.d(t,"AssignmentField",(function(){return r.AssignmentField})),n.d(t,"AssignmentGrid",(function(){return r.AssignmentGrid})),n.d(t,"AssignmentPicker",(function(){return r.AssignmentPicker})),n.d(t,"CalendarPicker",(function(){return r.CalendarPicker})),n.d(t,"DependencyField",(function(){return r.DependencyField})),n.d(t,"TaskEditor",(function(){return r.TaskEditor})),n.d(t,"GanttMspExport",(function(){return r.GanttMspExport})),n.d(t,"GanttDom",(function(){return r.GanttDom})),n.d(t,"GanttRegions",(function(){return r.GanttRegions})),n.d(t,"GanttScroll",(function(){return r.GanttScroll})),n.d(t,"GanttState",(function(){return r.GanttState})),n.d(t,"GanttStores",(function(){return r.GanttStores})),n.d(t,"GanttTimelineDateMapper",(function(){return r.GanttTimelineDateMapper})),n.d(t,"TaskNavigation",(function(){return r.TaskNavigation})),n.d(t,"Gantt",(function(){return r.Gantt})),n.d(t,"GanttBase",(function(){return r.GanttBase}));var i=n("./webpack/webpack.entry.wc.js");n.d(t,"WidgetTag",(function(){return i.WidgetTag})),n.d(t,"GanttTag",(function(){return i.GanttTag}))},"./webpack/webpack.entry.wc.js":function(e,t,n){"use strict";n.r(t);var r=n("./webpack/webpack.core.entry.wc.js");n.d(t,"WidgetTag",(function(){return r.WidgetTag}));var i=n("./lib/Scheduler/customElements/TimelineBaseTag.js");n.d(t,"TimelineBaseTag",(function(){return i.default}));var o=n("./lib/Gantt/customElements/GanttTag.js");n.d(t,"GanttTag",(function(){return o.default}))}})},e.exports=r()},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(37))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return M}));var o=n(14),a=n.n(o);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}var l=n(0),c=n.n(l),d=n(6),u=n.n(d),h=n(1);function f(){function e(e,t){h.VersionHelper.isTestEnv&&console.warn("Bryntum".concat(e,"Component development warning!\n").concat(t,"\n")+"Please check integration guide: https://www.bryntum.com/docs/gantt-vanilla/#guides/integration/react.md")}function t(t){var i=t.element,o=t.props,a=t.constructor,s=a.instanceClass,l=a.isView,c=function(e){return e.filter((function(e){return void 0!==o[e]}))},u=c(t.configNames||[]),h=c(t.propertyConfigNames||[]),g=c(t.propertyNames||[]),m=c(t.featureNames||[]),p={reactComponent:t,listeners:{},features:{},hasFrameworkRenderer:l?f:void 0,processCellContent:l?d:void 0,processCellEditor:l?r:void 0},v=["adopt","appendTo","insertAfter","insertBefore"].find((function(e){return p[e]}));return v?function(t,n){e(t,'Using "'.concat(n,'" parameter for configuration is not recommended.\n')+"Widget is placed automatically inside it's container element.\n"+'Solution: remove "'.concat(n,'" parameter from configuration.'))}(s.$name,v):p.adopt=i,u.concat(h).concat(m).forEach((function(t){n(p,t,o[t]),["features","config"].includes(t)&&function(t,n){e(t,'Using "'.concat(n,'" parameter for configuration is not recommended.\n')+'Solution: Use separate parameter for each "'.concat(n,'" value to enable reactive updates of the API instance'))}(s.$name,t)})),t.configNames=u,t.propertyNames=u.concat(g).concat(h).concat(m),t.propertyConfigNames&&delete t.propertyConfigNames,t.featureNames&&delete t.featureNames,p}function n(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("features"===t&&"object"===typeof r)Object.keys(r).forEach((function(t){return n(e,"".concat(t,"Feature"),r[t],i)}));else if("config"===t&&"object"===typeof r)Object.keys(r).forEach((function(t){return n(e,t,r[t],i)}));else if("columns"!==t||i)if(t.endsWith("Feature")){var o=e.features,a=t.replace("Feature","");if(i)o[a]=r;else{var s=o[a];s&&s.setConfig(r)}}else e[t]=r;else e.columns.data=r}function r(e){var t=e.editor,n=e.field,r=this.reactComponent;if(r&&"function"===typeof t){var i=new h.Widget({name:n});i.reactRef=c.a.createRef();var o=t(i.reactRef);if(o.$$typeof!==Symbol.for("react.element"))throw new Error("Expect a React element");var a=!1;Object.defineProperty(i,"value",{enumerable:!0,get:function(){return i.reactRef.current.getValue()},set:function(e){var t=i.reactRef.current;if(!a){var n=["setValue","getValue","isValid","focus"],r=n.filter((function(e){return!(e in t)}));if(r.length>0)throw new Error("Missing method(s) ".concat(r.join(", ")," in ").concat(t.constructor.name,". Cell editors must ").concat(n.join(", ")));a=!0}var o=i.owner.cellEditorContext;t.setValue(e,o)}}),Object.defineProperty(i,"isValid",{enumerable:!0,get:function(){return i.reactRef.current.isValid()}}),i.focus=function(){var e=i.reactRef.current;e.focus&&e.focus()};var s=u.a.createPortal(o,i.element);i.reactPortal=s;var l=r.state;return l.portals.set("portal-".concat(n),s),r.setState({portals:l.portals,generation:l.generation++}),{editor:i}}}function o(e,t){return"portal-".concat(e,"-").concat(t)}function l(e,t){var n=e.state.portals.get(t);if(n){var r,i=n.containerInfo;e.state.portals.delete(t),null===(r=i.parentElement)||void 0===r||r.removeChild(i)}}function d(e){var t=e.rendererData,n=e.cellElementData,r=e.rendererHtml,i=this.reactComponent,a=i.state,s=i.portalsCache,c=i.portalContainerClass,d=t.cellElement,f=t.column,g=t.record,m=o(g.id,f.id),p=d.querySelector(f.editTargetSelector)||d;if(p&&r&&r.$$typeof===Symbol.for("react.element")&&!g.meta.specialRow){p.portalContainer&&p.portalContainer.dataset.portalId===m&&(s.appendChild(p.portalContainer),p.portalContainer=null);var v=a.portals.get(m);if(t.isMeasuring){if(v){var b=v.containerInfo,y=b.parentNode;d.style.width="auto";var C=d.offsetWidth;d.appendChild(b);var S=b.offsetWidth;y.appendChild(b),d.style.width="".concat(S+C,"px")}return}v&&v.generation!==g.generation&&(l(i,m),v=null);var w=p.querySelector(".".concat(c));if(w&&w.dataset.portalId!==m&&s.appendChild(w),p.textContent&&p===d&&(p.textContent=""),v)p.appendChild(v.containerInfo),p.portalContainer=v.containerInfo;else{var E=h.DomHelper.append(p,{tag:"div",className:c,dataset:{portalId:m}});p.portalContainer=E,v=u.a.createPortal(r,E,m),a.portals.set(m,v),function(e){requestAnimationFrame((function(){e.setState((function(e){return{generation:e.generation++}}))}))}(i)}n.hasPortal=!0,v.generation=g.generation}}function f(e){var t,n=e.cellContent;e.column;return(t=n)&&t.$$typeof===Symbol.for("react.element")}return{createFullscreenButton:function(e){var t=h.Fullscreen.enabled?h.WidgetHelper.createWidget({type:"button",appendTo:e,icon:"b-icon b-icon-fullscreen",tooltip:"Fullscreen",cls:"b-raised b-blue",toggleable:!0,onToggle:function(){var e,t=(e=a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pressed){e.next=6;break}return e.next=4,h.Fullscreen.request(document.documentElement);case 4:e.next=8;break;case 6:return e.next=8,h.Fullscreen.exit();case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}):null;return t&&h.Fullscreen.onFullscreenChange((function(){t.pressed=h.Fullscreen.isFullscreen})),t},createWidget:function(e){var n=e.constructor,r=n.instanceClass,a=(n.dataStores,n.isView),s=t(e),c="Widget"===r.$name?h.WidgetHelper.createWidget(s):new r(s);return a&&(e[h.StringHelper.uncapitalize(r.$name)+"Instance"]=c),a&&(e[h.StringHelper.uncapitalize(r.$name)+"Instance"]=c,e.dataStores&&Object.keys(e.dataStores).forEach((function(t){var n=c[t];n&&(n.syncDataOnLoad=s.syncDataOnLoad,n.on("beforeRemove",(function(t){return function(e,t){var n=t.records,r=t.removingAll,a=e.instance;r?i(e.state.portals.keys()).forEach((function(t){return l(e,t)})):n.forEach((function(t){var n=a.getRowById?a.getRowById(t.id):void 0;n&&n.cells.forEach((function(t){!function(e,t){var n=t._domData,r=n.id,i=n.columnId;if(n.hasPortal){var a=o(r,i);l(e,a)}}(e,t)}))}))}(e,t)})))}))),s.data&&(c.lastDataset=s.data.slice()),c},shouldComponentUpdate:function(t,r,i){var o,a=t.props,s=t.instance,l=t.propertyNames,c=t.configNames,d=t.dataStores,u=t.constructor.instanceClass,f=Object.values(null!==d&&void 0!==d?d:{});return l.filter((function(e){return!f.includes(e)})).forEach((function(t){"function"===typeof a[t]&&a[t]!==r[t]?s[t]=r[t]:h.ObjectHelper.isEqual(a[t],r[t])||(n(s,t,r[t],!1),c.includes(t)&&function(t,n){e(t,'"'.concat(n,'" is a static config option for component constructor only. No runtime changes are supported!'))}(u.$name,t))})),d&&Object.keys(d).forEach((function(e){var t=d[e];a[t]&&!h.ObjectHelper.isDeeplyEqual(a[t],r[t])&&(s[t]=r[t])})),(null===i||void 0===i?void 0:i.generation)!==(null===(o=t.state)||void 0===o?void 0:o.generation)}}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=n(29),S=n.n(C);function w(e,t){return!t||"object"!==S()(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}var D=function(e){b(n,e);var t=E(n);function n(){return g(this,n),t.apply(this,arguments)}return p(n,[{key:"componentDidMount",value:function(){var e=f().createFullscreenButton;this.button=e(this.el),this.button&&(this.props.skipRender||this.button.render())}},{key:"componentWillUnmount",value:function(){this.button&&h.Fullscreen.onFullscreenChange(null)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{ref:function(t){return e.el=t}})}}]),n}(l.Component),x=function(e){var t=e.href,n=e.title;return c.a.createElement(l.Fragment,null,c.a.createElement("header",{className:"demo-header"},c.a.createElement("div",{id:"title-container"},c.a.createElement("a",{id:"title",href:t},n)),e.children,c.a.createElement(D,null)))};x.defaultProps={title:"Bryntum React demo",href:"https://bryntum.com"};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){var t=Object(l.useRef)(null),n=Object(l.useRef)(null),r=e.container,i=e.store,o=e.label,a=e.width,s=e.position;return Object(l.useEffect)((function(){var e,l=t.current||r,c=(j(e={},s,l),j(e,"store",i),j(e,"label",o),j(e,"width",a),j(e,"editable",!1),j(e,"cls","b-bright"),j(e,"onChange",(function(e){var t=e.value;h.DomHelper.setTheme(t).then((function(e){if(e){var t=e.theme,n=e.prev;h.DomHelper.removeClasses(document.body,["b-theme-".concat(n)]),h.DomHelper.addClasses(document.body,["b-theme-".concat(t)])}}))})),e);n.current?Object.assign(n.current,{store:i,label:o,width:a}):n.current=new h.Combo(c),n.current.value=h.BrowserHelper.searchParam("theme","stockholm")}),[r,o,i,a,s]),e.container?null:c.a.createElement("div",{className:"b-theme-combo",ref:t})};T.defaultProps={store:[{id:"stockholm",text:"Stockholm"},{id:"classic",text:"Classic"},{id:"classic-light",text:"Classic Light"},{id:"classic-dark",text:"Classic Dark"},{id:"material",text:"Material"}],label:"Select theme",width:"16em",position:"insertFirst"};var R=T;(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","projectEvent","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.AssignmentField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","animateRemovingRows","appendTo","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","defaultBindProperty","defaultRegion","defaults","destroyStore","disableGridRowModelWarning","dock","draggable","emptyText","enableSticky","enableTextSelection","enableUndoRedoKeys","features","fillLastColumn","fixedRowHeight","floating","footer","fullRowRefresh","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","maskDefaults","masked","monitorResize","namedItems","owner","plugins","positioned","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","projectEvent","resizeToFitIncludesHeader","resourceColumn","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showDirty","showRemoveRowInContextMenu","strips","subGridConfigs","syncMask","tab","tag","tbar","textAlign","textContent","title","trapFocus","unitsColumn","weight"],e.propertyConfigNames=["alignSelf","columnLines","content","data","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeCellEditStart","onBeforeDestroy","onBeforeFinishCellEdit","onBeforeHide","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onPaint","onReadOnly","onRenderRows","onResize","onResponsive","onScroll","onSelectionChange","onShow","onStartCellEdit","onToggleNode","onToolClick","readOnly","rowHeight","scrollable","store","tools","tooltip","transitionDuration","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","selectedCell","selectedRecord","selectedRecords","state","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.AssignmentGrid,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","color","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","href","htmlCls","insertBefore","insertFirst","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","target","textAlign","title","toggleable","toggleGroup","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","icon","iconAlign","id","margin","maxHeight","maxWidth","menu","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onClick","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToggle","pressed","pressedIcon","readOnly","scrollable","text","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Button,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","color","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","textContent","title","toggleGroup","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onClick","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ButtonGroup,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.CalendarField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","bbar","bodyCls","cellRenderer","centered","cls","config","constrainTo","contentElementCls","dayNameFormat","defaultBindProperty","defaults","disabledDates","disableWeekends","dock","draggable","floating","footer","header","headerRenderer","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","minColumnWidth","minRowHeight","monitorResize","month","namedItems","nonWorkingDays","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showWeekColumn","showWeekNumber","sixWeeks","strips","tab","tag","tbar","textAlign","textContent","tip","title","trapFocus","weekRenderer","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","content","dataset","date","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDateChange","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onRefresh","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.CalendarPanel,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.CalendarPicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","color","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","text","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","checked","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","name","onAction","onBeforeChange","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Checkbox,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["activateOnMouseover","adopt","align","anchor","appendTo","centered","closable","closeHandler","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","iconTpl","insertBefore","insertFirst","itemTpl","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","multiSelect","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","selected","showAnimation","store","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onItem","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ChipView,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Combo,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ConstraintTypePicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","textContent","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Container,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keepTime","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","pickerAlignElement","pickerFormat","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","format","height","hidden","html","id","label","margin","max","maxHeight","maxWidth","min","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","picker","readOnly","scrollable","step","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DateField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["activeDate","adopt","align","anchor","appendTo","bbar","bodyCls","cellRenderer","centered","cls","config","constrainTo","contentElementCls","dayNameFormat","defaultBindProperty","defaults","disabledDates","disableWeekends","dock","draggable","editMonth","editOnHover","floating","focusDisabledDates","footer","header","headerRenderer","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maxDate","minColumnWidth","minDate","minRowHeight","monitorResize","month","multiSelect","namedItems","nonWorkingDays","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showWeekColumn","showWeekNumber","sixWeeks","strips","tab","tag","tbar","textAlign","textContent","tip","title","trapFocus","weekRenderer","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","content","dataset","date","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDateChange","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onRefresh","onResize","onSelectionChange","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DatePicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","dateField","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","timeField","title","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DateTimeField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","delimiter","dependencyIdField","dependencyStore","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","otherSide","ourSide","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DependencyField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DependencyTypePicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","allowedUnits","allowNegative","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","decimalPrecision","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","max","maxLength","min","minLength","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","step","tab","tabIndex","tag","textAlign","title","useAbbreviation","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","magnitude","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","unit","value","width","x","y"],e.propertyNames=["anchorSize","milliseconds"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.DurationField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","allowedUnits","allowNegative","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","decimalPrecision","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","max","maxLength","min","minLength","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","step","tab","tabIndex","tag","textAlign","title","useAbbreviation","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","magnitude","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","unit","value","width","x","y"],e.propertyNames=["anchorSize","milliseconds"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.EffortField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","eventRecord","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keepTime","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","pickerAlignElement","pickerFormat","placeholder","positioned","preventTooltipOnTouch","project","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","format","height","hidden","html","id","label","margin","max","maxHeight","maxWidth","min","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","picker","readOnly","scrollable","step","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.EndDateField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["accept","adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","multiple","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.FileField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","buttonConfig","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","fileFieldConfig","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","textContent","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.FilePicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","field","filterFunction","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","store","tab","tabIndex","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.FilterField;var M=function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dataStores={taskStore:"tasks"},e.featureNames=["baselinesFeature","cellEditFeature","cellMenuFeature","cellTooltipFeature","columnAutoWidthFeature","columnDragToolbarFeature","columnLinesFeature","columnPickerFeature","columnReorderFeature","columnResizeFeature","contextMenuFeature","criticalPathsFeature","dependenciesFeature","dependencyEditFeature","eventContextMenuFeature","eventDragCreateFeature","eventDragFeature","eventDragSelectFeature","eventEditFeature","eventFilterFeature","eventMenuFeature","eventTooltipFeature","excelExporterFeature","filterBarFeature","filterFeature","groupFeature","groupSummaryFeature","headerContextMenuFeature","headerMenuFeature","headerZoomFeature","indicatorsFeature","labelsFeature","nonWorkingTimeFeature","panFeature","pdfExportFeature","percentBarFeature","progressLineFeature","projectLinesFeature","quickFindFeature","regionResizeFeature","resourceNonWorkingTimeFeature","resourceTimeRangesFeature","rollupsFeature","rowReorderFeature","scheduleContextMenuFeature","scheduleMenuFeature","scheduleTooltipFeature","searchFeature","simpleEventEditFeature","sortFeature","stickyEventsFeature","stripeFeature","summaryFeature","taskContextMenuFeature","taskDragCreateFeature","taskDragFeature","taskEditFeature","taskMenuFeature","taskResizeFeature","taskTooltipFeature","timeAxisHeaderMenuFeature","timeRangesFeature","treeFeature"],e.portalsCache=void 0,e.portalContainerClass="b-react-portal-container",e.state={portals:new Map,generation:0},e.configNames=["adopt","align","allowCreate","anchor","animateRemovingRows","appendTo","autoAdjustTimeAxis","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","createEventOnDblClick","creationTooltip","crudManagerClass","defaultBindProperty","defaultRegion","defaultResourceImageName","defaults","dependencyIdField","destroyStore","disableGridRowModelWarning","dock","draggable","durationDisplayPrecision","emptyText","enableDeleteKey","enableEventAnimations","enableRecurringEvents","enableSticky","enableTextSelection","enableUndoRedoKeys","eventColor","eventStyle","features","fillLastColumn","fixedRowHeight","floating","footer","forceFit","fullRowRefresh","getDateConstraints","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","managedEventSizing","maskDefaults","masked","monitorResize","namedItems","owner","partner","plugins","positioned","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","resizeToFitIncludesHeader","resourceImageFolderPath","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showCreationTooltip","showDirty","showRemoveRowInContextMenu","snapRelativeToEventStartDate","stickyHeaders","strips","subGridConfigs","suppressFit","syncMask","tab","tag","taskRenderer","tbar","terminalCls","terminalSides","textAlign","textContent","timeAxis","title","trapFocus","visibleDate","visibleZoomFactor","weekStartDay","weight","zoomKeepsOriginalTimespan","zoomOnMouseWheel","zoomOnTimeAxisDoubleClick"],e.propertyConfigNames=["alignSelf","barMargin","columnLines","content","crudManager","data","dataset","disabled","displayDateFormat","endDate","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","maxZoomLevel","minHeight","minWidth","minZoomLevel","onAfterDependencyCreateDrop","onAfterDragCreate","onAfterEventSave","onAfterTaskDrop","onAfterTaskSave","onBeforeAssignmentDelete","onBeforeCellEditStart","onBeforeDependencyCreateDrag","onBeforeDestroy","onBeforeDragCreate","onBeforeDragCreateFinalize","onBeforeEventDelete","onBeforeEventSave","onBeforeFinishCellEdit","onBeforeHide","onBeforePresetChange","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeTaskDelete","onBeforeTaskDrag","onBeforeTaskDropFinalize","onBeforeTaskEdit","onBeforeTaskEditShow","onBeforeTaskResize","onBeforeTaskResizeFinalize","onBeforeTaskSave","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDependencyClick","onDependencyCreateDragStart","onDependencyCreateDrop","onDependencyDblClick","onDependencyMouseOut","onDependencyMouseOver","onDependencyValidationComplete","onDependencyValidationStart","onDestroy","onDragCreateEnd","onDragCreateStart","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onNavigate","onPaint","onPresetChange","onReadOnly","onReleaseTask","onRenderRows","onRenderTask","onResize","onResponsive","onScroll","onSelectionChange","onShow","onStartCellEdit","onTaskClick","onTaskContextMenu","onTaskDblClick","onTaskDrag","onTaskDragStart","onTaskDrop","onTaskKeyDown","onTaskKeyUp","onTaskMouseDown","onTaskMouseOut","onTaskMouseOver","onTaskMouseUp","onTaskPartialResize","onTaskResizeEnd","onTaskResizeStart","onTimeAxisChange","onTimeAxisHeaderClick","onTimeAxisHeaderContextMenu","onTimeAxisHeaderDblClick","onTimelineViewportResize","onToggleNode","onToolClick","presets","project","readOnly","rowHeight","scrollable","snap","startDate","store","tasks","taskStore","tickSize","toggleParentTasksOnClick","tools","tooltip","transitionDuration","viewPreset","width","workingTime","x","y"],e.propertyNames=["anchorSize","eventColors","eventStyles","isSettingValues","isValid","record","scrollLeft","scrollTop","selectedCell","selectedRecord","selectedRecords","state","timeResolution","values","zoomLevel"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:function(t){return e.element=t}},i(this.state.portals).map((function(e){return e[1]}))),c.a.createElement("div",{ref:function(t){return e.portalsCache=t},className:"b-react-portals-cache",style:{display:"none"}}))}}]),n}(l.Component);M.instanceClass=h.Gantt,M.isView=!0;var k=function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dataStores={taskStore:"tasks"},e.featureNames=["baselinesFeature","cellEditFeature","cellMenuFeature","cellTooltipFeature","columnAutoWidthFeature","columnDragToolbarFeature","columnLinesFeature","columnPickerFeature","columnReorderFeature","columnResizeFeature","contextMenuFeature","criticalPathsFeature","dependenciesFeature","dependencyEditFeature","eventContextMenuFeature","eventDragCreateFeature","eventDragFeature","eventDragSelectFeature","eventEditFeature","eventFilterFeature","eventMenuFeature","eventTooltipFeature","excelExporterFeature","filterBarFeature","filterFeature","groupFeature","groupSummaryFeature","headerContextMenuFeature","headerMenuFeature","headerZoomFeature","indicatorsFeature","labelsFeature","nonWorkingTimeFeature","panFeature","pdfExportFeature","percentBarFeature","progressLineFeature","projectLinesFeature","quickFindFeature","regionResizeFeature","resourceNonWorkingTimeFeature","resourceTimeRangesFeature","rollupsFeature","rowReorderFeature","scheduleContextMenuFeature","scheduleMenuFeature","scheduleTooltipFeature","searchFeature","simpleEventEditFeature","sortFeature","stickyEventsFeature","stripeFeature","summaryFeature","taskContextMenuFeature","taskDragCreateFeature","taskDragFeature","taskEditFeature","taskMenuFeature","taskResizeFeature","taskTooltipFeature","timeAxisHeaderMenuFeature","timeRangesFeature","treeFeature"],e.portalsCache=void 0,e.portalContainerClass="b-react-portal-container",e.state={portals:new Map,generation:0},e.configNames=["adopt","align","anchor","animateRemovingRows","appendTo","autoAdjustTimeAxis","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","createEventOnDblClick","crudManagerClass","defaultBindProperty","defaultRegion","defaultResourceImageName","defaults","dependencyIdField","destroyStore","disableGridRowModelWarning","dock","draggable","durationDisplayPrecision","emptyText","enableDeleteKey","enableEventAnimations","enableRecurringEvents","enableSticky","enableTextSelection","enableUndoRedoKeys","eventColor","eventStyle","features","fillLastColumn","fixedRowHeight","floating","footer","forceFit","fullRowRefresh","getDateConstraints","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","managedEventSizing","maskDefaults","masked","monitorResize","namedItems","owner","partner","plugins","positioned","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","resizeToFitIncludesHeader","resourceImageFolderPath","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showDirty","showRemoveRowInContextMenu","snapRelativeToEventStartDate","stickyHeaders","strips","subGridConfigs","suppressFit","syncMask","tab","tag","taskRenderer","tbar","textAlign","textContent","timeAxis","title","trapFocus","visibleDate","visibleZoomFactor","weekStartDay","weight","zoomKeepsOriginalTimespan","zoomOnMouseWheel","zoomOnTimeAxisDoubleClick"],e.propertyConfigNames=["alignSelf","barMargin","columnLines","content","crudManager","data","dataset","disabled","displayDateFormat","endDate","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","maxZoomLevel","minHeight","minWidth","minZoomLevel","onBeforeAssignmentDelete","onBeforeCellEditStart","onBeforeDestroy","onBeforeEventDelete","onBeforeFinishCellEdit","onBeforeHide","onBeforePresetChange","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onNavigate","onPaint","onPresetChange","onReadOnly","onReleaseTask","onRenderRows","onRenderTask","onResize","onResponsive","onScroll","onSelectionChange","onShow","onStartCellEdit","onTaskClick","onTaskContextMenu","onTaskDblClick","onTaskKeyDown","onTaskKeyUp","onTaskMouseDown","onTaskMouseOut","onTaskMouseOver","onTaskMouseUp","onTimeAxisChange","onTimeAxisHeaderClick","onTimeAxisHeaderContextMenu","onTimeAxisHeaderDblClick","onTimelineViewportResize","onToggleNode","onToolClick","presets","project","readOnly","rowHeight","scrollable","snap","startDate","store","tasks","taskStore","tickSize","toggleParentTasksOnClick","tools","tooltip","transitionDuration","viewPreset","width","workingTime","x","y"],e.propertyNames=["anchorSize","eventColors","eventStyles","isSettingValues","isValid","record","scrollLeft","scrollTop","selectedCell","selectedRecord","selectedRecords","state","timeResolution","values","zoomLevel"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:function(t){return e.element=t}},i(this.state.portals).map((function(e){return e[1]}))),c.a.createElement("div",{ref:function(t){return e.portalsCache=t},className:"b-react-portals-cache",style:{display:"none"}}))}}]),n}(l.Component);k.instanceClass=h.GanttBase,k.isView=!0,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoShow","bbar","bodyCls","calculateMask","calculateMaskDelay","centered","closable","closeAction","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dependencyIdField","dock","draggable","durationDisplayPrecision","extraItems","floating","focusOnToFront","footer","forElement","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maximizable","modal","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showOnClick","strips","tab","tabsConfig","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maximized","maxWidth","minHeight","minWidth","onBeforeClose","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.GanttTaskEditor;var P=function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dataStores={},e.featureNames=["baselinesFeature","cellEditFeature","cellMenuFeature","cellTooltipFeature","columnAutoWidthFeature","columnDragToolbarFeature","columnLinesFeature","columnPickerFeature","columnReorderFeature","columnResizeFeature","contextMenuFeature","criticalPathsFeature","dependenciesFeature","dependencyEditFeature","eventContextMenuFeature","eventDragCreateFeature","eventDragFeature","eventDragSelectFeature","eventEditFeature","eventFilterFeature","eventMenuFeature","eventTooltipFeature","excelExporterFeature","filterBarFeature","filterFeature","groupFeature","groupSummaryFeature","headerContextMenuFeature","headerMenuFeature","headerZoomFeature","indicatorsFeature","labelsFeature","nonWorkingTimeFeature","panFeature","pdfExportFeature","percentBarFeature","progressLineFeature","projectLinesFeature","quickFindFeature","regionResizeFeature","resourceNonWorkingTimeFeature","resourceTimeRangesFeature","rollupsFeature","rowReorderFeature","scheduleContextMenuFeature","scheduleMenuFeature","scheduleTooltipFeature","searchFeature","simpleEventEditFeature","sortFeature","stickyEventsFeature","stripeFeature","summaryFeature","taskContextMenuFeature","taskDragCreateFeature","taskDragFeature","taskEditFeature","taskMenuFeature","taskResizeFeature","taskTooltipFeature","timeAxisHeaderMenuFeature","timeRangesFeature","treeFeature"],e.portalsCache=void 0,e.portalContainerClass="b-react-portal-container",e.state={portals:new Map,generation:0},e.configNames=["adopt","align","anchor","animateRemovingRows","appendTo","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","defaultBindProperty","defaultRegion","defaults","destroyStore","disableGridRowModelWarning","dock","draggable","emptyText","enableSticky","enableTextSelection","enableUndoRedoKeys","features","fillLastColumn","fixedRowHeight","floating","footer","fullRowRefresh","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","maskDefaults","masked","monitorResize","namedItems","owner","plugins","positioned","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","resizeToFitIncludesHeader","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showDirty","showRemoveRowInContextMenu","strips","subGridConfigs","syncMask","tab","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","columnLines","content","data","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeCellEditStart","onBeforeDestroy","onBeforeFinishCellEdit","onBeforeHide","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onPaint","onReadOnly","onRenderRows","onResize","onResponsive","onScroll","onSelectionChange","onShow","onStartCellEdit","onToggleNode","onToolClick","readOnly","rowHeight","scrollable","store","tools","tooltip","transitionDuration","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","selectedCell","selectedRecord","selectedRecords","state","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:function(t){return e.element=t}},i(this.state.portals).map((function(e){return e[1]}))),c.a.createElement("div",{ref:function(t){return e.portalsCache=t},className:"b-react-portals-cache",style:{display:"none"}}))}}]),n}(l.Component);P.instanceClass=h.Grid,P.isView=!0;var O=function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dataStores={},e.featureNames=["baselinesFeature","cellEditFeature","cellMenuFeature","cellTooltipFeature","columnAutoWidthFeature","columnDragToolbarFeature","columnLinesFeature","columnPickerFeature","columnReorderFeature","columnResizeFeature","contextMenuFeature","criticalPathsFeature","dependenciesFeature","dependencyEditFeature","eventContextMenuFeature","eventDragCreateFeature","eventDragFeature","eventDragSelectFeature","eventEditFeature","eventFilterFeature","eventMenuFeature","eventTooltipFeature","excelExporterFeature","filterBarFeature","filterFeature","groupFeature","groupSummaryFeature","headerContextMenuFeature","headerMenuFeature","headerZoomFeature","indicatorsFeature","labelsFeature","nonWorkingTimeFeature","panFeature","pdfExportFeature","percentBarFeature","progressLineFeature","projectLinesFeature","quickFindFeature","regionResizeFeature","resourceNonWorkingTimeFeature","resourceTimeRangesFeature","rollupsFeature","rowReorderFeature","scheduleContextMenuFeature","scheduleMenuFeature","scheduleTooltipFeature","searchFeature","simpleEventEditFeature","sortFeature","stickyEventsFeature","stripeFeature","summaryFeature","taskContextMenuFeature","taskDragCreateFeature","taskDragFeature","taskEditFeature","taskMenuFeature","taskResizeFeature","taskTooltipFeature","timeAxisHeaderMenuFeature","timeRangesFeature","treeFeature"],e.portalsCache=void 0,e.portalContainerClass="b-react-portal-container",e.state={portals:new Map,generation:0},e.configNames=["adopt","align","anchor","animateRemovingRows","appendTo","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","defaultBindProperty","defaultRegion","defaults","destroyStore","disableGridRowModelWarning","dock","draggable","emptyText","enableSticky","enableTextSelection","enableUndoRedoKeys","features","fillLastColumn","fixedRowHeight","floating","footer","fullRowRefresh","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","maskDefaults","masked","monitorResize","namedItems","owner","plugins","positioned","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","resizeToFitIncludesHeader","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showDirty","showRemoveRowInContextMenu","strips","subGridConfigs","syncMask","tab","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","columnLines","content","data","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onExpandNode","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onPaint","onReadOnly","onRenderRows","onResize","onResponsive","onScroll","onSelectionChange","onShow","onToggleNode","onToolClick","readOnly","rowHeight","scrollable","store","tools","tooltip","transitionDuration","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","selectedCell","selectedRecord","selectedRecords","state","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:function(t){return e.element=t}},i(this.state.portals).map((function(e){return e[1]}))),c.a.createElement("div",{ref:function(t){return e.portalsCache=t},className:"b-react-portals-cache",style:{display:"none"}}))}}]),n}(l.Component);O.instanceClass=h.GridBase,O.isView=!0,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["activateOnMouseover","adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","insertBefore","insertFirst","itemTpl","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","multiSelect","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","selected","showAnimation","store","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onItem","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.List,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoShow","bbar","bodyCls","centered","closable","closeAction","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","focusOnHover","focusOnToFront","footer","forElement","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maximizable","modal","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showOnClick","strips","tab","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maximized","maxWidth","minHeight","minWidth","onBeforeClose","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onItem","onPaint","onReadOnly","onResize","onShow","onToggle","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","parentMenu","record","selectedElement","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Menu,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoShow","bbar","bodyCls","centered","closable","closeAction","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","focusOnToFront","footer","forElement","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maximizable","modal","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showOnClick","strips","tab","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maximized","maxWidth","minHeight","minWidth","onBeforeClose","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.MessageDialog,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ModelCombo,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","changeOnSpin","clearable","cls","config","constrainTo","contentElementCls","decimalPrecision","defaultBindProperty","dock","draggable","editable","floating","format","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputType","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","largeStep","leadingZeroes","listeners","localeClass","localizableProperties","maskDefaults","masked","max","min","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","step","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.NumberField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","overflow","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","store","tab","tag","textAlign","textContent","title","tools","weight","widgetCls"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.PagingToolbar,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","bbar","bodyCls","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","footer","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","strips","tab","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Panel,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["activateOnMouseover","adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","insertBefore","insertFirst","itemTpl","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","multiSelect","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","selected","showAnimation","store","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onItem","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ResourceCombo,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["activateOnMouseover","adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","eventStore","floating","hideAnimation","htmlCls","insertBefore","insertFirst","itemTpl","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","multiSelect","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","selected","showAnimation","store","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onItem","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.ResourceFilter;var F=function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).dataStores={assignmentStore:"assignments",dependencyStore:"dependencies",eventStore:"events",resourceStore:"resources",resourceTimeRangeStore:"resourceTimeRanges",timeRangeStore:"timeRanges"},e.featureNames=["baselinesFeature","cellEditFeature","cellMenuFeature","cellTooltipFeature","columnAutoWidthFeature","columnDragToolbarFeature","columnLinesFeature","columnPickerFeature","columnReorderFeature","columnResizeFeature","contextMenuFeature","criticalPathsFeature","dependenciesFeature","dependencyEditFeature","eventContextMenuFeature","eventDragCreateFeature","eventDragFeature","eventDragSelectFeature","eventEditFeature","eventFilterFeature","eventMenuFeature","eventTooltipFeature","excelExporterFeature","filterBarFeature","filterFeature","groupFeature","groupSummaryFeature","headerContextMenuFeature","headerMenuFeature","headerZoomFeature","indicatorsFeature","labelsFeature","nonWorkingTimeFeature","panFeature","pdfExportFeature","percentBarFeature","progressLineFeature","projectLinesFeature","quickFindFeature","regionResizeFeature","resourceNonWorkingTimeFeature","resourceTimeRangesFeature","rollupsFeature","rowReorderFeature","scheduleContextMenuFeature","scheduleMenuFeature","scheduleTooltipFeature","searchFeature","simpleEventEditFeature","sortFeature","stickyEventsFeature","stripeFeature","summaryFeature","taskContextMenuFeature","taskDragCreateFeature","taskDragFeature","taskEditFeature","taskMenuFeature","taskResizeFeature","taskTooltipFeature","timeAxisHeaderMenuFeature","timeRangesFeature","treeFeature"],e.portalsCache=void 0,e.portalContainerClass="b-react-portal-container",e.state={portals:new Map,generation:0},e.configNames=["adopt","align","allowOverlap","anchor","animateRemovingRows","appendTo","autoAdjustTimeAxis","autoHeight","barTextEffortUnit","barTipEffortUnit","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","createEventOnDblClick","crudManagerClass","defaultBindProperty","defaultRegion","defaultResourceImageName","defaults","descriptionRenderer","destroyStore","destroyStores","disableGridRowModelWarning","dock","draggable","durationDisplayPrecision","effortUnit","emptyText","enableDeleteKey","enableEventAnimations","enableRecurringEvents","enableSticky","enableTextSelection","enableUndoRedoKeys","endParamName","eventBarTextField","eventBodyTemplate","eventColor","eventRenderer","eventRendererThisObj","eventSelectionDisabled","eventStyle","features","fillLastColumn","fixedRowHeight","floating","footer","forceFit","fullRowRefresh","getBarText","getBarTip","getDateConstraints","getRectClass","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","highlightPredecessors","highlightSuccessors","horizontalEventSorterFn","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","maintainSelectionOnDatasetChange","managedEventSizing","maskDefaults","masked","milestoneCharWidth","milestoneLayoutMode","milestoneTextPosition","mode","monitorResize","multiEventSelect","namedItems","owner","partner","passStartEndParameters","plugins","positioned","preCalculateHeightLimit","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","removeUnassignedEvent","resizeToFitIncludesHeader","resourceColumns","resourceImageExtension","resourceImagePath","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showBarText","showBarTip","showDirty","showMaxEffort","showRemoveRowInContextMenu","snapRelativeToEventStartDate","startParamName","stickyHeaders","strips","subGridConfigs","suppressFit","syncMask","tab","tag","tbar","textAlign","textContent","timeAxis","title","trapFocus","triggerSelectionChangeOnRemove","verticalTimeAxisColumn","visibleDate","visibleZoomFactor","weekStartDay","weight","zoomKeepsOriginalTimespan","zoomOnMouseWheel","zoomOnTimeAxisDoubleClick"],e.propertyConfigNames=["alignSelf","assignments","assignmentStore","barMargin","columnLines","content","crudManager","data","dataset","dependencies","dependencyStore","disabled","displayDateFormat","endDate","eventLayout","events","eventStore","extraData","fillTicks","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","maxZoomLevel","milestoneAlign","minHeight","minWidth","minZoomLevel","onAssignmentSelectionChange","onBeforeAssignmentDelete","onBeforeCellEditStart","onBeforeDestroy","onBeforeEventAdd","onBeforeEventDelete","onBeforeFinishCellEdit","onBeforeHide","onBeforePresetChange","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onEventClick","onEventContextMenu","onEventDblClick","onEventKeyDown","onEventKeyUp","onEventMouseDown","onEventMouseOut","onEventMouseOver","onEventMouseUp","onEventSelectionChange","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onNavigate","onPaint","onPresetChange","onReadOnly","onReleaseEvent","onRenderEvent","onRenderRows","onResize","onResourceHeaderClick","onResourceHeaderContextmenu","onResourceHeaderDblclick","onResponsive","onScheduleClick","onScheduleContextMenu","onScheduleDblClick","onScheduleMouseMove","onScroll","onSelectionChange","onShow","onStartCellEdit","onTimeAxisChange","onTimeAxisHeaderClick","onTimeAxisHeaderContextMenu","onTimeAxisHeaderDblClick","onTimelineViewportResize","onToggleNode","onToolClick","presets","project","readOnly","resourceMargin","resources","resourceStore","resourceTimeRanges","resourceTimeRangeStore","rowHeight","scrollable","snap","startDate","store","tickSize","timeRanges","timeRangeStore","tools","tooltip","transitionDuration","useInitialAnimation","viewPreset","width","workingTime","x","y"],e.propertyNames=["anchorSize","eventColors","eventStyles","isEngineReady","isSettingValues","isValid","record","scrollLeft","scrollTop","selectedAssignments","selectedCell","selectedEvents","selectedRecord","selectedRecords","state","timeResolution","values","zoomLevel"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:function(t){return e.element=t}},i(this.state.portals).map((function(e){return e[1]}))),c.a.createElement("div",{ref:function(t){return e.portalsCache=t},className:"b-react-portals-cache",style:{display:"none"}}))}}]),n}(l.Component);F.instanceClass=h.ResourceHistogram,F.isView=!0,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoShow","bbar","bodyCls","calculateMask","calculateMaskDelay","centered","closable","closeAction","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dependencyIdField","dock","draggable","durationDisplayPrecision","extraItems","floating","focusOnToFront","footer","forElement","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maximizable","modal","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showOnClick","strips","tab","tabsConfig","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maximized","maxWidth","minHeight","minWidth","onBeforeClose","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.SchedulerTaskEditor,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","caseSensitive","centered","chipView","clearable","clearTextOnPickerHide","cls","config","constrainTo","contentElementCls","defaultBindProperty","displayField","displayValueRenderer","dock","draggable","editable","emptyText","encodeFilterParams","filterOnEnter","filterParamName","filterSelected","floating","hideAnimation","hidePickerOnSelect","hideTrigger","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","items","keyStrokeChangeDelay","keyStrokeFilterDelay","labelCls","labelPosition","labels","labelWidth","listCls","listeners","listItemTpl","localeClass","localizableProperties","maskDefaults","masked","maxLength","minChars","minLength","monitorResize","multiSelect","name","overlayAnchor","owner","pickerAlignElement","pickerWidth","placeholder","positioned","preventTooltipOnTouch","primaryFilter","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","triggerAction","validateFilter","valueField","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","filterOperator","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onSelect","onShow","onTrigger","picker","readOnly","scrollable","store","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.SchedulingModePicker,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","insertBefore","insertFirst","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showTooltip","showValue","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","margin","max","maxHeight","maxWidth","min","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","step","text","tooltip","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Slider,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","color","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","text","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","checked","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","name","onAction","onBeforeChange","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.SlideToggle,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","insertBefore","insertFirst","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","orientation","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Splitter,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","eventRecord","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keepTime","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","pickerAlignElement","pickerFormat","placeholder","positioned","preventTooltipOnTouch","project","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","weekStartDay","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","format","height","hidden","html","id","label","margin","max","maxHeight","maxWidth","min","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","picker","readOnly","scrollable","step","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.StartDateField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","animateTabChange","appendTo","autoHeight","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tabMaxWidth","tabMinWidth","tag","textAlign","textContent","title","weight"],e.propertyConfigNames=["activeTab","alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onTabChange","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.TabPanel,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoShow","bbar","bodyCls","calculateMask","calculateMaskDelay","centered","closable","closeAction","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dependencyIdField","dock","draggable","durationDisplayPrecision","extraItems","floating","focusOnToFront","footer","forElement","header","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","maximizable","modal","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","showOnClick","strips","tab","tabsConfig","tag","tbar","textAlign","textContent","title","trapFocus","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maximized","maxWidth","minHeight","minWidth","onBeforeClose","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","onToolClick","readOnly","scrollable","tools","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.TaskEditor,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inline","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","resize","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.TextAreaField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoComplete","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","height","hidden","html","id","label","margin","maxHeight","maxWidth","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","readOnly","scrollable","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.TextField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","autoClose","autoComplete","autoExpand","centered","clearable","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","editable","floating","hideAnimation","highlightExternalChange","hint","hintHtml","htmlCls","inputAlign","inputAttributes","inputWidth","insertBefore","insertFirst","keyStrokeChangeDelay","labelCls","labelPosition","labels","labelWidth","listeners","localeClass","localizableProperties","maskDefaults","masked","maxLength","minLength","monitorResize","name","owner","pickerAlignElement","placeholder","positioned","preventTooltipOnTouch","required","revertOnEscape","ripple","rootElement","scrollAction","showAnimation","tab","tabIndex","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","badge","content","dataset","disabled","extraData","flex","format","height","hidden","html","id","label","margin","max","maxHeight","maxWidth","min","minHeight","minWidth","onAction","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onChange","onClear","onDestroy","onFocusIn","onFocusOut","onHide","onInput","onPaint","onReadOnly","onResize","onShow","onTrigger","picker","readOnly","scrollable","step","tooltip","triggers","value","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.TimeField,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","allowOverlap","anchor","animateRemovingRows","appendTo","autoAdjustTimeAxis","autoHeight","bbar","bodyCls","centered","cls","columns","config","constrainTo","contentElementCls","contextMenuTriggerEvent","createEventOnDblClick","crudManagerClass","defaultBindProperty","defaultRegion","defaultResourceImageName","defaults","descriptionRenderer","destroyStore","destroyStores","disableGridRowModelWarning","dock","draggable","durationDisplayPrecision","emptyText","enableDeleteKey","enableEventAnimations","enableRecurringEvents","enableSticky","enableTextSelection","enableUndoRedoKeys","endParamName","eventBarTextField","eventBodyTemplate","eventColor","eventRenderer","eventRendererThisObj","eventSelectionDisabled","eventStyle","features","fillLastColumn","fixedRowHeight","floating","footer","forceFit","fullRowRefresh","getDateConstraints","getRowHeight","header","hideAnimation","hideHeaders","hideWhenEmpty","highlightPredecessors","highlightSuccessors","horizontalEventSorterFn","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","loadMask","loadMaskDefaults","loadMaskError","localeClass","localizableProperties","longPressTime","maintainSelectionOnDatasetChange","managedEventSizing","maskDefaults","masked","milestoneCharWidth","milestoneLayoutMode","milestoneTextPosition","mode","monitorResize","multiEventSelect","namedItems","owner","partner","passStartEndParameters","plugins","positioned","preCalculateHeightLimit","preserveFocusOnDatasetChange","preserveScrollOnDatasetChange","preventTooltipOnTouch","removeUnassignedEvent","resizeToFitIncludesHeader","resourceColumns","resourceImageExtension","resourceImagePath","responsiveLevels","ripple","rootElement","scrollAction","scrollerClass","scrollManager","selectionMode","showAnimation","showDirty","showRecurringUI","showRemoveRowInContextMenu","snapRelativeToEventStartDate","startParamName","stickyHeaders","strips","subGridConfigs","suppressFit","syncMask","tab","tag","tbar","textAlign","textContent","timeAxis","title","trapFocus","triggerSelectionChangeOnRemove","verticalTimeAxisColumn","visibleDate","visibleZoomFactor","weekStartDay","weight","zoomKeepsOriginalTimespan","zoomOnMouseWheel","zoomOnTimeAxisDoubleClick"],e.propertyConfigNames=["alignSelf","assignments","assignmentStore","barMargin","columnLines","content","crudManager","data","dataset","dependencies","dependencyStore","disabled","displayDateFormat","endDate","eventLayout","events","eventStore","extraData","fillTicks","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","maxZoomLevel","milestoneAlign","minHeight","minWidth","minZoomLevel","onAfterDragCreate","onAfterEventDrop","onAfterEventSave","onAssignmentSelectionChange","onBeforeAssignmentDelete","onBeforeCellEditStart","onBeforeDestroy","onBeforeDragCreate","onBeforeDragCreateFinalize","onBeforeEventAdd","onBeforeEventDelete","onBeforeEventDrag","onBeforeEventDropFinalize","onBeforeEventEdit","onBeforeEventEditShow","onBeforeEventResize","onBeforeEventResizeFinalize","onBeforeEventSave","onBeforeFinishCellEdit","onBeforeHide","onBeforePresetChange","onBeforeRenderRows","onBeforeSetRecord","onBeforeShow","onBeforeToggleNode","onCancelCellEdit","onCatchAll","onCellClick","onCellContextMenu","onCellDblClick","onCellMouseOut","onCellMouseOver","onCollapseNode","onDestroy","onDragCreateEnd","onDragCreateStart","onEventClick","onEventContextMenu","onEventDblClick","onEventDrag","onEventDragAbort","onEventDragStart","onEventDrop","onEventKeyDown","onEventKeyUp","onEventMouseDown","onEventMouseOut","onEventMouseOver","onEventMouseUp","onEventPartialResize","onEventResizeEnd","onEventResizeStart","onEventSelectionChange","onExpandNode","onFinishCellEdit","onFocusIn","onFocusOut","onHide","onMouseOut","onMouseOver","onNavigate","onPaint","onPresetChange","onReadOnly","onReleaseEvent","onRenderEvent","onRenderRows","onResize","onResourceHeaderClick","onResourceHeaderContextmenu","onResourceHeaderDblclick","onResponsive","onScheduleClick","onScheduleContextMenu","onScheduleDblClick","onScheduleMouseMove","onScroll","onSelectionChange","onShow","onStartCellEdit","onTimeAxisChange","onTimeAxisHeaderClick","onTimeAxisHeaderContextMenu","onTimeAxisHeaderDblClick","onTimelineViewportResize","onToggleNode","onToolClick","presets","project","readOnly","resourceMargin","resources","resourceStore","resourceTimeRanges","resourceTimeRangeStore","rowHeight","scrollable","snap","startDate","store","tickSize","timeRanges","timeRangeStore","tools","tooltip","transitionDuration","useInitialAnimation","viewPreset","width","workingTime","x","y"],e.propertyNames=["anchorSize","eventColors","eventStyles","isEngineReady","isSettingValues","isValid","record","scrollLeft","scrollTop","selectedAssignments","selectedCell","selectedEvents","selectedRecord","selectedRecords","state","timeResolution","values","zoomLevel"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Timeline,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","overflow","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","textContent","title","tools","weight","widgetCls"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Toolbar,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","color","config","constrainTo","contentElementCls","defaultBindProperty","defaults","dock","draggable","floating","hideAnimation","hideWhenEmpty","htmlCls","insertBefore","insertFirst","itemCls","lazyItems","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","namedItems","owner","positioned","preventTooltipOnTouch","project","ripple","rootElement","scheduler","scrollAction","showAnimation","showZeroActionBadge","tab","tag","text","textAlign","textContent","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","items","layout","layoutStyle","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeSetRecord","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize","isSettingValues","isValid","record","values"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.UndoRedo,(function(e){b(n,e);var t=E(n);function n(){var e;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).configNames=["adopt","align","anchor","appendTo","centered","cls","config","constrainTo","contentElementCls","defaultBindProperty","dock","draggable","floating","hideAnimation","htmlCls","insertBefore","insertFirst","listeners","localeClass","localizableProperties","maskDefaults","masked","monitorResize","owner","positioned","preventTooltipOnTouch","ripple","rootElement","scrollAction","showAnimation","tab","tag","textAlign","title","weight"],e.propertyConfigNames=["alignSelf","content","dataset","disabled","extraData","flex","height","hidden","html","id","margin","maxHeight","maxWidth","minHeight","minWidth","onBeforeDestroy","onBeforeHide","onBeforeShow","onCatchAll","onDestroy","onFocusIn","onFocusOut","onHide","onPaint","onReadOnly","onResize","onShow","readOnly","scrollable","tooltip","width","x","y"],e.propertyNames=["anchorSize"],e.instance=void 0,e.element=void 0,e}return p(n,[{key:"componentDidMount",value:function(){var e=f().createWidget;this.instance=e(this)}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.destroy()}},{key:"shouldComponentUpdate",value:function(e,t){var n=f().shouldComponentUpdate;return n(this,e,t)}},{key:"render",value:function(){var e=this,t="b-react-".concat(this.constructor.instanceClass.$name.toLowerCase(),"-container");return c.a.createElement("div",{className:t,ref:function(t){return e.element=t}})}}]),n}(l.Component)).instanceClass=h.Widget},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(40),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(32)},function(e,t,n){var r=n(4);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){var r=n(7),i=n(23),o=n(17);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(39),i=n(19);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(2),i=n(9);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(2),i=n(11),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(50),i=n(2),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){e.exports=n(28)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var d in n=Object(arguments[c]))i.call(n,d)&&(l[d]=n[d]);if(r){s=r(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(l[s[u]]=n[s[u]])}}return l}},function(e,t,n){var r=n(7),i=n(38),o=n(17),a=n(10),s=n(20),l=n(5),c=n(21),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=s(t,!0),c)try{return d(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(7),i=n(4),o=n(22);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(2),i=n(8),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(7),i=n(21),o=n(24),a=n(20),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(12),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var d={};function u(){}function h(){}function f(){}var g={};g[i]=function(){return this};var m=Object.getPrototypeOf,p=m&&m(m(D([])));p&&p!==t&&n.call(p,i)&&(g=p);var v=f.prototype=u.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"===typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=v.constructor=f,f.constructor=h,h.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new y(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),s(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){"use strict";var r=n(15),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,p="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function C(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function S(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=C.prototype;var E=w.prototype=new S;E.constructor=w,r(E,C.prototype),E.isPureReactComponent=!0;var D={current:null},x=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!j.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:D.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var M=/\/+/g,k=[];function P(e,t,n,r){if(k.length){var i=k.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function F(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+A(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var d=n+A(s=t[c],c);l+=e(s,d,r,i)}else if(null===t||"object"!==typeof t?d=null:d="function"===typeof(d=p&&t[p]||t["@@iterator"])?d:null,"function"===typeof d)for(t=d.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,d=n+A(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?H(e,r,n,(function(e){return e})):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),r.push(e))}function H(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(M,"$&/")+"/"),F(e,L,t=P(t,o,r,i)),O(t)}var _={current:null};function B(){var e=_.current;if(null===e)throw Error(v(321));return e}var $={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:D,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return H(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;F(e,I,t=P(null,null,t,n)),O(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return H(e,t,null,(function(e){return e})),t},only:function(e){if(!R(e))throw Error(v(143));return e}},t.Component=C,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=D.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)x.call(t,d)&&!j.hasOwnProperty(d)&&(i[d]=void 0===t[d]&&void 0!==c?c[d]:t[d])}var d=arguments.length-2;if(1===d)i.children=n;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var r=n(0),i=n(15),o=n(33);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var l=!1,c=null,d=!1,u=null,h={onError:function(e){l=!0,c=e}};function f(e,t,n,r,i,o,a,d,u){l=!1,c=null,s.apply(h,arguments)}var g=null,m=null,p=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=p(n),function(e,t,n,r,i,o,s,h,g){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,d||(d=!0,u=m)}}(r,t,void 0,e),e.currentTarget=null}var b=null,y={};function C(){if(b)for(var e in y){var t=y[e],n=b.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&S(c[i],s,l);i=!0}else o.registrationName?(S(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function S(e,t,n){if(D[e])throw Error(a(100,e));D[e]=t,x[e]=t.eventTypes[n].dependencies}var w=[],E={},D={},x={};function j(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&C()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),R=null,M=null,k=null;function P(e){if(e=m(e)){if("function"!==typeof R)throw Error(a(280));var t=e.stateNode;t&&(t=g(t),R(e.stateNode,e.type,t))}}function O(e){M?k?k.push(e):k=[e]:M=e}function F(){if(M){var e=M,t=k;if(k=M=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function A(e,t){return e(t)}function I(e,t,n,r,i){return e(t,n,r,i)}function L(){}var H=A,_=!1,B=!1;function $(){null===M&&null===k||(L(),F())}function G(e,t,n){if(B)return e(t,n);B=!0;try{return H(e,t,n)}finally{B=!1,$()}}var N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,V={},W={};function U(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new U(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new U(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new U(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new U(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new U(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new U(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new U(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new U(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new U(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);q[t]=new U(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);q[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);q[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new U(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new U(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(W,e)||!z.call(V,e)&&(N.test(e)?W[e]=!0:(V[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ce=J?Symbol.for("react.suspense"):60113,de=J?Symbol.for("react.suspense_list"):60120,ue=J?Symbol.for("react.memo"):60115,he=J?Symbol.for("react.lazy"):60116,fe=J?Symbol.for("react.block"):60121,ge="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=ge&&e[ge]||e["@@iterator"])?e:null}function pe(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case de:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ue:return pe(e.type);case fe:return pe(e.render);case he:if(e=1===e._status?e._result:null)return pe(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=pe(e.type);n=null,r&&(n=pe(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ce(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function De(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function xe(e,t){De(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Re(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Me(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ke(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Oe(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Ie="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var _e,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ie||"innerHTML"in e)e.innerHTML=t;else{for((_e=_e||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_e.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function $e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ge(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ne={animationend:Ge("Animation","AnimationEnd"),animationiteration:Ge("Animation","AnimationIteration"),animationstart:Ge("Animation","AnimationStart"),transitionend:Ge("Transition","TransitionEnd")},ze={},Ve={};function We(e){if(ze[e])return ze[e];if(!Ne[e])return e;var t,n=Ne[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return ze[e]=n[t];return e}T&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete Ne.animationend.animation,delete Ne.animationiteration.animation,delete Ne.animationstart.animation),"TransitionEvent"in window||delete Ne.transitionend.transition);var Ue=We("animationend"),qe=We("animationiteration"),Ye=We("animationstart"),Ke=We("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(d)throw e=u,d=!1,u=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function ut(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function ht(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function gt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&qt(e,t)}n.set(e,null)}}var mt,pt,vt,bt=!1,yt=[],Ct=null,St=null,wt=null,Et=new Map,Dt=new Map,xt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Rt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Mt(e,t){switch(e){case"focus":case"blur":Ct=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function kt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Rt(t,n,r,i,o),null!==t&&(null!==(t=Rn(t))&&pt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=Tn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Rn(t);return null!==n&&pt(n),e.blockedOn=t,!1}return!0}function Ft(e,t,n){Ot(e)&&n.delete(t)}function At(){for(bt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Rn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==Ct&&Ot(Ct)&&(Ct=null),null!==St&&Ot(St)&&(St=null),null!==wt&&Ot(wt)&&(wt=null),Et.forEach(Ft),Dt.forEach(Ft)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Lt(e){function t(t){return It(t,e)}if(0<yt.length){It(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&It(Ct,e),null!==St&&It(St,e),null!==wt&&It(wt,e),Et.forEach(t),Dt.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Pt(n),null===n.blockedOn&&xt.shift()}var Ht={},_t=new Map,Bt=new Map,$t=["abort","abort",Ue,"animationEnd",qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Gt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),_t.set(r,o),Ht[i]=o}}Gt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Gt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Gt($t,2);for(var Nt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Nt.length;zt++)Bt.set(Nt[zt],0);var Vt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Ut=!0;function qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){_||L();var i=Qt,o=_;_=!0;try{I(i,e,t,n,r)}finally{(_=o)||$()}}function Xt(e,t,n,r){Wt(Vt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Ut)if(0<yt.length&&-1<jt.indexOf(e))e=Rt(null,e,t,n,r),yt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Mt(e,r);else if(-1<jt.indexOf(e))e=Rt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Ct=kt(Ct,e,t,n,r,i),!0;case"dragenter":return St=kt(St,e,t,n,r,i),!0;case"mouseover":return wt=kt(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,kt(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,kt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Mt(e,r),e=ht(e,r,null,t);try{G(ft,e)}finally{ut(e)}}}}function Zt(e,t,n,r){if(null!==(n=Tn(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{G(ft,e)}finally{ut(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ae;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var r=0;r<t.length;r++)gt(t[r],e,n)}function cn(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=un(r)}}function fn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,pn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function bn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"===typeof setTimeout?setTimeout:void 0,Cn="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Dn="__reactInternalInstance$"+En,xn="__reactEventHandlers$"+En,jn="__reactContainere$"+En;function Tn(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[Dn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[Dn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Rn(e){return!(e=e[Dn]||e[jn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Mn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function kn(e){return e[xn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=g(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Fn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function In(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&In(e._targetInst,null,e)}function Hn(e){it(e,An)}var _n=null,Bn=null,$n=null;function Gn(){if($n)return $n;var e,t,n=Bn,r=n.length,i="value"in _n?_n.value:_n.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $n=i.slice(e,1<t?1-t:void 0)}function Nn(){return!0}function zn(){return!1}function Vn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Nn:zn,this.isPropagationStopped=zn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Un(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=Wn,e.release=Un}i(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){this.isPersistent=Nn},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,qn(n),n},qn(Vn);var Yn=Vn.extend({data:null}),Kn=Vn.extend({data:null}),Xn=[9,13,27,32],Qn=T&&"CompositionEvent"in window,Zn=null;T&&"documentMode"in document&&(Zn=document.documentMode);var Jn=T&&"TextEvent"in window&&!Zn,er=T&&(!Qn||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Qn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Gn()):(Bn="value"in(_n=r)?_n.value:_n.textContent,ar=!0)),o=Yn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Hn(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&ir(e,t)?(e=Gn(),$n=Bn=_n=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(nr.beforeInput,t,n,r)).data=e,Hn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var dr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ur(e,t,n){return(e=Vn.getPooled(dr.change,e,t,n)).type="change",O(n),Hn(e),e}var hr=null,fr=null;function gr(e){st(e)}function mr(e){if(Se(Mn(e)))return e}function pr(e,t){if("change"===e)return t}var vr=!1;function br(){hr&&(hr.detachEvent("onpropertychange",yr),fr=hr=null)}function yr(e){if("value"===e.propertyName&&mr(fr))if(e=ur(fr,e,lt(e)),_)st(e);else{_=!0;try{A(gr,e)}finally{_=!1,$()}}}function Cr(e,t,n){"focus"===e?(br(),fr=n,(hr=t).attachEvent("onpropertychange",yr)):"blur"===e&&br()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(fr)}function wr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}T&&(vr=ct("input")&&(!document.documentMode||9<document.documentMode));var Dr={eventTypes:dr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?Mn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=pr;else if(cr(i))if(vr)a=Er;else{a=Sr;var s=Cr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(e,t)))return ur(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},xr=Vn.extend({view:null,detail:null}),jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Rr(){return Tr}var Mr=0,kr=0,Pr=!1,Or=!1,Fr=xr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Mr;return Mr=e.screenX,Pr?"mousemove"===e.type?e.screenX-t:0:(Pr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=kr;return kr=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),Ar=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ir={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Ir,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fr,l=Ir.mouseLeave,c=Ir.mouseEnter,d="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ar,l=Ir.pointerLeave,c=Ir.pointerEnter,d="pointer");if(e=null==a?o:Mn(a),o=null==t?o:Mn(t),(l=s.getPooled(l,a,n,r)).type=d+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=d+"enter",n.target=o,n.relatedTarget=e,d=t,(r=a)&&d)e:{for(c=d,a=0,e=s=r;e;e=Pn(e))a++;for(e=0,t=c;t;t=Pn(t))e++;for(;0<a-e;)s=Pn(s),a--;for(;0<e-a;)c=Pn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Pn(s),c=Pn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Pn(r);for(r=[];d&&d!==c&&(null===(a=d.alternate)||a!==c);)r.push(d),d=Pn(d);for(d=0;d<s.length;d++)In(s[d],"bubbled",l);for(d=r.length;0<d--;)In(r[d],"captured",n);return 0===(64&i)?[l]:[l,n]}};var Hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},_r=Object.prototype.hasOwnProperty;function Br(e,t){if(Hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!_r.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}var $r=T&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Nr=null,zr=null,Vr=null,Wr=!1;function Ur(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Nr||Nr!==dn(n)?null:("selectionStart"in(n=Nr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vr&&Br(Vr,n)?null:(Vr=n,(e=Vn.getPooled(Gr.select,zr,e,t)).type="select",e.target=Nr,Hn(e),e))}var qr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=x.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Mn(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Nr=i,zr=t,Vr=null);break;case"blur":Vr=zr=Nr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Ur(n,r);case"selectionchange":if($r)break;case"keydown":case"keyup":return Ur(n,r)}return null}},Yr=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Vn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=xr.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=xr.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Fr.extend({dataTransfer:null}),ni=xr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),ri=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Ht,extractEvents:function(e,t,n,r){var i=_t.get(e);if(!i)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ue:case qe:case Ye:e=Yr;break;case Ke:e=ri;break;case"scroll":e=xr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ar;break;default:e=Vn}return Hn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),C(),g=kn,m=Rn,p=Mn,j({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Dr,SelectEventPlugin:qr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var di={},ui={current:di},hi={current:!1},fi=di;function gi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function pi(){li(hi),li(ui)}function vi(e,t,n){if(ui.current!==di)throw Error(a(168));ci(ui,t),ci(hi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,pe(t)||"Unknown",o));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,fi=ui.current,ci(ui,e),ci(hi,hi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(ui),ci(ui,e)):li(hi),ci(hi,n)}var Si=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Di=o.unstable_requestPaint,xi=o.unstable_now,ji=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,ki=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Oi={},Fi=o.unstable_shouldYield,Ai=void 0!==Di?Di:function(){},Ii=null,Li=null,Hi=!1,_i=xi(),Bi=1e4>_i?xi:function(){return xi()-_i};function $i(){switch(ji()){case Ti:return 99;case Ri:return 98;case Mi:return 97;case ki:return 96;case Pi:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Ti;case 98:return Ri;case 97:return Mi;case 96:return ki;case 95:return Pi;default:throw Error(a(332))}}function Ni(e,t){return e=Gi(e),Si(e,t)}function zi(e,t,n){return e=Gi(e),wi(e,t,n)}function Vi(e){return null===Ii?(Ii=[e],Li=wi(Ti,Ui)):Ii.push(e),Oi}function Wi(){if(null!==Li){var e=Li;Li=null,Ei(e)}Ui()}function Ui(){if(!Hi&&null!==Ii){Hi=!0;var e=0;try{var t=Ii;Ni(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(n){throw null!==Ii&&(Ii=Ii.slice(e+1)),wi(Ti,Wi),n}finally{Hi=!1}}}function qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ki={current:null},Xi=null,Qi=null,Zi=null;function Ji(){Zi=Qi=Xi=null}function eo(e){var t=Ki.current;li(Ki),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Xi=e,Zi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ka=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Xi)throw Error(a(308));Qi=t,Xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,d=0,u=null,h=null,f=null;if(null!==l)for(var g=l;;){if((s=g.expirationTime)<r){var m={expirationTime:g.expirationTime,suspenseConfig:g.suspenseConfig,tag:g.tag,payload:g.payload,callback:g.callback,next:null};null===f?(h=f=m,u=c):f=f.next=m,s>d&&(d=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:g.suspenseConfig,tag:g.tag,payload:g.payload,callback:g.callback,next:null}),ol(s,g.suspenseConfig);e:{var p=e,v=g;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(p=v.payload)){c=p.call(m,c,s);break e}c=p;break e;case 3:p.effectTag=-4097&p.effectTag|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(m,c,s):p)||void 0===s)break e;c=i({},c,s);break e;case 2:io=!0}}null!==g.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[g]:s.push(g))}if(null===(g=g.next)||g===l){if(null===(s=o.shared.pending))break;g=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===f?u=c:f.next=h,o.baseState=u,o.baseQueue=f,al(d),e.expirationTime=d,e.memoizedState=c}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=X.ReactCurrentBatchConfig,go=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Us(),i=fo.suspense;(i=so(r=qs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Ys(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Us(),i=fo.suspense;(i=so(r=qs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Ys(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Us(),r=fo.suspense;(r=so(n=qs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),lo(e,r),Ys(e,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?fi:ui.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?fi:ui.current,i.context=gi(e,o)),uo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var So=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Do(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Tl(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=kl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Rl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=kl(t,e.mode,n)).return=e,t}if(So(t)||me(t))return(t=Rl(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?u(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?d(e,t,n,r):null}if(So(n)||me(n))return null!==i?null:u(e,t,n,r,null);Eo(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?u(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||me(r))return u(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var c=null,d=null,u=a,m=a=0,p=null;null!==u&&m<s.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var v=f(i,u,s[m],l);if(null===v){null===u&&(u=p);break}e&&u&&null===v.alternate&&t(i,u),a=o(v,a,m),null===d?c=v:d.sibling=v,d=v,u=p}if(m===s.length)return n(i,u),c;if(null===u){for(;m<s.length;m++)null!==(u=h(i,s[m],l))&&(a=o(u,a,m),null===d?c=u:d.sibling=u,d=u);return c}for(u=r(i,u);m<s.length;m++)null!==(p=g(u,i,m,s[m],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),a=o(p,a,m),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach((function(e){return t(i,e)})),c}function p(i,s,l,c){var d=me(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,m=s,p=s=0,v=null,b=l.next();null!==m&&!b.done;p++,b=l.next()){m.index>p?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,p),null===u?d=y:u.sibling=y,u=y,m=v}if(b.done)return n(i,m),d;if(null===m){for(;!b.done;p++,b=l.next())null!==(b=h(i,b.value,c))&&(s=o(b,s,p),null===u?d=b:u.sibling=b,u=b);return d}for(m=r(i,m);!b.done;p++,b=l.next())null!==(b=g(m,i,p,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?p:b.key),s=o(b,s,p),null===u?d=b:u.sibling=b,u=b);return e&&m.forEach((function(e){return t(i,e)})),d}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var d="object"===typeof o&&null!==o;if(d)switch(o.$$typeof){case ee:e:{for(d=o.key,c=r;null!==c;){if(c.key===d){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Rl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Tl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=kl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ml(o,e.mode,l)).return=e,e=r),s(e);if(So(o))return m(e,r,o,l);if(me(o))return p(e,r,o,l);if(d&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var xo=Do(!0),jo=Do(!1),To={},Ro={current:To},Mo={current:To},ko={current:To};function Po(e){if(e===To)throw Error(a(174));return e}function Oo(e,t){switch(ci(ko,t),ci(Mo,e),ci(Ro,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:t=He(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ro),ci(Ro,t)}function Fo(){li(Ro),li(Mo),li(ko)}function Ao(e){Po(ko.current);var t=Po(Ro.current),n=He(t,e.type);t!==n&&(ci(Mo,e),ci(Ro,n))}function Io(e){Mo.current===e&&(li(Ro),li(Mo))}var Lo={current:0};function Ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function _o(e,t){return{responder:e,props:t}}var Bo=X.ReactCurrentDispatcher,$o=X.ReactCurrentBatchConfig,Go=0,No=null,zo=null,Vo=null,Wo=!1;function Uo(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,i,o){if(Go=o,No=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:ba,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Vo=zo=null,t.updateQueue=null,Bo.current=ya,e=n(r,i)}while(t.expirationTime===Go)}if(Bo.current=pa,t=null!==zo&&null!==zo.next,Go=0,Vo=zo=No=null,Wo=!1,t)throw Error(a(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?No.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function Xo(){if(null===zo){var e=No.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Vo?No.memoizedState:Vo.next;if(null!==t)Vo=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Vo?No.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function Qo(e,t){return"function"===typeof t?t(e):t}function Zo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var d=c.expirationTime;if(d<Go){var u={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=u,o=r):l=l.next=u,d>No.expirationTime&&(No.expirationTime=d,al(d))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(d,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,Hr(r,t.memoizedState)||(ka=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Hr(o,t.memoizedState)||(ka=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ma.bind(null,No,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=No.updateQueue)?(t={lastEffect:null},No.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Xo().memoizedState}function ra(e,t,n,r){var i=Ko();No.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Xo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&qo(r,a.deps))return void ta(t,n,o,r)}No.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function da(){}function ua(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fa(e,t){var n=Xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ga(e,t,n){var r=$i();Ni(98>r?98:r,(function(){e(!0)})),Ni(97<r?97:r,(function(){var r=$o.suspense;$o.suspense=void 0===t?null:t;try{e(!1),n()}finally{$o.suspense=r}}))}function ma(e,t,n){var r=Us(),i=fo.suspense;i={expirationTime:r=qs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===No||null!==o&&o===No)Wo=!0,i.expirationTime=Go,No.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Hr(s,a))return}catch(l){}Ys(e,r)}}var pa={readContext:ro,useCallback:Uo,useContext:Uo,useEffect:Uo,useImperativeHandle:Uo,useLayoutEffect:Uo,useMemo:Uo,useReducer:Uo,useRef:Uo,useState:Uo,useDebugValue:Uo,useResponder:Uo,useDeferredValue:Uo,useTransition:Uo},va={readContext:ro,useCallback:ua,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,No,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:ea,useDebugValue:da,useResponder:_o,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ua(ga.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:fa,useReducer:Zo,useRef:na,useState:function(){return Zo(Qo)},useDebugValue:da,useResponder:_o,useDeferredValue:function(e,t){var n=Zo(Qo),r=n[0],i=n[1];return aa((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Qo),n=t[0];return t=t[1],[ha(ga.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:fa,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:da,useResponder:_o,useDeferredValue:function(e,t){var n=Jo(Qo),r=n[0],i=n[1];return aa((function(){var n=$o.suspense;$o.suspense=void 0===t?null:t;try{i(e)}finally{$o.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[ha(ga.bind(null,t,e),[t,e]),n]}},Ca=null,Sa=null,wa=!1;function Ea(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Da(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function xa(e){if(wa){var t=Sa;if(t){var n=t;if(!Da(e,t)){if(!(t=Sn(n.nextSibling))||!Da(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(Ca=e);Ea(Ca,n)}Ca=e,Sa=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,Ca=e}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Ta(e){if(e!==Ca)return!1;if(!wa)return ja(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!bn(t,e.memoizedProps))for(t=Sa;t;)Ea(e,t),t=Sn(t.nextSibling);if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Sa=Sn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Sa=null}}else Sa=Ca?Sn(e.stateNode.nextSibling):null;return!0}function Ra(){Sa=Ca=null,wa=!1}var Ma=X.ReactCurrentOwner,ka=!1;function Pa(e,t,n,r){t.child=null===e?jo(t,null,n,r):xo(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Yo(e,t,n,r,o,i),null===e||ka?(t.effectTag|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Fa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||xl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Aa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Aa(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(ka=!1,i<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):La(e,t,n,r,o)}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?fi:ui.current;return o=gi(t,o),no(t,i),n=Yo(e,t,n,r,o,i),null===e||ka?(t.effectTag|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Ha(e,t,n,r,i){if(mi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),bo(t,n,r),Co(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=gi(t,c=mi(n)?fi:ui.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&yo(t,a,r,c),io=!1;var h=t.memoizedState;a.state=h,uo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||hi.current||io?("function"===typeof d&&(mo(t,n,d,r),l=t.memoizedState),(s=io||vo(t,n,s,r,h,l,c))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yi(t.type,s),l=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=gi(t,c=mi(n)?fi:ui.current),(u="function"===typeof(d=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&yo(t,a,r,c),io=!1,l=t.memoizedState,a.state=l,uo(t,r,a,i),h=t.memoizedState,s!==r||l!==h||hi.current||io?("function"===typeof d&&(mo(t,n,d,r),h=t.memoizedState),(d=io||vo(t,n,s,r,l,h,c))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=d):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return _a(e,t,n,r,o,i)}function _a(e,t,n,r,i,o){Ia(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Ci(t,n,!1),Ya(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Oo(e,t.containerInfo)}var $a,Ga,Na,za={dehydrated:null,retryTime:0};function Va(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Lo,1&a),null===e){if(void 0!==o.fallback&&xa(t),s){if(s=o.fallback,(o=Rl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Rl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=jo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=jl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=jl(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=za,t.child=n,i}return n=xo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Rl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Rl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=xo(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Ua(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ho(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ua(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ho(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ua(t,!0,n,null,o,t.lastEffect);break;case"together":Ua(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&pi(),null;case 3:return Fo(),li(hi),li(ui),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ta(t)||(t.effectTag|=4),null;case 5:Io(t),n=Po(ko.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ga(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Ro.current),Ta(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Dn]=t,r[xn]=s,o){case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)qt(Xe[e],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"form":qt("reset",r),qt("submit",r);break;case"details":qt("toggle",r);break;case"input":Ee(r,s),qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,s),qt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):D.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":Ce(r),je(r,s,!0);break;case"textarea":Ce(r),Fe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[Dn]=t,e[xn]=r,$a(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)qt(Xe[c],e);c=r;break;case"source":qt("error",e),c=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),c=r;break;case"form":qt("reset",e),qt("submit",e),c=r;break;case"details":qt("toggle",e),c=r;break;case"input":Ee(e,r),c=we(e,r),qt("invalid",e),ln(n,"onChange");break;case"option":c=Re(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),qt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),c=ke(e,r),qt("invalid",e),ln(n,"onChange");break;default:c=r}on(o,c);var d=c;for(s in d)if(d.hasOwnProperty(s)){var u=d[s];"style"===s?nn(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&Be(e,u):"children"===s?"string"===typeof u?("textarea"!==o||""!==u)&&$e(e,u):"number"===typeof u&&$e(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(D.hasOwnProperty(s)?null!=u&&ln(n,s):null!=u&&Q(e,s,u,l))}switch(o){case"input":Ce(e),je(e,r,!1);break;case"textarea":Ce(e),Fe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Me(e,!!r.multiple,n,!1):null!=r.defaultValue&&Me(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Na(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(ko.current),Po(Ro.current),Ta(t)?(n=t.stateNode,r=t.memoizedProps,n[Dn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Dn]=t,t.stateNode=n)}return null;case 13:return li(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ta(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Ts===Cs&&(Ts=Ss):(Ts!==Cs&&Ts!==Ss||(Ts=ws),0!==Os&&null!==Ds&&(Fl(Ds,js),Al(Ds,Os)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fo(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&pi(),null;case 19:if(li(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Ka(r,!1);else if(Ts!==Cs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ho(s))){for(t.effectTag|=64,Ka(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Ho(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ka(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ka(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Lo.current,ci(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:mi(e.type)&&pi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),li(hi),li(ui),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Io(e),null;case 13:return li(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Lo),null;case 4:return Fo(),null;case 10:return eo(e),null;default:return null}}function Za(e,t){return{value:e,source:t,stack:ve(t)}}$a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Po(Ro.current),e=null,n){case"input":a=we(c,a),r=we(c,r),e=[];break;case"option":a=Re(c,a),r=Re(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=ke(c,a),r=ke(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(D.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var d=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&d!==c&&(null!=d||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(e||(e=[]),e.push(s,n)),n=d;else"dangerouslySetInnerHTML"===s?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(e=e||[]).push(s,d)):"children"===s?c===d||"string"!==typeof d&&"number"!==typeof d||(e=e||[]).push(s,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(D.hasOwnProperty(s)?(null!=d&&ln(o,s),e||c===d||(e=[])):(e=e||[]).push(s,d))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Na=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&pe(n.type),t=t.value,null!==e&&1===e.tag&&pe(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){bl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ni(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){bl(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){bl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ds(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&($e(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ds(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,d=n,u=c;;)if(as(l,u,d),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[xn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&De(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?$e(n,l):Q(n,s,l,t)}switch(e){case"input":xe(n,r);break;case"textarea":Oe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Me(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Me(n,!!r.multiple,r.defaultValue,!0):Me(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,As=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function gs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Hs=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===_s?_s=new Set([this]):_s.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ps,vs=Math.ceil,bs=X.ReactCurrentDispatcher,ys=X.ReactCurrentOwner,Cs=0,Ss=3,ws=4,Es=0,Ds=null,xs=null,js=0,Ts=Cs,Rs=null,Ms=1073741823,ks=1073741823,Ps=null,Os=0,Fs=!1,As=0,Is=null,Ls=!1,Hs=null,_s=null,Bs=!1,$s=null,Gs=90,Ns=null,zs=0,Vs=null,Ws=0;function Us(){return 0!==(48&Es)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=$i();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Es))return js;if(null!==n)e=qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ds&&e===js&&--e,e}function Ys(e,t){if(50<zs)throw zs=0,Vs=null,Error(a(185));if(null!==(e=Ks(e,t))){var n=$i();1073741823===t?0!==(8&Es)&&0===(48&Es)?Js(e):(Qs(e),0===Es&&Wi()):Qs(e),0===(4&Es)||98!==n&&99!==n||(null===Ns?Ns=new Map([[e,t]]):(void 0===(n=Ns.get(e))||n>t)&&Ns.set(e,t))}}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ds===i&&(al(t),Ts===ws&&Fl(i,js)),Al(i,t)),i}function Xs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ol(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Vi(Js.bind(null,e));else{var t=Xs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Us();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Oi&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Vi(Js.bind(null,e)):zi(r,Zs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Zs(e,t){if(Ws=0,t)return Il(e,t=Us()),Qs(e),null;var n=Xs(e);if(0!==n){if(t=e.callbackNode,0!==(48&Es))throw Error(a(327));if(ml(),e===Ds&&n===js||nl(e,n),null!==xs){var r=Es;Es|=16;for(var i=il();;)try{ll();break}catch(l){rl(e,l)}if(Ji(),Es=r,bs.current=i,1===Ts)throw t=Rs,nl(e,n),Fl(e,n),Qs(e),t;if(null===xs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ts,Ds=null,r){case Cs:case 1:throw Error(a(345));case 2:Il(e,2<n?2:n);break;case Ss:if(Fl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ul(i)),1073741823===Ms&&10<(i=As+500-Bi())){if(Fs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Xs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(hl.bind(null,e),i);break}hl(e);break;case ws:if(Fl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ul(i)),Fs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=Xs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==ks?r=10*(1073741821-ks)-Bi():1073741823===Ms?r=0:(r=10*(1073741821-Ms)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(hl.bind(null,e),r);break}hl(e);break;case 5:if(1073741823!==Ms&&null!==Ps){o=Ms;var s=Ps;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Fl(e,n),e.timeoutHandle=yn(hl.bind(null,e),r);break}}hl(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Zs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Es))throw Error(a(327));if(ml(),e===Ds&&t===js||nl(e,t),null!==xs){var n=Es;Es|=16;for(var r=il();;)try{sl();break}catch(i){rl(e,i)}if(Ji(),Es=n,bs.current=r,1===Ts)throw n=Rs,nl(e,t),Fl(e,t),Qs(e),n;if(null!==xs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ds=null,hl(e),Qs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&Wi()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&Wi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cn(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&pi();break;case 3:Fo(),li(hi),li(ui);break;case 5:Io(r);break;case 4:Fo();break;case 13:case 19:li(Lo);break;case 10:eo(r)}n=n.return}Ds=e,xs=jl(e.current,null),js=t,Ts=Cs,Rs=null,ks=Ms=1073741823,Ps=null,Os=0,Fs=!1}function rl(e,t){for(;;){try{if(Ji(),Bo.current=pa,Wo)for(var n=No.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Vo=zo=No=null,Wo=!1,null===xs||null===xs.return)return Ts=1,Rs=t,xs=null;e:{var i=e,o=xs.return,a=xs,s=t;if(t=js,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&Lo.current),u=o;do{var h;if(h=13===u.tag){var f=u.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var g=u.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(h){var m=u.updateQueue;if(null===m){var p=new Set;p.add(l),u.updateQueue=p}else m.add(l);if(0===(2&u.mode)){if(u.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,s=new Set,b.set(l,s)):void 0===(s=b.get(l))&&(s=new Set,b.set(l,s)),!s.has(a)){s.add(a);var y=yl.bind(null,i,l,a);l.then(y,y)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);s=Error((pe(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Ts&&(Ts=2),s=Za(s,a),u=o;do{switch(u.tag){case 3:l=s,u.effectTag|=4096,u.expirationTime=t,co(u,gs(u,l,t));break e;case 1:l=s;var C=u.type,S=u.stateNode;if(0===(64&u.effectTag)&&("function"===typeof C.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===_s||!_s.has(S)))){u.effectTag|=4096,u.expirationTime=t,co(u,ms(u,l,t));break e}}u=u.return}while(null!==u)}xs=dl(xs)}catch(w){t=w;continue}break}}function il(){var e=bs.current;return bs.current=pa,null===e?pa:e}function ol(e,t){e<Ms&&2<e&&(Ms=e),null!==t&&e<ks&&2<e&&(ks=e,Ps=t)}function al(e){e>Os&&(Os=e)}function sl(){for(;null!==xs;)xs=cl(xs)}function ll(){for(;null!==xs&&!Fi();)xs=cl(xs)}function cl(e){var t=ps(e.alternate,e,js);return e.memoizedProps=e.pendingProps,null===t&&(t=dl(e)),ys.current=null,t}function dl(e){xs=e;do{var t=xs.alternate;if(e=xs.return,0===(2048&xs.effectTag)){if(t=Xa(t,xs,js),1===js||1!==xs.childExpirationTime){for(var n=0,r=xs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}xs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=xs.firstEffect),null!==xs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=xs.firstEffect),e.lastEffect=xs.lastEffect),1<xs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=xs:e.firstEffect=xs,e.lastEffect=xs))}else{if(null!==(t=Qa(xs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=xs.sibling))return t;xs=e}while(null!==xs);return Ts===Cs&&(Ts=5),null}function ul(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hl(e){var t=$i();return Ni(99,fl.bind(null,e,t)),null}function fl(e,t){do{ml()}while(null!==$s);if(0!==(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=ul(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ds&&(xs=Ds=null,js=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,ys.current=null,mn=Ut;var s=fn();if(gn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var d=c.anchorOffset,u=c.focusNode;c=c.focusOffset;try{l.nodeType,u.nodeType}catch(j){l=null;break e}var h=0,f=-1,g=-1,m=0,p=0,v=s,b=null;t:for(;;){for(var y;v!==l||0!==d&&3!==v.nodeType||(f=h+d),v!==u||0!==c&&3!==v.nodeType||(g=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)b=v,v=y;for(;;){if(v===s)break t;if(b===l&&++m===d&&(f=h),b===u&&++p===c&&(g=h),null!==(y=v.nextSibling))break;b=(v=b).parentNode}v=y}l=-1===f||-1===g?null:{start:f,end:g}}else l=null}l=l||{start:0,end:0}}else l=null;pn={activeElementDetached:null,focusedElem:s,selectionRange:l},Ut=!1,Is=i;do{try{gl()}catch(j){if(null===Is)throw Error(a(330));bl(Is,j),Is=Is.nextEffect}}while(null!==Is);Is=i;do{try{for(s=e,l=t;null!==Is;){var C=Is.effectTag;if(16&C&&$e(Is.stateNode,""),128&C){var S=Is.alternate;if(null!==S){var w=S.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&C){case 2:cs(Is),Is.effectTag&=-3;break;case 6:cs(Is),Is.effectTag&=-3,us(Is.alternate,Is);break;case 1024:Is.effectTag&=-1025;break;case 1028:Is.effectTag&=-1025,us(Is.alternate,Is);break;case 4:us(Is.alternate,Is);break;case 8:ds(s,d=Is,l),ss(d)}Is=Is.nextEffect}}catch(j){if(null===Is)throw Error(a(330));bl(Is,j),Is=Is.nextEffect}}while(null!==Is);if(w=pn,S=fn(),C=w.focusedElem,l=w.selectionRange,S!==C&&C&&C.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(C.ownerDocument.documentElement,C)){null!==l&&gn(C)&&(S=l.start,void 0===(w=l.end)&&(w=S),"selectionStart"in C?(C.selectionStart=S,C.selectionEnd=Math.min(w,C.value.length)):(w=(S=C.ownerDocument||document)&&S.defaultView||window).getSelection&&(w=w.getSelection(),d=C.textContent.length,s=Math.min(l.start,d),l=void 0===l.end?s:Math.min(l.end,d),!w.extend&&s>l&&(d=l,l=s,s=d),d=hn(C,s),u=hn(C,l),d&&u&&(1!==w.rangeCount||w.anchorNode!==d.node||w.anchorOffset!==d.offset||w.focusNode!==u.node||w.focusOffset!==u.offset)&&((S=S.createRange()).setStart(d.node,d.offset),w.removeAllRanges(),s>l?(w.addRange(S),w.extend(u.node,u.offset)):(S.setEnd(u.node,u.offset),w.addRange(S))))),S=[];for(w=C;w=w.parentNode;)1===w.nodeType&&S.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof C.focus&&C.focus(),C=0;C<S.length;C++)(w=S[C]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ut=!!mn,pn=mn=null,e.current=n,Is=i;do{try{for(C=e;null!==Is;){var E=Is.effectTag;if(36&E&&os(C,Is.alternate,Is),128&E){S=void 0;var D=Is.ref;if(null!==D){var x=Is.stateNode;switch(Is.tag){case 5:S=x;break;default:S=x}"function"===typeof D?D(S):D.current=S}}Is=Is.nextEffect}}catch(j){if(null===Is)throw Error(a(330));bl(Is,j),Is=Is.nextEffect}}while(null!==Is);Is=null,Ai(),Es=o}else e.current=n;if(Bs)Bs=!1,$s=e,Gs=t;else for(Is=i;null!==Is;)t=Is.nextEffect,Is.nextEffect=null,Is=t;if(0===(t=e.firstPendingTime)&&(_s=null),1073741823===t?e===Vs?zs++:(zs=0,Vs=e):zs=0,"function"===typeof Sl&&Sl(n.stateNode,r),Qs(e),Ls)throw Ls=!1,e=Hs,Hs=null,e;return 0!==(8&Es)||Wi(),null}function gl(){for(;null!==Is;){var e=Is.effectTag;0!==(256&e)&&ns(Is.alternate,Is),0===(512&e)||Bs||(Bs=!0,zi(97,(function(){return ml(),null}))),Is=Is.nextEffect}}function ml(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Ni(e,pl)}}function pl(){if(null===$s)return!1;var e=$s;if($s=null,0!==(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));bl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,Wi(),!0}function vl(e,t,n){lo(e,t=gs(e,t=Za(n,t),1073741823)),null!==(e=Ks(e,1073741823))&&Qs(e)}function bl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_s||!_s.has(r))){lo(n,e=ms(n,e=Za(t,e),1073741823)),null!==(n=Ks(n,1073741823))&&Qs(n);break}}n=n.return}}function yl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ds===e&&js===n?Ts===ws||Ts===Ss&&1073741823===Ms&&Bi()-As<500?nl(e,js):Fs=!0:Ol(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function Cl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=qs(t=Us(),e,null)),null!==(e=Ks(e,t))&&Qs(e)}ps=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)ka=!0;else{if(r<n){switch(ka=!1,t.tag){case 3:Ba(t),Ra();break;case 5:if(Ao(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&yi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Va(e,t,n):(ci(Lo,1&Lo.current),null!==(t=Ya(e,t,n))?t.sibling:null);ci(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Lo,Lo.current),!r)return null}return Ya(e,t,n)}ka=!1}}else ka=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,ui.current),no(t,n),i=Yo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternalFiber=t,Co(t,r,e,n),t=_a(null,t,r,!0,o,n)}else t.tag=0,Pa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return xl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===ue)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Oa(null,t,i,e,n);break e;case 14:t=Fa(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),uo(t,r,null,n),(r=t.memoizedState.element)===i)Ra(),t=Ya(e,t,n);else{if((i=t.stateNode.hydrate)&&(Sa=Sn(t.stateNode.containerInfo.firstChild),Ca=t,i=wa=!0),i)for(n=jo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,r,n),Ra();t=t.child}return t;case 5:return Ao(t),null===e&&xa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,bn(r,i)?s=null:null!==o&&bn(r,o)&&(t.effectTag|=16),Ia(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,n),t=t.child),t;case 6:return null===e&&xa(t),null;case 13:return Va(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Oa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Hr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!hi.current){t=Ya(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var d=c.firstContext;null!==d;){if(d.context===r&&0!==(d.observedBits&o)){1===l.tag&&((d=so(n,null)).tag=2,lo(l,d)),l.expirationTime<n&&(l.expirationTime=n),null!==(d=l.alternate)&&d.expirationTime<n&&(d.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}d=d.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Fa(e,t,i,o=Yi(i.type,o),r,n);case 15:return Aa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,yi(t)):e=!1,no(t,n),bo(t,r,i),Co(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var Sl=null,wl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Dl(e,t,n,r){return new El(e,t,n,r)}function xl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)xl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Rl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Dl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Dl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case de:return(e=Dl(19,n,t,i)).elementType=de,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case ue:s=14;break e;case he:s=16,r=null;break e;case fe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Rl(e,t,n,r){return(e=Dl(7,e,r,t)).expirationTime=n,e}function Ml(e,t,n){return(e=Dl(6,e,null,t)).expirationTime=n,e}function kl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ol(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Fl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Al(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Il(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ll(e,t,n,r){var i=t.current,o=Us(),s=fo.suspense;o=qs(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Ys(i,o),o}function Hl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function _l(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){_l(e,t),(e=e.alternate)&&_l(e,t)}function $l(e,t,n){var r=new Pl(e,t,n=null!=n&&!0===n.hydrate),i=Dl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[jn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);jt.forEach((function(e){gt(e,t,n)})),Tt.forEach((function(e){gt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Gl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Nl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hl(a);s.call(e)}}Ll(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new $l(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Hl(a);l.call(e)}}tl((function(){Ll(t,a,e,i)}))}return Hl(a)}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gl(t))throw Error(a(200));return zl(e,t,null,n)}$l.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},$l.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,(function(){t[jn]=null}))},mt=function(e){if(13===e.tag){var t=qi(Us(),150,100);Ys(e,t),Bl(e,t)}},pt=function(e){13===e.tag&&(Ys(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=Us();Ys(e,t=qs(t,e,null)),Bl(e,t)}},R=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kn(r);if(!i)throw Error(a(90));Se(r),xe(r,i)}}}break;case"textarea":Oe(e,n);break;case"select":null!=(t=n.value)&&Me(e,!!n.multiple,t,!1)}},A=el,I=function(e,t,n,r,i){var o=Es;Es|=4;try{return Ni(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&Wi()}},L=function(){0===(49&Es)&&(function(){if(null!==Ns){var e=Ns;Ns=null,e.forEach((function(e,t){Il(t,e),Qs(t)})),Wi()}}(),ml())},H=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&Wi()}};var Wl={Events:[Rn,Mn,kn,j,E,Hn,function(e){it(e,Ln)},O,F,Qt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Sl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Vl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Ni(99,e.bind(null,t))}finally{Es=n,Wi()}},t.hydrate=function(e,t,n){if(!Gl(t))throw Error(a(200));return Nl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Gl(t))throw Error(a(200));return Nl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[jn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Vl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Nl(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(n){throw setTimeout(d,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,g=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var b=!1,y=null,C=-1,S=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):S=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,D=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+S;try{y(!0,e)?D.postMessage(null):(b=!1,y=null)}catch(n){throw D.postMessage(null),n}}else b=!1},r=function(e){y=e,b||(b=!0,D.postMessage(null))},i=function(e,n){C=g((function(){e(t.unstable_now())}),n)},o=function(){m(C),C=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<R(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>R(a,n))void 0!==l&&0>R(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>R(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function R(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],k=[],P=1,O=null,F=3,A=!1,I=!1,L=!1;function H(e){for(var t=j(k);null!==t;){if(null===t.callback)T(k);else{if(!(t.startTime<=e))break;T(k),t.sortIndex=t.expirationTime,x(M,t)}t=j(k)}}function _(e){if(L=!1,H(e),!I)if(null!==j(M))I=!0,r(B);else{var t=j(k);null!==t&&i(_,t.startTime-e)}}function B(e,n){I=!1,L&&(L=!1,o()),A=!0;var r=F;try{for(H(n),O=j(M);null!==O&&(!(O.expirationTime>n)||e&&!a());){var s=O.callback;if(null!==s){O.callback=null,F=O.priorityLevel;var l=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?O.callback=l:O===j(M)&&T(M),H(n)}else T(M);O=j(M)}if(null!==O)var c=!0;else{var d=j(k);null!==d&&i(_,d.startTime-n),c=!1}return c}finally{O=null,F=r,A=!1}}function $(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var G=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||A||(I=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return j(M)},t.unstable_next=function(e){switch(F){case 1:case 2:case 3:var t=3;break;default:t=F}var n=F;F=t;try{return e()}finally{F=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=F;F=e;try{return t()}finally{F=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:$(e)}else a=$(e),l=s;return e={id:P++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,x(k,e),null===j(M)&&e===j(k)&&(L?o():L=!0,i(_,l-s))):(e.sortIndex=a,x(M,e),I||A||(I=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();H(e);var n=j(M);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=F;return function(){var n=F;F=t;try{return e.apply(this,arguments)}finally{F=n}}}},function(e,t,n){var r=n(36),i=n(2),o=n(59);r({global:!0,bind:!0,enumerable:!0,forced:!i.setImmediate||!i.clearImmediate},{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){var r=n(2),i=n(16).f,o=n(9),a=n(41),s=n(11),l=n(48),c=n(58);e.exports=function(e,t){var n,d,u,h,f,g=e.target,m=e.global,p=e.stat;if(n=m?r:p?r[g]||s(g,{}):(r[g]||{}).prototype)for(d in t){if(h=t[d],u=e.noTargetGet?(f=i(n,d))&&f.value:n[d],!c(m?d:g+(p?".":"#")+d,e.forced)&&void 0!==u){if(typeof h===typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&o(h,"sham",!0),a(n,d,h,e)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(4),i=n(18),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(19);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(2),i=n(9),o=n(5),a=n(11),s=n(25),l=n(42),c=l.get,d=l.enforce,u=String(String).split("String");(e.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(l=d(n)).source||(l.source=u.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){var r,i,o,a=n(43),s=n(2),l=n(8),c=n(9),d=n(5),u=n(12),h=n(44),f=n(26),g=s.WeakMap;if(a||u.state){var m=u.state||(u.state=new g),p=m.get,v=m.has,b=m.set;r=function(e,t){if(v.call(m,e))throw new TypeError("Object already initialized");return t.facade=e,b.call(m,e,t),t},i=function(e){return p.call(m,e)||{}},o=function(e){return v.call(m,e)}}else{var y=h("state");f[y]=!0,r=function(e,t){if(d(e,y))throw new TypeError("Object already initialized");return t.facade=e,c(e,y,t),t},i=function(e){return d(e,y)?e[y]:{}},o=function(e){return d(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(2),i=n(25),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(45),i=n(47),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(46),i=n(12);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.14.0",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(5),i=n(49),o=n(16),a=n(23);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,c=0;c<n.length;c++){var d=n[c];r(e,d)||s(e,d,l(t,d))}}},function(e,t,n){var r=n(13),i=n(51),o=n(57),a=n(24);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(2);e.exports=r},function(e,t,n){var r=n(52),i=n(56).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(5),i=n(10),o=n(53).indexOf,a=n(26);e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(10),i=n(54),o=n(55),a=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),d=o(a,c);if(e&&n!=n){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(27),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(27),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(4),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r,i,o,a=n(2),s=n(4),l=n(60),c=n(62),d=n(22),u=n(63),h=n(65),f=a.location,g=a.setImmediate,m=a.clearImmediate,p=a.process,v=a.MessageChannel,b=a.Dispatch,y=0,C={},S=function(e){if(C.hasOwnProperty(e)){var t=C[e];delete C[e],t()}},w=function(e){return function(){S(e)}},E=function(e){S(e.data)},D=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};g&&m||(g=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return C[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},m=function(e){delete C[e]},h?r=function(e){p.nextTick(w(e))}:b&&b.now?r=function(e){b.now(w(e))}:v&&!u?(o=(i=new v).port2,i.port1.onmessage=E,r=l(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!s(D)?(r=D,a.addEventListener("message",E,!1)):r="onreadystatechange"in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:g,clear:m}},function(e,t,n){var r=n(61);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(13);e.exports=r("document","documentElement")},function(e,t,n){var r=n(64);e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(13);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(18),i=n(2);e.exports="process"==r(i.process)},function(e,t,n){e.exports=n(28)}]]);